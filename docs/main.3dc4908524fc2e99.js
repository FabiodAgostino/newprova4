(self.webpackChunknewprova4=self.webpackChunknewprova4||[]).push([[179],{7348:(Fn,Ft,ie)=>{"use strict";var s=ie(4650);let Se=null;function re(){return Se}class ut{}const Oe=new s.OlP("DocumentToken");let Fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function at(){return(0,s.LFG)(le)}()},providedIn:"platform"}),n})();const ae=new s.OlP("Location Initialized");let le=(()=>{class n extends Fe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(e){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){me()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){me()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function We(){return new le((0,s.LFG)(Oe))}()},providedIn:"platform"}),n})();function me(){return!!window.history.pushState}function qe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function gn(n){return n&&"?"!==n[0]?"?"+n:n}let pt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Et)},providedIn:"root"}),n})();const xt=new s.OlP("appBaseHref");let Et=(()=>{class n extends pt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+gn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+gn(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+gn(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fe),s.LFG(xt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zt=(()=>{class n extends pt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=qe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+gn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+gn(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fe),s.LFG(xt,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Wt=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=nn(Bn(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+gn(i))}normalize(e){return n.stripTrailingSlash(function rn(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Bn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+gn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=gn,n.joinWithSlash=qe,n.stripTrailingSlash=nn,n.\u0275fac=function(e){return new(e||n)(s.LFG(pt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ti(){return new Wt((0,s.LFG)(pt))}()},providedIn:"root"}),n})();function Bn(n){return n.replace(/\/index.html$/,"")}var Zn=(()=>((Zn=Zn||{})[Zn.Decimal=0]="Decimal",Zn[Zn.Percent=1]="Percent",Zn[Zn.Currency=2]="Currency",Zn[Zn.Scientific=3]="Scientific",Zn))(),Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),gt=(()=>((gt=gt||{})[gt.Narrow=0]="Narrow",gt[gt.Abbreviated=1]="Abbreviated",gt[gt.Wide=2]="Wide",gt[gt.Short=3]="Short",gt))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),Qt=(()=>((Qt=Qt||{})[Qt.Decimal=0]="Decimal",Qt[Qt.Group=1]="Group",Qt[Qt.List=2]="List",Qt[Qt.PercentSign=3]="PercentSign",Qt[Qt.PlusSign=4]="PlusSign",Qt[Qt.MinusSign=5]="MinusSign",Qt[Qt.Exponential=6]="Exponential",Qt[Qt.SuperscriptingExponent=7]="SuperscriptingExponent",Qt[Qt.PerMille=8]="PerMille",Qt[Qt.Infinity=9]="Infinity",Qt[Qt.NaN=10]="NaN",Qt[Qt.TimeSeparator=11]="TimeSeparator",Qt[Qt.CurrencyDecimal=12]="CurrencyDecimal",Qt[Qt.CurrencyGroup=13]="CurrencyGroup",Qt))();function Ss(n,t){return kr((0,s.cg1)(n)[s.wAp.DateFormat],t)}function _l(n,t){return kr((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function go(n,t){return kr((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function cr(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Qt.CurrencyDecimal)return e[s.wAp.NumberSymbols][Qt.Decimal];if(t===Qt.CurrencyGroup)return e[s.wAp.NumberSymbols][Qt.Group]}return i}function cc(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Qs(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Kr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dc={},zo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oi=(()=>((oi=oi||{})[oi.Short=0]="Short",oi[oi.ShortGMT=1]="ShortGMT",oi[oi.Long=2]="Long",oi[oi.Extended=3]="Extended",oi))(),Gn=(()=>((Gn=Gn||{})[Gn.FullYear=0]="FullYear",Gn[Gn.Month=1]="Month",Gn[Gn.Date=2]="Date",Gn[Gn.Hours=3]="Hours",Gn[Gn.Minutes=4]="Minutes",Gn[Gn.Seconds=5]="Seconds",Gn[Gn.FractionalSeconds=6]="FractionalSeconds",Gn[Gn.Day=7]="Day",Gn))(),wi=(()=>((wi=wi||{})[wi.DayPeriods=0]="DayPeriods",wi[wi.Days=1]="Days",wi[wi.Months=2]="Months",wi[wi.Eras=3]="Eras",wi))();function bl(n,t,e,i){let r=function je(n){if(jn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(u=>+u);return fi(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Kr))return function Ln(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,h=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,u,h,f),t}(i)}const t=new Date(n);if(!jn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ni(e,t)||t;let u,a=[];for(;t;){if(u=zo.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const _=a.pop();if(!_)break;t=_}}let h=r.getTimezoneOffset();i&&(h=Ce(i,h),r=function St(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Le(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Ce(t,r)-r))}(r,i,!0));let f="";return a.forEach(_=>{const b=function Ie(n){if(ua[n])return ua[n];let t;switch(n){case"G":case"GG":case"GGG":t=Gi(wi.Eras,gt.Abbreviated);break;case"GGGG":t=Gi(wi.Eras,gt.Wide);break;case"GGGGG":t=Gi(wi.Eras,gt.Narrow);break;case"y":t=Vi(Gn.FullYear,1,0,!1,!0);break;case"yy":t=Vi(Gn.FullYear,2,0,!0,!0);break;case"yyy":t=Vi(Gn.FullYear,3,0,!1,!0);break;case"yyyy":t=Vi(Gn.FullYear,4,0,!1,!0);break;case"Y":t=Is(1);break;case"YY":t=Is(2,!0);break;case"YYY":t=Is(3);break;case"YYYY":t=Is(4);break;case"M":case"L":t=Vi(Gn.Month,1,1);break;case"MM":case"LL":t=Vi(Gn.Month,2,1);break;case"MMM":t=Gi(wi.Months,gt.Abbreviated);break;case"MMMM":t=Gi(wi.Months,gt.Wide);break;case"MMMMM":t=Gi(wi.Months,gt.Narrow);break;case"LLL":t=Gi(wi.Months,gt.Abbreviated,Mt.Standalone);break;case"LLLL":t=Gi(wi.Months,gt.Wide,Mt.Standalone);break;case"LLLLL":t=Gi(wi.Months,gt.Narrow,Mt.Standalone);break;case"w":t=Za(1);break;case"ww":t=Za(2);break;case"W":t=Za(1,!0);break;case"d":t=Vi(Gn.Date,1);break;case"dd":t=Vi(Gn.Date,2);break;case"c":case"cc":t=Vi(Gn.Day,1);break;case"ccc":t=Gi(wi.Days,gt.Abbreviated,Mt.Standalone);break;case"cccc":t=Gi(wi.Days,gt.Wide,Mt.Standalone);break;case"ccccc":t=Gi(wi.Days,gt.Narrow,Mt.Standalone);break;case"cccccc":t=Gi(wi.Days,gt.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":t=Gi(wi.Days,gt.Abbreviated);break;case"EEEE":t=Gi(wi.Days,gt.Wide);break;case"EEEEE":t=Gi(wi.Days,gt.Narrow);break;case"EEEEEE":t=Gi(wi.Days,gt.Short);break;case"a":case"aa":case"aaa":t=Gi(wi.DayPeriods,gt.Abbreviated);break;case"aaaa":t=Gi(wi.DayPeriods,gt.Wide);break;case"aaaaa":t=Gi(wi.DayPeriods,gt.Narrow);break;case"b":case"bb":case"bbb":t=Gi(wi.DayPeriods,gt.Abbreviated,Mt.Standalone,!0);break;case"bbbb":t=Gi(wi.DayPeriods,gt.Wide,Mt.Standalone,!0);break;case"bbbbb":t=Gi(wi.DayPeriods,gt.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Gi(wi.DayPeriods,gt.Abbreviated,Mt.Format,!0);break;case"BBBB":t=Gi(wi.DayPeriods,gt.Wide,Mt.Format,!0);break;case"BBBBB":t=Gi(wi.DayPeriods,gt.Narrow,Mt.Format,!0);break;case"h":t=Vi(Gn.Hours,1,-12);break;case"hh":t=Vi(Gn.Hours,2,-12);break;case"H":t=Vi(Gn.Hours,1);break;case"HH":t=Vi(Gn.Hours,2);break;case"m":t=Vi(Gn.Minutes,1);break;case"mm":t=Vi(Gn.Minutes,2);break;case"s":t=Vi(Gn.Seconds,1);break;case"ss":t=Vi(Gn.Seconds,2);break;case"S":t=Vi(Gn.FractionalSeconds,1);break;case"SS":t=Vi(Gn.FractionalSeconds,2);break;case"SSS":t=Vi(Gn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ko(oi.Short);break;case"ZZZZZ":t=Ko(oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ko(oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ko(oi.Long);break;default:return null}return ua[n]=t,t}(_);f+=b?b(r,e,h):"''"===_?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function fi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ni(n,t){const e=function hi(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(dc[e]=dc[e]||{},dc[e][t])return dc[e][t];let i="";switch(t){case"shortDate":i=Ss(n,Kt.Short);break;case"mediumDate":i=Ss(n,Kt.Medium);break;case"longDate":i=Ss(n,Kt.Long);break;case"fullDate":i=Ss(n,Kt.Full);break;case"shortTime":i=_l(n,Kt.Short);break;case"mediumTime":i=_l(n,Kt.Medium);break;case"longTime":i=_l(n,Kt.Long);break;case"fullTime":i=_l(n,Kt.Full);break;case"short":const r=Ni(n,"shortTime"),o=Ni(n,"shortDate");i=Hs(go(n,Kt.Short),[r,o]);break;case"medium":const a=Ni(n,"mediumTime"),u=Ni(n,"mediumDate");i=Hs(go(n,Kt.Medium),[a,u]);break;case"long":const h=Ni(n,"longTime"),f=Ni(n,"longDate");i=Hs(go(n,Kt.Long),[h,f]);break;case"full":const _=Ni(n,"fullTime"),b=Ni(n,"fullDate");i=Hs(go(n,Kt.Full),[_,b])}return i&&(dc[e][t]=i),i}function Hs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Zr(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Vi(n,t,e=0,i=!1,r=!1){return function(o,a){let u=function cu(n,t){switch(n){case Gn.FullYear:return t.getFullYear();case Gn.Month:return t.getMonth();case Gn.Date:return t.getDate();case Gn.Hours:return t.getHours();case Gn.Minutes:return t.getMinutes();case Gn.Seconds:return t.getSeconds();case Gn.FractionalSeconds:return t.getMilliseconds();case Gn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||u>-e)&&(u+=e),n===Gn.Hours)0===u&&-12===e&&(u=12);else if(n===Gn.FractionalSeconds)return function qo(n,t){return Zr(n,3).substring(0,t)}(u,t);const h=cr(a,Qt.MinusSign);return Zr(u,t,h,i,r)}}function Gi(n,t,e=Mt.Format,i=!1){return function(r,o){return function mo(n,t,e,i,r,o){switch(e){case wi.Months:return function ki(n,t,e){const i=(0,s.cg1)(n),o=kr([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return kr(o,e)}(t,r,i)[n.getMonth()];case wi.Days:return function no(n,t,e){const i=(0,s.cg1)(n),o=kr([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return kr(o,e)}(t,r,i)[n.getDay()];case wi.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(o){const f=function Us(n){const t=(0,s.cg1)(n);return cc(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Qs(i):[Qs(i[0]),Qs(i[1])])}(t),_=function wl(n,t,e){const i=(0,s.cg1)(n);cc(i);const o=kr([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return kr(o,e)||[]}(t,r,i),b=f.findIndex(F=>{if(Array.isArray(F)){const[B,U]=F,H=a>=B.hours&&u>=B.minutes,Z=a<U.hours||a===U.hours&&u<U.minutes;if(B.hours<U.hours){if(H&&Z)return!0}else if(H||Z)return!0}else if(F.hours===a&&F.minutes===u)return!0;return!1});if(-1!==b)return _[b]}return function Ir(n,t,e){const i=(0,s.cg1)(n),o=kr([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return kr(o,e)}(t,r,i)[a<12?0:1];case wi.Eras:return function ko(n,t){return kr((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Ko(n){return function(t,e,i){const r=-1*i,o=cr(e,Qt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case oi.Short:return(r>=0?"+":"")+Zr(a,2,o)+Zr(Math.abs(r%60),2,o);case oi.ShortGMT:return"GMT"+(r>=0?"+":"")+Zr(a,1,o);case oi.Long:return"GMT"+(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);case oi.Extended:return 0===i?"Z":(r>=0?"+":"")+Zr(a,2,o)+":"+Zr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function ca(n){return fi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Za(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=ca(e),a=function la(n){const t=fi(n,0,1).getDay();return fi(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),u=o.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return Zr(r,n,cr(i,Qt.MinusSign))}}function Is(n,t=!1){return function(e,i){return Zr(ca(e).getFullYear(),n,cr(i,Qt.MinusSign),t)}}const ua={};function Ce(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function jn(n){return n instanceof Date&&!isNaN(n.valueOf())}const bi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ys(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Ro(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let vs=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Cl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ns=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Cl(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),Gr(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Gr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gr(n,t){n.context.$implicit=t.item}let Ei=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Oo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Oo{constructor(){this.$implicit=null,this.ngIf=null}}function uu(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Bi{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let zl=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),hc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Bi(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(zl,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Fd=(()=>{class n{constructor(e,i,r){r._addDefault(new Bi(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(zl,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Zo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ya=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function jr(n,t){return new s.vHH(2100,!1)}class Yr{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class xg{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const kd=new xg,Qc=new Yr;let Rd=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return kd;if((0,s.F4k)(e))return Qc;throw jr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const xl=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ih=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let PA=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return bl(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw jr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(xl,24),s.Y36(Ih,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Zf=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Yf(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function $n(n,t,e){return function bt(n,t,e,i,r,o,a=!1){let u="",h=!1;if(isFinite(n)){let f=function br(n){let i,r,o,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(u=t.length))i=[0],r=1;else{for(u--;"0"===t.charAt(u);)u--;for(r-=o,i=[],a=0;o<=u;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(f=function xi(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(f));let _=t.minInt,b=t.minFrac,F=t.maxFrac;if(o){const W=o.match(bi);if(null===W)throw new Error(`${o} is not a valid digit info`);const fe=W[1],De=W[3],Ye=W[5];null!=fe&&(_=ys(fe)),null!=De&&(b=ys(De)),null!=Ye?F=ys(Ye):null!=De&&b>F&&(F=b)}!function fr(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let b=a;b<i.length;b++)i[b]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let b=1;b<a;b++)i[b]=0}if(u>=5)if(a-1<0){for(let b=0;b>a;b--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let h=0!==o;const f=t+n.integerLen,_=i.reduceRight(function(b,F,B,U){return U[B]=(F+=b)<10?F:F-10,h&&(0===U[B]&&B>=f?U.pop():h=!1),F>=10?1:0},0);_&&(i.unshift(_),n.integerLen++)}(f,b,F);let B=f.digits,U=f.integerLen;const H=f.exponent;let Z=[];for(h=B.every(W=>!W);U<_;U++)B.unshift(0);for(;U<0;U++)B.unshift(0);U>0?Z=B.splice(U,B.length):(Z=B,B=[0]);const z=[];for(B.length>=t.lgSize&&z.unshift(B.splice(-t.lgSize,B.length).join(""));B.length>t.gSize;)z.unshift(B.splice(-t.gSize,B.length).join(""));B.length&&z.unshift(B.join("")),u=z.join(cr(e,i)),Z.length&&(u+=cr(e,r)+Z.join("")),H&&(u+=cr(e,Qt.Exponential)+"+"+H)}else u=cr(e,Qt.Infinity);return u=n<0&&!h?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,function ii(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],u=a[0],h=a[1]||"";e.posPre=u.substring(0,u.indexOf("#"));for(let _=0;_<h.length;_++){const b=h.charAt(_);"0"===b?e.minFrac=e.maxFrac=_+1:"#"===b?e.maxFrac=_+1:e.posSuf+=b}const f=u.split(",");if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){const _=r.length-e.posPre.length-e.posSuf.length,b=o.indexOf("#");e.negPre=o.substring(0,b).replace(/'/g,""),e.negSuf=o.slice(b+_).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function jl(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,Zn.Decimal),cr(t,Qt.MinusSign)),t,Qt.Group,Qt.Decimal,e)}(function QA(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw jr()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Yo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ql="browser";function Kl(n){return n===ql}function va(n){return"server"===n}let Wo=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Nd((0,s.LFG)(Oe),window)}),n})();class Nd{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function VA(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=du(this.window.history)||du(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function du(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zl{}class Xo extends ut{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sa extends Xo{static makeCurrent(){!function nt(n){Se||(Se=n)}(new Sa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ZA(){return Nr=Nr||document.querySelector("base"),Nr?Nr.getAttribute("href"):null}();return null==e?null:function Pg(n){ed=ed||document.createElement("a"),ed.setAttribute("href",n);const t=ed.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Nr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ro(document.cookie,t)}}let ed,Nr=null;const Oh=new s.OlP("TRANSITION_ID"),Ug=[{provide:s.ip1,useFactory:function tp(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=re(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Oh,Oe,s.zs3],multi:!0}];let Qd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=new s.OlP("EventManagerPlugins");let td=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gc),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class nd{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=re().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Qg=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ia=(()=>{class n extends Qg{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Hd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Hd(n){re().remove(n)}const Ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$A=/%COMP%/g;function ha(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ha(n,r,e):(r=r.replace($A,n),e.push(r))}return e}function Lh(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let wu=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new YA(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Nh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new ip(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ha(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(td),s.LFG(Ia),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class YA{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ya[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(x_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(x_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ya[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ya[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Lh(i)):this.eventManager.addEventListener(t,e,Lh(i))}}function x_(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nh extends YA{constructor(t,e,i,r){super(t),this.component=i;const o=ha(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Vg(n){return"_ngcontent-%COMP%".replace($A,n)}(r+"-"+i.id),this.hostAttr=function Gg(n){return"_nghost-%COMP%".replace($A,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ip extends YA{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ha(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const u=document.createElement("style");u.textContent=o[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Gd=(()=>{class n extends nd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yw=["alt","control","meta","shift"],rp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Av={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vw=(()=>{class n extends nd{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),yw.forEach(f=>{const _=i.indexOf(f);_>-1&&(i.splice(_,1),a+=f+".")}),a+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=rp[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),yw.forEach(a=>{a!==r&&(0,Av[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:ql},{provide:s.g9A,useValue:function Ph(){Sa.makeCurrent()},multi:!0},{provide:Oe,useFactory:function fv(){return(0,s.RDi)(document),document},deps:[]}]),zd=new s.OlP(""),Uh=[{provide:s.rWj,useClass:class yu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const u=function(h){a=a||h,o--,0==o&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?re().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],WA=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function ls(){return new s.qLn},deps:[]},{provide:gc,useClass:Gd,multi:!0,deps:[Oe,s.R0b,s.Lbi]},{provide:gc,useClass:vw,multi:!0,deps:[Oe]},{provide:wu,useClass:wu,deps:[td,Ia,s.AFp]},{provide:s.FYo,useExisting:wu},{provide:Qg,useExisting:Ia},{provide:Ia,useClass:Ia,deps:[Oe]},{provide:td,useClass:td,deps:[gc,s.R0b]},{provide:Zl,useClass:Qd,deps:[]},[]];let Wl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Oh,useExisting:s.AFp},Ug]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zd,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...WA,...Uh],imports:[Yo,s.hGG]}),n})(),Kd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function JA(){return new Kd((0,s.LFG)(Oe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Tl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(cp),i},providedIn:"root"}),n})(),cp=(()=>{class n extends Tl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Hh(n){return new cp(n.get(Oe))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var zn=ie(8996),Ta=ie(3269);function pn(...n){const t=(0,Ta.yG)(n);return(0,zn.D)(n,t)}var sn=ie(7579);class _r extends sn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Vh=ie(3888);const Cu=(0,Vh.d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gr=ie(9751);const{isArray:k_}=Array,{getPrototypeOf:R_,prototype:od,keys:Ba}=Object;function Gh(n){if(1===n.length){const t=n[0];if(k_(t))return{args:t,keys:null};if(function ea(n){return n&&"object"==typeof n&&R_(n)===od}(t)){const e=Ba(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Cn=ie(4671),cn=ie(4004);const{isArray:qg}=Array;function Jl(n){return(0,cn.U)(t=>function up(n,t){return qg(t)?n(...t):n(t)}(n,t))}function Kg(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Pr=ie(5403),xu=ie(9672);function Wa(...n){const t=(0,Ta.yG)(n),e=(0,Ta.jO)(n),{args:i,keys:r}=Gh(n);if(0===i.length)return(0,zn.D)([],t);const o=new gr.y(function dp(n,t,e=Cn.y){return i=>{Eu(t,()=>{const{length:r}=n,o=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)Eu(t,()=>{const f=(0,zn.D)(n[h],t);let _=!1;f.subscribe(new Pr.Q(i,b=>{o[h]=b,_||(_=!0,u--),u||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>Kg(r,a):Cn.y));return e?o.pipe(Jl(e)):o}function Eu(n,t,e){n?(0,xu.f)(e,n,t):t()}var Su=ie(8189);function Ja(...n){return function zc(){return(0,Su.J)(1)}()((0,zn.D)(n,(0,Ta.yG)(n)))}var Fa=ie(8421);function $d(n){return new gr.y(t=>{(0,Fa.Xf)(n()).subscribe(t)})}var ad=ie(9635),qs=ie(576);function so(n,t){const e=(0,qs.m)(n)?n:()=>n,i=r=>r.error(e());return new gr.y(t?r=>t.schedule(i,0,r):i)}var yc=ie(515),Co=ie(727),Wr=ie(4482);function ld(){return(0,Wr.e)((n,t)=>{let e=null;n._refCount++;const i=new Pr.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class jh extends gr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Co.w0;const e=this.getSubject();t.add(this.source.subscribe(new Pr.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Co.w0.EMPTY)}return t}refCount(){return ld()(this)}}function fs(n,t){return(0,Wr.e)((e,i)=>{let r=null,o=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe(new Pr.Q(i,h=>{r?.unsubscribe();let f=0;const _=o++;(0,Fa.Xf)(n(h,_)).subscribe(r=new Pr.Q(i,b=>i.next(t?t(h,b,_,f++):b),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var Jr=ie(5698);function Ks(...n){const t=(0,Ta.yG)(n);return(0,Wr.e)((e,i)=>{(t?Ja(n,e,t):Ja(n,e)).subscribe(i)})}function yi(n,t){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Pr.Q(i,o=>n.call(t,o,r++)&&i.next(o)))})}var xo=ie(5577);function Yd(n){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Pr.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Zg(n=qc){return(0,Wr.e)((t,e)=>{let i=!1;t.subscribe(new Pr.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function qc(){return new Cu}function No(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yi((r,o)=>n(r,o,i)):Cn.y,(0,Jr.q)(1),e?Yd(t):Zg(()=>new Cu))}function Xa(n,t){return(0,qs.m)(t)?(0,xo.z)(n,t,1):(0,xo.z)(n,1)}var Cr=ie(8505);function Po(n){return(0,Wr.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe(new Pr.Q(e,void 0,void 0,a=>{o=(0,Fa.Xf)(n(a,Po(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Wd(n,t,e,i,r){return(o,a)=>{let u=e,h=t,f=0;o.subscribe(new Pr.Q(a,_=>{const b=f++;h=u?n(h,_,b):(u=!0,_),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function Xl(n,t){return(0,Wr.e)(Wd(n,t,arguments.length>=2,!0))}function zh(n){return n<=0?()=>yc.E:(0,Wr.e)((t,e)=>{let i=[];t.subscribe(new Pr.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function hp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?yi((r,o)=>n(r,o,i)):Cn.y,zh(1),e?Yd(t):Zg(()=>new Cu))}function rf(n,t=!1){return(0,Wr.e)((e,i)=>{let r=0;e.subscribe(new Pr.Q(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}function cd(n){return(0,cn.U)(()=>n)}function Jd(n){return(0,Wr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const gi="primary",Xd=Symbol("RouteTitle");class O_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Iu(n){return new O_(n)}function Du(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],u=n[o];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Eo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!$g(n[r],t[r]))return!1;return!0}function $g(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ma(n){return Array.prototype.concat.apply([],n)}function Tu(n){return n.length>0?n[n.length-1]:null}function Zs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oo(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,zn.D)(Promise.resolve(n)):pn(n)}const k=!1,N={exact:function $e(n,t,e){if(!el(n.segments,t.segments)||!Mn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!$e(n.children[i],t.children[i],e))return!1;return!0},subset:vn},K={exact:function Be(n,t){return Eo(n,t)},subset:function vt(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$g(n[e],t[e]))},ignored:()=>!0};function he(n,t,e){return N[e.paths](n.root,t.root,e.matrixParams)&&K[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vn(n,t,e){return un(n,t,t.segments,e)}function un(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!el(r,e)||t.hasChildren()||!Mn(r,e,i))}if(n.segments.length===e.length){if(!el(n.segments,e)||!Mn(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!vn(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(el(n.segments,r)&&Mn(n.segments,r,i)&&n.children[gi])&&un(n.children[gi],t,o,i)}}function Mn(n,t,e){return t.every((i,r)=>K[e](n[r].parameters,i.parameters))}class kn{constructor(t=new Yt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return Bl.serialize(this)}}class Yt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zs(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qh(this)}}class So{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Iu(this.parameters)),this._parameterMap}toString(){return Kh(this)}}function el(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ka=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Ra},providedIn:"root"}),n})();class Ra{parse(t){const e=new Jg(t);return new kn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sf(t.root,!0)}`,i=function Cw(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ap(e)}=${Ap(r)}`).join("&"):`${Ap(e)}=${Ap(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function bw(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Bl=new Ra;function qh(n){return n.segments.map(t=>Kh(t)).join("/")}function sf(n,t){if(!n.hasChildren())return qh(n);if(t){const e=n.children[gi]?sf(n.children[gi],!1):"",i=[];return Zs(n.children,(r,o)=>{o!==gi&&i.push(`${o}:${sf(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ys(n,t){let e=[];return Zs(n.children,(i,r)=>{r===gi&&(e=e.concat(t(i,r)))}),Zs(n.children,(i,r)=>{r!==gi&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===gi?[sf(n.children[gi],!1)]:[`${r}:${sf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gi]?`${qh(n)}/${e[0]}`:`${qh(n)}/(${e.join("//")})`}}function _v(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ap(n){return _v(n).replace(/%3B/gi,";")}function fp(n){return _v(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pp(n){return decodeURIComponent(n)}function N_(n){return pp(n.replace(/\+/g,"%20"))}function Kh(n){return`${fp(n.path)}${function gp(n){return Object.keys(n).map(t=>`;${fp(t)}=${fp(n[t])}`).join("")}(n.parameters)}`}const yv=/^[^\/()?;=#]+/;function Yg(n){const t=n.match(yv);return t?t[0]:""}const mp=/^[^=?&#]+/,Wg=/^[^&#]+/;class Jg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gi]=new Yt(t,e)),i}parseSegment(){const t=Yg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,k);return this.capture(t),new So(pp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Yg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Yg(this.remaining);r&&(i=r,this.capture(i))}t[pp(e)]=pp(i)}parseQueryParam(t){const e=function _p(n){const t=n.match(mp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function P_(n){const t=n.match(Wg);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=N_(e),o=N_(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,k);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=gi);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[gi]:new Yt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,k)}}function af(n){return n.segments.length>0?new Yt([],{[gi]:n}):n}function Xg(n){const t={};for(const i of Object.keys(n.children)){const o=Xg(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ud(n){if(1===n.numberOfChildren&&n.children[gi]){const t=n.children[gi];return new Yt(n.segments.concat(t.segments),t.children)}return n}(new Yt(n.segments,t))}function vc(n){return n instanceof kn}function xw(n,t,e,i,r){if(0===e.length)return Bu(t.root,t.root,t.root,i,r);const o=function Yh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $h(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Zs(o.outlets,(h,f)=>{u[f]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new $h(e,t,i)}(e);return o.toRoot()?Bu(t.root,t.root,new Yt([],{}),i,r):function a(h){const f=function Ew(n,t,e,i){if(n.isAbsolute)return new eh(t.root,!0,0);if(-1===i)return new eh(e,e===t.root,0);return function Q_(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new eh(i,!1,r-o)}(e,i+(Zh(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,h),_=f.processChildren?wc(f.segmentGroup,f.index,o.commands):vp(f.segmentGroup,f.index,o.commands);return Bu(t.root,f.segmentGroup,_,i,r)}(n.snapshot?._lastPathIndex)}function Zh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lf(n){return"object"==typeof n&&null!=n&&n.outlets}function Bu(n,t,e,i,r){let a,o={};i&&Zs(i,(h,f)=>{o[f]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),a=n===t?e:cf(n,t,e);const u=af(Xg(a));return new kn(u,o,r)}function cf(n,t,e){const i={};return Zs(n.children,(r,o)=>{i[o]=r===t?e:cf(r,t,e)}),new Yt(n.segments,i)}class $h{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Zh(i[0]))throw new s.vHH(4003,!1);const r=i.find(lf);if(r&&r!==Tu(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vp(n,t,e){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return wc(n,t,e);const i=function wp(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],u=e[i];if(lf(u))break;const h=`${u}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&f&&"object"==typeof f&&void 0===f.outlets){if(!th(h,f,a))return o;i+=2}else{if(!th(h,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yt(n.segments.slice(0,i.pathIndex),{});return o.children[gi]=new Yt(n.segments.slice(i.pathIndex),n.children),wc(o,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?bp(n,t,e):i.match?wc(n,0,r):bp(n,t,e)}function wc(n,t,e){if(0===e.length)return new Yt(n.segments,{});{const i=function im(n){return lf(n[0])?n[0].outlets:{[gi]:n}}(e),r={};return Zs(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=vp(n.children[a],t,o))}),Zs(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Yt(n.segments,r)}}function bp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(lf(o)){const h=Sw(o.outlets);return new Yt(i,h)}if(0===r&&Zh(e[0])){i.push(new So(n.segments[t].path,Wh(e[0]))),r++;continue}const a=lf(o)?o.outlets[gi]:`${o}`,u=r<e.length-1?e[r+1]:null;a&&u&&Zh(u)?(i.push(new So(a,Wh(u))),r+=2):(i.push(new So(a,{})),r++)}return new Yt(i,{})}function Sw(n){const t={};return Zs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bp(new Yt([],{}),0,e))}),t}function Wh(n){const t={};return Zs(n,(e,i)=>t[i]=`${e}`),t}function th(n,t,e){return n==e.path&&Eo(t,e.parameters)}class bc{constructor(t,e){this.id=t,this.url=e}}class Jh extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dd extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xh extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cp extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H_ extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uf extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rm extends bc{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eA extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class df extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hd{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fu{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nh{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ad{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hf{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tA(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=tA(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mu(t,this._root).map(e=>e.value)}}function tA(n,t){if(n===t.value)return t;for(const e of t.children){const i=tA(n,e);if(i)return i}return null}function Mu(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Mu(n,e);if(i.length)return i.unshift(t),i}return[]}class tl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ec(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Af extends sm{constructor(t,e){super(t),this.snapshot=e,Sp(this,t)}toString(){return this.snapshot.toString()}}function nA(n,t){const e=function LC(n,t){const a=new Ep([],{},{},"",{},gi,t,null,n.root,-1,{});return new rA("",new tl(a,[]))}(n,t),i=new _r([new So("",{})]),r=new _r({}),o=new _r({}),a=new _r({}),u=new _r(""),h=new iA(i,r,a,u,o,gi,t,e.root);return h.snapshot=e.root,new Af(new tl(h,[]),e)}class iA{constructor(t,e,i,r,o,a,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.title=this.data?.pipe((0,cn.U)(f=>f[Xd]))??pn(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,cn.U)(t=>Iu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,cn.U)(t=>Iu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Iw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ep{constructor(t,e,i,r,o,a,u,h,f,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=u,this.routeConfig=h,this._urlSegment=f,this._lastPathIndex=_,this._resolve=b}get title(){return this.data?.[Xd]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rA extends sm{constructor(t,e){super(e),this.url=t,Sp(this,e)}toString(){return sA(this._root)}}function Sp(n,t){t.value._routerState=n,t.children.forEach(e=>Sp(n,e))}function sA(n){const t=n.children.length>0?` { ${n.children.map(sA).join(", ")} } `:"";return`${n.value}${t}`}function om(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Eo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Eo(t.params,e.params)||n.params.next(e.params),function mv(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Eo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Eo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ip(n,t){const e=Eo(n.params,t.params)&&function $s(n,t){return el(n,t)&&n.every((e,i)=>Eo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ip(n.parent,t.parent))}function aA(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function V_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return aA(n,i,r);return aA(n,i)})}(n,t,e);return new tl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>aA(n,u)),a}}const i=function wv(n){return new iA(new _r(n.url),new _r(n.params),new _r(n.queryParams),new _r(n.fragment),new _r(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>aA(n,o));return new tl(i,r)}}const am="ngNavigationCancelingError";function lm(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=tc(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function tc(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[am]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ih(n){return bv(n)&&vc(n.url)}function bv(n){return n&&n[am]}class G_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ff,this.attachRef=null}}let ff=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new G_,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Oa=!1;let fd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gi,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(ff),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Oa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Oa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Oa);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Oa);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new Cv(e,u,r.injector);if(i&&function cm(n){return!!n.resolveComponentFactory}(i)){const f=i.resolveComponentFactory(a);this.activated=r.createComponent(f,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class Cv{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===iA?this.route:t===ff?this.childContexts:this.parent.get(t,e)}}let Dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[fd],encapsulation:2}),n})();function xn(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pf(n){const t=n.children&&n.children.map(pf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gi&&(e.component=Dp),e}function bs(n){return n.outlet||gi}function gf(n,t){const e=n.filter(i=>bs(i)===t);return e.push(...n.filter(i=>bs(i)!==t)),e}function pd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gd{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),om(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ec(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Zs(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ec(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ec(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ec(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new hf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new nh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(om(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),om(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=pd(r.snapshot),h=u?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Fp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lA{constructor(t,e){this.component=t,this.route=e}}function Ev(n,t,e){const i=n._root;return cA(i,t?t._root:null,e,[i.value])}function md(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function cA(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ec(t);return n.children.forEach(a=>{(function z_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function dm(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!el(n.url,t.url);case"pathParamsOrQueryParamsChange":return!el(n.url,t.url)||!Eo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ip(n,t)||!Eo(n.queryParams,t.queryParams);default:return!Ip(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new Fp(i)):(o.data=a.data,o._resolvedData=a._resolvedData),cA(n,t,o.component?u?u.children:null:e,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new lA(u.outlet.component,a))}else a&&uA(t,u,r),r.canActivateChecks.push(new Fp(i)),cA(n,null,o.component?u?u.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Zs(o,(a,u)=>uA(a,e.getContext(u),r)),r}function uA(n,t,e){const i=ec(n),r=n.value;Zs(i,(o,a)=>{uA(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new lA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function x(n){return"function"==typeof n}function Dt(n){return n instanceof Cu||"EmptyError"===n?.name}const on=Symbol("INITIAL_VALUE");function mn(){return fs(n=>Wa(n.map(t=>t.pipe((0,Jr.q)(1),Ks(on)))).pipe((0,cn.U)(t=>{for(const e of t)if(!0!==e){if(e===on)return on;if(!1===e||e instanceof kn)return e}return!0}),yi(t=>t!==on),(0,Jr.q)(1)))}function Am(n){return(0,ad.z)((0,Cr.b)(t=>{if(vc(t))throw lm(0,t)}),(0,cn.U)(t=>!0===t))}const _f={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dw(n,t,e,i,r){const o=dA(n,t,e);return o.matched?function fm(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?pn(r.map(a=>{const u=md(a,n);return oo(function ye(n){return n&&x(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(mn(),Am()):pn(!0)}(i=xn(t,i),t,e).pipe((0,cn.U)(a=>!0===a?o:{..._f})):pn(o)}function dA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{..._f}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Du)(e,n,t);if(!r)return{..._f};const o={};Zs(r.posParams,(u,h)=>{o[h]=u.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function pm(n,t,e,i){if(e.length>0&&function PC(n,t,e){return e.some(i=>Dv(n,t,i)&&bs(i)!==gi)}(n,e,i)){const o=new Yt(t,function NC(n,t,e,i){const r={};r[gi]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&bs(o)!==gi){const a=new Yt([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[bs(o)]=a}return r}(n,t,i,new Yt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function kp(n,t,e){return e.some(i=>Dv(n,t,i))}(n,e,i)){const o=new Yt(n.segments,function Tw(n,t,e,i,r){const o={};for(const a of i)if(Dv(n,e,a)&&!r[bs(a)]){const u=new Yt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[bs(a)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Yt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Dv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Tv(n,t,e,i){return!!(bs(n)===i||i!==gi&&Dv(t,e,n))&&("**"===n.path||dA(t,n,e).matched)}function C(n,t,e){return 0===t.length&&!n.children[e]}const w=!1;class S{constructor(t){this.segmentGroup=t||null}}class E{constructor(t){this.urlTree=t}}function L(n){return so(new S(n))}function G(n){return so(new E(n))}class Re{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=pm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,gi).pipe((0,cn.U)(o=>this.createUrlTree(Xg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(o=>{if(o instanceof E)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof S?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,gi).pipe((0,cn.U)(r=>this.createUrlTree(Xg(r),t.queryParams,t.fragment))).pipe(Po(r=>{throw r instanceof S?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,w)}createUrlTree(t,e,i){const r=af(t);return new kn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,cn.U)(o=>new Yt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,zn.D)(r).pipe(Xa(o=>{const a=i.children[o],u=gf(e,o);return this.expandSegmentGroup(t,u,a,o).pipe((0,cn.U)(h=>({segment:h,outlet:o})))}),Xl((o,a)=>(o[a.outlet]=a.segment,o),{}),hp())}expandSegment(t,e,i,r,o,a){return(0,zn.D)(i).pipe(Xa(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,a).pipe(Po(f=>{if(f instanceof S)return pn(null);throw f}))),No(u=>!!u),Po((u,h)=>{if(Dt(u))return C(e,r,o)?pn(new Yt([],{})):L(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,a,u){return Tv(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):L(e):L(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?G(o):this.lineralizeSegments(i,o).pipe((0,xo.z)(a=>{const u=new Yt(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:u,consumedSegments:h,remainingSegments:f,positionalParamSegments:_}=dA(e,r,o);if(!u)return L(e);const b=this.applyRedirectCommands(h,r.redirectTo,_);return r.redirectTo.startsWith("/")?G(b):this.lineralizeSegments(r,b).pipe((0,xo.z)(F=>this.expandSegment(t,e,i,F.concat(f),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=xn(i,t),i.loadChildren?(i._loadedRoutes?pn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,cn.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Yt(r,{})))):pn(new Yt(r,{}))):Dw(e,i,r,t).pipe(fs(({matched:a,consumedSegments:u,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,xo.z)(_=>{const b=_.injector??t,F=_.routes,{segmentGroup:B,slicedSegments:U}=pm(e,u,h,F),H=new Yt(B.segments,B.children);if(0===U.length&&H.hasChildren())return this.expandChildren(b,F,H).pipe((0,cn.U)(fe=>new Yt(u,fe)));if(0===F.length&&0===U.length)return pn(new Yt(u,{}));const Z=bs(i)===o;return this.expandSegment(b,H,F,U,Z?gi:o,!0).pipe((0,cn.U)(W=>new Yt(u.concat(W.segments),W.children)))})):L(e)))}getChildConfig(t,e,i){return e.children?pn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?pn({routes:e._loadedRoutes,injector:e._loadedInjector}):function Iv(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?pn(!0):pn(r.map(a=>{const u=md(a,n);return oo(function m(n){return n&&x(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(mn(),Am())}(t,e,i).pipe((0,xo.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Cr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function de(n){return so(tc(w,3))}())):pn({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return pn(i);if(r.numberOfChildren>1||!r.children[gi])return so(new s.vHH(4e3,w));r=r.children[gi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new kn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Zs(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return Zs(e.children,(u,h)=>{a[h]=this.createSegmentGroup(t,u,i,r)}),new Yt(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,w);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class kt{}class Sn{constructor(t,e,i,r,o,a,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=u}recognize(){const t=pm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,gi).pipe((0,cn.U)(e=>{if(null===e)return null;const i=new Ep([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tl(i,e),o=new rA(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=xp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,zn.D)(Object.keys(i.children)).pipe(Xa(r=>{const o=i.children[r],a=gf(e,r);return this.processSegmentGroup(t,a,o,r)}),Xl((r,o)=>r&&o?(r.push(...o),r):null),rf(r=>null!==r),Yd(null),hp(),(0,cn.U)(r=>{if(null===r)return null;const o=Ur(r);return function $i(n){n.sort((t,e)=>t.value.outlet===gi?-1:e.value.outlet===gi?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,zn.D)(e).pipe(Xa(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),No(a=>!!a),Po(a=>{if(Dt(a))return C(i,r,o)?pn([]):pn(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Tv(e,i,r,o))return pn(null);let a;if("**"===e.path){const u=r.length>0?Tu(r).parameters:{},h=Rn(i)+r.length;a=pn({snapshot:new Ep(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),bs(e),e.component??e._loadedComponent??null,e,mi(i),h,Fi(e)),consumedSegments:[],remainingSegments:[]})}else a=Dw(i,e,r,t).pipe((0,cn.U)(({matched:u,consumedSegments:h,remainingSegments:f,parameters:_})=>{if(!u)return null;const b=Rn(i)+h.length;return{snapshot:new Ep(h,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sr(e),bs(e),e.component??e._loadedComponent??null,e,mi(i),b,Fi(e)),consumedSegments:h,remainingSegments:f}}));return a.pipe(fs(u=>{if(null===u)return pn(null);const{snapshot:h,consumedSegments:f,remainingSegments:_}=u;t=e._injector??t;const b=e._loadedInjector??t,F=function ri(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:U}=pm(i,f,_,F.filter(Z=>void 0===Z.redirectTo));if(0===U.length&&B.hasChildren())return this.processChildren(b,F,B).pipe((0,cn.U)(Z=>null===Z?null:[new tl(h,Z)]));if(0===F.length&&0===U.length)return pn([new tl(h,[])]);const H=bs(e)===o;return this.processSegment(b,F,B,U,H?gi:o).pipe((0,cn.U)(Z=>null===Z?null:[new tl(h,Z)]))}))}}function Jn(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ur(n){const t=[],e=new Set;for(const i of n){if(!Jn(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ur(i.children);t.push(new tl(i.value,r))}return t.filter(i=>!e.has(i))}function mi(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Rn(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sr(n){return n.data||{}}function Fi(n){return n.resolve||{}}function il(n){return"string"==typeof n.title||null===n.title}function Na(n){return fs(t=>{const e=n(t);return e?(0,zn.D)(e).pipe((0,cn.U)(()=>t)):pn(t)})}const rl=new s.OlP("ROUTES");let AA=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return pn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=oo(e.loadComponent()).pipe((0,cn.U)(rh),(0,Cr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Jd(()=>{this.componentLoaders.delete(e)})),r=new jh(i,()=>new sn.x).pipe(ld());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,cn.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,f,_=!1;Array.isArray(u)?f=u:(h=u.create(e).injector,f=Ma(h.get(rl,[],s.XFs.Self|s.XFs.Optional)));return{routes:f.map(pf),injector:h}}),Jd(()=>{this.childrenLoaders.delete(i)})),a=new jh(o,()=>new sn.x).pipe(ld());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return oo(e()).pipe((0,cn.U)(rh),(0,xo.z)(r=>r instanceof s.YKP||Array.isArray(r)?pn(r):(0,zn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rh(n){return function Op(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _d=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new sn.x,this.configLoader=(0,s.f3M)(AA),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(ka),this.rootContexts=(0,s.f3M)(ff),this.navigationId=0,this.configLoader.onLoadEndListener=r=>this.events.next(new hd(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Fs(r))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new _r({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yi(i=>0!==i.id),(0,cn.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),fs(i=>{let r=!1,o=!1;return pn(i).pipe((0,Cr.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fs(a=>{const u=e.browserUrlTree.toString(),h=!e.navigated||a.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||h)&&e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Lp(a.source)&&(e.browserUrlTree=a.extractedUrl),pn(a).pipe(fs(_=>{const b=this.transitions?.getValue();return this.events.next(new Jh(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),b!==this.transitions?.getValue()?yc.E:Promise.resolve(_)}),function ze(n,t,e,i){return fs(r=>function ue(n,t,e,i,r){return new Re(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,cn.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Cr.b)(_=>{this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects},i.urlAfterRedirects=_.urlAfterRedirects}),function Uo(n,t,e,i,r){return(0,xo.z)(o=>function hn(n,t,e,i,r,o,a="emptyOnly"){return new Sn(n,t,e,i,r,a,o).recognize().pipe(fs(u=>null===u?function Pn(n){return new gr.y(t=>t.error(n))}(new kt):pn(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,cn.U)(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Cr.b)(_=>{if(i.targetSnapshot=_.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!_.extras.skipLocationChange){const F=e.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);e.setBrowserUrl(F,_)}e.browserUrlTree=_.urlAfterRedirects}const b=new H_(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}));if(h&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:b,extractedUrl:F,source:B,restoredState:U,extras:H}=a,Z=new Jh(b,this.urlSerializer.serialize(F),B,U);this.events.next(Z);const z=nA(F,e.rootComponentType).snapshot;return pn(i={...a,targetSnapshot:z,urlAfterRedirects:F,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=a.rawUrl,a.resolve(null),yc.E}),(0,Cr.b)(a=>{const u=new uf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),(0,cn.U)(a=>i={...a,guards:Ev(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Ji(n,t){return(0,xo.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?pn({...e,guardsResult:!0}):function Ws(n,t,e,i){return(0,zn.D)(n).pipe((0,xo.z)(r=>function K_(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?pn(o.map(u=>{const h=pd(t)??r,f=md(u,h);return oo(function q(n){return n&&x(n.canDeactivate)}(f)?f.canDeactivate(n,t,e,i):h.runInContext(()=>f(n,t,e,i))).pipe(No())})).pipe(mn()):pn(!0)}(r.component,r.route,e,t,i)),No(r=>!0!==r,!0))}(a,i,r,n).pipe((0,xo.z)(u=>u&&function g(n){return"boolean"==typeof n}(u)?function xc(n,t,e,i){return(0,zn.D)(t).pipe(Xa(r=>Ja(function Mp(n,t){return null!==n&&t&&t(new Fu(n)),pn(!0)}(r.route.parent,i),function mf(n,t){return null!==n&&t&&t(new Ad(n)),pn(!0)}(r.route,i),function hm(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function Sv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>$d(()=>pn(a.guards.map(h=>{const f=pd(a.node)??e,_=md(h,f);return oo(function Q(n){return n&&x(n.canActivateChild)}(_)?_.canActivateChild(i,n):f.runInContext(()=>_(i,n))).pipe(No())})).pipe(mn())));return pn(o).pipe(mn())}(n,r.path,e),function q_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return pn(!0);const r=i.map(o=>$d(()=>{const a=pd(t)??e,u=md(o,a);return oo(function D(n){return n&&x(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(No())}));return pn(r).pipe(mn())}(n,r.route,e))),No(r=>!0!==r,!0))}(i,o,n,t):pn(u)),(0,cn.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Cr.b)(a=>{if(i.guardsResult=a.guardsResult,vc(a.guardsResult))throw lm(0,a.guardsResult);const u=new rm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),yi(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3,e),!1)),Na(a=>{if(a.guards.canActivateChecks.length)return pn(a).pipe((0,Cr.b)(u=>{const h=new eA(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),fs(u=>{let h=!1;return pn(u).pipe(function Ec(n,t){return(0,xo.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return pn(e);let o=0;return(0,zn.D)(r).pipe(Xa(a=>function Kc(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!il(r)&&(o[Xd]=r.title),function cs(n,t,e,i){const r=function La(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return pn({});const o={};return(0,zn.D)(r).pipe((0,xo.z)(a=>function hA(n,t,e,i){const r=pd(t)??i,o=md(n,r);return oo(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(No(),(0,Cr.b)(u=>{o[a]=u}))),zh(1),cd(o),Po(a=>Dt(a)?yc.E:so(a)))}(o,n,t,i).pipe((0,cn.U)(a=>(n._resolvedData=a,n.data=xp(n,e).resolve,r&&il(r)&&(n.data[Xd]=r.title),null)))}(a.route,i,n,t)),(0,Cr.b)(()=>o++),zh(1),(0,xo.z)(a=>o===r.length?pn(e):yc.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Cr.b)({next:()=>h=!0,complete:()=>{h||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2,e))}}))}),(0,Cr.b)(u=>{const h=new df(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),Na(a=>{const u=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,Cr.b)(_=>{h.component=_}),(0,cn.U)(()=>{})));for(const _ of h.children)f.push(...u(_));return f};return Wa(u(a.targetSnapshot.root)).pipe(Yd(),(0,Jr.q)(1))}),Na(()=>e.afterPreactivation()),(0,cn.U)(a=>{const u=function oA(n,t,e){const i=aA(n,t._root,e?e._root:void 0);return new Af(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),(0,Cr.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,cn.U)(i=>(new gd(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),(0,Cr.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new dd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Jd(()=>{r||o||this.cancelNavigationTransition(i,"",1,e),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Po(a=>{if(o=!0,bv(a)){ih(a)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new Xh(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),ih(a)){const h=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Lp(i.source)};e.scheduleNavigation(h,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new Cp(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(a))}catch(h){i.reject(h)}}return yc.E}))}))}cancelNavigationTransition(e,i,r,o){const a=new Xh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lp(n){return"imperative"!==n}let gm=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===gi);return i}getResolvedTitleForRoute(e){return e.data[Xd]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Bv)},providedIn:"root"}),n})(),Bv=(()=>{class n extends gm{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(JO)},providedIn:"root"}),n})();class WO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let JO=(()=>{class n extends WO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KE=new s.OlP("",{providedIn:"root",factory:()=>({})});let _T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(xQ)},providedIn:"root"}),n})(),xQ=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EQ(n){throw n}function yT(n,t,e){return t.parse("/")}const XO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wT(){const n=(0,s.f3M)(ka),t=(0,s.f3M)(ff),e=(0,s.f3M)(Wt),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(rl,{optional:!0})??[],a=(0,s.f3M)(KE,{optional:!0})??{},u=new Ms(null,n,t,e,i,r,Ma(o));return function eL(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,u),u}let Ms=(()=>{class n{constructor(e,i,r,o,a,u,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=h,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=EQ,this.malformedUriErrorHandler=yT,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pn(void 0),this.urlHandlingStrategy=(0,s.f3M)(_T),this.routeReuseStrategy=(0,s.f3M)(Np),this.titleStrategy=(0,s.f3M)(gm),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,s.f3M)(_d),this.console=a.get(s.c2e);const f=a.get(s.R0b);this.isNgZoneEnabled=f instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nA(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(e.state){const u={...e.state};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,f=r||this.routerState.root,_=h?this.currentUrlTree.fragment:a;let b=null;switch(u){case"merge":b={...this.currentUrlTree.queryParams,...o};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=o||null}return null!==b&&(b=this.removeEmptyProps(b)),xw(f,this.currentUrlTree,e,b,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function tL(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...XO}:!1===i?{...vT}:i,vc(e))return he(this.currentUrlTree,e,r);const o=this.parseUrl(e);return he(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let u,h,f,_;return a?(u=a.resolve,h=a.reject,f=a.promise):f=new Promise((b,F)=>{u=b,h=F}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),_=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_=0,this.navigationTransitions.handleNavigationRequest({targetPageId:_,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(b=>Promise.reject(b))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return wT()},providedIn:"root"}),n})(),Z_=(()=>{class n{constructor(e,i,r,o,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new sn.x;const h=a.nativeElement.tagName;this.isAnchorElement="A"===h||"AREA"===h,this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof dd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ms),s.Y36(iA),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(pt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class bT{}let sL=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(yi(e=>e instanceof dd),Xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,u=o._loadedInjector??a;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(a,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,zn.D)(r).pipe((0,Su.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):pn(null);const o=r.pipe((0,xo.z)(a=>null===a?pn(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,zn.D)([o,a]).pipe((0,Su.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ms),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(bT),s.LFG(AA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $E=new s.OlP("");let CT=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function $_(n,t){return{\u0275kind:n,\u0275providers:t}}function JE(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Ms),r=n.get(xT);1===n.get(XE)&&i.initialNavigation(),n.get(mm,null,s.XFs.Optional)?.setUpPreloading(),n.get($E,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const xT=new s.OlP("",{factory:()=>new sn.x}),XE=new s.OlP("",{providedIn:"root",factory:()=>1});const mm=new s.OlP("");function cL(n){return $_(0,[{provide:mm,useExisting:sL},{provide:bT,useExisting:n}])}const uL=new s.OlP("ROUTER_FORROOT_GUARD"),BQ=[Wt,{provide:ka,useClass:Ra},{provide:Ms,useFactory:wT},ff,{provide:iA,useFactory:function YE(n){return n.routerState.root},deps:[Ms]},AA,[]];function FQ(){return new s.PXZ("Router",Ms)}let DT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[BQ,[],{provide:rl,multi:!0,useValue:e},{provide:uL,useFactory:Fv,deps:[[Ms,new s.FiY,new s.tp0]]},{provide:KE,useValue:i||{}},i?.useHash?{provide:pt,useClass:zt}:{provide:pt,useClass:Et},{provide:$E,useFactory:()=>{const n=(0,s.f3M)(Wo),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(KE),i=(0,s.f3M)(_d),r=(0,s.f3M)(ka);return e.scrollOffset&&n.setOffset(e.scrollOffset),new CT(r,i,n,t,e)}},i?.preloadingStrategy?cL(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:FQ},i?.initialNavigation?hL(i):[],[{provide:eS,useFactory:JE},{provide:s.tb,multi:!0,useExisting:eS}]]}}static forChild(e){return{ngModule:n,providers:[{provide:rl,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uL,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dp]}),n})();function Fv(n){return"guarded"}function hL(n){return["disabled"===n.initialNavigation?$_(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Ms);return()=>{t.setUpLocationChangeListener()}}},{provide:XE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$_(2,[{provide:XE,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(ae,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(Ms),a=t.get(xT);(function i(r){t.get(Ms).events.pipe(yi(a=>a instanceof dd||a instanceof Xh||a instanceof Cp),(0,cn.U)(a=>a instanceof dd||a instanceof Xh&&(0===a.code||1===a.code)&&null),yi(a=>null!==a),(0,Jr.q)(1)).subscribe(()=>{r()})})(()=>{r(!0)}),o.afterPreactivation=()=>(r(!0),a.closed?pn(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const eS=new s.OlP("");var Un,It=ie(5861),fA=ie(6881),Pp=ie(4859),pA=ie(1877),ce=ie(2090),AL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sh={},QC=QC||{},Qi=AL||self;function Mv(){}function tS(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function W_(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var BT="closure_uid_"+(1e9*Math.random()>>>0),kv=0;function FT(n,t,e){return n.call.apply(n.bind,arguments)}function pL(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function nc(n,t,e){return(nc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FT:pL).apply(null,arguments)}function HC(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ml(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function gA(){this.s=this.s,this.o=this.o}gA.prototype.s=!1,gA.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function fL(n){Object.prototype.hasOwnProperty.call(n,BT)&&n[BT]||(n[BT]=++kv)}(this)},gA.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function J_(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function GC(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(tS(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let a=0;a<o;a++)n[r+a]=i[a]}else n.push(i)}}function sl(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}sl.prototype.h=function(){this.defaultPrevented=!0};var MT=function(){if(!Qi.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qi.addEventListener("test",Mv,t),Qi.removeEventListener("test",Mv,t)}catch{}return n}();function Ov(n){return/^[\s\xa0]*$/.test(n)}var jC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bw(n,t){return n<t?-1:n>t?1:0}function Fw(){var n=Qi.navigator;return n&&(n=n.userAgent)?n:""}function oh(n){return-1!=Fw().indexOf(n)}function nS(n){return nS[" "](n),n}function kT(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}nS[" "]=Mv;var Mw,n,RT=oh("Opera"),Lv=oh("Trident")||oh("MSIE"),iS=oh("Edge"),zC=iS||Lv,OT=oh("Gecko")&&!(-1!=Fw().toLowerCase().indexOf("webkit")&&!oh("Edge"))&&!(oh("Trident")||oh("MSIE"))&&!oh("Edge"),gL=-1!=Fw().toLowerCase().indexOf("webkit")&&!oh("Edge");function ku(){var n=Qi.document;return n?n.documentMode:void 0}e:{var rS="",LT=(n=Fw(),OT?/rv:([^\);]+)(\)|;)/.exec(n):iS?/Edge\/([\d\.]+)/.exec(n):Lv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gL?/WebKit\/(\S+)/.exec(n):RT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LT&&(rS=LT?LT[1]:""),Lv){var kw=ku();if(null!=kw&&kw>parseFloat(rS)){Mw=String(kw);break e}}Mw=rS}var NT={},UT=Qi.document&&Lv&&(ku()||parseInt(Mw,10))||void 0;function Rw(n,t){if(sl.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(OT){e:{try{nS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_L[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rw.$.h.call(this)}}Ml(Rw,sl);var _L={2:"touch",3:"pen",4:"mouse"};Rw.prototype.h=function(){Rw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var X_="closure_listenable_"+(1e6*Math.random()|0),yL=0;function vL(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++yL,this.fa=this.ia=!1}function qC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function oS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function QT(n){const t={};for(const e in n)t[e]=n[e];return t}const mA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KC(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<mA.length;o++)e=mA[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ZC(n){this.src=n,this.g={},this.h=0}function aS(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=VC(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(qC(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function $C(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}ZC.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=$C(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new vL(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var lS="closure_lm_"+(1e6*Math.random()|0),cS={};function HT(n,t,e,i,r){if(i&&i.once)return VT(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)HT(n,t[o],e,i,r);return null}return e=WC(e),n&&n[X_]?n.O(t,e,W_(i)?!!i.capture:!!i,r):YC(n,t,e,!1,i,r)}function YC(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=W_(r)?!!r.capture:!!r,u=Pw(n);if(u||(n[lS]=u=new ZC(n)),(e=u.add(t,e,i,a,o)).proxy)return e;if(i=function wL(){const t=RQ;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)MT||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Nw(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function VT(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)VT(n,t[o],e,i,r);return null}return e=WC(e),n&&n[X_]?n.P(t,e,W_(i)?!!i.capture:!!i,r):YC(n,t,e,!0,i,r)}function Ow(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ow(n,t[o],e,i,r);else i=W_(i)?!!i.capture:!!i,e=WC(e),n&&n[X_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=$C(o=n.g[t],e,i,r))&&(qC(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Pw(n))&&(t=n.g[t.toString()],n=-1,t&&(n=$C(t,e,i,r)),(e=-1<n?t[n]:null)&&Lw(e))}function Lw(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[X_])aS(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Nw(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Pw(t))?(aS(e,n),0==e.h&&(e.src=null,t[lS]=null)):qC(n)}}}function Nw(n){return n in cS?cS[n]:cS[n]="on"+n}function RQ(n,t){if(n.fa)n=!0;else{t=new Rw(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Lw(n),n=e.call(i,t)}return n}function Pw(n){return(n=n[lS])instanceof ZC?n:null}var GT="__closure_events_fn_"+(1e9*Math.random()>>>0);function WC(n){return"function"==typeof n?n:(n[GT]||(n[GT]=function(t){return n.handleEvent(t)}),n[GT])}function ol(){gA.call(this),this.i=new ZC(this),this.S=this,this.J=null}function kl(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new sl(t,n);else if(t instanceof sl)t.target=t.target||n;else{var r=t;KC(t=new sl(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=Uw(a,i,!0,t)&&r}if(r=Uw(a=t.g=n,i,!0,t)&&r,r=Uw(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Uw(a=t.g=e[o],i,!1,t)&&r}function Uw(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==e){var u=a.listener,h=a.la||a.src;a.ia&&aS(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Ml(ol,gA),ol.prototype[X_]=!0,ol.prototype.removeEventListener=function(n,t,e,i){Ow(this,n,t,e,i)},ol.prototype.N=function(){if(ol.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)qC(e[i]);delete n.g[t],n.h--}}this.J=null},ol.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ol.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Qw=Qi.JSON.stringify;function Up(){var n=Nv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var XC,Hw=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vw,n=>n.reset());class Vw{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function bL(n){Qi.setTimeout(()=>{throw n},0)}function uS(n,t){XC||function CL(){var n=Qi.Promise.resolve(void 0);XC=function(){n.then(xL)}}(),dS||(XC(),dS=!0),Nv.add(n,t)}var dS=!1,Nv=new class JC{constructor(){this.h=this.g=null}add(t,e){const i=Hw.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function xL(){for(var n;n=Up();){try{n.h.call(n.g)}catch(e){bL(e)}var t=Hw;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}dS=!1}function hS(n,t){ol.call(this),this.h=n||1,this.g=t||Qi,this.j=nc(this.qb,this),this.l=Date.now()}function AS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fS(n,t,e){if("function"==typeof n)e&&(n=nc(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=nc(n.handleEvent,n)}return 2147483647<Number(t)?-1:Qi.setTimeout(n,t||0)}function jT(n){n.g=fS(()=>{n.g=null,n.i&&(n.i=!1,jT(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ml(hS,ol),(Un=hS.prototype).ga=!1,Un.T=null,Un.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kl(this,"tick"),this.ga&&(AS(this),this.start()))}},Un.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Un.N=function(){hS.$.N.call(this),AS(this),delete this.g};class EL extends gA{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jT(this)}N(){super.N(),this.g&&(Qi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gw(n){gA.call(this),this.h=n,this.g={}}Ml(Gw,gA);var zT=[];function qT(n,t,e,i){Array.isArray(e)||(e&&(zT[0]=e.toString()),e=zT);for(var r=0;r<e.length;r++){var o=HT(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function pS(n){oS(n.g,function(t,e){this.g.hasOwnProperty(e)&&Lw(t)},n),n.g={}}function Pv(){this.g=!0}function Uv(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function DL(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return Qw(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Gw.prototype.N=function(){Gw.$.N.call(this),pS(this)},Gw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pv.prototype.Ea=function(){this.g=!1},Pv.prototype.info=function(){};var ey={},KT=null;function e1(){return KT=KT||new ol}function ZT(n){sl.call(this,ey.Ta,n)}function Qv(n){const t=e1();kl(t,new ZT(t))}function mS(n,t){sl.call(this,ey.STAT_EVENT,n),this.stat=t}function $c(n){const t=e1();kl(t,new mS(t,n))}function TL(n,t){sl.call(this,ey.Ua,n),this.size=t}function Hv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qi.setTimeout(function(){n()},t)}ey.Ta="serverreachability",Ml(ZT,sl),ey.STAT_EVENT="statevent",Ml(mS,sl),ey.Ua="timingevent",Ml(TL,sl);var ty={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_m={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $T(){}function YT(){}$T.prototype.h=null;var ah,jw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zw(){sl.call(this,"d")}function _S(){sl.call(this,"c")}function ym(){}function Pa(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Gw(this),this.P=t1,this.V=new hS(n=zC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new vm}function vm(){this.i=null,this.g="",this.h=!1}Ml(zw,sl),Ml(_S,sl),Ml(ym,$T),ym.prototype.g=function(){return new XMLHttpRequest},ym.prototype.i=function(){return{}},ah=new ym;var t1=45e3,Ru={},Gv={};function wm(n,t,e){n.L=1,n.v=qw(bf(t)),n.s=e,n.S=!0,ny(n,null)}function ny(n,t){n.G=Date.now(),vf(n),n.A=bf(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),xS(e.i,"t",i),n.C=0,e=n.l.I,n.h=new vm,n.g=lh(n.l,e?t:null,!n.s),0<n.O&&(n.M=new EL(nc(n.Pa,n,n.g),n.O)),qT(n.U,n.g,"readystatechange",n.nb),t=n.I?QT(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Qv(),function SL(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",u=o.split("&"),h=0;h<u.length;h++){var f=u[h].split("=");if(1<f.length){var _=f[0];f=f[1];var b=_.split("_");a=2<=b.length&&"type"==b[1]?a+(_+"=")+f+"&":a+(_+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function iy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ry(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=jv(n,e),r==Gv){4==t&&(n.o=4,$c(14),i=!1),Uv(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ru){n.o=4,$c(15),Uv(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Uv(n.j,n.m,r,null),n1(n,r)}iy(n)&&r!=Gv&&r!=Ru&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,$c(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),d1(t),t.L=!0,$c(11))):(Uv(n.j,n.m,e,"[Invalid Chunked Response]"),bm(n),wf(n))}function jv(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Gv:(e=Number(t.substring(e,i)),isNaN(e)?Ru:(i+=1)+e>t.length?Gv:(t=t.substr(i,e),n.C=i+e,t))}function vf(n){n.Y=Date.now()+n.P,sy(n,n.P)}function sy(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hv(nc(n.lb,n),t)}function Qp(n){n.B&&(Qi.clearTimeout(n.B),n.B=null)}function wf(n){0==n.l.H||n.J||h1(n.l,n)}function bm(n){Qp(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,AS(n.V),pS(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function n1(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||l1(e.h,n)))if(!n.K&&l1(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Zv(e),Ww(e)}QS(e),$c(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=Hv(nc(e.ib,e),6e3));if(1>=DS(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else dy(e,11)}else if((n.K||e.g==n)&&Zv(e),!Ov(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.V=f[0],f=f[1],2==e.H)if("c"==f[0]){e.J=f[1],e.oa=f[2];const _=f[3];null!=_&&(e.qa=_,e.j.info("VER="+e.qa));const b=f[4];null!=b&&(e.Ga=b,e.j.info("SVER="+e.Ga));const F=f[5];null!=F&&"number"==typeof F&&0<F&&(e.K=i=1.5*F,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const U=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(TS(o,o.h),o.h=null))}if(i.F){const H=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(i.Da=H,Io(i.G,i.F,H))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=yA(i,i.I?i.oa:null,i.Y),a.K){BS(i.h,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&(Qp(u),vf(u)),i.g=a}else US(i);0<e.i.length&&Jw(e)}else"stop"!=f[0]&&"close"!=f[0]||dy(e,7);else 3==e.H&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?dy(e,7):PS(e):"noop"!=f[0]&&e.l&&e.l.Aa(f),e.A=0)}Qv()}catch{}}function yS(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(tS(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function JT(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tS(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function WT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tS(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(Un=Pa.prototype).setTimeout=function(n){this.P=n},Un.nb=function(n){n=n.target;const t=this.M;t&&3==Hp(n)?t.l():this.Pa(n)},Un.Pa=function(n){try{if(n==this.g)e:{const _=Hp(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||zC||this.g&&(this.h.h||this.g.ja()||NS(this.g)))){this.J||4!=_||7==t||Qv(),Qp(this);var e=this.g.da();this.aa=e;t:if(iy(this)){var i=NS(this.g);n="";var r=i.length,o=4==Hp(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bm(this),wf(this);var a="";break t}this.h.i=new Qi.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function gS(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ov(u)){var f=u;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,$c(12),bm(this),wf(this);break e}Uv(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n1(this,e)}this.S?(ry(this,_,a),zC&&this.i&&3==_&&(qT(this.U,this.V,"tick",this.mb),this.V.start())):(Uv(this.j,this.m,a,null),n1(this,a)),4==_&&bm(this),this.i&&!this.J&&(4==_?h1(this.l,this):(this.i=!1,vf(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,$c(12)):(this.o=0,$c(13)),bm(this),wf(this)}}}catch{}},Un.mb=function(){if(this.g){var n=Hp(this.g),t=this.g.ja();this.C<t.length&&(Qp(this),ry(this,n,t),this.i&&4!=n&&vf(this))}},Un.cancel=function(){this.J=!0,bm(this)},Un.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function IL(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Qv(),$c(17)),bm(this),this.o=2,wf(this)):sy(this,this.Y-n)};var vS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cm(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cm){this.h=void 0!==t?t:n.h,i1(this,n.j),this.s=n.s,this.g=n.g,r1(this,n.m),this.l=n.l,t=n.i;var e=new xm;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),wS(this,e),this.o=n.o}else n&&(e=String(n).match(vS))?(this.h=!!t,i1(this,e[1]||"",!0),this.s=oy(e[2]||""),this.g=oy(e[3]||"",!0),r1(this,e[4]),this.l=oy(e[5]||"",!0),wS(this,e[6]||"",!0),this.o=oy(e[7]||"")):(this.h=!!t,this.i=new xm(null,this.h))}function bf(n){return new Cm(n)}function i1(n,t,e){n.j=e?oy(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function r1(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function wS(n,t,e){t instanceof xm?(n.i=t,function ES(n,t){t&&!n.j&&(Cf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(CS(this,i),xS(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=ay(t,FL)),n.i=new xm(t,n.h))}function Io(n,t,e){n.i.set(t,e)}function qw(n){return Io(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oy(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ay(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,BL),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ay(t,Kw,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ay(t,Kw,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(ay(e,"/"==e.charAt(0)?bS:s1,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ay(e,o1)),n.join("")};var Kw=/[#\/\?@]/g,s1=/[#\?:]/g,bS=/[#\?]/g,FL=/[#\?@]/g,o1=/#/g;function xm(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Cf(n){n.g||(n.g=new Map,n.h=0,n.i&&function XT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function CS(n,t){Cf(n),t=ly(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function a1(n,t){return Cf(n),t=ly(n,t),n.g.has(t)}function xS(n,t,e){CS(n,t),0<e.length&&(n.i=null,n.g.set(ly(n,t),J_(e)),n.h+=e.length)}function ly(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function eB(n){this.l=n||tB,n=Qi.PerformanceNavigationTiming?0<(n=Qi.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qi.g&&Qi.g.Ka&&Qi.g.Ka()&&Qi.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Un=xm.prototype).add=function(n,t){Cf(this),this.i=null,n=ly(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Un.forEach=function(n,t){Cf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Un.sa=function(){Cf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},Un.Z=function(n){Cf(this);let t=[];if("string"==typeof n)a1(this,n)&&(t=t.concat(this.g.get(ly(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Un.set=function(n,t){return Cf(this),this.i=null,a1(this,n=ly(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Un.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Un.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var tB=10;function IS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DS(n){return n.h?1:n.g?n.g.size:0}function l1(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function TS(n,t){n.g?n.g.add(t):n.h=t}function BS(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function FS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return J_(n.i)}function Zw(){}function MS(){this.g=new Zw}function nB(n,t,e){const i=e||"";try{yS(n,function(r,o){let a=r;W_(r)&&(a=Qw(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function $w(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function zv(n){this.l=n.fc||null,this.j=n.ob||!1}function Yw(n,t){ol.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=c1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eB.prototype.cancel=function(){if(this.i=FS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Zw.prototype.stringify=function(n){return Qi.JSON.stringify(n,void 0)},Zw.prototype.parse=function(n){return Qi.JSON.parse(n,void 0)},Ml(zv,$T),zv.prototype.g=function(){return new Yw(this.l,this.j)},zv.prototype.i=function(n){return function(){return n}}({}),Ml(Yw,ol);var c1=0;function kS(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Em(n)}function Em(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Un=Yw.prototype).open=function(n,t){if(this.readyState!=c1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Em(this)},Un.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Qi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Un.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qv(this)),this.readyState=c1},Un.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Em(this)),this.g&&(this.readyState=3,Em(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qi.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kS(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Un.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?qv(this):Em(this),3==this.readyState&&kS(this)}},Un.Za=function(n){this.g&&(this.response=this.responseText=n,qv(this))},Un.Ya=function(n){this.g&&(this.response=n,qv(this))},Un.ka=function(){this.g&&qv(this)},Un.setRequestHeader=function(n,t){this.v.append(n,t)},Un.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Un.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Yw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Sm=Qi.JSON.parse;function ta(n){ol.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rB,this.L=this.M=!1}Ml(ta,ol);var rB="",RS=/^https?$/i,cy=["POST","PUT"];function sB(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,u1(n),LS(n)}function u1(n){n.F||(n.F=!0,kl(n,"complete"),kl(n,"error"))}function ML(n){if(n.h&&typeof QC<"u"&&(!n.C[1]||4!=Hp(n)||2!=n.da()))if(n.v&&4==Hp(n))fS(n.La,0,n);else if(kl(n,"readystatechange"),4==Hp(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(vS)[1]||null;if(!r&&Qi.self&&Qi.self.location){var o=Qi.self.location.protocol;r=o.substr(0,o.length-1)}i=!RS.test(r?r.toLowerCase():"")}e=i}if(e)kl(n,"complete"),kl(n,"success");else{n.m=6;try{var a=2<Hp(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",u1(n)}}finally{LS(n)}}}function LS(n,t){if(n.g){oB(n);const e=n.g,i=n.C[0]?Mv:null;n.g=null,n.C=null,t||kl(n,"ready");try{e.onreadystatechange=i}catch{}}}function oB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qi.clearTimeout(n.A),n.A=null)}function Hp(n){return n.g?n.g.readyState:0}function NS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case rB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aB(n){let t="";return oS(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function fa(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=aB(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Io(n,t,e))}function Kv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function lB(n){this.Ga=0,this.i=[],this.j=new Pv,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kv("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kv("baseRetryDelayMs",5e3,n),this.hb=Kv("retryDelaySeedMs",1e4,n),this.eb=Kv("forwardChannelMaxRetries",2,n),this.xa=Kv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new eB(n&&n.concurrentRequestLimit),this.Ja=new MS,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function PS(n){if(cB(n),3==n.H){var t=n.W++,e=bf(n.G);Io(e,"SID",n.J),Io(e,"RID",t),Io(e,"TYPE","terminate"),Xw(n,e),(t=new Pa(n,n.j,t,void 0)).L=2,t.v=qw(bf(e)),e=!1,Qi.navigator&&Qi.navigator.sendBeacon&&(e=Qi.navigator.sendBeacon(t.v.toString(),"")),!e&&Qi.Image&&((new Image).src=t.v,e=!0),e||(t.g=lh(t.l,null),t.g.ha(t.v)),t.G=Date.now(),vf(t)}hB(n)}function Ww(n){n.g&&(d1(n),n.g.cancel(),n.g=null)}function cB(n){Ww(n),n.u&&(Qi.clearTimeout(n.u),n.u=null),Zv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Qi.clearTimeout(n.m),n.m=null)}function Jw(n){IS(n.h)||n.m||(n.m=!0,uS(n.Na,n),n.C=0)}function uy(n,t){var e;e=t?t.m:n.W++;const i=bf(n.G);Io(i,"SID",n.J),Io(i,"RID",e),Io(i,"AID",n.V),Xw(n,i),n.o&&n.s&&fa(i,n.o,n.s),e=new Pa(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=dB(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),TS(n.h,e),wm(e,i,t)}function Xw(n,t){n.ma&&oS(n.ma,function(e,i){Io(t,i,e)}),n.l&&yS({},function(e,i){Io(t,i,e)})}function dB(n,t,e){e=Math.min(n.i.length,e);var i=n.l?nc(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let u=!0;for(let h=0;h<e;h++){let f=r[h].h;const _=r[h].g;if(f-=o,0>f)o=Math.max(0,r[h].h-100),u=!1;else try{nB(_,a,"req"+f+"_")}catch{i&&i(_)}}if(u){i=a.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function US(n){n.g||n.u||(n.ba=1,uS(n.Ma,n),n.A=0)}function QS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Hv(nc(n.Ma,n),_A(n,n.A)),n.A++,0))}function d1(n){null!=n.B&&(Qi.clearTimeout(n.B),n.B=null)}function kL(n){n.g=new Pa(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=bf(n.wa);Io(t,"RID","rpc"),Io(t,"SID",n.J),Io(t,"CI",n.M?"0":"1"),Io(t,"AID",n.V),Io(t,"TYPE","xmlhttp"),Xw(n,t),n.o&&n.s&&fa(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=qw(bf(t)),e.s=null,e.S=!0,ny(e,n)}function Zv(n){null!=n.v&&(Qi.clearTimeout(n.v),n.v=null)}function h1(n,t){var e=null;if(n.g==t){Zv(n),d1(n),n.g=null;var i=2}else{if(!l1(n.h,t))return;e=t.F,BS(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;kl(i=e1(),new TL(i,e)),Jw(n)}else US(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function uB(n,t){return!(DS(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Hv(nc(n.Na,n,t),_A(n,n.C)),n.C++,0)))}(n,t)||2==i&&QS(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:dy(n,5);break;case 4:dy(n,10);break;case 3:dy(n,6);break;default:dy(n,2)}}function _A(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function dy(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=nc(n.pb,n);e||(e=new Cm("//www.google.com/images/cleardot.gif"),Qi.location&&"http"==Qi.location.protocol||i1(e,"https"),qw(e)),function iB(n,t){const e=new Pv;if(Qi.Image){const i=new Image;i.onload=HC($w,e,i,"TestLoadImage: loaded",!0,t),i.onerror=HC($w,e,i,"TestLoadImage: error",!1,t),i.onabort=HC($w,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=HC($w,e,i,"TestLoadImage: timeout",!1,t),Qi.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else $c(2);n.H=0,n.l&&n.l.za(t),hB(n),cB(n)}function hB(n){if(n.H=0,n.pa=[],n.l){const t=FS(n.h);(0!=t.length||0!=n.i.length)&&(GC(n.pa,t),GC(n.pa,n.i),n.h.i.length=0,J_(n.i),n.i.length=0),n.l.ya()}}function yA(n,t,e){var i=e instanceof Cm?bf(e):new Cm(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),r1(i,i.m);else{var r=Qi.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Cm(null,void 0);i&&i1(o,i),t&&(o.g=t),r&&r1(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Io(i,e,t),Io(i,"VER",n.qa),Xw(n,i),i}function lh(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ta(e&&n.Ha&&!n.va?new zv({ob:!0}):n.va)).Oa(n.I),t}function ch(){}function eb(){if(Lv&&!(10<=Number(UT)))throw Error("Environmental error: no available transport.")}function Ou(n,t){ol.call(this),this.g=new lB(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Ov(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ov(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new $v(this)}function AB(n){zw.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function fB(){_S.call(this),this.status=1}function $v(n){this.g=n}function yd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hy(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],a=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;a=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(a<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=e+((a=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function gs(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(Un=ta.prototype).Oa=function(n){this.M=n},Un.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ah.g(),this.C=function Vv(n){return n.h||(n.h=n.i())}(this.u?this.u:ah),this.g.onreadystatechange=nc(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void sB(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Qi.FormData&&n instanceof Qi.FormData,!(0<=VC(cy,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of e)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oB(this),0<this.B&&((this.L=function OS(n){return Lv&&function mL(){return kT(NT,9,function(){let n=0;const t=jC(String(Mw)).split("."),e=jC("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",o=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Bw(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Bw(0==r[2].length,0==o[2].length)||Bw(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nc(this.ua,this)):this.A=fS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){sB(this,o)}},Un.ua=function(){typeof QC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kl(this,"timeout"),this.abort(8))},Un.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kl(this,"complete"),kl(this,"abort"),LS(this))},Un.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LS(this,!0)),ta.$.N.call(this)},Un.La=function(){this.s||(this.G||this.v||this.l?ML(this):this.kb())},Un.kb=function(){ML(this)},Un.da=function(){try{return 2<Hp(this)?this.g.status:-1}catch{return-1}},Un.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Un.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Sm(t)}},Un.Ia=function(){return this.m},Un.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Un=lB.prototype).qa=8,Un.H=1,Un.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Pa(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=QT(o),KC(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=dB(this,r,t),Io(e=bf(this.G),"RID",n),Io(e,"CVER",22),this.F&&Io(e,"X-HTTP-Session-Id",this.F),Xw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(aB(o)))+"&"+t:this.o&&fa(e,this.o,o)),TS(this.h,r),this.bb&&Io(e,"TYPE","init"),this.P?(Io(e,"$req",t),Io(e,"SID","null"),r.ba=!0,wm(r,e,null)):wm(r,e,t),this.H=2}}else 3==this.H&&(n?uy(this,n):0==this.i.length||IS(this.h)||uy(this))},Un.Ma=function(){if(this.u=null,kL(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Hv(nc(this.jb,this),n)}},Un.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,$c(10),Ww(this),kL(this))},Un.ib=function(){null!=this.v&&(this.v=null,Ww(this),QS(this),$c(19))},Un.pb=function(n){n?(this.j.info("Successfully pinged google.com"),$c(2)):(this.j.info("Failed to ping google.com"),$c(1))},(Un=ch.prototype).Ba=function(){},Un.Aa=function(){},Un.za=function(){},Un.ya=function(){},Un.Va=function(){},eb.prototype.g=function(n,t){return new Ou(n,t)},Ml(Ou,ol),Ou.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;$c(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=yA(n,null,n.Y),Jw(n)},Ou.prototype.close=function(){PS(this.g)},Ou.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Qw(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&Jw(t)},Ou.prototype.N=function(){this.g.l=null,delete this.j,PS(this.g),delete this.g,Ou.$.N.call(this)},Ml(AB,zw),Ml(fB,_S),Ml($v,ch),$v.prototype.Ba=function(){kl(this.g,"a")},$v.prototype.Aa=function(n){kl(this.g,new AB(n))},$v.prototype.za=function(n){kl(this.g,new fB)},$v.prototype.ya=function(){kl(this.g,"b")},Ml(yd,function RL(){this.blockSize=-1}),yd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yd.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)hy(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){hy(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){hy(this,i),r=0;break}}this.h=r,this.i+=t},yd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var pB={};function HS(n){return-128<=n&&128>n?kT(pB,n,function(t){return new gs([0|t],0>t?-1:0)}):new gs([0|n],0>n?-1:0)}function vA(n){if(isNaN(n)||!isFinite(n))return Wv;if(0>n)return al(vA(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=Yv;return new gs(t,0)}var Yv=4294967296,Wv=HS(0),A1=HS(1),GS=HS(16777216);function wA(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Yc(n){return-1==n.h}function al(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new gs(e,~n.h).add(A1)}function tb(n,t){return n.add(al(t))}function nb(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Jv(n,t){this.g=n,this.h=t}function ib(n,t){if(wA(t))throw Error("division by zero");if(wA(n))return new Jv(Wv,Wv);if(Yc(n))return t=ib(al(n),t),new Jv(al(t.g),al(t.h));if(Yc(t))return t=ib(n,al(t)),new Jv(al(t.g),t.h);if(30<n.g.length){if(Yc(n)||Yc(t))throw Error("slowDivide_ only works with positive integers.");for(var e=A1,i=t;0>=i.X(n);)e=jS(e),i=jS(i);var r=Ay(e,1),o=Ay(i,1);for(i=Ay(i,2),e=Ay(e,2);!wA(i);){var a=o.add(i);0>=a.X(n)&&(r=r.add(e),o=a),i=Ay(i,1),e=Ay(e,1)}return t=tb(n,r.R(t)),new Jv(r,t)}for(r=Wv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(o=vA(e)).R(t);Yc(a)||0<a.X(n);)a=(o=vA(e-=i)).R(t);wA(o)&&(o=A1),r=r.add(o),n=tb(n,a)}return new Jv(r,n)}function jS(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new gs(e,n.h)}function Ay(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new gs(r,n.h)}(Un=gs.prototype).ea=function(){if(Yc(this))return-al(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:Yv+i)*t,t*=Yv}return n},Un.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(wA(this))return"0";if(Yc(this))return"-"+al(this).toString(n);for(var t=vA(Math.pow(n,6)),e=this,i="";;){var r=ib(e,t).g,o=((0<(e=tb(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(wA(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},Un.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Un.X=function(n){return Yc(n=tb(this,n))?-1:wA(n)?0:1},Un.abs=function(){return Yc(this)?al(this):this},Un.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(o&=65535)}return new gs(e,-2147483648&e[e.length-1]?-1:0)},Un.R=function(n){if(wA(this)||wA(n))return Wv;if(Yc(this))return Yc(n)?al(this).R(al(n)):al(al(this).R(n));if(Yc(n))return al(this.R(al(n)));if(0>this.X(GS)&&0>n.X(GS))return vA(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,nb(e,2*i+2*r),e[2*i+2*r+1]+=o*h,nb(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,nb(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,nb(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new gs(e,0)},Un.gb=function(n){return ib(this,n).h},Un.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new gs(e,this.h&n.h)},Un.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new gs(e,this.h|n.h)},Un.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new gs(e,this.h^n.h)},eb.prototype.createWebChannel=eb.prototype.g,Ou.prototype.send=Ou.prototype.u,Ou.prototype.open=Ou.prototype.m,Ou.prototype.close=Ou.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,_m.COMPLETE="complete",YT.EventType=jw,jw.OPEN="a",jw.CLOSE="b",jw.ERROR="c",jw.MESSAGE="d",ol.prototype.listen=ol.prototype.O,ta.prototype.listenOnce=ta.prototype.P,ta.prototype.getLastError=ta.prototype.Sa,ta.prototype.getLastErrorCode=ta.prototype.Ia,ta.prototype.getStatus=ta.prototype.da,ta.prototype.getResponseJson=ta.prototype.Wa,ta.prototype.getResponseText=ta.prototype.ja,ta.prototype.send=ta.prototype.ha,ta.prototype.setWithCredentials=ta.prototype.Oa,yd.prototype.digest=yd.prototype.l,yd.prototype.reset=yd.prototype.reset,yd.prototype.update=yd.prototype.j,gs.prototype.add=gs.prototype.add,gs.prototype.multiply=gs.prototype.R,gs.prototype.modulo=gs.prototype.gb,gs.prototype.compare=gs.prototype.X,gs.prototype.toNumber=gs.prototype.ea,gs.prototype.toString=gs.prototype.toString,gs.prototype.getBits=gs.prototype.D,gs.fromNumber=vA,gs.fromString=function VS(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return al(VS(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=vA(Math.pow(t,8)),i=Wv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+o),t);8>o?(o=vA(Math.pow(t,o)),i=i.R(o).add(vA(a))):i=(i=i.R(e)).add(vA(a))}return i};var gB=sh.createWebChannelTransport=function(){return new eb},mB=sh.getStatEventTarget=function(){return e1()},zS=sh.ErrorCode=ty,OL=sh.EventType=_m,LL=sh.Event=ey,_B=sh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NL=sh.FetchXmlHttpFactory=zv,f1=sh.WebChannel=YT,PL=sh.XhrIo=ta,UL=sh.Md5=yd,Xv=sh.Integer=gs;const yB="@firebase/firestore";class Rl{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rl.UNAUTHENTICATED=new Rl(null),Rl.GOOGLE_CREDENTIALS=new Rl("google-credentials-uid"),Rl.FIRST_PARTY=new Rl("first-party-uid"),Rl.MOCK_USER=new Rl("mock-user");let e0="9.21.0";const Im=new pA.Yd("@firebase/firestore");function qS(){return Im.logLevel}function en(n,...t){if(Im.logLevel<=pA.in.DEBUG){const e=t.map(p1);Im.debug(`Firestore (${e0}): ${n}`,...e)}}function pa(n,...t){if(Im.logLevel<=pA.in.ERROR){const e=t.map(p1);Im.error(`Firestore (${e0}): ${n}`,...e)}}function vd(n,...t){if(Im.logLevel<=pA.in.WARN){const e=t.map(p1);Im.warn(`Firestore (${e0}): ${n}`,...e)}}function p1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Qn(n="Unexpected state"){const t=`FIRESTORE (${e0}) INTERNAL ASSERTION FAILED: `+n;throw pa(t),new Error(t)}function ai(n,t){n||Qn()}function En(n,t){return n}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends ce.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ua{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class g1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Rl.UNAUTHENTICATED))}shutdown(){}}class fy{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class HL{constructor(t){this.t=t,this.currentUser=Rl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let a=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ua,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;t.enqueueRetryable((0,It.Z)(function*(){yield f.promise,yield o(i.currentUser)}))},h=f=>{en("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(en("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ua)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(en("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ai("string"==typeof i.accessToken),new g1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ai(null===t||"string"==typeof t),new Rl(t)}}class VL{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Rl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class t0{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new VL(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Rl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&en("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,en("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{en("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):en("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ai("string"==typeof e.token),this.T=e.token,new GL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wB(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class $S{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=wB(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function zi(n,t){return n<t?-1:n>t?1:0}function ui(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function bB(n){return n+"\0"}class ao{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ao.fromMillis(Date.now())}static fromDate(t){return ao.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ao(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zi(this.nanoseconds,t.nanoseconds):zi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class li{constructor(t){this.timestamp=t}static fromTimestamp(t){return new li(t)}static min(){return new li(new ao(0,0))}static max(){return new li(new ao(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xf{constructor(t,e,i){void 0===e?e=0:e>t.length&&Qn(),void 0===i?i=t.length-e:i>t.length-e&&Qn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===xf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qr extends xf{construct(t,e,i){return new Qr(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new qt(wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Qr(e)}static emptyPath(){return new Qr([])}}const m1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lo extends xf{construct(t,e,i){return new lo(t,e,i)}static isValidIdentifier(t){return m1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new qt(wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new qt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new qt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(o(),r++)}if(o(),a)throw new qt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lo(e)}static emptyPath(){return new lo([])}}class tn{constructor(t){this.path=t}static fromPath(t){return new tn(Qr.fromString(t))}static fromName(t){return new tn(Qr.fromString(t).popFirst(5))}static empty(){return new tn(Qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tn(new Qr(t.slice()))}}class YS{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function _1(n){return n.fields.find(t=>2===t.kind)}function Dm(n){return n.fields.filter(t=>2!==t.kind)}YS.UNKNOWN_ID=-1;class rb{constructor(t,e){this.fieldPath=t,this.kind=e}}class n0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new n0(0,wd.min())}}function WS(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=li.fromTimestamp(1e9===i?new ao(e+1,0):new ao(e,i));return new wd(r,tn.empty(),t)}function xB(n){return new wd(n.readTime,n.key,-1)}class wd{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new wd(li.min(),tn.empty(),-1)}static max(){return new wd(li.max(),tn.empty(),-1)}}function JS(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tn.comparator(n.documentKey,t.documentKey),0!==e?e:zi(n.largestBatchId,t.largestBatchId))}const r0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tm(n){return XS.apply(this,arguments)}function XS(){return XS=(0,It.Z)(function*(n){if(n.code!==wt.FAILED_PRECONDITION||n.message!==r0)throw n;en("LocalStore","Unexpectedly lost primary lease")}),XS.apply(this,arguments)}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,i)=>{e(t)})}static reject(t){return new ht((e,i)=>{i(t)})}static waitFor(t){return new ht((e,i)=>{let r=0,o=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++o,a&&o===r&&e()},h=>i(h))}),a=!0,o===r&&e()})}static or(t){let e=ht.resolve(!1);for(const i of t)e=e.next(r=>r?ht.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ht((i,r)=>{const o=t.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;e(t[f]).next(_=>{a[f]=_,++u,u===o&&i(a)},_=>r(_))}})}static doWhile(t,e){return new ht((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class sb{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Ua,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new ob(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=eI(i.target.error);this.R.reject(new ob(t,r))}}static open(t,e,i,r){try{return new sb(e,t.transaction(r,i))}catch(o){throw new ob(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(en("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ab(e)}}class uh{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===uh.S((0,ce.z$)())&&pa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return en("SimpleDb","Removing database:",t),py(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ce.hl)())return!1;if(uh.C())return!0;const t=(0,ce.z$)(),e=uh.S(t),i=0<e&&e<10,r=uh.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,It.Z)(function*(){return e.db||(en("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new ob(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new qt(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new qt(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new ob(t,u))},o.onupgradeneeded=a=>{en("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.$(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{en("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,It.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.O(t);const h=sb.open(o.db,t,a?"readonly":"readwrite",i),f=r(h).next(_=>(h.P(),_)).catch(_=>(h.abort(_),ht.reject(_))).toPromise();return f.catch(()=>{}),yield h.v,f}catch(h){const f=h,_="FirebaseError"!==f.name&&u<3;if(en("SimpleDb","Transaction failed with error:",f.message,"Retrying:",_),o.close(),!_)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SB{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return py(this.L.delete())}}class ob extends qt{constructor(t,e){super(wt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function dh(n){return"IndexedDbTransactionError"===n.name}class ab{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(en("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(en("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),py(i)}add(t){return en("SimpleDb","ADD",this.store.name,t,t),py(this.store.add(t))}get(t){return py(this.store.get(t)).next(e=>(void 0===e&&(e=null),en("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return en("SimpleDb","DELETE",this.store.name,t),py(this.store.delete(t))}count(){return en("SimpleDb","COUNT",this.store.name),py(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(a,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ht((o,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ht((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){en("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ht((i,r)=>{e.onerror=o=>{const a=eI(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new ht((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new SB(u),f=e(u.primaryKey,u.value,h);if(f instanceof ht){const _=f.catch(b=>(h.done(),ht.reject(b)));i.push(_)}h.isDone?r():null===h.K?u.continue():u.continue(h.K)}}).next(()=>ht.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function py(n){return new ht((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=eI(i.target.error);e(r)}})}let IB=!1;function eI(n){const t=uh.S((0,ce.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IB||(IB=!0,setTimeout(()=>{throw i},0)),i}}return n}class DB{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;en("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,It.Z)(function*(){e.task=null;try{en("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){dh(i)?en("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tm(i)}yield e.et(6e4)}))}}class TB{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,It.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ht.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return en("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,o)).next(u=>(en("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const a=xB(o);JS(a,i)>0&&(i=a)}),new wd(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Lu=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function lb(n){return null==n}function s0(n){return 0===n&&1/n==-1/0}function BB(n){return"number"==typeof n&&Number.isInteger(n)&&!s0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Sc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zL(t)),t=OQ(n.get(e),t);return zL(t)}function OQ(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function zL(n){return n+"\x01\x01"}function Vp(n){const t=n.length;if(ai(t>=2),2===t)return ai("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qr.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&Qn(),n.charAt(a+1)){case"\x01":const u=n.substring(o,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:Qn()}o=a+2}return new Qr(i)}const qL=["userId","batchId"];function tI(n,t){return[n,Sc(t)]}function KL(n,t,e){return[n,Sc(t),e]}const FB={},y1=["prefixPath","collectionGroup","readTime","documentId"],ZL=["prefixPath","collectionGroup","documentId"],$L=["collectionGroup","readTime","prefixPath","documentId"],MB=["canonicalId","targetId"],cb=["targetId","path"],YL=["path","targetId"],WL=["collectionId","parent"],JL=["indexId","uid"],XL=["uid","sequenceNumber"],e5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kB=["indexId","uid","orderedDocumentKey"],t5=["userId","collectionPath","documentId"],n5=["userId","collectionPath","largestBatchId"],ub=["userId","collectionGroup","largestBatchId"],RB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OB=[...RB,"documentOverlays"],LB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nI=LB,i5=[...nI,"indexConfiguration","indexState","indexEntries"];class v1 extends EB{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Ol(n,t){const e=En(n);return uh.M(e.at,t)}function w1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function iI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ks{constructor(t,e){this.comparator=t,this.root=e||ic.EMPTY}insert(t,e){return new ks(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ic.BLACK,null,null))}remove(t){return new ks(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ic.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new b1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new b1(this.root,t,this.comparator,!1)}getReverseIterator(){return new b1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new b1(this.root,t,this.comparator,!0)}}class b1{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ic{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ic.RED,this.left=r??ic.EMPTY,this.right=o??ic.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ic(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ic.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ic.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ic.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ic.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qn();const t=this.left.check();if(t!==this.right.check())throw Qn();return t+(this.isRed()?0:1)}}ic.EMPTY=null,ic.RED=!0,ic.BLACK=!1,ic.EMPTY=new class{constructor(){this.size=0}get key(){throw Qn()}get value(){throw Qn()}get color(){throw Qn()}get left(){throw Qn()}get right(){throw Qn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ic(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class co{constructor(t){this.comparator=t,this.data=new ks(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new C1(this.data.getIterator())}getIteratorFrom(t){return new C1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new co(this.comparator);return e.data=t,e}}class C1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function o0(n){return n.hasNext()?n.getNext():void 0}class Wc{constructor(t){this.fields=t,t.sort(lo.comparator)}static empty(){return new Wc([])}unionWith(t){let e=new co(lo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Wc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ui(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class NB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ll{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new NB("Invalid base64 string: "+r):r}}(t);return new ll(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ll(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const s5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fm(n){if(ai(!!n),"string"==typeof n){let t=0;const e=s5.exec(n);if(ai(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:na(n.seconds),nanos:na(n.nanos)}}function na(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gp(n){return"string"==typeof n?ll.fromBase64String(n):ll.fromUint8Array(n)}function x1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function db(n){const t=n.mapValue.fields.__previous_value__;return x1(t)?db(t):t}function a0(n){const t=Fm(n.mapValue.fields.__local_write_time__.timestampValue);return new ao(t.seconds,t.nanos)}class o5{constructor(t,e,i,r,o,a,u,h){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class Mm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Mm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Mm&&t.projectId===this.projectId&&t.database===this.database}}const jp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},E1={nullValue:"NULL_VALUE"};function km(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x1(n)?4:lI(n)?9007199254740991:10:Qn()}function Ef(n,t){if(n===t)return!0;const e=km(n);if(e!==km(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return a0(n).isEqual(a0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Fm(i.timestampValue),a=Fm(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Gp(n.bytesValue).isEqual(Gp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return na(i.geoPointValue.latitude)===na(r.geoPointValue.latitude)&&na(i.geoPointValue.longitude)===na(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return na(i.integerValue)===na(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=na(i.doubleValue),a=na(r.doubleValue);return o===a?s0(o)===s0(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return ui(n.arrayValue.values||[],t.arrayValue.values||[],Ef);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(w1(o)!==w1(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Ef(o[u],a[u])))return!1;return!0}(n,t);default:return Qn()}var r}function gy(n,t){return void 0!==(n.values||[]).find(e=>Ef(e,t))}function Sf(n,t){if(n===t)return 0;const e=km(n),i=km(t);if(e!==i)return zi(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zi(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=na(r.integerValue||r.doubleValue),u=na(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return rI(n.timestampValue,t.timestampValue);case 4:return rI(a0(n),a0(t));case 5:return zi(n.stringValue,t.stringValue);case 6:return function(r,o){const a=Gp(r),u=Gp(o);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const f=zi(a[h],u[h]);if(0!==f)return f}return zi(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=zi(na(r.latitude),na(o.latitude));return 0!==a?a:zi(na(r.longitude),na(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],u=o.values||[];for(let h=0;h<a.length&&h<u.length;++h){const f=Sf(a[h],u[h]);if(f)return f}return zi(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===jp.mapValue&&o===jp.mapValue)return 0;if(r===jp.mapValue)return 1;if(o===jp.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let _=0;_<u.length&&_<f.length;++_){const b=zi(u[_],f[_]);if(0!==b)return b;const F=Sf(a[u[_]],h[f[_]]);if(0!==F)return F}return zi(u.length,f.length)}(n.mapValue,t.mapValue);default:throw Qn()}}function rI(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return zi(n,t);const e=Fm(n),i=Fm(t),r=zi(e.seconds,i.seconds);return 0!==r?r:zi(e.nanos,i.nanos)}function Rm(n){return sI(n)}function sI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Fm(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gp(n.bytesValue).toBase64():"referenceValue"in n?tn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=sI(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${sI(i.fields[u])}`;return o+"}"}(n.mapValue):Qn();var t}function zp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function oI(n){return!!n&&"integerValue"in n}function l0(n){return!!n&&"arrayValue"in n}function my(n){return!!n&&"nullValue"in n}function aI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function I1(n){return!!n&&"mapValue"in n}function D1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Bm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=D1(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=D1(n.arrayValue.values[e]);return t}return Object.assign({},n)}function lI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cI(n){return"nullValue"in n?E1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zp(Mm.empty(),tn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Qn()}function a5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zp(Mm.empty(),tn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?jp:Qn()}function T1(n,t){const e=Sf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function PB(n,t){const e=Sf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ll{constructor(t){this.value=t}static empty(){return new Ll({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!I1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=D1(e)}setAll(t){let e=lo.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=D1(a):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());I1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ef(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];I1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Bm(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ll(D1(this.value))}}function B1(n){const t=[];return Bm(n.fields,(e,i)=>{const r=new lo([e]);if(I1(i)){const o=B1(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new Wc(t)}class Js{constructor(t,e,i,r,o,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Js(t,0,li.min(),li.min(),li.min(),Ll.empty(),0)}static newFoundDocument(t,e,i,r){return new Js(t,1,e,li.min(),i,r,0)}static newNoDocument(t,e){return new Js(t,2,e,li.min(),li.min(),Ll.empty(),0)}static newUnknownDocument(t,e){return new Js(t,3,e,li.min(),li.min(),Ll.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(li.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ll.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ll.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=li.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Js&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qp{constructor(t,e){this.position=t,this.inclusive=e}}function uI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?tn.comparator(tn.fromName(a.referenceValue),e.key):Sf(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function dI(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ef(n.position[e],t.position[e]))return!1;return!0}class c0{constructor(t,e="asc"){this.field=t,this.dir=e}}function l5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class UB{}class xr extends UB{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new jB(t,e,i):"array-contains"===e?new c5(t,i):"in"===e?new ZB(t,i):"not-in"===e?new u5(t,i):"array-contains-any"===e?new d5(t,i):new xr(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new zB(t,i):new qB(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Sf(e,this.value)):null!==e&&km(this.value)===km(e)&&this.matchesComparison(Sf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class us extends UB{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new us(t,e)}matches(t){return hb(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function hb(n){return"and"===n.op}function F1(n){return"or"===n.op}function hI(n){return QB(n)&&hb(n)}function QB(n){for(const t of n.filters)if(t instanceof us)return!1;return!0}function HB(n){if(n instanceof xr)return n.field.canonicalString()+n.op.toString()+Rm(n.value);if(hI(n))return n.filters.map(t=>HB(t)).join(",");{const t=n.filters.map(e=>HB(e)).join(",");return`${n.op}(${t})`}}function VB(n,t){return n instanceof xr?(e=n,(i=t)instanceof xr&&e.op===i.op&&e.field.isEqual(i.field)&&Ef(e.value,i.value)):n instanceof us?function(e,i){return i instanceof us&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,a)=>r&&VB(o,i.filters[a]),!0)}(n,t):void Qn();var e,i}function GB(n,t){const e=n.filters.concat(t);return us.create(e,n.op)}function AI(n){return n instanceof xr?`${(t=n).field.canonicalString()} ${t.op} ${Rm(t.value)}`:n instanceof us?function(t){return t.op.toString()+" {"+t.getFilters().map(AI).join(" ,")+"}"}(n):"Filter";var t}class jB extends xr{constructor(t,e,i){super(t,e,i),this.key=tn.fromName(i.referenceValue)}matches(t){const e=tn.comparator(t.key,this.key);return this.matchesComparison(e)}}class zB extends xr{constructor(t,e){super(t,"in",e),this.keys=KB(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class qB extends xr{constructor(t,e){super(t,"not-in",e),this.keys=KB(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function KB(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tn.fromName(i.referenceValue))}class c5 extends xr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return l0(e)&&gy(e.arrayValue,this.value)}}class ZB extends xr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gy(this.value.arrayValue,e)}}class u5 extends xr{constructor(t,e){super(t,"not-in",e)}matches(t){if(gy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gy(this.value.arrayValue,e)}}class d5 extends xr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!l0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>gy(this.value.arrayValue,i))}}class h5{constructor(t,e=null,i=[],r=[],o=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=u,this.ft=null}}function _y(n,t=null,e=[],i=[],r=null,o=null,a=null){return new h5(n,t,e,i,r,o,a)}function Om(n){const t=En(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>HB(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),lb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Rm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Rm(i)).join(",")),t.ft=e}return t.ft}function u0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!l5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!VB(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dI(n.startAt,t.startAt)&&dI(n.endAt,t.endAt)}function Ab(n){return tn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function fb(n,t){return n.filters.filter(e=>e instanceof xr&&e.field.isEqual(t))}function fI(n,t,e){let i=E1,r=!0;for(const o of fb(n,t)){let a=E1,u=!0;switch(o.op){case"<":case"<=":a=cI(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,u=!1;break;case"!=":case"not-in":a=E1}T1({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];T1({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function pI(n,t,e){let i=jp,r=!0;for(const o of fb(n,t)){let a=jp,u=!0;switch(o.op){case">=":case">":a=a5(o.value),u=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,u=!1;break;case"!=":case"not-in":a=jp}PB({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];PB({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Kp{constructor(t,e=null,i=[],r=[],o=null,a="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.dt=null,this._t=null}}function A5(n,t,e,i,r,o,a,u){return new Kp(n,t,e,i,r,o,a,u)}function yy(n){return new Kp(n)}function gI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function M1(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function _I(n){return null!==n.collectionGroup}function bA(n){const t=En(n);if(null===t.dt){t.dt=[];const e=M1(t),i=mI(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new c0(e)),t.dt.push(new c0(lo.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new c0(lo.keyField(),o))}}}return t.dt}function Jc(n){const t=En(n);if(!t._t)if("F"===t.limitType)t._t=_y(t.path,t.collectionGroup,bA(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of bA(t))e.push(new c0(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new qp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qp(t.startAt.position,t.startAt.inclusive):null;t._t=_y(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function pb(n,t){t.getFirstInequalityField(),M1(n);const e=n.filters.concat([t]);return new Kp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function bd(n,t,e){return new Kp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function gb(n,t){return u0(Jc(n),Jc(t))&&n.limitType===t.limitType}function mb(n){return`${Om(Jc(n))}|lt:${n.limitType}`}function vy(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>AI(i)).join(", ")}]`),lb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Rm(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Rm(i)).join(",")),`Target(${e})`}(Jc(n))}; limitType=${n.limitType})`}function _b(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tn.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of bA(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,a){const u=uI(r,o,a);return r.inclusive?u<=0:u<0}(e.startAt,bA(e),i)||e.endAt&&!function(r,o,a){const u=uI(r,o,a);return r.inclusive?u>=0:u>0}(e.endAt,bA(e),i)));var e,i}function $B(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YB(n){return(t,e)=>{let i=!1;for(const r of bA(n)){const o=k1(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function k1(n,t,e){const i=n.field.isKeyField()?tn.comparator(t.key,e.key):function(r,o,a){const u=o.data.field(r),h=a.data.field(r);return null!==u&&null!==h?Sf(u,h):Qn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Qn()}}class hh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Bm(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return iI(this.inner)}size(){return this.innerSize}}const f5=new ks(tn.comparator);function Nu(){return f5}const yI=new ks(tn.comparator);function d0(...n){let t=yI;for(const e of n)t=t.insert(e.key,e);return t}function R1(n){let t=yI;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function CA(){return yb()}function WB(){return yb()}function yb(){return new hh(n=>n.toString(),(n,t)=>n.isEqual(t))}const LQ=new ks(tn.comparator),vI=new co(tn.comparator);function Yi(...n){let t=vI;for(const e of n)t=t.add(e);return t}const JB=new co(zi);function vb(){return JB}function O1(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s0(t)?"-0":t}}function XB(n){return{integerValue:""+n}}function eF(n,t){return BB(t)?XB(t):O1(n,t)}class L1{constructor(){this._=void 0}}function p5(n,t,e){return n instanceof wy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&x1(r)&&(r=db(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Lm?wI(n,t):n instanceof Nm?nF(n,t):function(i,r){const o=N1(i,r),a=bI(o)+bI(i.wt);return oI(o)&&oI(i.wt)?XB(a):O1(i.serializer,a)}(n,t)}function tF(n,t,e){return n instanceof Lm?wI(n,t):n instanceof Nm?nF(n,t):e}function N1(n,t){return n instanceof by?oI(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class wy extends L1{}class Lm extends L1{constructor(t){super(),this.elements=t}}function wI(n,t){const e=iF(t);for(const i of n.elements)e.some(r=>Ef(r,i))||e.push(i);return{arrayValue:{values:e}}}class Nm extends L1{constructor(t){super(),this.elements=t}}function nF(n,t){let e=iF(t);for(const i of n.elements)e=e.filter(r=>!Ef(r,i));return{arrayValue:{values:e}}}class by extends L1{constructor(t,e){super(),this.serializer=t,this.wt=e}}function bI(n){return na(n.integerValue||n.doubleValue)}function iF(n){return l0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class h0{constructor(t,e){this.field=t,this.transform=e}}class Xc{constructor(t,e){this.version=t,this.transformResults=e}}class ms{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function P1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class U1{}function g5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new g0(n.key,ms.none()):new p0(n.key,n.data,ms.none());{const e=n.data,i=Ll.empty();let r=new co(lo.comparator);for(let o of t.fields)if(!r.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),r=r.add(o)}return new xA(n.key,i,new Wc(r.toArray()),ms.none())}}function NQ(n,t,e){n instanceof p0?function(i,r,o){const a=i.value.clone(),u=CI(i.fieldTransforms,r,o.transformResults);a.setAll(u),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof xA?function(i,r,o){if(!P1(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=CI(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll(oF(i)),u.setAll(a),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function A0(n,t,e,i){return n instanceof p0?function(r,o,a,u){if(!P1(r.precondition,o))return a;const h=r.value.clone(),f=aF(r.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof xA?function(r,o,a,u){if(!P1(r.precondition,o))return a;const h=aF(r.fieldTransforms,u,o),f=o.data;return f.setAll(oF(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(_=>_.field))}(n,t,e,i):(a=e,P1(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function sF(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=N1(i.transform,r||null);null!=o&&(null===e&&(e=Ll.empty()),e.set(i.field,o))}return e||null}function f0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&ui(e,i,(r,o)=>function rF(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Lm&&i instanceof Lm||e instanceof Nm&&i instanceof Nm?ui(e.elements,i.elements,Ef):e instanceof by&&i instanceof by?Ef(e.wt,i.wt):e instanceof wy&&i instanceof wy);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class p0 extends U1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xA extends U1{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function oF(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function CI(n,t,e){const i=new Map;ai(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,u=t.data.field(o.field);i.set(o.field,tF(a,u,e[r]))}return i}function aF(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,p5(o,a,t))}return i}class g0 extends U1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends U1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wb{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&NQ(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=A0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=A0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=WB();return this.mutations.forEach(r=>{const o=t.get(r.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=e.has(r.key)?null:u;const h=g5(a,u);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(li.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Yi())}isEqual(t){return this.batchId===t.batchId&&ui(this.mutations,t.mutations,(e,i)=>f0(e,i))&&ui(this.baseMutations,t.baseMutations,(e,i)=>f0(e,i))}}class Q1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ai(t.mutations.length===i.length);let r=LQ;const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new Q1(t,e,i,r)}}class H1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class EI{constructor(t,e){this.count=t,this.unchangedNames=e}}var cl,Br;function lF(n){switch(n){default:return Qn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function SI(n){if(void 0===n)return pa("GRPC error has no .code"),wt.UNKNOWN;switch(n){case cl.OK:return wt.OK;case cl.CANCELLED:return wt.CANCELLED;case cl.UNKNOWN:return wt.UNKNOWN;case cl.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case cl.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case cl.INTERNAL:return wt.INTERNAL;case cl.UNAVAILABLE:return wt.UNAVAILABLE;case cl.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case cl.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case cl.NOT_FOUND:return wt.NOT_FOUND;case cl.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case cl.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case cl.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case cl.ABORTED:return wt.ABORTED;case cl.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case cl.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case cl.DATA_LOSS:return wt.DATA_LOSS;default:return Qn()}}(Br=cl||(cl={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";class Pm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return G1}static getOrCreateInstance(){return null===G1&&(G1=new Pm),G1}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let G1=null;function II(){return new TextEncoder}const DI=new Xv([4294967295,4294967295],0);function m5(n){const t=II().encode(n),e=new UL;return e.update(t),new Uint8Array(e.digest())}function cF(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Xv([e,i],0),new Xv([r,o],0)]}class uF{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new bb(`Invalid padding: ${e}`);if(i<0)throw new bb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new bb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new bb(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=Xv.fromNumber(this.yt)}Tt(t,e,i){let r=t.add(e.multiply(Xv.fromNumber(i)));return 1===r.compare(DI)&&(r=new Xv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=m5(t),[i,r]=cF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);if(!this.Et(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new uF(o,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.yt)return;const e=m5(t),[i,r]=cF(e);for(let o=0;o<this.hashCount;o++){const a=this.Tt(i,r,o);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class bb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,xb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cb(li.min(),r,new ks(zi),Nu(),Yi())}}class xb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new xb(i,e,Yi(),Yi(),Yi())}}class Eb{constructor(t,e,i,r){this.vt=t,this.removedTargetIds=e,this.key=i,this.Pt=r}}class TI{constructor(t,e){this.targetId=t,this.bt=e}}class dF{constructor(t,e,i=ll.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class BI{constructor(){this.Vt=0,this.St=fF(),this.Dt=ll.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=Yi(),e=Yi(),i=Yi();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Qn()}}),new xb(this.Dt,this.Ct,t,e,i)}$t(){this.xt=!1,this.St=fF()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class hF{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Nu(),this.jt=AF(),this.zt=new ks(zi)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,e=>{const i=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),i.Mt(t.resumeToken));break;default:Qn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach((i,r)=>{this.Zt(r)&&e(r)})}ee(t){var e;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const a=o.target;if(Ab(a))if(0===r){const u=new tn(a.path);this.Jt(i,u,Js.newNoDocument(u,li.min()))}else ai(1===r);else{const u=this.se(i);if(u!==r){const h=this.ie(t,u);0!==h&&(this.te(i),this.zt=this.zt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=Pm.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(f,_,b){var F,B,U,H,Z,z;const W={localCacheCount:_,existenceFilterCount:b.count},fe=b.unchangedNames;return fe&&(W.bloomFilter={applied:0===f,hashCount:null!==(F=fe?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(H=null===(U=null===(B=fe?.bits)||void 0===B?void 0:B.bitmap)||void 0===U?void 0:U.length)&&void 0!==H?H:0,padding:null!==(z=null===(Z=fe?.bits)||void 0===Z?void 0:Z.padding)&&void 0!==z?z:0}),W}(h,u,t.bt))}}}}ie(t,e){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:u=0}=i;let h,f;try{h=Gp(o).toUint8Array()}catch(_){if(_ instanceof NB)return vd("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{f=new uF(h,a,u)}catch(_){return vd(_ instanceof bb?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return 0===f.yt?1:r!==e-this.re(t.targetId,f)?2:0}re(t,e){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const a=this.Kt.oe(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.At(u)||(this.Jt(t,o,null),r++)}),r}ue(t){const e=new Map;this.Gt.forEach((o,a)=>{const u=this.ne(a);if(u){if(o.current&&Ab(u.target)){const h=new tn(u.target.path);null!==this.Qt.get(h)||this.ce(a,h)||this.Jt(a,h,Js.newNoDocument(h,t))}o.kt&&(e.set(a,o.Ot()),o.$t())}});let i=Yi();this.jt.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.ne(h);return!f||"TargetPurposeLimboResolution"===f.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qt.forEach((o,a)=>a.setReadTime(t));const r=new Cb(t,e,this.zt,this.Qt,i);return this.Qt=Nu(),this.jt=AF(),this.zt=new ks(zi),r}Ht(t,e){if(!this.Zt(t))return;const i=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,i),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,e)?r.Ft(e,1):r.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),i&&(this.Qt=this.Qt.insert(e,i))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new BI,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new co(zi),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||en("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new BI),this.Kt.getRemoteKeysForTarget(t).forEach(e=>{this.Jt(t,e,null)})}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function AF(){return new ks(tn.comparator)}function fF(){return new ks(tn.comparator)}const pF={asc:"ASCENDING",desc:"DESCENDING"},_5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gF={and:"AND",or:"OR"};class mF{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function j1(n,t){return n.useProto3Json||lb(t)?t:{value:t}}function Cy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _F(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function y5(n,t){return Cy(n,t.toTimestamp())}function Qa(n){return ai(!!n),li.fromTimestamp(function(t){const e=Fm(t);return new ao(e.seconds,e.nanos)}(n))}function z1(n,t){return(e=n,new Qr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function v5(n){const t=Qr.fromString(n);return ai(D5(t)),t}function q1(n,t){return z1(n.databaseId,t.path)}function Zp(n,t){const e=v5(t);if(e.get(1)!==n.databaseId.projectId)throw new qt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new qt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tn(b5(e))}function yF(n,t){return z1(n.databaseId,t)}function w5(n){const t=v5(n);return 4===t.length?Qr.emptyPath():b5(t)}function K1(n){return new Qr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b5(n){return ai(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function C5(n,t,e){return{name:q1(n,t),fields:e.value.mapValue.fields}}function Sb(n,t,e){const i=Zp(n,t.name),r=Qa(t.updateTime),o=t.createTime?Qa(t.createTime):li.min(),a=new Ll({mapValue:{fields:t.fields}}),u=Js.newFoundDocument(i,r,o,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Um(n,t){let e;if(t instanceof p0)e={update:C5(n,t.key,t.value)};else if(t instanceof g0)e={delete:q1(n,t.key)};else if(t instanceof xA)e={update:C5(n,t.key,t.data),updateMask:QQ(t.fieldMask)};else{if(!(t instanceof xI))return Qn();e={verify:q1(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof wy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof by)return{fieldPath:o.field.canonicalString(),increment:a.wt};throw Qn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:y5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Qn()),e;var r}function Z1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ms.updateTime(Qa(r.updateTime)):void 0!==r.exists?ms.exists(r.exists):ms.none():ms.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let u=null;"setToServerValue"in a?(ai("REQUEST_TIME"===a.setToServerValue),u=new wy):"appendMissingElements"in a?u=new Lm(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Nm(a.removeAllFromArray.values||[]):"increment"in a?u=new by(o,a.increment):Qn();const h=lo.fromServerFormat(a.fieldPath);return new h0(h,u)}(n,r)):[];var r;if(t.update){const r=Zp(n,t.update.name),o=new Ll({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Wc((t.updateMask.fieldPaths||[]).map(f=>lo.fromServerFormat(f)));return new xA(r,o,a,e,i)}return new p0(r,o,e,i)}if(t.delete){const r=Zp(n,t.delete);return new g0(r,e)}if(t.verify){const r=Zp(n,t.verify);return new xI(r,e)}return Qn()}function x5(n,t){return{documents:[yF(n,t.path)]}}function Ib(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=yF(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=yF(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return bF(us.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(h){if(0!==h.length)return h.map(f=>{return{field:Qm((_=f).field),direction:UQ(_.dir)};var _})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=j1(n,t.limit);var u,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function FI(n){let t=w5(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ai(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(_){const b=MI(_);return b instanceof us&&hI(b)?b.getFilters():[b]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(_=>{return new c0($p((b=_).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let u=null;e.limit&&(u=function(_){let b;return b="object"==typeof _?_.value:_,lb(b)?null:b}(e.limit));let h=null;var _;e.startAt&&(h=new qp((_=e.startAt).values||[],!!_.before));let f=null;return e.endAt&&(f=function(_){return new qp(_.values||[],!_.before)}(e.endAt)),A5(t,r,a,o,u,"F",h,f)}function MI(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=$p(t.unaryFilter.field);return xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=$p(t.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$p(t.unaryFilter.field);return xr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$p(t.unaryFilter.field);return xr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qn()}}(n):void 0!==n.fieldFilter?xr.create($p((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return us.create(t.compositeFilter.filters.map(e=>MI(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qn()}}(t.compositeFilter.op))}(n):Qn();var t}function UQ(n){return pF[n]}function S5(n){return _5[n]}function I5(n){return gF[n]}function Qm(n){return{fieldPath:n.canonicalString()}}function $p(n){return lo.fromServerFormat(n.fieldPath)}function bF(n){return n instanceof xr?function(t){if("=="===t.op){if(aI(t.value))return{unaryFilter:{field:Qm(t.field),op:"IS_NAN"}};if(my(t.value))return{unaryFilter:{field:Qm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(aI(t.value))return{unaryFilter:{field:Qm(t.field),op:"IS_NOT_NAN"}};if(my(t.value))return{unaryFilter:{field:Qm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qm(t.field),op:S5(t.op),value:t.value}}}(n):n instanceof us?function(t){const e=t.getFilters().map(i=>bF(i));return 1===e.length?e[0]:{compositeFilter:{op:I5(t.op),filters:e}}}(n):Qn()}function QQ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function D5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hm{constructor(t,e,i,r,o=li.min(),a=li.min(),u=ll.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Hm(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Hm(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class CF{constructor(t){this.le=t}}function xF(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:kI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:q1(r=n.le,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Cy(r,o.version.toTimestamp()),createTime:Cy(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:xy(t.version)};else{if(!t.isUnknownDocument())return Qn();i.unknownDocument={path:e.path.toArray(),version:xy(t.version)}}var r,o;return i}function kI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function xy(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vm(n){const t=new ao(n.seconds,n.nanoseconds);return li.fromTimestamp(t)}function Gm(n,t){const e=(t.baseMutations||[]).map(o=>Z1(n.le,o));for(let o=0;o<t.mutations.length-1;++o){const a=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(a.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Z1(n.le,o)),r=ao.fromMillis(t.localWriteTimeMs);return new wb(t.batchId,r,e,i)}function $1(n){const t=Vm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Vm(n.lastLimboFreeSnapshotVersion):li.min();let i;var r;return void 0!==n.query.documents?(ai(1===(r=n.query).documents.length),i=Jc(yy(w5(r.documents[0])))):i=Jc(FI(n.query)),new Hm(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ll.fromBase64String(n.resumeToken))}function Ah(n,t){const e=xy(t.snapshotVersion),i=xy(t.lastLimboFreeSnapshotVersion);let r;r=Ab(t.target)?x5(n.le,t.target):Ib(n.le,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Om(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function RI(n){const t=FI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bd(t,t.limit,"L"):t}function Db(n,t){return new H1(t.largestBatchId,Z1(n.le,t.overlayMutation))}function EF(n,t){const e=t.path.lastSegment();return[n,Sc(t.path.popLast()),e]}function B5(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:xy(i.readTime),documentKey:Sc(i.documentKey.path),largestBatchId:i.largestBatchId}}class fh{getBundleMetadata(t,e){return SF(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Vm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return SF(t).put({bundleId:(i=e).id,createTime:xy(Qa(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Y1(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:RI(r.bundledQuery),readTime:Vm(r.readTime)};var r})}saveNamedQuery(t,e){return Y1(t).put({name:(i=e).name,readTime:xy(Qa(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SF(n){return Ol(n,"bundles")}function Y1(n){return Ol(n,"namedQueries")}class W1{constructor(t,e){this.serializer=t,this.userId=e}static fe(t,e){return new W1(t,e.uid||"")}getOverlay(t,e){return Tb(t).get(EF(this.userId,e)).next(i=>i?Db(this.serializer,i):null)}getOverlays(t,e){const i=CA();return ht.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,a)=>{const u=new H1(e,a);r.push(this.de(t,u))}),ht.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Sc(a.getCollectionPath())));const o=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(Tb(t).J("collectionPathOverlayIndex",u))}),ht.waitFor(o)}getOverlaysForCollection(t,e,i){const r=CA(),o=Sc(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Tb(t).j("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const f=Db(this.serializer,h);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=CA();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Tb(t).X({index:"collectionGroupOverlayIndex",range:u},(h,f,_)=>{const b=Db(this.serializer,f);o.size()<r||b.largestBatchId===a?(o.set(b.getKey(),b),a=b.largestBatchId):_.done()}).next(()=>o)}de(t,e){return Tb(t).put(function(i,r,o){const[a,u,h]=EF(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Um(i.le,o.mutation)}}(this.serializer,this.userId,e))}}function Tb(n){return Ol(n,"documentOverlays")}class Yp{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(na(t.integerValue));else if("doubleValue"in t){const i=na(t.doubleValue);isNaN(i)?this.ge(e,13):(this.ge(e,15),s0(i)?e.ye(0):e.ye(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ge(e,20),"string"==typeof i?e.pe(i):(e.pe(`${i.seconds||""}`),e.ye(i.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(Gp(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ge(e,45),e.ye(i.latitude||0),e.ye(i.longitude||0)}else"mapValue"in t?lI(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):Qn()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const i=t.fields||{};this.ge(e,55);for(const r of Object.keys(i))this.Ie(r,e),this.we(i[r],e)}ve(t,e){const i=t.values||[];this.ge(e,50);for(const r of i)this.we(r,e)}Ae(t,e){this.ge(e,37),tn.fromName(t).path.forEach(i=>{this.ge(e,60),this.Pe(i,e)})}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}function IF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function OI(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=IF(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Yp.be=new Yp;class F5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Se(i.value),i=e.next();this.De()}Ce(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xe(i.value),i=e.next();this.Ne()}ke(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=e.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=e.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(t){const e=this.$e(t),i=OI(e);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Be(t){const e=this.$e(t),i=OI(e);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(t){this.Fe(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ge(){return this.buffer.slice(0,this.position)}$e(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Se(t){const e=255&t;0===e?(this.qe(0),this.qe(255)):255===e?(this.qe(255),this.qe(0)):this.qe(e)}xe(t){const e=255&t;0===e?(this.Ke(0),this.Ke(255)):255===e?(this.Ke(255),this.Ke(0)):this.Ke(t)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(t){this.Fe(1),this.buffer[this.position++]=t}Ke(t){this.Fe(1),this.buffer[this.position++]=~t}Fe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class DF{constructor(t){this.Qe=t}Ee(t){this.Qe.Ve(t)}pe(t){this.Qe.ke(t)}ye(t){this.Qe.Oe(t)}me(){this.Qe.Le()}}class TF{constructor(t){this.Qe=t}Ee(t){this.Qe.Ce(t)}pe(t){this.Qe.Me(t)}ye(t){this.Qe.Be(t)}me(){this.Qe.Ue()}}class Bb{constructor(){this.Qe=new F5,this.je=new DF(this.Qe),this.ze=new TF(this.Qe)}seed(t){this.Qe.seed(t)}We(t){return 0===t?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class jm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}He(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new jm(this.indexId,this.documentKey,this.arrayValue,i)}}function zm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=J1(n.arrayValue,t.arrayValue),0!==e?e:(e=J1(n.directionalValue,t.directionalValue),0!==e?e:tn.comparator(n.documentKey,t.documentKey)))}function J1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class qm{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(t){ai(t.collectionGroup===this.collectionId);const e=_1(t);if(void 0!==e&&!this.tn(e))return!1;const i=Dm(t);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const a=i[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[o++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(o>=this.Je.length||!this.nn(this.Je[o++],a))return!1}return!0}tn(t){for(const e of this.Ye)if(this.en(e,t))return!0;return!1}en(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}nn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function LI(n){var t,e;if(ai(n instanceof xr||n instanceof us),n instanceof xr){if(n instanceof ZB){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>xr.create(n.field,"==",o)))||[];return us.create(r,"or")}return n}const i=n.filters.map(r=>LI(r));return us.create(i,n.op)}function NI(n){if(0===n.getFilters().length)return[];const t=UI(LI(n));return ai(M5(t)),EA(t)||PI(t)?[t]:t.getFilters()}function EA(n){return n instanceof xr}function PI(n){return n instanceof us&&hI(n)}function M5(n){return EA(n)||PI(n)||function(t){if(t instanceof us&&F1(t)){for(const e of t.getFilters())if(!EA(e)&&!PI(e))return!1;return!0}return!1}(n)}function UI(n){if(ai(n instanceof xr||n instanceof us),n instanceof xr)return n;if(1===n.filters.length)return UI(n.filters[0]);const t=n.filters.map(i=>UI(i));let e=us.create(t,n.op);return e=X1(e),M5(e)?e:(ai(e instanceof us),ai(hb(e)),ai(e.filters.length>1),e.filters.reduce((i,r)=>QI(i,r)))}function QI(n,t){let e;return ai(n instanceof xr||n instanceof us),ai(t instanceof xr||t instanceof us),e=n instanceof xr?t instanceof xr?us.create([n,t],"and"):BF(n,t):t instanceof xr?BF(t,n):function(i,r){if(ai(i.filters.length>0&&r.filters.length>0),hb(i)&&hb(r))return GB(i,r.getFilters());const o=F1(i)?i:r,a=F1(i)?r:i,u=o.filters.map(h=>QI(h,a));return us.create(u,"or")}(n,t),X1(e)}function BF(n,t){if(hb(t))return GB(t,n.getFilters());{const e=t.filters.map(i=>QI(n,i));return us.create(e,"or")}}function X1(n){if(ai(n instanceof xr||n instanceof us),n instanceof xr)return n;const t=n.getFilters();if(1===t.length)return X1(t[0]);if(QB(n))return n;const e=t.map(r=>X1(r)),i=[];return e.forEach(r=>{r instanceof xr?i.push(r):r instanceof us&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:us.create(i,n.op)}class FF{constructor(){this.sn=new MF}addToCollectionParentIndex(t,e){return this.sn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(wd.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(wd.min())}updateCollectionGroup(t,e,i){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class MF{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new co(Qr.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new co(Qr.comparator)).toArray()}}const Fb=new Uint8Array(0);class k5{constructor(t,e){this.user=t,this.databaseId=e,this.rn=new MF,this.on=new hh(i=>Om(i),(i,r)=>u0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.rn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.rn.add(e)});const o={collectionId:i,parent:Sc(r)};return HI(t).put(o)}return ht.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[bB(e),""],!1,!0);return HI(t).j(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(Vp(a.parent))}return i})}addFieldIndex(t,e){const i=m0(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const a=_0(t);return o.next(u=>{a.put(B5(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=m0(t),r=_0(t),o=ex(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ex(t);let r=!0;const o=new Map;return ht.forEach(this.un(e),a=>this.cn(t,a).next(u=>{r&&(r=!!u),o.set(a,u)})).next(()=>{if(r){let a=Yi();const u=[];return ht.forEach(o,(h,f)=>{var _;en("IndexedDbIndexManager",`Using index ${_=h,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(fe=>`${fe.fieldPath}:${fe.kind}`).join(",")}`} to execute ${Om(e)}`);const b=function(fe,De){const Ye=_1(De);if(void 0===Ye)return null;for(const ct of fb(fe,Ye.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null}(f,h),F=function(fe,De){const Ye=new Map;for(const ct of Dm(De))for(const Ke of fb(fe,ct.fieldPath))switch(Ke.op){case"==":case"in":Ye.set(ct.fieldPath.canonicalString(),Ke.value);break;case"not-in":case"!=":return Ye.set(ct.fieldPath.canonicalString(),Ke.value),Array.from(Ye.values())}return null}(f,h),B=function(fe,De){const Ye=[];let ct=!0;for(const Ke of Dm(De)){const xe=0===Ke.kind?fI(fe,Ke.fieldPath,fe.startAt):pI(fe,Ke.fieldPath,fe.startAt);Ye.push(xe.value),ct&&(ct=xe.inclusive)}return new qp(Ye,ct)}(f,h),U=function(fe,De){const Ye=[];let ct=!0;for(const Ke of Dm(De)){const xe=0===Ke.kind?pI(fe,Ke.fieldPath,fe.endAt):fI(fe,Ke.fieldPath,fe.endAt);Ye.push(xe.value),ct&&(ct=xe.inclusive)}return new qp(Ye,ct)}(f,h),H=this.an(h,f,B),Z=this.an(h,f,U),z=this.hn(h,f,F),W=this.ln(h.indexId,b,H,B.inclusive,Z,U.inclusive,z);return ht.forEach(W,fe=>i.H(fe,e.limit).next(De=>{De.forEach(Ye=>{const ct=tn.fromSegments(Ye.documentKey);a.has(ct)||(a=a.add(ct),u.push(ct))})}))}).next(()=>u)}return ht.resolve(null)})}un(t){let e=this.on.get(t);return e||(e=0===t.filters.length?[t]:NI(us.create(t.filters,"and")).map(i=>_y(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.on.set(t,e),e)}ln(t,e,i,r,o,a,u){const h=(null!=e?e.length:1)*Math.max(i.length,o.length),f=h/(null!=e?e.length:1),_=[];for(let b=0;b<h;++b){const F=e?this.fn(e[b/f]):Fb,B=this.dn(t,F,i[b%f],r),U=this._n(t,F,o[b%f],a),H=u.map(Z=>this.dn(t,F,Z,!0));_.push(...this.createRange(B,U,H))}return _}dn(t,e,i,r){const o=new jm(t,tn.empty(),e,i);return r?o:o.He()}_n(t,e,i,r){const o=new jm(t,tn.empty(),e,i);return r?o.He():o}cn(t,e){const i=new qm(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let a=null;for(const u of o)i.Ze(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.un(e);return ht.forEach(r,o=>this.cn(t,o).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new co(lo.comparator),f=!1;for(const _ of u.filters)for(const b of _.getFlattenedFilters())b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?f=!0:h=h.add(b.field));for(const _ of u.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(f?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}wn(t,e){const i=new Bb;for(const r of Dm(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const a=i.We(r.kind);Yp.be._e(o,a)}return i.Ge()}fn(t){const e=new Bb;return Yp.be._e(t,e.We(0)),e.Ge()}mn(t,e){const i=new Bb;return Yp.be._e(zp(this.databaseId,e),i.We(function(r){const o=Dm(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ge()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Bb);let o=0;for(const a of Dm(t)){const u=i[o++];for(const h of r)if(this.gn(e,a.fieldPath)&&l0(u))r=this.yn(r,a,u);else{const f=h.We(a.kind);Yp.be._e(u,f)}}return this.pn(r)}an(t,e,i){return this.hn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ge();return e}yn(t,e,i){const r=[...t],o=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new Bb;h.seed(u.Ge()),Yp.be._e(a,h.We(e.kind)),o.push(h)}return o}gn(t,e){return!!t.filters.find(i=>i instanceof xr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=m0(t),r=_0(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const a=[];return ht.forEach(o,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(f,_){const b=_?new n0(_.sequenceNumber,new wd(Vm(_.readTime),new tn(Vp(_.documentKey)),_.largestBatchId)):n0.empty(),F=f.fields.map(([B,U])=>new rb(lo.fromServerFormat(B),U));return new YS(f.indexId,f.collectionGroup,F,b)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:zi(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=m0(t),o=_0(t);return this.In(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ht.forEach(u,h=>o.put(B5(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return ht.forEach(e,(r,o)=>{const a=i.get(r.collectionGroup);return(a?ht.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ht.forEach(u,h=>this.Tn(t,r,h).next(f=>{const _=this.En(o,h);return f.isEqual(_)?ht.resolve():this.An(t,o,h,f,_)}))))})}Rn(t,e,i,r){return ex(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return ex(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}Tn(t,e,i){const r=ex(t);let o=new co(zm);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(a,u)=>{o=o.add(new jm(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}En(t,e){let i=new co(zm);const r=this.wn(e,t);if(null==r)return i;const o=_1(e);if(null!=o){const a=t.data.field(o.fieldPath);if(l0(a))for(const u of a.arrayValue.values||[])i=i.add(new jm(e.indexId,t.key,this.fn(u),r))}else i=i.add(new jm(e.indexId,t.key,Fb,r));return i}An(t,e,i,r,o){en("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,h,f,_,b){const F=u.getIterator(),B=h.getIterator();let U=o0(F),H=o0(B);for(;U||H;){let Z=!1,z=!1;if(U&&H){const W=f(U,H);W<0?z=!0:W>0&&(Z=!0)}else null!=U?z=!0:Z=!0;Z?(_(H),H=o0(B)):z?(b(U),U=o0(F)):(U=o0(F),H=o0(B))}}(r,o,zm,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.vn(t,e,i,u))}),ht.waitFor(a)}In(t){let e=1;return _0(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>zm(a,u)).filter((a,u,h)=>!u||0!==zm(a,h[u-1]));const r=[];r.push(t);for(const a of i){const u=zm(a,t),h=zm(a,e);if(0===u)r[0]=t.He();else if(u>0&&h<0)r.push(a),r.push(a.He());else if(h>0)break}r.push(e);const o=[];for(let a=0;a<r.length;a+=2){if(this.Pn(r[a],r[a+1]))return[];o.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,Fb,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,Fb,[]]))}return o}Pn(t,e){return zm(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(VI)}getMinOffset(t,e){return ht.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||Qn())).next(VI)}}function HI(n){return Ol(n,"collectionParents")}function ex(n){return Ol(n,"indexEntries")}function m0(n){return Ol(n,"indexConfiguration")}function _0(n){return Ol(n,"indexState")}function VI(n){ai(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;JS(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new wd(t.readTime,t.documentKey,e)}const GI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rc{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new rc(t,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jI(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let u=0;const h=i.X({range:a},(_,b,F)=>(u++,F.delete()));o.push(h.next(()=>{ai(1===u)}));const f=[];for(const _ of e.mutations){const b=KL(t,_.key.path,e.batchId);o.push(r.delete(b)),f.push(_.key)}return ht.waitFor(o).next(()=>f)}function Ey(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Qn();t=n.noDocument}return JSON.stringify(t).length}rc.DEFAULT_COLLECTION_PERCENTILE=10,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rc.DEFAULT=new rc(41943040,rc.DEFAULT_COLLECTION_PERCENTILE,rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rc.DISABLED=new rc(-1,0,0);class Sy{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(t,e,i,r){ai(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new Sy(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Km(t).X({index:"userMutationsIndex",range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=y0(t),a=Km(t);return a.add({}).next(u=>{ai("number"==typeof u);const h=new wb(u,e,i,r),f=function(F,B,U){const H=U.baseMutations.map(z=>Um(F.le,z)),Z=U.mutations.map(z=>Um(F.le,z));return{userId:B,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:H,mutations:Z}}(this.serializer,this.userId,h),_=[];let b=new co((F,B)=>zi(F.canonicalString(),B.canonicalString()));for(const F of r){const B=KL(this.userId,F.key.path,u);b=b.add(F.key.path.popLast()),_.push(a.put(f)),_.push(o.put(B,FB))}return b.forEach(F=>{_.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.bn[u]=h.keys()}),ht.waitFor(_).next(()=>h)})}lookupMutationBatch(t,e){return Km(t).get(e).next(i=>i?(ai(i.userId===this.userId),Gm(this.serializer,i)):null)}Vn(t,e){return this.bn[e]?ht.resolve(this.bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.bn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Km(t).X({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(ai(u.batchId>=i),o=Gm(this.serializer,u)),h.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Km(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Km(t).j("userMutationsIndex",e).next(i=>i.map(r=>Gm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=tI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return y0(t).X({range:r},(a,u,h)=>{const[f,_,b]=a,F=Vp(_);if(f===this.userId&&e.path.isEqual(F))return Km(t).get(b).next(B=>{if(!B)throw Qn();ai(B.userId===this.userId),o.push(Gm(this.serializer,B))});h.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new co(zi);const r=[];return e.forEach(o=>{const a=tI(this.userId,o.path),u=IDBKeyRange.lowerBound(a),h=y0(t).X({range:u},(f,_,b)=>{const[F,B,U]=f,H=Vp(B);F===this.userId&&o.path.isEqual(H)?i=i.add(U):b.done()});r.push(h)}),ht.waitFor(r).next(()=>this.Sn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=tI(this.userId,i),a=IDBKeyRange.lowerBound(o);let u=new co(zi);return y0(t).X({range:a},(h,f,_)=>{const[b,F,B]=h,U=Vp(F);b===this.userId&&i.isPrefixOf(U)?U.length===r&&(u=u.add(B)):_.done()}).next(()=>this.Sn(t,u))}Sn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Km(t).get(o).next(a=>{if(null===a)throw Qn();ai(a.userId===this.userId),i.push(Gm(this.serializer,a))}))}),ht.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return jI(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Dn(e.batchId)}),ht.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Dn(t){delete this.bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ht.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return y0(t).X({range:i},(o,a,u)=>{if(o[0]===this.userId){const h=Vp(o[1]);r.push(h)}else u.done()}).next(()=>{ai(0===r.length)})})}containsKey(t,e){return zI(t,this.userId,e)}Cn(t){return kF(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zI(n,t,e){const i=tI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return y0(n).X({range:o,Y:!0},(u,h,f)=>{const[_,b,F]=u;_===t&&b===r&&(a=!0),f.done()}).next(()=>a)}function Km(n){return Ol(n,"mutations")}function y0(n){return Ol(n,"documentMutations")}function kF(n){return Ol(n,"mutationQueues")}class v0{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new v0(0)}static kn(){return new v0(-1)}}class HQ{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Mn(t).next(e=>{const i=new v0(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Mn(t).next(e=>li.fromTimestamp(new ao(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Mn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Mn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.$n(t,e).next(()=>this.Mn(t).next(i=>(i.targetCount+=1,this.Fn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.$n(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Iy(t).delete(e.targetId)).next(()=>this.Mn(t)).next(i=>(ai(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Iy(t).X((a,u)=>{const h=$1(u);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,o.push(this.removeTargetData(t,h)))}).next(()=>ht.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Iy(t).X((i,r)=>{const o=$1(r);e(o)})}Mn(t){return RF(t).get("targetGlobalKey").next(e=>(ai(null!==e),e))}On(t,e){return RF(t).put("targetGlobalKey",e)}$n(t,e){return Iy(t).put(Ah(this.serializer,e))}Fn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Mn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Om(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Iy(t).X({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const f=$1(u);u0(e,f.target)&&(o=f,h.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Zm(t);return e.forEach(a=>{const u=Sc(a.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),ht.waitFor(r)}removeMatchingKeys(t,e,i){const r=Zm(t);return ht.forEach(e,o=>{const a=Sc(o.path);return ht.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Zm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Zm(t);let o=Yi();return r.X({range:i,Y:!0},(a,u,h)=>{const f=Vp(a[1]),_=new tn(f);o=o.add(_)}).next(()=>o)}containsKey(t,e){const i=Sc(e.path),r=IDBKeyRange.bound([i],[bB(i)],!1,!0);let o=0;return Zm(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],h,f)=>{0!==a&&(o++,f.done())}).next(()=>o>0)}he(t,e){return Iy(t).get(e).next(i=>i?$1(i):null)}}function Iy(n){return Ol(n,"targets")}function RF(n){return Ol(n,"targetGlobal")}function Zm(n){return Ol(n,"targetDocuments")}function OF([n,t],[e,i]){const r=zi(n,e);return 0===r?zi(t,i):r}class VQ{constructor(t){this.Bn=t,this.buffer=new co(OF),this.Ln=0}qn(){return++this.Ln}Un(t){const e=[t,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();OF(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class R5{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(t){var e=this;en("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,It.Z)(function*(){e.Kn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){dh(i)?en("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tm(i)}yield e.Gn(3e5)}))}}class GQ{constructor(t,e){this.Qn=t,this.params=e}calculateTargetCount(t,e){return this.Qn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ht.resolve(Lu.ct);const i=new VQ(e);return this.Qn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Qn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Qn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(GI)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GI):this.Wn(t,e))}getCacheSize(t){return this.Qn.getCacheSize(t)}Wn(t,e){let i,r,o,a,u,h,f;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(en("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,a=Date.now(),this.nthSequenceNumber(t,r))).next(b=>(i=b,u=Date.now(),this.removeTargets(t,i,e))).next(b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(f=Date.now(),qS()<=pA.in.DEBUG&&en("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-_}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${o} targets in `+(h-u)+`ms\n\tRemoved ${b} documents in `+(f-h)+`ms\nTotal Duration: ${f-_}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:b})))}}class jQ{constructor(t,e){this.db=t,this.garbageCollector=function O5(n,t){return new GQ(n,t)}(this,e)}jn(t){const e=this.Hn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Hn(t){let e=0;return this.zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}zn(t,e){return this.Jn(t,(i,r)=>e(r))}addReference(t,e,i){return tx(t,i)}removeReference(t,e,i){return tx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return tx(t,e)}Yn(t,e){return function(i,r){let o=!1;return kF(i).Z(a=>zI(i,a,r).next(u=>(u&&(o=!0),ht.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(t,(a,u)=>{if(u<=e){const h=this.Yn(t,a).next(f=>{if(!f)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,li.min()),Zm(t).delete([0,Sc(a.path)])))});r.push(h)}}).next(()=>ht.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return tx(t,e)}Jn(t,e){const i=Zm(t);let r,o=Lu.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:f})=>{0===a?(o!==Lu.ct&&e(new tn(Vp(r)),o),o=f,r=h):o=Lu.ct}).next(()=>{o!==Lu.ct&&e(new tn(Vp(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function tx(n,t){return Zm(n).put((i=n.currentSequenceNumber,{targetId:0,path:Sc(t.path),sequenceNumber:i}));var i}class Mb{constructor(){this.changes=new hh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Js.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ht.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class L5{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ym(t).put(i)}removeEntry(t,e,i){return Ym(t).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],kI(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Xn(t,i)))}getEntry(t,e){let i=Js.newInvalidDocument(e);return Ym(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Dy(e))},(r,o)=>{i=this.Zn(e,o)}).next(()=>i)}ts(t,e){let i={size:0,document:Js.newInvalidDocument(e)};return Ym(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Dy(e))},(r,o)=>{i={document:this.Zn(e,o),size:Ey(o)}}).next(()=>i)}getEntries(t,e){let i=Nu();return this.es(t,e,(r,o)=>{const a=this.Zn(r,o);i=i.insert(r,a)}).next(()=>i)}ns(t,e){let i=Nu(),r=new ks(tn.comparator);return this.es(t,e,(o,a)=>{const u=this.Zn(o,a);i=i.insert(o,u),r=r.insert(o,Ey(a))}).next(()=>({documents:i,ss:r}))}es(t,e,i){if(e.isEmpty())return ht.resolve();let r=new co(PF);e.forEach(h=>r=r.add(h));const o=IDBKeyRange.bound(Dy(r.first()),Dy(r.last())),a=r.getIterator();let u=a.getNext();return Ym(t).X({index:"documentKeyIndex",range:o},(h,f,_)=>{const b=tn.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&PF(u,b)<0;)i(u,null),u=a.getNext();u&&u.isEqual(b)&&(i(u,f),u=a.hasNext()?a.getNext():null),u?_.G(Dy(u)):_.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),kI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ym(t).j(IDBKeyRange.bound(a,u,!0)).next(h=>{let f=Nu();for(const _ of h){const b=this.Zn(tn.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);b.isFoundDocument()&&(_b(e,b)||r.has(b.key))&&(f=f.insert(b.key,b))}return f})}getAllFromCollectionGroup(t,e,i,r){let o=Nu();const a=nx(e,i),u=nx(e,wd.max());return Ym(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,f,_)=>{const b=this.Zn(tn.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(b.key,b),o.size===r&&_.done()}).next(()=>o)}newChangeBuffer(t){return new NF(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return $m(t).get("remoteDocumentGlobalKey").next(e=>(ai(!!e),e))}Xn(t,e){return $m(t).put("remoteDocumentGlobalKey",e)}Zn(t,e){if(e){const i=function T5(n,t){let e;if(t.document)e=Sb(n.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tn.fromSegments(t.noDocument.path),r=Vm(t.noDocument.readTime);e=Js.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qn();{const i=tn.fromSegments(t.unknownDocument.path),r=Vm(t.unknownDocument.version);e=Js.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ao(i[0],i[1]);return li.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(li.min()))return i}return Js.newInvalidDocument(t)}}function LF(n){return new L5(n)}class NF extends Mb{constructor(t,e){super(),this.rs=t,this.trackRemovals=e,this.os=new hh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new co((o,a)=>zi(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const u=this.os.get(o);if(e.push(this.rs.removeEntry(t,o,u.readTime)),a.isValidDocument()){const h=xF(this.rs.serializer,a);r=r.add(o.path.popLast());const f=Ey(h);i+=f-u.size,e.push(this.rs.addEntry(t,o,h))}else if(i-=u.size,this.trackRemovals){const h=xF(this.rs.serializer,a.convertToNoDocument(li.min()));e.push(this.rs.addEntry(t,o,h))}}),r.forEach(o=>{e.push(this.rs.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.rs.updateMetadata(t,i)),ht.waitFor(e)}getFromCache(t,e){return this.rs.ts(t,e).next(i=>(this.os.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.rs.ns(t,e).next(({documents:i,ss:r})=>(r.forEach((o,a)=>{this.os.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function $m(n){return Ol(n,"remoteDocumentGlobal")}function Ym(n){return Ol(n,"remoteDocumentsV14")}function Dy(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nx(n,t){const e=t.documentKey.path.toArray();return[n,kI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function PF(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=zi(e[o],i[o]),r)return r;return r=zi(e.length,i.length),r||(r=zi(e[e.length-2],i[i.length-2]),r||zi(e[e.length-1],i[i.length-1]))}class qI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ix{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&A0(i.mutation,r,Wc.empty(),ao.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Yi()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Yi()){const r=CA();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let a=d0();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=CA();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Yi()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let o=Nu();const a=yb(),u=yb();return e.forEach((h,f)=>{const _=i.get(f.key);r.has(f.key)&&(void 0===_||_.mutation instanceof xA)?o=o.insert(f.key,f):void 0!==_?(a.set(f.key,_.mutation.getFieldMask()),A0(_.mutation,f,_.mutation.getFieldMask(),ao.now())):a.set(f.key,Wc.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,_)=>a.set(f,_)),e.forEach((f,_)=>{var b;return u.set(f,new qI(_,null!==(b=a.get(f))&&void 0!==b?b:null))}),u))}recalculateAndSaveOverlays(t,e){const i=yb();let r=new ks((a,u)=>a-u),o=Yi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=e.get(h);if(null===f)return;let _=i.get(h)||Wc.empty();_=u.applyToLocalView(f,_),i.set(h,_);const b=(r.get(u.batchId)||Yi()).add(h);r=r.insert(u.batchId,b)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,_=h.value,b=WB();_.forEach(F=>{if(!o.has(F)){const B=g5(e.get(F),i.get(F));null!==B&&b.set(F,B),o=o.add(F)}}),a.push(this.documentOverlayCache.saveOverlays(t,f,b))}return ht.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tn.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):_I(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ht.resolve(CA());let u=-1,h=o;return a.next(f=>ht.forEach(f,(_,b)=>(u<b.largestBatchId&&(u=b.largestBatchId),o.get(_)?ht.resolve():this.remoteDocumentCache.getEntry(t,_).next(F=>{h=h.insert(_,F)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,Yi())).next(_=>({batchId:u,changes:R1(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tn(e)).next(i=>{let r=d0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=d0();return this.indexManager.getCollectionParents(t,r).next(a=>ht.forEach(a,u=>{const h=(f=e,_=u.child(r),new Kp(_,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,_;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(f=>{f.forEach((_,b)=>{o=o.insert(_,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,h)=>{const f=h.getKey();null===o.get(f)&&(o=o.insert(f,Js.newInvalidDocument(f)))});let a=d0();return o.forEach((u,h)=>{const f=r.get(u);void 0!==f&&A0(f.mutation,h,Wc.empty(),ao.now()),_b(e,h)&&(a=a.insert(u,h))}),a})}}class rx{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return ht.resolve(this.us.get(e))}saveBundleMetadata(t,e){var i;return this.us.set(e.id,{id:(i=e).id,version:i.version,createTime:Qa(i.createTime)}),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,{name:(i=e).name,query:RI(i.bundledQuery),readTime:Qa(i.readTime)}),ht.resolve();var i}}class zQ{constructor(){this.overlays=new ks(tn.comparator),this.hs=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const i=CA();return ht.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.de(t,e,o)}),ht.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),ht.resolve()}getOverlaysForCollection(t,e,i){const r=CA(),o=e.length+1,a=new tn(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return ht.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ks((f,_)=>f-_);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let _=o.get(f.largestBatchId);null===_&&(_=CA(),o=o.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}const u=CA(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,_)=>u.set(f,_)),!(u.size()>=r)););return ht.resolve(u)}de(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new H1(e,i));let o=this.hs.get(e);void 0===o&&(o=Yi(),this.hs.set(e,o)),this.hs.set(e,o.add(i.key))}}class UF{constructor(){this.ls=new co(sc.fs),this.ds=new co(sc._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const i=new sc(t,e);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gs(new sc(t,e))}ys(t,e){t.forEach(i=>this.removeReference(i,e))}ps(t){const e=new tn(new Qr([])),i=new sc(e,t),r=new sc(e,t+1),o=[];return this.ds.forEachInRange([i,r],a=>{this.gs(a),o.push(a.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new tn(new Qr([])),i=new sc(e,t),r=new sc(e,t+1);let o=Yi();return this.ds.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new sc(t,0),i=this.ls.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class sc{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return tn.comparator(t.key,e.key)||zi(t.Es,e.Es)}static _s(t,e){return zi(t.Es,e.Es)||tn.comparator(t.key,e.key)}}class qQ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new co(sc.fs)}checkEmpty(t){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.As;this.As++;const a=new wb(o,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new sc(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ht.resolve(a)}lookupMutationBatch(t,e){return ht.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ps(e+1),o=r<0?0:r;return ht.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sc(e,0),r=new sc(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.vs(a.Es);o.push(u)}),ht.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new co(zi);return e.forEach(r=>{const o=new sc(r,0),a=new sc(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],u=>{i=i.add(u.Es)})}),ht.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;tn.isDocumentKey(o)||(o=o.child(""));const a=new sc(new tn(o),0);let u=new co(zi);return this.Rs.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Es)),!0)},a),ht.resolve(this.bs(u))}bs(t){const e=[];return t.forEach(i=>{const r=this.vs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ai(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ht.forEach(e.mutations,r=>{const o=new sc(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,e){const i=new sc(e,0),r=this.Rs.firstAfterOrEqual(i);return ht.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ht.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class QF{constructor(t){this.Ss=t,this.docs=new ks(tn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.Ss(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ht.resolve(i?i.document.mutableCopy():Js.newInvalidDocument(e))}getEntries(t,e){let i=Nu();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Js.newInvalidDocument(r))}),ht.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Nu();const a=e.path,u=new tn(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:_}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||JS(xB(_),i)<=0||(r.has(_.key)||_b(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return ht.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Qn()}Ds(t,e){return ht.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new N5(this)}getSize(t){return ht.resolve(this.size)}}class N5 extends Mb{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),ht.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}class P5{constructor(t){this.persistence=t,this.Cs=new hh(e=>Om(e),u0),this.lastRemoteSnapshotVersion=li.min(),this.highestTargetId=0,this.xs=0,this.Ns=new UF,this.targetCount=0,this.ks=v0.Nn()}forEachTarget(t,e){return this.Cs.forEach((i,r)=>e(r)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.xs&&(this.xs=e),ht.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new v0(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.$n(e),ht.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Cs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.Cs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ht.waitFor(o).next(()=>r)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const i=this.Cs.get(e)||null;return ht.resolve(i)}addMatchingKeys(t,e,i){return this.Ns.ws(e,i),ht.resolve()}removeMatchingKeys(t,e,i){this.Ns.ys(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),ht.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ns.Ts(e);return ht.resolve(i)}containsKey(t,e){return ht.resolve(this.Ns.containsKey(e))}}class KI{constructor(t,e){this.Ms={},this.overlays={},this.Os=new Lu(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new P5(this),this.indexManager=new FF,this.remoteDocumentCache=new QF(i=>this.referenceDelegate.Bs(i)),this.serializer=new CF(e),this.Ls=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zQ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ms[t.toKey()];return i||(i=new qQ(e,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,i){en("MemoryPersistence","Starting transaction:",t);const r=new U5(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,e){return ht.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,e)))}}class U5 extends EB{constructor(t){super(),this.currentSequenceNumber=t}}class kb{constructor(t){this.persistence=t,this.Gs=new UF,this.Qs=null}static js(t){return new kb(t)}get zs(){if(this.Qs)return this.Qs;throw Qn()}addReference(t,e,i){return this.Gs.addReference(i,e),this.zs.delete(i.toString()),ht.resolve()}removeReference(t,e,i){return this.Gs.removeReference(i,e),this.zs.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.zs,i=>{const r=tn.fromPath(i);return this.Ws(t,r).next(o=>{o||e.removeEntry(r,li.min())})}).next(()=>(this.Qs=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ws(t,e).next(i=>{i?this.zs.delete(e.toString()):this.zs.add(e.toString())})}Bs(t){return 0}Ws(t,e){return ht.or([()=>ht.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}class HF{constructor(t){this.serializer=t}$(t,e,i,r){const o=new sb("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qL,{unique:!0}),u.createObjectStore("documentMutations"),VF(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=ht.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),VF(t)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:li.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",f)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").j().next(f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qL,{unique:!0});const _=h.store("mutations"),b=f.map(F=>_.put(F));return ht.waitFor(b)})}(t,o))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Js(o))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Ys(o)))),i<7&&r>=7&&(a=a.next(()=>this.Xs(o))),i<8&&r>=8&&(a=a.next(()=>this.Zs(t,o))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ti(o))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:t5});h.createIndex("collectionPathOverlayIndex",n5,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",ub,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:y1});h.createIndex("documentKeyIndex",ZL),h.createIndex("collectionGroupIndex",$L)}(t)).next(()=>this.ei(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.ni(t,o))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:JL}).createIndex("sequenceNumberIndex",XL,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:e5}).createIndex("documentKeyIndex",kB,{unique:!1})}(t))),a}Ys(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=Ey(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ht.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>ht.forEach(u,h=>{ai(h.userId===o.userId);const f=Gm(this.serializer,h);return jI(t,o.userId,f).next(()=>{})}))}))}Xs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((a,u)=>{const h=new Qr(a),f=[0,Sc(h)];o.push(e.get(f).next(_=>_?ht.resolve():e.put({targetId:0,path:Sc(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ht.waitFor(o))})}Zs(t,e){t.createObjectStore("collectionParents",{keyPath:WL});const i=e.store("collectionParents"),r=new MF,o=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:Sc(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const h=new Qr(a);return o(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,h],f)=>{const _=Vp(u);return o(_.popLast())}))}ti(t){const e=t.store("targets");return e.X((i,r)=>{const o=$1(r),a=Ah(this.serializer,o);return e.put(a)})}ei(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,a)=>{const u=e.store("remoteDocumentsV14"),h=(f=a,f.document?new tn(Qr.fromString(f.document.name).popFirst(5)):f.noDocument?tn.fromSegments(f.noDocument.path):f.unknownDocument?tn.fromSegments(f.unknownDocument.path):Qn()).path.toArray();var f;const _={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(_))}).next(()=>ht.waitFor(r))}ni(t,e){const i=e.store("mutations"),r=LF(this.serializer),o=new KI(kb.js,this.serializer.le);return i.j().next(a=>{const u=new Map;return a.forEach(h=>{var f;let _=null!==(f=u.get(h.userId))&&void 0!==f?f:Yi();Gm(this.serializer,h).keys().forEach(b=>_=_.add(b)),u.set(h.userId,_)}),ht.forEach(u,(h,f)=>{const _=new Rl(f),b=W1.fe(this.serializer,_),F=o.getIndexManager(_),B=Sy.fe(_,this.serializer,F,o.referenceDelegate);return new ix(r,B,b,F).recalculateAndSaveOverlaysForDocumentKeys(new v1(e,Lu.ct),h).next()})})}}function VF(n){n.createObjectStore("targetDocuments",{keyPath:cb}).createIndex("documentTargetsIndex",YL,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MB,{unique:!0}),n.createObjectStore("targetGlobal")}const ZI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sx{constructor(t,e,i,r,o,a,u,h,f,_,b=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=a,this.document=u,this.ii=f,this.ri=_,this.oi=b,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!sx.D())throw new qt(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jQ(this,r),this.fi=e+"main",this.serializer=new CF(h),this.di=new uh(this.fi,this.oi,new HF(this.serializer)),this.Fs=new HQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LF(this.serializer),this.Ls=new fh,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===_&&pa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qt(wt.FAILED_PRECONDITION,ZI);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Fs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Lu(t,this.ii)}).then(()=>{this.$s=!0}).catch(t=>(this.di&&this.di.close(),Promise.reject(t)))}pi(t){var e=this;return this.li=function(){var i=(0,It.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.di.B(function(){var e=(0,It.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,It.Z)(function*(){e.started&&(yield e.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>$I(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(t)).next(e=>this.isPrimary&&!e?this.Ei(t).next(()=>!1):!!e&&this.Ai(t).next(()=>!0))).catch(t=>{if(dh(t))return en("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return en("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.li(t)),this.isPrimary=t})}Ii(t){return Ty(t).get("owner").next(e=>ht.resolve(this.Ri(e)))}vi(t){return $I(t).delete(this.clientId)}Pi(){var t=this;return(0,It.Z)(function*(){if(t.isPrimary&&!t.bi(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ol(i,"clientMetadata");return r.j().next(o=>{const a=t.Vi(o,18e5),u=o.filter(h=>-1===a.indexOf(h));return ht.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ti(t){return this.ri?ht.resolve(!0):Ty(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new qt(wt.FAILED_PRECONDITION,ZI);return!1}}return!(!this.networkEnabled||!this.inForeground)||$I(t).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&en("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,It.Z)(function*(){t.$s=!1,t.Ci(),t.ai&&(t.ai.cancel(),t.ai=null),t.xi(),t.Ni(),yield t.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new v1(e,Lu.ct);return t.Ei(i).next(()=>t.vi(i))}),t.di.close(),t.ki()})()}Vi(t,e){return t.filter(i=>this.bi(i.updateTimeMs,e)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",t=>$I(t).j().next(e=>this.Vi(e,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(t,e){return Sy.fe(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new k5(t,this.serializer.le.databaseId)}getDocumentOverlayCache(t){return W1.fe(this.serializer,t)}getBundleCache(){return this.Ls}runTransaction(t,e,i){en("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(a=this.oi)?i5:14===a?nI:13===a?LB:12===a?OB:11===a?RB:void Qn();var a;let u;return this.di.runTransaction(t,r,o,h=>(u=new v1(h,this.Os?this.Os.next():Lu.ct),"readwrite-primary"===e?this.Ii(u).next(f=>!!f||this.Ti(u)).next(f=>{if(!f)throw pa(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new qt(wt.FAILED_PRECONDITION,r0);return i(u)}).next(f=>this.Ai(u).next(()=>f)):this.Oi(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Oi(t){return Ty(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qt(wt.FAILED_PRECONDITION,ZI)})}Ai(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ty(t).put("owner",e)}static D(){return uh.D()}Ei(t){const e=Ty(t);return e.get("owner").next(i=>this.Ri(i)?(en("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ht.resolve())}bi(t,e){const i=Date.now();return!(t<i-e||t>i&&(pa(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;(0,ce.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Si(t)));return en("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return pa("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(t){pa("Failed to set zombie client id.",t)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ty(n){return Ol(n,"owner")}function $I(n){return Ol(n,"clientMetadata")}function ox(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ob{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Fi=r}static Bi(t,e){let i=Yi(),r=Yi();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ob(t,e.fromCache,i,r)}}class GF{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ui(t,e).next(o=>o||this.Ki(t,e,r,i)).next(o=>o||this.Gi(t,e))}Ui(t,e){if(gI(e))return ht.resolve(null);let i=Jc(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=bd(e,null,"F"),i=Jc(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=Yi(...o);return this.qi.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Qi(e,u);return this.ji(e,f,a,h.readTime)?this.Ui(t,bd(e,null,"F")):this.zi(t,f,e,h)}))})))}Ki(t,e,i,r){return gI(e)||r.isEqual(li.min())?this.Gi(t,e):this.qi.getDocuments(t,i).next(o=>{const a=this.Qi(e,o);return this.ji(e,a,i,r)?this.Gi(t,e):(qS()<=pA.in.DEBUG&&en("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vy(e)),this.zi(t,a,e,WS(r,-1)))})}Qi(t,e){let i=new co(YB(t));return e.forEach((r,o)=>{_b(t,o)&&(i=i.add(o))}),i}ji(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,e){return qS()<=pA.in.DEBUG&&en("QueryEngine","Using full collection scan to execute query:",vy(e)),this.qi.getDocumentsMatchingQuery(t,e,wd.min())}zi(t,e,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class Q5{constructor(t,e,i,r){this.persistence=t,this.Wi=e,this.serializer=r,this.Hi=new ks(zi),this.Ji=new hh(o=>Om(o),u0),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ix(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Hi))}}function H5(n,t,e,i){return new Q5(n,t,e,i)}function V5(n,t){return YI.apply(this,arguments)}function YI(){return YI=(0,It.Z)(function*(n,t){const e=En(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],u=[];let h=Yi();for(const f of r){a.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}for(const f of o){u.push(f.batchId);for(const _ of f.mutations)h=h.add(_.key)}return e.localDocuments.getDocuments(i,h).next(f=>({tr:f,removedBatchIds:a,addedBatchIds:u}))})})}),YI.apply(this,arguments)}function G5(n,t){const e=En(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Xi.newChangeBuffer({trackRemovals:!0});return function(a,u,h,f){const _=h.batch,b=_.keys();let F=ht.resolve();return b.forEach(B=>{F=F.next(()=>f.getEntry(u,B)).next(U=>{const H=h.docVersions.get(B);ai(null!==H),U.version.compareTo(H)<0&&(_.applyToRemoteDocument(U,h),U.isValidDocument()&&(U.setReadTime(h.commitVersion),f.addEntry(U)))})}),F.next(()=>a.mutationQueue.removeMutationBatch(u,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Yi();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function jF(n){const t=En(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Fs.getLastRemoteSnapshotVersion(e))}function KQ(n,t){const e=En(n),i=t.snapshotVersion;let r=e.Hi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Xi.newChangeBuffer({trackRemovals:!0});r=e.Hi;const u=[];t.targetChanges.forEach((_,b)=>{const F=r.get(b);if(!F)return;u.push(e.Fs.removeMatchingKeys(o,_.removedDocuments,b).next(()=>e.Fs.addMatchingKeys(o,_.addedDocuments,b)));let B=F.withSequenceNumber(o.currentSequenceNumber);var U,H,Z;null!==t.targetMismatches.get(b)?B=B.withResumeToken(ll.EMPTY_BYTE_STRING,li.min()).withLastLimboFreeSnapshotVersion(li.min()):_.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(_.resumeToken,i)),r=r.insert(b,B),H=B,Z=_,(0===(U=F).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&u.push(e.Fs.updateTargetData(o,B))});let h=Nu(),f=Yi();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))}),u.push(j5(o,a,t.documentUpdates).next(_=>{h=_.er,f=_.nr})),!i.isEqual(li.min())){const _=e.Fs.getLastRemoteSnapshotVersion(o).next(b=>e.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(_)}return ht.waitFor(u).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(e.Hi=r,o))}function j5(n,t,e){let i=Yi(),r=Yi();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=Nu();return e.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(li.min())?(t.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||0===h.version.compareTo(f.version)&&f.hasPendingWrites?(t.addEntry(h),a=a.insert(u,h)):en("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{er:a,nr:r}})}function ZQ(n,t){const e=En(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Lb(n,t){const e=En(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Fs.getTargetData(i,t).next(o=>o?(r=o,ht.resolve(r)):e.Fs.allocateTargetId(i).next(a=>(r=new Hm(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Hi=e.Hi.insert(i.targetId,i),e.Ji.set(t,i.targetId)),i})}function Nb(n,t,e){return WI.apply(this,arguments)}function WI(){return WI=(0,It.Z)(function*(n,t,e){const i=En(n),r=i.Hi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!dh(a))throw a;en("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}),WI.apply(this,arguments)}function JI(n,t,e){const i=En(n);let r=li.min(),o=Yi();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,f){const _=En(u),b=_.Ji.get(f);return void 0!==b?ht.resolve(_.Hi.get(b)):_.Fs.getTargetData(h,f)}(i,a,Jc(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>i.Wi.getDocumentsMatchingQuery(a,t,e?r:li.min(),e?o:Yi())).next(u=>(K5(i,$B(t),u),{documents:u,sr:o})))}function z5(n,t){const e=En(n),i=En(e.Fs),r=e.Hi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.he(o,t).next(a=>a?a.target:null))}function q5(n,t){const e=En(n),i=e.Yi.get(t)||li.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Xi.getAllFromCollectionGroup(r,t,WS(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(K5(e,t,r),r))}function K5(n,t,e){let i=n.Yi.get(t)||li.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(t,i)}function zF(){return zF=(0,It.Z)(function*(n,t,e,i){const r=En(n);let o=Yi(),a=Nu();for(const f of e){const _=t.ir(f.metadata.name);f.document&&(o=o.add(_));const b=t.rr(f);b.setReadTime(t.ur(f.metadata.readTime)),a=a.insert(_,b)}const u=r.Xi.newChangeBuffer({trackRemovals:!0}),h=yield Lb(r,(f=i,Jc(yy(Qr.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>j5(f,u,a).next(_=>(u.apply(f),_)).next(_=>r.Fs.removeMatchingKeysForTargetId(f,h.targetId).next(()=>r.Fs.addMatchingKeys(f,o,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,_.er,_.nr)).next(()=>_.er)))}),zF.apply(this,arguments)}function l(n,t){return c.apply(this,arguments)}function c(){return c=(0,It.Z)(function*(n,t,e=Yi()){const i=yield Lb(n,Jc(RI(t.bundledQuery))),r=En(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Qa(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.Ls.saveNamedQuery(o,t);const u=i.withResumeToken(ll.EMPTY_BYTE_STRING,a);return r.Hi=r.Hi.insert(u.targetId,u),r.Fs.updateTargetData(o,u).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,t))})}),c.apply(this,arguments)}function d(n,t){return`firestore_clients_${n}_${t}`}function A(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function p(n,t){return`firestore_targets_${n}_${t}`}class v{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static cr(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new qt(r.error.code,r.error.message))),a?new v(t,e,r.state,o):(pa("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class T{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static cr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new qt(i.error.code,i.error.message))),o?new T(t,i.state,r):(pa("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class R{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static cr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=vb();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=BB(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new R(t,o):(pa("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class P{constructor(t,e){this.clientId=t,this.onlineState=e}static cr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new P(e.clientId,e.onlineState):(pa("SharedClientState",`Failed to parse online state: ${t}`),null)}}class j{constructor(){this.activeTargetIds=vb()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ee{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new ks(zi),this.started=!1,this.gr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=d(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new j),this.Ir=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,It.Z)(function*(){const e=yield t.syncEngine.Mi();for(const r of e){if(r===t.dr)continue;const o=t.getItem(d(t.persistenceKey,r));if(o){const a=R.cr(r,o);a&&(t.mr=t.mr.insert(a.clientId,a))}}t.vr();const i=t.storage.getItem(t.Ar);if(i){const r=t.Pr(i);r&&t.br(r)}for(const r of t.gr)t.wr(r);t.gr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.pr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(t){let e=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Sr(t,"pending")}updateMutationState(t,e,i){this.Sr(t,e,i),this.Dr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(p(this.persistenceKey,t));if(i){const r=T.cr(t,i);r&&(e=r.state)}}return this.Cr.hr(t),this.vr(),e}removeLocalQueryTarget(t){this.Cr.lr(t),this.vr()}isLocalQueryTarget(t){return this.Cr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(p(this.persistenceKey,t))}updateQueryState(t,e,i){this.Nr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Dr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.kr(t)}notifyBundleLoaded(t){this.Mr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return en("SharedClientState","READ",t,e),e}setItem(t,e){en("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){en("SharedClientState","REMOVE",t),this.storage.removeItem(t)}wr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(en("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void pa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,It.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ir.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.$r(r,null)}{const r=e.Fr(i.key,i.newValue);if(r)return e.$r(r.clientId,r)}}else if(e.Tr.test(i.key)){if(null!==i.newValue){const r=e.Br(i.key,i.newValue);if(r)return e.Lr(r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.qr(i.key,i.newValue);if(r)return e.Ur(r)}}else if(i.key===e.Ar){if(null!==i.newValue){const r=e.Pr(i.newValue);if(r)return e.br(r)}}else if(i.key===e.pr){const r=function(o){let a=Lu.ct;if(null!=o)try{const u=JSON.parse(o);ai("number"==typeof u),a=u}catch(u){pa("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==Lu.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Kr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Gr(o)))}}else e.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(t,e,i){const r=new v(this.currentUser,t,e,i),o=A(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ar())}Dr(t){const e=A(this.persistenceKey,this.currentUser,t);this.removeItem(e)}kr(t){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:t}))}Nr(t,e,i){const r=p(this.persistenceKey,t),o=new T(t,e,i);this.setItem(r,o.ar())}Mr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Ir.exec(t);return e?e[1]:null}Fr(t,e){const i=this.Or(t);return R.cr(i,e)}Br(t,e){const i=this.Tr.exec(t),r=Number(i[1]);return v.cr(new Rl(void 0!==i[2]?i[2]:null),r,e)}qr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return T.cr(r,e)}Pr(t){return P.cr(t)}Kr(t){return JSON.parse(t)}Lr(t){var e=this;return(0,It.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Qr(t.batchId,t.state,t.error);en("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ur(t){return this.syncEngine.jr(t.targetId,t.state,t.error)}$r(t,e){const i=e?this.mr.insert(t,e):this.mr.remove(t),r=this.Vr(this.mr),o=this.Vr(i),a=[],u=[];return o.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{o.has(h)||u.push(h)}),this.syncEngine.zr(a,u).then(()=>{this.mr=i})}br(t){this.mr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Vr(t){let e=vb();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class _e{constructor(){this.Wr=new j,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,i){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new j,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ne{Jr(t){}shutdown(){}}class ot{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){en("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){en("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ot=null;function dn(){return null===Ot?Ot=268435456+Math.round(2147483648*Math.random()):Ot++,"0x"+Ot.toString(16)}const In={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ni{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}const ei="WebChannelConnection";class Jt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.wo=(t.ssl?"https":"http")+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,i,r,o){const a=dn(),u=this.Io(t,e);en("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const h={};return this.To(h,r,o),this.Eo(t,u,h,i).then(f=>(en("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw vd("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Ao(t,e,i,r,o,a){return this.po(t,e,i,r,o)}To(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+e0,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,e){return`${this.wo}/v1/${e}:${In[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,i,r){const o=dn();return new Promise((a,u)=>{const h=new PL;h.setWithCredentials(!0),h.listenOnce(OL.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case zS.NO_ERROR:const _=h.getResponseJson();en(ei,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),a(_);break;case zS.TIMEOUT:en(ei,`RPC '${t}' ${o} timed out`),u(new qt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case zS.HTTP_ERROR:const b=h.getStatus();if(en(ei,`RPC '${t}' ${o} failed with status:`,b,"response text:",h.getResponseText()),b>0){let F=h.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const U=function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(Z)>=0?Z:wt.UNKNOWN}(B.status);u(new qt(U,B.message))}else u(new qt(wt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new qt(wt.UNAVAILABLE,"Connection failed."));break;default:Qn()}}finally{en(ei,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(r);en(ei,`RPC '${t}' ${o} sending request:`,r),h.send(e,"POST",f,i,15)})}Ro(t,e,i){const r=dn(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=gB(),u=mB(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new NL({})),this.To(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const f=o.join("");en(ei,`Creating RPC '${t}' stream ${r}: ${f}`,h);const _=a.createWebChannel(f,h);let b=!1,F=!1;const B=new ni({io:H=>{F?en(ei,`Not sending because RPC '${t}' stream ${r} is closed:`,H):(b||(en(ei,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),en(ei,`RPC '${t}' stream ${r} sending:`,H),_.send(H))},ro:()=>_.close()}),U=(H,Z,z)=>{H.listen(Z,W=>{try{z(W)}catch(fe){setTimeout(()=>{throw fe},0)}})};return U(_,f1.EventType.OPEN,()=>{F||en(ei,`RPC '${t}' stream ${r} transport opened.`)}),U(_,f1.EventType.CLOSE,()=>{F||(F=!0,en(ei,`RPC '${t}' stream ${r} transport closed`),B.fo())}),U(_,f1.EventType.ERROR,H=>{F||(F=!0,vd(ei,`RPC '${t}' stream ${r} transport errored:`,H),B.fo(new qt(wt.UNAVAILABLE,"The operation could not be completed")))}),U(_,f1.EventType.MESSAGE,H=>{var Z;if(!F){const z=H.data[0];ai(!!z);const W=z,fe=W.error||(null===(Z=W[0])||void 0===Z?void 0:Z.error);if(fe){en(ei,`RPC '${t}' stream ${r} received error:`,fe);const De=fe.status;let Ye=function(Ke){const xe=cl[Ke];if(void 0!==xe)return SI(xe)}(De),ct=fe.message;void 0===Ye&&(Ye=wt.INTERNAL,ct="Unknown error status: "+De+" with message "+fe.message),F=!0,B.fo(new qt(Ye,ct)),_.close()}else en(ei,`RPC '${t}' stream ${r} received:`,z),B._o(z)}}),U(u,LL.STAT_EVENT,H=>{H.stat===_B.PROXY?en(ei,`RPC '${t}' stream ${r} detected buffering proxy`):H.stat===_B.NOPROXY&&en(ei,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function Hi(){return typeof window<"u"?window:null}function Rs(){return typeof document<"u"?document:null}function uo(n){return new mF(n,!0)}class qF{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,e-i);r>0&&en("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class YQ{constructor(t,e,i,r,o,a,u,h){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new qF(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var t=this;return(0,It.Z)(function*(){t.qo()&&(yield t.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}jo(){var t=this;return(0,It.Z)(function*(){if(t.Uo())return t.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(t,e){var i=this;return(0,It.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==t?i.Lo.reset():e&&e.code===wt.RESOURCE_EXHAUSTED?(pa(e.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):e&&e.code===wt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.co(e)})()}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===e&&this.Xo(i,r)},i=>{t(()=>{const r=new qt(wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,e){const i=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var t=this;this.state=5,this.Lo.xo((0,It.Z)(function*(){t.state=0,t.start()}))}Zo(t){return en("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget(()=>this.$o===t?e():(en("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L$ extends YQ{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=function vF(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:Qn(),r=t.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(ai(void 0===f||"string"==typeof f),ll.fromBase64String(f||"")):(ai(void 0===f||f instanceof Uint8Array),ll.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(h){const f=void 0===h.code?wt.UNKNOWN:SI(h.code);return new qt(f,h.message||"")}(a);e=new dF(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Zp(n,i.document.name),o=Qa(i.document.updateTime),a=i.document.createTime?Qa(i.document.createTime):li.min(),u=new Ll({mapValue:{fields:i.document.fields}}),h=Js.newFoundDocument(r,o,a,u);e=new Eb(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Zp(n,i.document),o=i.readTime?Qa(i.readTime):li.min(),a=Js.newNoDocument(r,o);e=new Eb([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Zp(n,i.document);e=new Eb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Qn();{const i=t.filter,{count:r=0,unchangedNames:o}=i,a=new EI(r,o);e=new TI(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return li.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?li.min():o.readTime?Qa(o.readTime):li.min()}(t);return this.listener.eu(e,i)}nu(t){const e={};e.database=K1(this.serializer),e.addTarget=function(r,o){let a;const u=o.target;if(a=Ab(u)?{documents:x5(r,u)}:{query:Ib(r,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_F(r,o.resumeToken);const h=j1(r,o.expectedCount);null!==h&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(li.min())>0){a.readTime=Cy(r,o.snapshotVersion.toTimestamp());const h=j1(r,o.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function E5(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.zo(e)}su(t){const e={};e.database=K1(this.serializer),e.removeTarget=t,this.zo(e)}}class N$ extends YQ{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(ai(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=function wF(n,t){return n&&n.length>0?(ai(void 0!==t),n.map(e=>function(i,r){let o=Qa(i.updateTime?i.updateTime:r);return o.isEqual(li.min())&&(o=Qa(r)),new Xc(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Qa(t.commitTime);return this.listener.uu(i,e)}return ai(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=K1(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Um(this.serializer,i))};this.zo(e)}}class P$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new qt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new qt(wt.UNKNOWN,r.toString())})}Ao(t,e,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ao(t,e,i,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qt(wt.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class Q${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(pa(e),this.wu=!1):en("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class H${constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(u=>{i.enqueueAndForget((0,It.Z)(function*(){var h;w0(a)&&(en("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,It.Z)(function*(f){const _=En(f);_.Au.add(4),yield ax(_),_.Pu.set("Unknown"),_.Au.delete(4),yield XI(_)}),function(f){return h.apply(this,arguments)})(a))}))}),this.Pu=new Q$(i,r)}}function XI(n){return $5.apply(this,arguments)}function $5(){return $5=(0,It.Z)(function*(n){if(w0(n))for(const t of n.Ru)yield t(!0)}),$5.apply(this,arguments)}function ax(n){return Y5.apply(this,arguments)}function Y5(){return Y5=(0,It.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),Y5.apply(this,arguments)}function KF(n,t){const e=En(n);e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),X5(e)?J5(e):cx(e).Uo()&&W5(e,t))}function e2(n,t){const e=En(n),i=cx(e);e.Eu.delete(t),i.Uo()&&WQ(e,t),0===e.Eu.size&&(i.Uo()?i.Qo():w0(e)&&e.Pu.set("Unknown"))}function W5(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(li.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cx(n).nu(t)}function WQ(n,t){n.bu.Lt(t),cx(n).su(t)}function J5(n){n.bu=new hF({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),cx(n).start(),n.Pu.mu()}function X5(n){return w0(n)&&!cx(n).qo()&&n.Eu.size>0}function w0(n){return 0===En(n).Au.size}function JQ(n){n.bu=void 0}function V$(n){return eN.apply(this,arguments)}function eN(){return eN=(0,It.Z)(function*(n){n.Eu.forEach((t,e)=>{W5(n,t)})}),eN.apply(this,arguments)}function G$(n,t){return tN.apply(this,arguments)}function tN(){return tN=(0,It.Z)(function*(n,t){JQ(n),X5(n)?(n.Pu.pu(t),J5(n)):n.Pu.set("Unknown")}),tN.apply(this,arguments)}function j$(n,t,e){return nN.apply(this,arguments)}function nN(){return nN=(0,It.Z)(function*(n,t,e){if(n.Pu.set("Online"),t instanceof dF&&2===t.state&&t.cause)try{yield(i=(0,It.Z)(function*(r,o){const a=o.cause;for(const u of o.targetIds)r.Eu.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Eu.delete(u),r.bu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){en("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield ZF(n,i)}else if(t instanceof Eb?n.bu.Wt(t):t instanceof TI?n.bu.ee(t):n.bu.Yt(t),!e.isEqual(li.min()))try{const i=yield jF(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.bu.ue(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Eu.get(h);f&&r.Eu.set(h,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const f=r.Eu.get(u);if(!f)return;r.Eu.set(u,f.withResumeToken(ll.EMPTY_BYTE_STRING,f.snapshotVersion)),WQ(r,u);const _=new Hm(f.target,u,h,f.sequenceNumber);W5(r,_)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){en("RemoteStore","Failed to raise snapshot:",i),yield ZF(n,i)}var i}),nN.apply(this,arguments)}function ZF(n,t,e){return iN.apply(this,arguments)}function iN(){return iN=(0,It.Z)(function*(n,t,e){if(!dh(t))throw t;n.Au.add(1),yield ax(n),n.Pu.set("Offline"),e||(e=()=>jF(n.localStore)),n.asyncQueue.enqueueRetryable((0,It.Z)(function*(){en("RemoteStore","Retrying IndexedDB access"),yield e(),n.Au.delete(1),yield XI(n)}))}),iN.apply(this,arguments)}function XQ(n,t){return t().catch(e=>ZF(n,e,t))}function lx(n){return rN.apply(this,arguments)}function rN(){return rN=(0,It.Z)(function*(n){const t=En(n),e=b0(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;z$(t);)try{const r=yield ZQ(t.localStore,i);if(null===r){0===t.Tu.length&&e.Qo();break}i=r.batchId,q$(t,r)}catch(r){yield ZF(t,r)}eH(t)&&tH(t)}),rN.apply(this,arguments)}function z$(n){return w0(n)&&n.Tu.length<10}function q$(n,t){n.Tu.push(t);const e=b0(n);e.Uo()&&e.ru&&e.ou(t.mutations)}function eH(n){return w0(n)&&!b0(n).qo()&&n.Tu.length>0}function tH(n){b0(n).start()}function K$(n){return sN.apply(this,arguments)}function sN(){return sN=(0,It.Z)(function*(n){b0(n).au()}),sN.apply(this,arguments)}function Z$(n){return oN.apply(this,arguments)}function oN(){return oN=(0,It.Z)(function*(n){const t=b0(n);for(const e of n.Tu)t.ou(e.mutations)}),oN.apply(this,arguments)}function $$(n,t,e){return aN.apply(this,arguments)}function aN(){return aN=(0,It.Z)(function*(n,t,e){const i=n.Tu.shift(),r=Q1.from(i,t,e);yield XQ(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield lx(n)}),aN.apply(this,arguments)}function Y$(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,It.Z)(function*(n,t){var e;t&&b0(n).ru&&(yield(e=(0,It.Z)(function*(i,r){if(lF(o=r.code)&&o!==wt.ABORTED){const a=i.Tu.shift();b0(i).Go(),yield XQ(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield lx(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),eH(n)&&tH(n)}),lN.apply(this,arguments)}function nH(n,t){return cN.apply(this,arguments)}function cN(){return cN=(0,It.Z)(function*(n,t){const e=En(n);e.asyncQueue.verifyOperationInProgress(),en("RemoteStore","RemoteStore received new credentials");const i=w0(e);e.Au.add(3),yield ax(e),i&&e.Pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),yield XI(e)}),cN.apply(this,arguments)}function uN(n,t){return dN.apply(this,arguments)}function dN(){return dN=(0,It.Z)(function*(n,t){const e=En(n);t?(e.Au.delete(2),yield XI(e)):t||(e.Au.add(2),yield ax(e),e.Pu.set("Unknown"))}),dN.apply(this,arguments)}function cx(n){return n.Vu||(n.Vu=function(t,e,i){const r=En(t);return r.lu(),new L$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:V$.bind(null,n),co:G$.bind(null,n),eu:j$.bind(null,n)}),n.Ru.push(function(){var t=(0,It.Z)(function*(e){e?(n.Vu.Go(),X5(n)?J5(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),JQ(n))});return function(e){return t.apply(this,arguments)}}())),n.Vu}function b0(n){return n.Su||(n.Su=function(t,e,i){const r=En(t);return r.lu(),new N$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:K$.bind(null,n),co:Y$.bind(null,n),cu:Z$.bind(null,n),uu:$$.bind(null,n)}),n.Ru.push(function(){var t=(0,It.Z)(function*(e){e?(n.Su.Go(),yield lx(n)):(yield n.Su.stop(),n.Tu.length>0&&(en("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Su}class hN{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,u=new hN(t,e,a,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qt(wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ux(n,t){if(pa("AsyncQueue",`${t}: ${n}`),dh(n))return new qt(wt.UNAVAILABLE,`${t}: ${n}`);throw n}class dx{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tn.comparator(e.key,i.key):(e,i)=>tn.comparator(e.key,i.key),this.keyedMap=d0(),this.sortedSet=new ks(this.comparator)}static emptySet(t){return new dx(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof dx)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new dx;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class iH{constructor(){this.Du=new ks(tn.comparator)}track(t){const e=t.doc.key,i=this.Du.get(e);i?0!==t.type&&3===i.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==i.type?this.Du=this.Du.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Du=this.Du.remove(e):1===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):Qn():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal((e,i)=>{t.push(i)}),t}}class hx{constructor(t,e,i,r,o,a,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new hx(t,e,dx.emptySet(e),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class W${constructor(){this.xu=void 0,this.listeners=[]}}class J${constructor(){this.queries=new hh(t=>mb(t),gb),this.onlineState="Unknown",this.Nu=new Set}}function AN(n,t){return fN.apply(this,arguments)}function fN(){return fN=(0,It.Z)(function*(n,t){const e=En(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new W$),r)try{o.xu=yield e.onListen(i)}catch(a){const u=ux(a,`Initialization of query '${vy(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.ku(e.onlineState),o.xu&&t.Mu(o.xu)&&mN(e)}),fN.apply(this,arguments)}function pN(n,t){return gN.apply(this,arguments)}function gN(){return gN=(0,It.Z)(function*(n,t){const e=En(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),gN.apply(this,arguments)}function X$(n,t){const e=En(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.Mu(r)&&(i=!0);a.xu=r}}i&&mN(e)}function eY(n,t,e){const i=En(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function mN(n){n.Nu.forEach(t=>{t.next()})}class _N{constructor(t,e,i){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new hx(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){return!t.fromCache||(!this.options.Uu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(t){t=hx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}class tY{constructor(t,e){this.Ku=t,this.byteLength=e}Gu(){return"metadata"in this.Ku}}class rH{constructor(t){this.serializer=t}ir(t){return Zp(this.serializer,t)}rr(t){return t.metadata.exists?Sb(this.serializer,t.document,!1):Js.newNoDocument(this.ir(t.metadata.name),this.ur(t.metadata.readTime))}ur(t){return Qa(t)}}class nY{constructor(t,e,i){this.Qu=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sH(t)}ju(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ku.namedQuery)this.queries.push(t.Ku.namedQuery);else if(t.Ku.documentMetadata){this.documents.push({metadata:t.Ku.documentMetadata}),t.Ku.documentMetadata.exists||++e;const i=Qr.fromString(t.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Ku.document&&(this.documents[this.documents.length-1].document=t.Ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}zu(t){const e=new Map,i=new rH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||Yi()).add(o);e.set(a,u)}}return e}complete(){var t=this;return(0,It.Z)(function*(){const e=yield function $Q(n,t,e,i){return zF.apply(this,arguments)}(t.localStore,new rH(t.serializer),t.documents,t.Qu.id),i=t.zu(t.documents);for(const r of t.queries)yield l(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Wu:t.collectionGroups,Hu:e}})()}}function sH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oH{constructor(t){this.key=t}}class aH{constructor(t){this.key=t}}class lH{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Yi(),this.mutatedKeys=Yi(),this.Zu=YB(t),this.tc=new dx(this.Zu)}get ec(){return this.Ju}nc(t,e){const i=e?e.sc:new iH,r=e?e.tc:this.tc;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,b)=>{const F=r.get(_),B=_b(this.query,b)?b:null,U=!!F&&this.mutatedKeys.has(F.key),H=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;F&&B?F.data.isEqual(B.data)?U!==H&&(i.track({type:3,doc:B}),Z=!0):this.ic(F,B)||(i.track({type:2,doc:B}),Z=!0,(h&&this.Zu(B,h)>0||f&&this.Zu(B,f)<0)&&(u=!0)):!F&&B?(i.track({type:0,doc:B}),Z=!0):F&&!B&&(i.track({type:1,doc:F}),Z=!0,(h||f)&&(u=!0)),Z&&(B?(a=a.add(B),o=H?o.add(_):o.delete(_)):(a=a.delete(_),o=o.delete(_)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const _="F"===this.query.limitType?a.last():a.first();a=a.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tc:a,sc:i,ji:u,mutatedKeys:o}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((f,_)=>function(b,F){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qn()}};return B(b)-B(F)}(f.type,_.type)||this.Zu(f.doc,_.doc)),this.rc(i);const a=e?this.oc():[],u=0===this.Xu.size&&this.current?1:0,h=u!==this.Yu;return this.Yu=u,0!==o.length||h?{snapshot:new hx(this.query,t.tc,r,o,t.mutatedKeys,0===u,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:a}:{uc:a}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new iH,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=Yi(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const e=[];return t.forEach(i=>{this.Xu.has(i)||e.push(new aH(i))}),this.Xu.forEach(i=>{t.has(i)||e.push(new oH(i))}),e}ac(t){this.Ju=t.sr,this.Xu=Yi();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return hx.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class iY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rY{constructor(t){this.key=t,this.lc=!1}}class sY{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fc={},this.dc=new hh(u=>mb(u),gb),this._c=new Map,this.wc=new Set,this.mc=new ks(tn.comparator),this.gc=new Map,this.yc=new UF,this.Ic={},this.Tc=new Map,this.Ec=v0.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function oY(n,t){return yN.apply(this,arguments)}function yN(){return yN=(0,It.Z)(function*(n,t){const e=VN(n);let i,r;const o=e.dc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const a=yield Lb(e.localStore,Jc(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield vN(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&KF(e.remoteStore,a)}return r}),yN.apply(this,arguments)}function vN(n,t,e,i,r){return wN.apply(this,arguments)}function wN(){return wN=(0,It.Z)(function*(n,t,e,i,r){n.Rc=(b,F,B)=>{return(U=(0,It.Z)(function*(H,Z,z,W){let fe=Z.view.nc(z);fe.ji&&(fe=yield JI(H.localStore,Z.query,!1).then(({documents:ct})=>Z.view.nc(ct,fe)));const De=W&&W.targetChanges.get(Z.targetId),Ye=Z.view.applyChanges(fe,H.isPrimaryClient,De);return FN(H,Z.targetId,Ye.uc),Ye.snapshot}),function(H,Z,z,W){return U.apply(this,arguments)})(n,b,F,B);var U};const o=yield JI(n.localStore,t,!0),a=new lH(t,o.sr),u=a.nc(o.documents),h=xb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),f=a.applyChanges(u,n.isPrimaryClient,h);FN(n,e,f.uc);const _=new iY(t,e,a);return n.dc.set(t,_),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),f.snapshot}),wN.apply(this,arguments)}function aY(n,t){return bN.apply(this,arguments)}function bN(){return bN=(0,It.Z)(function*(n,t){const e=En(n),i=e.dc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!gb(o,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nb(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),e2(e.remoteStore,i.targetId),Ax(e,i.targetId)}).catch(Tm))):(Ax(e,i.targetId),yield Nb(e.localStore,i.targetId,!0))}),bN.apply(this,arguments)}function CN(){return CN=(0,It.Z)(function*(n,t,e){const i=GN(n);try{const r=yield function(o,a){const u=En(o),h=ao.now(),f=a.reduce((F,B)=>F.add(B.key),Yi());let _,b;return u.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=Nu(),U=Yi();return u.Xi.getEntries(F,f).next(H=>{B=H,B.forEach((Z,z)=>{z.isValidDocument()||(U=U.add(Z))})}).next(()=>u.localDocuments.getOverlayedDocuments(F,B)).next(H=>{_=H;const Z=[];for(const z of a){const W=sF(z,_.get(z.key).overlayedDocument);null!=W&&Z.push(new xA(z.key,W,B1(W.value.mapValue),ms.exists(!0)))}return u.mutationQueue.addMutationBatch(F,h,Z,a)}).next(H=>{b=H;const Z=H.applyToLocalDocumentSet(_,U);return u.documentOverlayCache.saveOverlays(F,H.batchId,Z)})}).then(()=>({batchId:b.batchId,changes:R1(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let h=o.Ic[o.currentUser.toKey()];h||(h=new ks(zi)),h=h.insert(a,u),o.Ic[o.currentUser.toKey()]=h}(i,r.batchId,e),yield By(i,r.changes),yield lx(i.remoteStore)}catch(r){const o=ux(r,"Failed to persist write");e.reject(o)}}),CN.apply(this,arguments)}function cH(n,t){return xN.apply(this,arguments)}function xN(){return xN=(0,It.Z)(function*(n,t){const e=En(n);try{const i=yield KQ(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.gc.get(o);a&&(ai(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.lc=!0:r.modifiedDocuments.size>0?ai(a.lc):r.removedDocuments.size>0&&(ai(a.lc),a.lc=!1))}),yield By(e,i,t)}catch(i){yield Tm(i)}}),xN.apply(this,arguments)}function uH(n,t,e){const i=En(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.dc.forEach((o,a)=>{const u=a.view.ku(t);u.snapshot&&r.push(u.snapshot)}),function(o,a){const u=En(o);u.onlineState=a;let h=!1;u.queries.forEach((f,_)=>{for(const b of _.listeners)b.ku(a)&&(h=!0)}),h&&mN(u)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function cY(n,t,e){return EN.apply(this,arguments)}function EN(){return EN=(0,It.Z)(function*(n,t,e){const i=En(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.gc.get(t),o=r&&r.key;if(o){let a=new ks(tn.comparator);a=a.insert(o,Js.newNoDocument(o,li.min()));const u=Yi().add(o),h=new Cb(li.min(),new Map,new ks(zi),a,u);yield cH(i,h),i.mc=i.mc.remove(o),i.gc.delete(t),MN(i)}else yield Nb(i.localStore,t,!1).then(()=>Ax(i,t,e)).catch(Tm)}),EN.apply(this,arguments)}function uY(n,t){return SN.apply(this,arguments)}function SN(){return SN=(0,It.Z)(function*(n,t){const e=En(n),i=t.batch.batchId;try{const r=yield G5(e.localStore,t);BN(e,i,null),TN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield By(e,r)}catch(r){yield Tm(r)}}),SN.apply(this,arguments)}function dY(n,t,e){return IN.apply(this,arguments)}function IN(){return IN=(0,It.Z)(function*(n,t,e){const i=En(n);try{const r=yield function(o,a){const u=En(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,a).next(_=>(ai(null!==_),f=_.keys(),u.mutationQueue.removeMutationBatch(h,_))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(i.localStore,t);BN(i,t,e),TN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield By(i,r)}catch(r){yield Tm(r)}}),IN.apply(this,arguments)}function DN(){return DN=(0,It.Z)(function*(n,t){const e=En(n);w0(e.remoteStore)||en("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=En(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Tc.get(i)||[];r.push(t),e.Tc.set(i,r)}catch(i){const r=ux(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),DN.apply(this,arguments)}function TN(n,t){(n.Tc.get(t)||[]).forEach(e=>{e.resolve()}),n.Tc.delete(t)}function BN(n,t,e){const i=En(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function Ax(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.dc.delete(i),e&&n.fc.vc(i,e);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(i=>{n.yc.containsKey(i)||dH(n,i)})}function dH(n,t){n.wc.delete(t.path.canonicalString());const e=n.mc.get(t);null!==e&&(e2(n.remoteStore,e),n.mc=n.mc.remove(t),n.gc.delete(e),MN(n))}function FN(n,t,e){for(const i of e)i instanceof oH?(n.yc.addReference(i.key,t),AY(n,i)):i instanceof aH?(en("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,t),n.yc.containsKey(i.key)||dH(n,i.key)):Qn()}function AY(n,t){const e=t.key,i=e.path.canonicalString();n.mc.get(e)||n.wc.has(i)||(en("SyncEngine","New document in limbo: "+e),n.wc.add(i),MN(n))}function MN(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const e=new tn(Qr.fromString(t)),i=n.Ec.next();n.gc.set(i,new rY(e)),n.mc=n.mc.insert(e,i),KF(n.remoteStore,new Hm(Jc(yy(e.path)),i,"TargetPurposeLimboResolution",Lu.ct))}}function By(n,t,e){return kN.apply(this,arguments)}function kN(){return kN=(0,It.Z)(function*(n,t,e){const i=En(n),r=[],o=[],a=[];var u;i.dc.isEmpty()||(i.dc.forEach((u,h)=>{a.push(i.Rc(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);const _=Ob.Bi(h.targetId,f);o.push(_)}}))}),yield Promise.all(a),i.fc.eu(r),yield(u=(0,It.Z)(function*(h,f){const _=En(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ht.forEach(f,F=>ht.forEach(F.$i,B=>_.persistence.referenceDelegate.addReference(b,F.targetId,B)).next(()=>ht.forEach(F.Fi,B=>_.persistence.referenceDelegate.removeReference(b,F.targetId,B)))))}catch(b){if(!dh(b))throw b;en("LocalStore","Failed to update sequence numbers: "+b)}for(const b of f){const F=b.targetId;if(!b.fromCache){const B=_.Hi.get(F),H=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);_.Hi=_.Hi.insert(F,H)}}}),function(h,f){return u.apply(this,arguments)})(i.localStore,o))}),kN.apply(this,arguments)}function fY(n,t){return RN.apply(this,arguments)}function RN(){return RN=(0,It.Z)(function*(n,t){const e=En(n);if(!e.currentUser.isEqual(t)){en("SyncEngine","User change. New user:",t.toKey());const i=yield V5(e.localStore,t);e.currentUser=t,(r=e).Tc.forEach(a=>{a.forEach(u=>{u.reject(new qt(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield By(e,i.tr)}var r}),RN.apply(this,arguments)}function pY(n,t){const e=En(n),i=e.gc.get(t);if(i&&i.lc)return Yi().add(i.key);{let r=Yi();const o=e._c.get(t);if(!o)return r;for(const a of o){const u=e.dc.get(a);r=r.unionWith(u.view.ec)}return r}}function gY(n,t){return ON.apply(this,arguments)}function ON(){return ON=(0,It.Z)(function*(n,t){const e=En(n),i=yield JI(e.localStore,t.query,!0),r=t.view.ac(i);return e.isPrimaryClient&&FN(e,t.targetId,r.uc),r}),ON.apply(this,arguments)}function mY(n,t){return LN.apply(this,arguments)}function LN(){return LN=(0,It.Z)(function*(n,t){const e=En(n);return q5(e.localStore,t).then(i=>By(e,i))}),LN.apply(this,arguments)}function _Y(n,t,e,i){return NN.apply(this,arguments)}function NN(){return NN=(0,It.Z)(function*(n,t,e,i){const r=En(n),o=yield function(a,u){const h=En(a),f=En(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",_=>f.Vn(_,u).next(b=>b?h.localDocuments.getDocuments(_,b):ht.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield lx(r.remoteStore):"acknowledged"===e||"rejected"===e?(BN(r,t,i||null),TN(r,t),u=t,En(En(r.localStore).mutationQueue).Dn(u)):Qn(),yield By(r,o)):en("SyncEngine","Cannot apply mutation batch with id: "+t)}),NN.apply(this,arguments)}function PN(){return PN=(0,It.Z)(function*(n,t){const e=En(n);if(VN(e),GN(e),!0===t&&!0!==e.Ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield hH(e,i.toArray());e.Ac=!0,yield uN(e.remoteStore,!0);for(const o of r)KF(e.remoteStore,o)}else if(!1===t&&!1!==e.Ac){const i=[];let r=Promise.resolve();e._c.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Ax(e,a),Nb(e.localStore,a,!0))),e2(e.remoteStore,a)}),yield r,yield hH(e,i),function(o){const a=En(o);a.gc.forEach((u,h)=>{e2(a.remoteStore,h)}),a.yc.Is(),a.gc=new Map,a.mc=new ks(tn.comparator)}(e),e.Ac=!1,yield uN(e.remoteStore,!1)}}),PN.apply(this,arguments)}function hH(n,t,e){return UN.apply(this,arguments)}function UN(){return UN=(0,It.Z)(function*(n,t,e){const i=En(n),r=[],o=[];for(const a of t){let u;const h=i._c.get(a);if(h&&0!==h.length){u=yield Lb(i.localStore,Jc(h[0]));for(const f of h){const _=i.dc.get(f),b=yield gY(i,_);b.snapshot&&o.push(b.snapshot)}}else{const f=yield z5(i.localStore,a);u=yield Lb(i.localStore,f),yield vN(i,AH(f),a,!1,u.resumeToken)}r.push(u)}return i.fc.eu(o),r}),UN.apply(this,arguments)}function AH(n){return A5(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vY(n){const t=En(n);return En(En(t.localStore).persistence).Mi()}function wY(n,t,e,i){return QN.apply(this,arguments)}function QN(){return QN=(0,It.Z)(function*(n,t,e,i){const r=En(n);if(r.Ac)return void en("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield q5(r.localStore,$B(o[0])),u=Cb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ll.EMPTY_BYTE_STRING);yield By(r,a,u);break}case"rejected":yield Nb(r.localStore,t,!0),Ax(r,t,i);break;default:Qn()}}),QN.apply(this,arguments)}function bY(n,t,e){return HN.apply(this,arguments)}function HN(){return HN=(0,It.Z)(function*(n,t,e){const i=VN(n);if(i.Ac){for(const r of t){if(i._c.has(r)){en("SyncEngine","Adding an already active target "+r);continue}const o=yield z5(i.localStore,r),a=yield Lb(i.localStore,o);yield vN(i,AH(o),a.targetId,!1,a.resumeToken),KF(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield Nb(i.localStore,r,!1).then(()=>{e2(i.remoteStore,r),Ax(i,r)}).catch(Tm))}}),HN.apply(this,arguments)}function VN(n){const t=En(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=cH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cY.bind(null,t),t.fc.eu=X$.bind(null,t.eventManager),t.fc.vc=eY.bind(null,t.eventManager),t}function GN(n){const t=En(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dY.bind(null,t),t}class t2{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,It.Z)(function*(){e.serializer=uo(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return H5(this.persistence,new GF,t.initialUser,this.serializer)}createPersistence(t){return new KI(kb.js,this.serializer)}createSharedClientState(t){return new _e}terminate(){var t=this;return(0,It.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class jN extends t2{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,It.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield GN(i.bc.syncEngine),yield lx(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return H5(this.persistence,new GF,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new R5(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new TB(e,this.persistence);return new DB(t.asyncQueue,i)}createPersistence(t){const e=ox(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?rc.withCacheSize(this.cacheSizeBytes):rc.DEFAULT;return new sx(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,Hi(),Rs(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new _e}}class fH extends jN{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,It.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof ee&&(i.sharedClientState.syncEngine={Qr:_Y.bind(null,r),jr:wY.bind(null,r),zr:bY.bind(null,r),Mi:vY.bind(null,r),Gr:mY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,It.Z)(function*(a){yield function yY(n,t){return PN.apply(this,arguments)}(i.bc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Hi();if(!ee.D(e))throw new qt(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ox(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ee(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class fx{initialize(t,e){var i=this;return(0,It.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>uH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fY.bind(null,i.syncEngine),yield uN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new J$}createDatastore(t){const e=uo(t.databaseInfo.databaseId),i=new Jt(t.databaseInfo);return new P$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>uH(this.syncEngine,u,0),a=ot.D()?new ot:new Ne,new H$(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,u,h,f){const _=new sY(i,r,o,a,u,h);return f&&(_.Ac=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,It.Z)(function*(e){const i=En(e);en("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield ax(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function pH(n,t=10240){let e=0;return{read:()=>(0,It.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,It.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $F{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):pa("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class EY{constructor(t,e){this.Dc=t,this.serializer=e,this.metadata=new Ua,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var t=this;return(0,It.Z)(function*(){return t.metadata.promise})()}Pc(){var t=this;return(0,It.Z)(function*(){return yield t.getMetadata(),t.xc()})()}xc(){var t=this;return(0,It.Z)(function*(){const e=yield t.Nc();if(null===e)return null;const i=t.Cc.decode(e),r=Number(i);isNaN(r)&&t.kc(`length string (${i}) is not valid number`);const o=yield t.Mc(r);return new tY(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Nc(){var t=this;return(0,It.Z)(function*(){for(;t.Oc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.kc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Mc(t){var e=this;return(0,It.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.kc("Reached the end of bundle when more is expected.");const i=e.Cc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}kc(t){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,It.Z)(function*(){const e=yield t.Dc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class SY{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,It.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new qt(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,It.Z)(function*(o,a){const u=En(o),h=K1(u.serializer)+"/documents",f={documents:a.map(B=>q1(u.serializer,B))},_=yield u.Ao("BatchGetDocuments",h,f,a.length),b=new Map;_.forEach(B=>{const U=function PQ(n,t){return"found"in t?function(e,i){ai(!!i.found);const r=Zp(e,i.found.name),o=Qa(i.found.updateTime),a=i.found.createTime?Qa(i.found.createTime):li.min(),u=new Ll({mapValue:{fields:i.found.fields}});return Js.newFoundDocument(r,o,a,u)}(n,t):"missing"in t?function(e,i){ai(!!i.missing),ai(!!i.readTime);const r=Zp(e,i.missing),o=Qa(i.readTime);return Js.newNoDocument(r,o)}(n,t):Qn()}(u.serializer,B);b.set(U.key.toString(),U)});const F=[];return a.forEach(B=>{const U=b.get(B.toString());ai(!!U),F.push(U)}),F}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new g0(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,It.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=tn.fromPath(r);t.mutations.push(new xI(o,t.precondition(o)))}),yield(i=(0,It.Z)(function*(r,o){const a=En(r),u=K1(a.serializer)+"/documents",h={writes:o.map(f=>Um(a.serializer,f))};yield a.po("Commit",u,h)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Qn();e=li.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new qt(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(li.min())?ms.exists(!1):ms.updateTime(e):ms.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(li.min()))throw new qt(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(e)}return ms.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class IY{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new qF(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var t=this;this.Lo.xo((0,It.Z)(function*(){const e=new SY(t.datastore),i=t.Lc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.qc(o)}))}).catch(r=>{t.qc(r)})}))}Lc(t){try{const e=this.updateFunction(t);return!lb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(t){this.Fc>0&&this.Uc(t)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(t)}Uc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!lF(e)}return!1}}class DY{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Rl.UNAUTHENTICATED,this.clientId=$S.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,It.Z)(function*(u){en("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(en("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,It.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,It.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ux(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function YF(n,t){return zN.apply(this,arguments)}function zN(){return zN=(0,It.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),en("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,It.Z)(function*(o){i.isEqual(o)||(yield V5(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),zN.apply(this,arguments)}function qN(n,t){return KN.apply(this,arguments)}function KN(){return KN=(0,It.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ZN(n);en("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>nH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>nH(t.remoteStore,o)),n._onlineComponents=t}),KN.apply(this,arguments)}function gH(n){return"FirebaseError"===n.name?n.code===wt.FAILED_PRECONDITION||n.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZN(n){return $N.apply(this,arguments)}function $N(){return $N=(0,It.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){en("FirestoreClient","Using user provided OfflineComponentProvider");try{yield YF(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!gH(e))throw e;vd("Error using user provided cache. Falling back to memory cache: "+e),yield YF(n,new t2)}}else en("FirestoreClient","Using default OfflineComponentProvider"),yield YF(n,new t2);return n._offlineComponents}),$N.apply(this,arguments)}function WF(n){return YN.apply(this,arguments)}function YN(){return YN=(0,It.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(en("FirestoreClient","Using user provided OnlineComponentProvider"),yield qN(n,n._uninitializedComponentsProvider._online)):(en("FirestoreClient","Using default OnlineComponentProvider"),yield qN(n,new fx))),n._onlineComponents}),YN.apply(this,arguments)}function mH(n){return ZN(n).then(t=>t.persistence)}function JF(n){return ZN(n).then(t=>t.localStore)}function _H(n){return WF(n).then(t=>t.remoteStore)}function WN(n){return WF(n).then(t=>t.syncEngine)}function px(n){return JN.apply(this,arguments)}function JN(){return JN=(0,It.Z)(function*(n){const t=yield WF(n),e=t.eventManager;return e.onListen=oY.bind(null,t.syncEngine),e.onUnlisten=aY.bind(null,t.syncEngine),e}),JN.apply(this,arguments)}function vH(n,t,e={}){const i=new Ua;return n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return function(r,o,a,u,h){const f=new $F({next:b=>{o.enqueueAndForget(()=>pN(r,_));const F=b.docs.has(a);!F&&b.fromCache?h.reject(new qt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&b.fromCache&&u&&"server"===u.source?h.reject(new qt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),_=new _N(yy(a.path),f,{includeMetadataChanges:!0,Uu:!0});return AN(r,_)}(yield px(n),n.asyncQueue,t,e,i)})),i.promise}function wH(n,t,e={}){const i=new Ua;return n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return function(r,o,a,u,h){const f=new $F({next:b=>{o.enqueueAndForget(()=>pN(r,_)),b.fromCache&&"server"===u.source?h.reject(new qt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),_=new _N(a,f,{includeMetadataChanges:!0,Uu:!0});return AN(r,_)}(yield px(n),n.asyncQueue,t,e,i)})),i.promise}const bH=new Map;function XN(n,t,e){if(!e)throw new qt(wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CH(n,t,e,i){if(!0===t&&!0===i)throw new qt(wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xH(n){if(!tn.isDocumentKey(n))throw new qt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EH(n){if(tn.isDocumentKey(n))throw new qt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XF(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Qn()}function Hr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new qt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=XF(n);throw new qt(wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function SH(n,t){if(t<=0)throw new qt(wt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class IH{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==t.experimentalAutoDetectLongPolling&&!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class n2{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new qt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new KS;switch(e.type){case"firstParty":return new t0(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=bH.get(t);e&&(en("ComponentProvider","Removing Datastore"),bH.delete(t),e.terminate())}(this),Promise.resolve()}}class Qo{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qo(this.firestore,t,this._key)}}class eu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new eu(this.firestore,t,this._query)}}class Wm extends eu{constructor(t,e,i){super(t,e,yy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qo(this.firestore,null,new tn(t))}withConverter(t){return new Wm(this.firestore,t,this._path)}}function TH(n,t,...e){if(n=(0,ce.m9)(n),XN("collection","path",t),n instanceof n2){const i=Qr.fromString(t,...e);return EH(i),new Wm(n,null,i)}{if(!(n instanceof Qo||n instanceof Wm))throw new qt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qr.fromString(t,...e));return EH(i),new Wm(n.firestore,null,i)}}function eM(n,t,...e){if(n=(0,ce.m9)(n),1===arguments.length&&(t=$S.A()),XN("doc","path",t),n instanceof n2){const i=Qr.fromString(t,...e);return xH(i),new Qo(n,null,new tn(i))}{if(!(n instanceof Qo||n instanceof Wm))throw new qt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qr.fromString(t,...e));return xH(i),new Qo(n.firestore,n instanceof Wm?n.converter:null,new tn(i))}}function BH(n,t){return n=(0,ce.m9)(n),t=(0,ce.m9)(t),(n instanceof Qo||n instanceof Wm)&&(t instanceof Qo||t instanceof Wm)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function eP(n,t){return n=(0,ce.m9)(n),t=(0,ce.m9)(t),n instanceof eu&&t instanceof eu&&n.firestore===t.firestore&&gb(n._query,t._query)&&n.converter===t.converter}class PY{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new qF(this,"async_queue_retry"),this.Yc=()=>{const e=Rs();e&&en("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const t=Rs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=Rs();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const e=new Ua;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}ta(){var t=this;return(0,It.Z)(function*(){if(0!==t.Gc.length){try{yield t.Gc[0](),t.Gc.shift(),t.Lo.reset()}catch(e){if(!dh(e))throw e;en("AsyncQueue","Operation failed with retryable error: "+e)}t.Gc.length>0&&t.Lo.xo(()=>t.ta())}})()}Zc(t){const e=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{throw this.zc=i,this.Wc=!1,pa("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=e,e}enqueueAfterDelay(t,e,i){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const r=hN.createAndSchedule(this,t,e,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&Qn()}verifyOperationInProgress(){}na(){var t=this;return(0,It.Z)(function*(){let e;do{e=t.Kc,yield e}while(e!==t.Kc)})()}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}function tP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class UY{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ua,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ho extends n2{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new PY,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FH(this),this._firestoreClient.terminate()}}function ul(n){return n._firestoreClient||FH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FH(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new o5(n._databaseId,u,n._persistenceKey,(f=r).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new DY(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function MH(n,t,e){const i=new Ua;return n.asyncQueue.enqueue((0,It.Z)(function*(){try{yield YF(n,e),yield qN(n,t),i.resolve()}catch(r){const o=r;if(!gH(o))throw o;vd("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function kH(n){if(n._initialized||n._terminated)throw new qt(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jm(ll.fromBase64String(t))}catch(e){throw new qt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jm(ll.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Fy{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new qt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pb{constructor(t){this._methodName=t}}class tM{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new qt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zi(this._lat,t._lat)||zi(this._long,t._long)}}const YY=/^__.*__$/;class WY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new xA(t,this.data,this.fieldMask,e,this.fieldTransforms):new p0(t,this.data,e,this.fieldTransforms)}}class RH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new xA(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function OH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qn()}}class nM{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new nM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return sM(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(OH(this.ua)&&YY.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class JY{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||uo(t)}ga(t,e,i,r=!1){return new nM({ua:t,methodName:e,ma:i,path:lo.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(n){const t=n._freezeSettings(),e=uo(n._databaseId);return new JY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function iM(n,t,e,i,r,o={}){const a=n.ga(o.merge||o.mergeFields?2:0,t,e,r);sP("Data must be an object, but it was:",a,i);const u=PH(i,a);let h,f;if(o.merge)h=new Wc(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const _=[];for(const b of o.mergeFields){const F=o2(t,b,e);if(!a.contains(F))throw new qt(wt.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);QH(_,F)||_.push(F)}h=new Wc(_),f=a.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,f=a.fieldTransforms;return new WY(new Ll(u),h,f)}class s2 extends Pb{_toFieldTransform(t){if(2!==t.ua)throw t._a(1===t.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof s2}}function LH(n,t,e){return new nM({ua:3,ma:t.settings.ma,methodName:n._methodName,ha:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nP extends Pb{_toFieldTransform(t){return new h0(t.path,new wy)}isEqual(t){return t instanceof nP}}class XY extends Pb{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=LH(this,t,!0),i=this.ya.map(o=>Qb(o,e)),r=new Lm(i);return new h0(t.path,r)}isEqual(t){return this===t}}class eW extends Pb{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=LH(this,t,!0),i=this.ya.map(o=>Qb(o,e)),r=new Nm(i);return new h0(t.path,r)}isEqual(t){return this===t}}class tW extends Pb{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=new by(t.serializer,eF(t.serializer,this.pa));return new h0(t.path,e)}isEqual(t){return this===t}}function iP(n,t,e,i){const r=n.ga(1,t,e);sP("Data must be an object, but it was:",r,i);const o=[],a=Ll.empty();Bm(i,(h,f)=>{const _=rM(t,h,e);f=(0,ce.m9)(f);const b=r.fa(_);if(f instanceof s2)o.push(_);else{const F=Qb(f,b);null!=F&&(o.push(_),a.set(_,F))}});const u=new Wc(o);return new RH(a,u,r.fieldTransforms)}function rP(n,t,e,i,r,o){const a=n.ga(1,t,e),u=[o2(t,i,e)],h=[r];if(o.length%2!=0)throw new qt(wt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)u.push(o2(t,o[F])),h.push(o[F+1]);const f=[],_=Ll.empty();for(let F=u.length-1;F>=0;--F)if(!QH(f,u[F])){const B=u[F];let U=h[F];U=(0,ce.m9)(U);const H=a.fa(B);if(U instanceof s2)f.push(B);else{const Z=Qb(U,H);null!=Z&&(f.push(B),_.set(B,Z))}}const b=new Wc(f);return new RH(_,b,a.fieldTransforms)}function NH(n,t,e,i=!1){return Qb(e,n.ga(i?4:3,t))}function Qb(n,t){if(UH(n=(0,ce.m9)(n)))return sP("Unsupported field value:",t,n),PH(n,t);if(n instanceof Pb)return function(e,i){if(!OH(i.ua))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let u=Qb(a,i.da(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ce.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eF(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ao.fromDate(e);return{timestampValue:Cy(i.serializer,r)}}if(e instanceof ao){const r=new ao(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cy(i.serializer,r)}}if(e instanceof tM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jm)return{bytesValue:_F(i.serializer,e._byteString)};if(e instanceof Qo){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:z1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${XF(e)}`)}(n,t)}function PH(n,t){const e={};return iI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bm(n,(i,r)=>{const o=Qb(r,t.aa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function UH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ao||n instanceof tM||n instanceof Jm||n instanceof Qo||n instanceof Pb)}function sP(n,t,e){if(!UH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=XF(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function o2(n,t,e){if((t=(0,ce.m9)(t))instanceof Fy)return t._internalPath;if("string"==typeof t)return rM(n,t);throw sM("Field path arguments must be of type string or ",n,!1,void 0,e)}const nW=new RegExp("[~\\*/\\[\\]]");function rM(n,t,e){if(t.search(nW)>=0)throw sM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Fy(...t.split("."))._internalPath}catch{throw sM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sM(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new qt(wt.INVALID_ARGUMENT,u+n+h)}function QH(n,t){return n.some(e=>e.isEqual(t))}class a2{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new iW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(oM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class iW extends a2{data(){return super.data()}}function oM(n,t){return"string"==typeof t?rM(n,t):t instanceof Fy?t._internalPath:t._delegate._internalPath}function HH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oP{}class l2 extends oP{}function C0(n,t,...e){let i=[];t instanceof oP&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof gx).length,a=r.filter(u=>u instanceof c2).length;if(o>1||o>0&&a>0)throw new qt(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class c2 extends l2{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new c2(t,e,i)}_apply(t){const e=this._parse(t);return zH(t._query,e),new eu(t.firestore,t.converter,pb(t._query,e))}_parse(t){const e=Ub(t.firestore);return function(r,o,a,u,h,f,_){let b;if(h.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new qt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){jH(_,f);const F=[];for(const B of _)F.push(GH(u,r,B));b={arrayValue:{values:F}}}else b=GH(u,r,_)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||jH(_,f),b=NH(a,"where",_,"in"===f||"not-in"===f);return xr.create(h,f,b)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class gx extends oP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gx(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:us.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const u of a)zH(o,u),o=pb(o,u)}(t._query,e),new eu(t.firestore,t.converter,pb(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aP extends l2{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new aP(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new qt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new qt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new c0(r,o);return function(u,h){if(null===mI(u)){const f=M1(u);null!==f&&qH(0,f,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new eu(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Kp(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class aM extends l2{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new aM(t,e,i)}_apply(t){return new eu(t.firestore,t.converter,bd(t._query,this._limit,this._limitType))}}class lM extends l2{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new lM(t,e,i)}_apply(t){const e=VH(t,this.type,this._docOrFields,this._inclusive);return new eu(t.firestore,t.converter,(r=e,new Kp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class cM extends l2{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new cM(t,e,i)}_apply(t){const e=VH(t,this.type,this._docOrFields,this._inclusive);return new eu(t.firestore,t.converter,(r=e,new Kp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function VH(n,t,e,i){if(e[0]=(0,ce.m9)(e[0]),e[0]instanceof a2)return function(r,o,a,u,h){if(!u)throw new qt(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const _ of bA(r))if(_.field.isKeyField())f.push(zp(o,u.key));else{const b=u.data.field(_.field);if(x1(b))throw new qt(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const F=_.field.canonicalString();throw new qt(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}f.push(b)}return new qp(f,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Ub(n.firestore);return function(o,a,u,h,f,_){const b=o.explicitOrderBy;if(f.length>b.length)throw new qt(wt.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<f.length;B++){const U=f[B];if(b[B].field.isKeyField()){if("string"!=typeof U)throw new qt(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof U}`);if(!_I(o)&&-1!==U.indexOf("/"))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${U}' contains a slash.`);const H=o.path.child(Qr.fromString(U));if(!tn.isDocumentKey(H))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const Z=new tn(H);F.push(zp(a,Z))}else{const H=NH(u,h,U);F.push(H)}}return new qp(F,_)}(n._query,n.firestore._databaseId,r,t,e,i)}}function GH(n,t,e){if("string"==typeof(e=(0,ce.m9)(e))){if(""===e)throw new qt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_I(t)&&-1!==e.indexOf("/"))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Qr.fromString(e));if(!tn.isDocumentKey(i))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zp(n,new tn(i))}if(e instanceof Qo)return zp(n,e._key);throw new qt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XF(e)}.`)}function jH(n,t){if(!Array.isArray(n)||0===n.length)throw new qt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zH(n,t){if(t.isInequality()){const i=M1(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=mI(n);null!==o&&qH(0,r,o)}const e=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new qt(wt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function qH(n,t,e){if(!e.isEqual(t))throw new qt(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class lP{convertValue(t,e="none"){switch(km(t)){case 0:return null;case 1:return t.booleanValue;case 2:return na(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Qn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Bm(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new tM(na(t.latitude),na(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=db(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(a0(t));default:return null}}convertTimestamp(t){const e=Fm(t);return new ao(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Qr.fromString(t);ai(D5(i));const r=new Mm(i.get(1),i.get(3)),o=new tn(i.popFirst(5));return r.isEqual(e)||pa(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function uM(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class hW extends lP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qo(this.firestore,null,e)}}class Hb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class My extends a2{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new u2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(oM("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class u2 extends My{data(t={}){return super.data(t)}}class x0{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hb(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new u2(this._firestore,this._userDataWriter,i.key,i,new Hb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new u2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new u2(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return 0!==a.type&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:fW(a.type),doc:u,oldIndex:h,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function fW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qn()}}function ZH(n,t){return n instanceof My&&t instanceof My?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof x0&&t instanceof x0&&n._firestore===t._firestore&&eP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class E0 extends lP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qo(this.firestore,null,e)}}function $H(n,t,e){n=Hr(n,Qo);const i=Hr(n.firestore,Ho),r=uM(n.converter,t,e);return mx(i,[iM(Ub(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ms.none())])}function YH(n,t,e,...i){n=Hr(n,Qo);const r=Hr(n.firestore,Ho),o=Ub(r);let a;return a="string"==typeof(t=(0,ce.m9)(t))||t instanceof Fy?rP(o,"updateDoc",n._key,t,e,i):iP(o,"updateDoc",n._key,t),mx(r,[a.toMutation(n._key,ms.exists(!0))])}function WH(n,...t){var e,i,r;n=(0,ce.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||tP(t[a])||(o=t[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges};if(tP(t[a])){const b=t[a];t[a]=null===(e=b.next)||void 0===e?void 0:e.bind(b),t[a+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),t[a+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let h,f,_;if(n instanceof Qo)f=Hr(n.firestore,Ho),_=yy(n._key.path),h={next:b=>{t[a]&&t[a](cP(f,n,b))},error:t[a+1],complete:t[a+2]};else{const b=Hr(n,eu);f=Hr(b.firestore,Ho),_=b._query;const F=new E0(f);h={next:B=>{t[a]&&t[a](new x0(f,F,b,B))},error:t[a+1],complete:t[a+2]},HH(n._query)}return function(b,F,B,U){const H=new $F(U),Z=new _N(F,H,B);return b.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return AN(yield px(b),Z)})),()=>{H.Sc(),b.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return pN(yield px(b),Z)}))}}(ul(f),_,u,h)}function mx(n,t){return function(e,i){const r=new Ua;return e.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return function lY(n,t,e){return CN.apply(this,arguments)}(yield WN(e),i,r)})),r.promise}(ul(n),t)}function cP(n,t,e){const i=e.docs.get(t._key),r=new E0(n);return new My(n,r,t._key,i,new Hb(e.hasPendingWrites,e.fromCache),t.converter)}const MW={maxAttempts:5};class JH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ub(t)}set(t,e,i){this._verifyNotCommitted();const r=S0(t,this._firestore),o=uM(r.converter,e,i),a=iM(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,ms.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=S0(t,this._firestore);let a;return a="string"==typeof(e=(0,ce.m9)(e))||e instanceof Fy?rP(this._dataReader,"WriteBatch.update",o._key,e,i,r):iP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,ms.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=S0(t,this._firestore);return this._mutations=this._mutations.concat(new g0(e._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function S0(n,t){if((n=(0,ce.m9)(n)).firestore!==t)throw new qt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class kW extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ub(t)}get(t){const e=S0(t,this._firestore),i=new hW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Qn();const o=r[0];if(o.isFoundDocument())return new a2(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new a2(this._firestore,i,e._key,null,e.converter);throw Qn()})}set(t,e,i){const r=S0(t,this._firestore),o=uM(r.converter,e,i),a=iM(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=S0(t,this._firestore);let a;return a="string"==typeof(e=(0,ce.m9)(e))||e instanceof Fy?rP(this._dataReader,"Transaction.update",o._key,e,i,r):iP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=S0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=S0(t,this._firestore),i=new E0(this._firestore);return super.get(t).then(r=>new My(this._firestore,i,e._key,r._document,new Hb(!1,!1),e.converter))}}!function(n,t=!0){e0=fA.SDK_VERSION,(0,fA._registerComponent)(new Pp.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),a=new Ho(new HL(e.getProvider("auth-internal")),new ZS(e.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mm(u.options.projectId,h)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,fA.registerVersion)(yB,"3.11.0",n),(0,fA.registerVersion)(yB,"3.11.0","esm2017")}();class dM{constructor(t,e){this.username="",this.password="",this.regno="",this.nomePg="",this.usernameNoMd5="",t&&(this.username=t),e&&(this.password=e)}}class QW{constructor(){this.id=0,this.username="",this.attiva=!1,this.data=new ao(0,0)}}class hM{}class uP{}class oc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof oc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new oc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof oc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===o.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class HW{encodeKey(t){return eV(t)}encodeValue(t){return eV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const GW=/%(\d[a-f0-9])/gi,jW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eV(n){return encodeURIComponent(n).replace(GW,(t,e)=>jW[e]??t)}function AM(n){return`${n}`}class SA{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new HW,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VW(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(AM):[AM(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new SA({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(AM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(AM(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class zW{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function tV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nV(n){return typeof Blob<"u"&&n instanceof Blob}function iV(n){return typeof FormData<"u"&&n instanceof FormData}class d2{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new oc),this.context||(this.context=new zW),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new SA,this.urlWithParams=e}serializeBody(){return null===this.body?null:tV(this.body)||nV(this.body)||iV(this.body)||function KW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof SA?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iV(this.body)?null:nV(this.body)?this.body.type||null:tV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof SA?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const _=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((b,F)=>b.set(F,t.setHeaders[F]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((b,F)=>b.set(F,t.setParams[F]),f)),new d2(e,i,o,{params:f,headers:h,context:_,reportProgress:u,responseType:r,withCredentials:a})}}var Nl=(()=>((Nl=Nl||{})[Nl.Sent=0]="Sent",Nl[Nl.UploadProgress=1]="UploadProgress",Nl[Nl.ResponseHeader=2]="ResponseHeader",Nl[Nl.DownloadProgress=3]="DownloadProgress",Nl[Nl.Response=4]="Response",Nl[Nl.User=5]="User",Nl))();class dP{constructor(t,e=200,i="OK"){this.headers=t.headers||new oc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hP extends dP{constructor(t={}){super(t),this.type=Nl.ResponseHeader}clone(t={}){return new hP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fM extends dP{constructor(t={}){super(t),this.type=Nl.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rV extends dP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _x=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof d2)o=e;else{let h,f;h=r.headers instanceof oc?r.headers:new oc(r.headers),r.params&&(f=r.params instanceof SA?r.params:new SA({fromObject:r.params})),o=new d2(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=pn(o).pipe(Xa(h=>this.handler.handle(h)));if(e instanceof d2||"events"===r.observe)return a;const u=a.pipe(yi(h=>h instanceof fM));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,cn.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,cn.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,cn.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,cn.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new SA).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,AP(r,i))}post(e,i,r={}){return this.request("POST",e,AP(r,i))}put(e,i,r={}){return this.request("PUT",e,AP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function sV(n,t){return t(n)}function ZW(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const oV=new s.OlP("HTTP_INTERCEPTORS"),h2=new s.OlP("HTTP_INTERCEPTOR_FNS");function YW(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(oV,{optional:!0})??[]).reduceRight(ZW,sV)),n(t,e))}let aV=(()=>{class n extends hM{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(h2)));this.chain=i.reduceRight((r,o)=>function $W(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),sV)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uP),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const eJ=/^\)\]\}',?\n/;let cV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gr.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,U)=>r.setRequestHeader(B,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const B=r.statusText||"OK",U=new oc(r.getAllResponseHeaders()),H=function tJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new hP({headers:U,status:r.status,statusText:B,url:H}),a},h=()=>{let{headers:B,status:U,statusText:H,url:Z}=u(),z=null;204!==U&&(z=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=z?200:0);let W=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof z){const fe=z;z=z.replace(eJ,"");try{z=""!==z?JSON.parse(z):null}catch(De){z=fe,W&&(W=!1,z={error:De,text:z})}}W?(i.next(new fM({body:z,headers:B,status:U,statusText:H,url:Z||void 0})),i.complete()):i.error(new rV({error:z,headers:B,status:U,statusText:H,url:Z||void 0}))},f=B=>{const{url:U}=u(),H=new rV({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(H)};let _=!1;const b=B=>{_||(i.next(u()),_=!0);let U={type:Nl.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},F=B=>{let U={type:Nl.UploadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),i.next(U)};return r.addEventListener("load",h),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),e.reportProgress&&(r.addEventListener("progress",b),null!==o&&r.upload&&r.upload.addEventListener("progress",F)),r.send(o),i.next({type:Nl.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",h),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",b),null!==o&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zl))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const fP=new s.OlP("XSRF_ENABLED"),uV="XSRF-TOKEN",dV=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>uV}),hV="X-XSRF-TOKEN",AV=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>hV});class fV{}let nJ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ro(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(s.Lbi),s.LFG(dV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function iJ(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(fP)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(fV).getToken(),r=(0,s.f3M)(AV);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var dl=(()=>((dl=dl||{})[dl.Interceptors=0]="Interceptors",dl[dl.LegacyInterceptors=1]="LegacyInterceptors",dl[dl.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dl[dl.NoXsrfProtection=3]="NoXsrfProtection",dl[dl.JsonpSupport=4]="JsonpSupport",dl[dl.RequestsMadeViaParent=5]="RequestsMadeViaParent",dl))();function yx(n,t){return{\u0275kind:n,\u0275providers:t}}function rJ(...n){const t=[_x,cV,aV,{provide:hM,useExisting:aV},{provide:uP,useExisting:cV},{provide:h2,useValue:iJ,multi:!0},{provide:fP,useValue:!0},{provide:fV,useClass:nJ}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const pV=new s.OlP("LEGACY_INTERCEPTOR_FN");function oJ({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:dV,useValue:n}),void 0!==t&&e.push({provide:AV,useValue:t}),yx(dl.CustomXsrfConfiguration,e)}let aJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rJ(yx(dl.LegacyInterceptors,[{provide:pV,useFactory:YW},{provide:h2,useExisting:pV,multi:!0}]),oJ({cookieName:uV,headerName:hV}))]}),n})();class pP{constructor(){this.guid="",this.author="",this.date=new Date,this.title="",this.like=0,this.tipologia="",this.utenti=new Array,this.delay=0}}class gP{constructor(){this.macro=new pP,this.azione="",this.value="",this.descrizione="",this.tipologia=""}}class gV{constructor(){this.comando="",this.settings=new Array,this.type="",this.code="",this.subCode=""}}class vx extends gV{constructor(){super(...arguments),this.function="",this.index=0}}class mV{constructor(){this.settings=new Array,this.macro=new pP,this.descrizione=""}}class _V{constructor(){this.checked=!0,this.settings=new Array,this.macro=new gP}}let mP;try{mP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mP=!1}let wx,ia=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Kl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const yV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vV(){if(wx)return wx;if("object"!=typeof document||!document)return wx=new Set(yV),wx;let n=document.createElement("input");return wx=new Set(yV.filter(t=>(n.setAttribute("type",t),n.type===t))),wx}let A2,gM,Vb,_P;function f2(n){return function cJ(){if(null==A2&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>A2=!0}))}finally{A2=A2||!1}return A2}()?n:!!n.capture}function wV(){if(null==Vb){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Vb=!1,Vb;if("scrollBehavior"in document.documentElement.style)Vb=!0;else{const n=Element.prototype.scrollTo;Vb=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Vb}function p2(){if("object"!=typeof document||!document)return 0;if(null==gM){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),gM=0,0===n.scrollLeft&&(n.scrollLeft=1,gM=0===n.scrollLeft?1:2),n.remove()}return gM}function bV(n){if(function uJ(){if(null==_P){const n=typeof document<"u"?document.head:null;_P=!(!n||!n.createShadowRoot&&!n.attachShadow)}return _P}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function mM(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Gb(n){return n.composedPath?n.composedPath()[0]:n.target}function yP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class ky{constructor(){}xmlToJson(t){let e={};if(1===t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(let i=0;i<t.attributes.length;i+=1){const r=t.attributes.item(i);e["@attributes"][r.nodeName]=r.nodeValue}}}else 3===t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes()&&1===t.childNodes.length&&3===t.childNodes[0].nodeType)e=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i+=1){const r=t.childNodes.item(i),o=r.nodeName;if(typeof e[o]>"u")e[o]=this.xmlToJson(r);else{if(typeof e[o].push>"u"){const a=e[o];e[o]=[],e[o].push(a)}e[o].push(this.xmlToJson(r))}}return e}}ky.\u0275fac=function(t){return new(t||ky)},ky.\u0275prov=s.Yz7({token:ky,factory:ky.\u0275fac,providedIn:"root"}),ky.ngInjectableDef=(0,s.Ez6)({factory:function(){return new ky},token:ky,providedIn:"root"});var jb=ie(4986),Vo=ie(4976);function vP(){return(0,Wr.e)((n,t)=>{let e,i=!1;n.subscribe(new Pr.Q(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function zb(n,t=Cn.y){return n=n??dJ,(0,Wr.e)((e,i)=>{let r,o=!0;e.subscribe(new Pr.Q(i,a=>{const u=t(a);(o||!n(r,u))&&(o=!1,r=u,i.next(a))}))})}function dJ(n,t){return n===t}var Cd=ie(2011),CV=(ie(8523),ie(3942));function wP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function xV(){if(typeof Uint8Array>"u")throw new qt("unimplemented","Uint8Arrays are not available in this environment.")}function EV(){if(!function r5(){return typeof atob<"u"}())throw new qt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class g2{constructor(t){this._delegate=t}static fromBase64String(t){return EV(),new g2(Jm.fromBase64String(t))}static fromUint8Array(t){return xV(),new g2(Jm.fromUint8Array(t))}toBase64(){return EV(),this._delegate.toBase64()}toUint8Array(){return xV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bP(n){return function fJ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class pJ{enableIndexedDbPersistence(t,e){return function HY(n,t){kH(n=Hr(n,Ho));const e=ul(n);if(e._uninitializedComponentsProvider)throw new qt(wt.FAILED_PRECONDITION,"SDK cache is already specified.");vd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new fx;return MH(e,r,new jN(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function VY(n){kH(n=Hr(n,Ho));const t=ul(n);if(t._uninitializedComponentsProvider)throw new qt(wt.FAILED_PRECONDITION,"SDK cache is already specified.");vd("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new fx;return MH(t,i,new fH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function GY(n){if(n._initialized&&!n._terminated)throw new qt(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ua;return n._queue.enqueueAndForgetEvenWhileRestricted((0,It.Z)(function*(){try{yield(e=(0,It.Z)(function*(i){if(!uh.D())return Promise.resolve();const r=i+"main";yield uh.delete(r)}),function(i){return e.apply(this,arguments)})(ox(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class SV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Mm||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&vd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function DH(n,t,e,i={}){var r;const o=(n=Hr(n,n2))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&vd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=Rl.MOCK_USER;else{a=(0,ce.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new qt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rl(h)}n._authCredentials=new fy(new g1(a,u))}}(this._delegate,t,e,i)}enableNetwork(){return function zY(n){return function TY(n){return n.asyncQueue.enqueue((0,It.Z)(function*(){const t=yield mH(n),e=yield _H(n);return t.setNetworkEnabled(!0),function(i){const r=En(i);return r.Au.delete(0),XI(r)}(e)}))}(ul(n=Hr(n,Ho)))}(this._delegate)}disableNetwork(){return function qY(n){return function BY(n){return n.asyncQueue.enqueue((0,It.Z)(function*(){const t=yield mH(n),e=yield _H(n);return t.setNetworkEnabled(!1),(i=(0,It.Z)(function*(r){const o=En(r);o.Au.add(0),yield ax(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ul(n=Hr(n,Ho)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,CH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jY(n){return function(t){const e=new Ua;return t.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return function hY(n,t){return DN.apply(this,arguments)}(yield WN(t),e)})),e.promise}(ul(n=Hr(n,Ho)))}(this._delegate)}onSnapshotsInSync(t){return function CW(n,t){return function kY(n,t){const e=new $F(t);return n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return i=yield px(n),r=e,En(i).Nu.add(r),void r.next();var i,r})),()=>{e.Sc(),n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return i=yield px(n),r=e,void En(i).Nu.delete(r);var i,r}))}}(ul(n=Hr(n,Ho)),tP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new qt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new bx(this,TH(this._delegate,t))}catch(e){throw xd(e,"collection()","Firestore.collection()")}}doc(t){try{return new If(this,eM(this._delegate,t))}catch(e){throw xd(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ed(this,function NY(n,t){if(n=Hr(n,n2),XN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qt(wt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eu(n,null,(e=t,new Kp(Qr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw xd(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function RW(n,t,e){n=Hr(n,Ho);const i=Object.assign(Object.assign({},MW),e);return function(r){if(r.maxAttempts<1)throw new qt(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,a){const u=new Ua;return r.asyncQueue.enqueueAndForget((0,It.Z)(function*(){const h=yield function yH(n){return WF(n).then(t=>t.datastore)}(r);new IY(r.asyncQueue,h,a,o,u).run()})),u.promise}(ul(n),r=>t(new kW(n,r)),i)}(this._delegate,e=>t(new IV(this,e)))}batch(){return ul(this._delegate),new DV(new JH(this._delegate,t=>mx(this._delegate,t)))}loadBundle(t){return function KY(n,t){const e=ul(n=Hr(n,Ho)),i=new UY;return function RY(n,t,e,i){const r=function(o,a){let u;return u="string"==typeof o?II().encode(o):o,h=function(h,f){if(h instanceof Uint8Array)return pH(h,f);if(h instanceof ArrayBuffer)return pH(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new EY(h,a);var h}(e,uo(t));n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){!function CY(n,t,e){const i=En(n);var r;(r=(0,It.Z)(function*(o,a,u){try{const h=yield a.getMetadata();if(yield function(F,B){const U=En(F),H=Qa(B.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Z=>U.Ls.getBundleMetadata(Z,B.id)).then(Z=>!!Z&&Z.createTime.compareTo(H)>=0)}(o.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(F=h).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);u._updateProgress(sH(h));const f=new nY(h,o.localStore,a.serializer);let _=yield a.Pc();for(;_;){const F=yield f.ju(_);F&&u._updateProgress(F),_=yield a.Pc()}const b=yield f.complete();return yield By(o,b.Hu,void 0),yield function(F,B){const U=En(F);return U.persistence.runTransaction("Save bundle","readwrite",H=>U.Ls.saveBundleMetadata(H,B))}(o.localStore,h),u._completeWith(b.progress),Promise.resolve(b.Wu)}catch(h){return vd("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var F}),function(o,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield WN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function ZY(n,t){return function OY(n,t){return n.asyncQueue.enqueue((0,It.Z)(function*(){return function(e,i){const r=En(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield JF(n),t)}))}(ul(n=Hr(n,Ho)),t).then(e=>e?new eu(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ed(this,e):null)}}class _M extends lP{constructor(t){super(),this.firestore=t}convertBytes(t){return new g2(new Jm(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return If.forKey(e,this.firestore,null)}}class IV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _M(t)}get(t){const e=Kb(t);return this._delegate.get(e).then(i=>new m2(this._firestore,new My(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Kb(t);return i?(wP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Kb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Kb(t);return this._delegate.delete(e),this}}class DV{constructor(t){this._delegate=t}set(t,e,i){const r=Kb(t);return i?(wP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Kb(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Kb(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class qb{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new u2(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _2(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=qb.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new qb(t,new _M(t),e),r.set(e,o)),o}}qb.INSTANCES=new WeakMap;class If{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _M(t)}static forPath(t,e,i){if(t.length%2!=0)throw new qt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new If(e,new Qo(e._delegate,i,new tn(t)))}static forKey(t,e,i){return new If(e,new Qo(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new bx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new bx(this.firestore,TH(this._delegate,t))}catch(e){throw xd(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ce.m9)(t))instanceof Qo&&BH(this._delegate,t)}set(t,e){e=wP("DocumentReference.set",e);try{return e?$H(this._delegate,t,e):$H(this._delegate,t)}catch(i){throw xd(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?YH(this._delegate,t):YH(this._delegate,t,e,...i)}catch(r){throw xd(r,"updateDoc()","DocumentReference.update()")}}delete(){return function wW(n){return mx(Hr(n.firestore,Ho),[new g0(n._key,ms.none())])}(this._delegate)}onSnapshot(...t){const e=TV(t),i=BV(t,r=>new m2(this.firestore,new My(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return WH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function gW(n){n=Hr(n,Qo);const t=Hr(n.firestore,Ho),e=ul(t),i=new E0(t);return function FY(n,t){const e=new Ua;return n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return(i=(0,It.Z)(function*(r,o,a){try{const u=yield function(h,f){const _=En(h);return _.persistence.runTransaction("read document","readonly",b=>_.localDocuments.getDocument(b,f))}(r,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new qt(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=ux(u,`Failed to get document '${o} from cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield JF(n),t,e);var i})),e.promise}(e,n._key).then(r=>new My(t,i,n._key,r,new Hb(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function mW(n){n=Hr(n,Qo);const t=Hr(n.firestore,Ho);return vH(ul(t),n._key,{source:"server"}).then(e=>cP(t,n,e))}(this._delegate):function pW(n){n=Hr(n,Qo);const t=Hr(n.firestore,Ho);return vH(ul(t),n._key).then(e=>cP(t,n,e))}(this._delegate),e.then(i=>new m2(this.firestore,new My(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new If(this.firestore,this._delegate.withConverter(t?qb.getInstance(this.firestore,t):null))}}function xd(n,t,e){return n.message=n.message.replace(t,e),n}function TV(n){for(const t of n)if("object"==typeof t&&!bP(t))return t;return{}}function BV(n,t){var e,i;let r;return r=bP(n[0])?n[0]:bP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class m2{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new If(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return ZH(this._delegate,t._delegate)}}class _2 extends m2{data(t){const e=this._delegate.data(t);return function vB(n,t){n||Qn()}(void 0!==e),e}}class Ed{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _M(t)}where(t,e,i){try{return new Ed(this.firestore,C0(this._delegate,function rW(n,t,e){const i=t,r=oM("where",n);return c2._create(r,i,e)}(t,e,i)))}catch(r){throw xd(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ed(this.firestore,C0(this._delegate,function sW(n,t="asc"){const e=t,i=oM("orderBy",n);return aP._create(i,e)}(t,e)))}catch(i){throw xd(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ed(this.firestore,C0(this._delegate,function oW(n){return SH("limit",n),aM._create("limit",n,"F")}(t)))}catch(e){throw xd(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ed(this.firestore,C0(this._delegate,function aW(n){return SH("limitToLast",n),aM._create("limitToLast",n,"L")}(t)))}catch(e){throw xd(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ed(this.firestore,C0(this._delegate,function lW(...n){return lM._create("startAt",n,!0)}(...t)))}catch(e){throw xd(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ed(this.firestore,C0(this._delegate,function cW(...n){return lM._create("startAfter",n,!1)}(...t)))}catch(e){throw xd(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ed(this.firestore,C0(this._delegate,function uW(...n){return cM._create("endBefore",n,!1)}(...t)))}catch(e){throw xd(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ed(this.firestore,C0(this._delegate,function dW(...n){return cM._create("endAt",n,!0)}(...t)))}catch(e){throw xd(e,"endAt()","Query.endAt()")}}isEqual(t){return eP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function yW(n){n=Hr(n,eu);const t=Hr(n.firestore,Ho),e=ul(t),i=new E0(t);return function MY(n,t){const e=new Ua;return n.asyncQueue.enqueueAndForget((0,It.Z)(function*(){return(i=(0,It.Z)(function*(r,o,a){try{const u=yield JI(r,o,!0),h=new lH(o,u.sr),f=h.nc(u.documents),_=h.applyChanges(f,!1);a.resolve(_.snapshot)}catch(u){const h=ux(u,`Failed to execute query '${o} against cache`);a.reject(h)}}),function(r,o,a){return i.apply(this,arguments)})(yield JF(n),t,e);var i})),e.promise}(e,n._query).then(r=>new x0(t,i,n,r))}(this._delegate):"server"===t?.source?function vW(n){n=Hr(n,eu);const t=Hr(n.firestore,Ho),e=ul(t),i=new E0(t);return wH(e,n._query,{source:"server"}).then(r=>new x0(t,i,n,r))}(this._delegate):function _W(n){n=Hr(n,eu);const t=Hr(n.firestore,Ho),e=ul(t),i=new E0(t);return HH(n._query),wH(e,n._query).then(r=>new x0(t,i,n,r))}(this._delegate),e.then(i=>new CP(this.firestore,new x0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=TV(t),i=BV(t,r=>new CP(this.firestore,new x0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return WH(this._delegate,e,i)}withConverter(t){return new Ed(this.firestore,this._delegate.withConverter(t?qb.getInstance(this.firestore,t):null))}}class mJ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new _2(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ed(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new _2(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new mJ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new _2(this._firestore,i))})}isEqual(t){return ZH(this._delegate,t._delegate)}}class bx extends Ed{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new If(this.firestore,t):null}doc(t){try{return new If(this.firestore,void 0===t?eM(this._delegate):eM(this._delegate,t))}catch(e){throw xd(e,"doc()","CollectionReference.doc()")}}add(t){return function bW(n,t){const e=Hr(n.firestore,Ho),i=eM(n),r=uM(n.converter,t);return mx(e,[iM(Ub(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ms.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new If(this.firestore,e))}isEqual(t){return BH(this._delegate,t._delegate)}withConverter(t){return new bx(this.firestore,this._delegate.withConverter(t?qb.getInstance(this.firestore,t):null))}}function Kb(n){return Hr(n,Qo)}class xP{constructor(...t){this._delegate=new Fy(...t)}static documentId(){return new xP(lo.keyField().canonicalString())}isEqual(t){return(t=(0,ce.m9)(t))instanceof Fy&&this._delegate._internalPath.isEqual(t._internalPath)}}class Zb{constructor(t){this._delegate=t}static serverTimestamp(){const t=function LW(){return new nP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Zb(t)}static delete(){const t=function OW(){return new s2("deleteField")}();return t._methodName="FieldValue.delete",new Zb(t)}static arrayUnion(...t){const e=function NW(...n){return new XY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Zb(e)}static arrayRemove(...t){const e=function PW(...n){return new eW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Zb(e)}static increment(t){const e=function UW(n){return new tW("increment",n)}(t);return e._methodName="FieldValue.increment",new Zb(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const _J={Firestore:SV,GeoPoint:tM,Timestamp:ao,Blob:g2,Transaction:IV,WriteBatch:DV,DocumentReference:If,DocumentSnapshot:m2,Query:Ed,QueryDocumentSnapshot:_2,QuerySnapshot:CP,CollectionReference:bx,FieldPath:xP,FieldValue:Zb,setLogLevel:function gJ(n){!function QL(n){Im.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function vJ(n){(function yJ(n,t){n.INTERNAL.registerComponent(new Pp.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},_J)))})(n,(t,e)=>new SV(t,e,new pJ)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(CV.Z);var tu=ie(6451),yM=ie(5363),wJ=ie(6063);class bJ extends sn.x{constructor(t=1/0,e=1/0,i=wJ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var EP=ie(3099);function FV(n,t,e){var i,r;let o,a=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,a=!!n.refCount,e=n.scheduler):o=n??1/0,(0,EP.B)({connector:()=>new bJ(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function MV(n,t){return(0,qs.m)(t)?fs(()=>n,t):fs(()=>n)}var SP=ie(9468);ie(259);const DP=new Map,RV={activated:!1,tokenObservers:[]},IJ={initialized:!1,enabled:!1};function Ha(n){return DP.get(n)||Object.assign({},RV)}function wM(){return IJ}class kJ{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,It.Z)(function*(){e.stop();try{e.pending=new ce.BH,yield function RJ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ce.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const nu=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function BP(n){if(!Ha(n).activated)throw nu.create("use-before-activation",{appName:n.name})}function xM(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,It.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const o={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,o)}catch(b){throw nu.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==a.status)throw nu.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(b){throw nu.create("fetch-parse-error",{originalErrorMessage:b?.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw nu.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const f=1e3*Number(h[1]),_=Date.now();return{token:u.token,expireTimeMillis:_+f,issuedAtTimeMillis:_}}),MP.apply(this,arguments)}function LV(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const y2="firebase-app-check-store";let EM=null;function PV(){return EM||(EM=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(nu.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(y2,{keyPath:"compositeKey"})}}catch(e){t(nu.create("storage-open",{originalErrorMessage:e?.message}))}}),EM)}function kP(){return kP=(0,It.Z)(function*(n,t){const i=(yield PV()).transaction(y2,"readwrite"),o=i.objectStore(y2).put({compositeKey:n,value:t});return new Promise((a,u)=>{o.onsuccess=h=>{a()},i.onerror=h=>{var f;u(nu.create("storage-set",{originalErrorMessage:null===(f=h.target.error)||void 0===f?void 0:f.message}))}})}),kP.apply(this,arguments)}const v2=new pA.Yd("@firebase/app-check");function LP(n,t){return(0,ce.hl)()?function HJ(n,t){return function UV(n,t){return kP.apply(this,arguments)}(function HV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{v2.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function PP(){return wM().enabled}function UP(){return QP.apply(this,arguments)}function QP(){return QP=(0,It.Z)(function*(){const n=wM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QP.apply(this,arguments)}const KJ={error:"UNKNOWN_ERROR"};function ZJ(n){return ce.US.encodeString(JSON.stringify(n),!1)}function SM(n){return HP.apply(this,arguments)}function HP(){return HP=(0,It.Z)(function*(n,t=!1){const e=n.app;BP(e);const i=Ha(e);let o,r=i.token;if(r&&!Cx(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(Cx(h)?r=h:yield LP(e,void 0))}if(!t&&r&&Cx(r))return{token:r.token};let u,a=!1;if(PP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xM(LV(e,yield UP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield LP(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Ha(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?v2.warn(h.message):v2.error(h),o=h}return r?o?u=Cx(r)?{token:r.token,internalError:o}:jV(o):(u={token:r.token},i.token=r,yield LP(e,r)):u=jV(o),a&&GV(e,u),u}),HP.apply(this,arguments)}function jP(n,t){const e=Ha(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function VV(n){const{app:t}=n,e=Ha(t);let i=e.tokenRefresher;i||(i=function YJ(n){const{app:t}=n;return new kJ((0,It.Z)(function*(){let i;if(i=Ha(t).token?yield SM(n,!0):yield SM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ha(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function GV(n,t){const e=Ha(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function Cx(n){return n.expireTimeMillis-Date.now()>0}function jV(n){return{token:ZJ(KJ),error:n}}class WJ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ha(this.app);for(const e of t)jP(this.app,e.next);return Promise.resolve()}}const JV="app-check-internal";!function dX(){(0,fA._registerComponent)(new Pp.wA("app-check",n=>function JJ(n,t){return new WJ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(JV).initialize()})),(0,fA._registerComponent)(new Pp.wA(JV,n=>function XJ(n){return{getToken:t=>SM(n,t),addTokenListener:t=>function GP(n,t,e,i){const{app:r}=n,o=Ha(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&Cx(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),VV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VV(n))}(n,"INTERNAL",t),removeTokenListener:t=>jP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fA.registerVersion)("@firebase/app-check","0.7.0")}();class DM{constructor(){return(0,Vo.vb)("app-check")}}typeof window<"u"&&window;var e8=ie(9260);const $P=new s.OlP("angularfire2.auth.use-emulator"),YP=new s.OlP("angularfire2.auth.settings"),WP=new s.OlP("angularfire2.auth.tenant-id"),JP=new s.OlP("angularfire2.auth.langugage-code"),XP=new s.OlP("angularfire2.auth.use-device-language"),eU=new s.OlP("angularfire.auth.persistence"),tU=(n,t,e,i,r,o,a,u)=>(0,Cd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,o&&h.useDeviceLanguage(),a)for(const[f,_]of Object.entries(a))h.settings[f]=_;return u&&h.setPersistence(u),h},[e,i,r,o,a,u]);let w2=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B){const U=new sn.x,H=pn(void 0).pipe((0,yM.Q)(a.outsideAngular),fs(()=>o.runOutsideAngular(()=>Promise.resolve().then(ie.bind(ie,8523)))),(0,cn.U)(()=>(0,Cd.on)(e,o,i)),(0,cn.U)(Z=>tU(Z,o,u,f,_,b,h,F)),FV({bufferSize:1,refCount:!1}));if(va(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pn(null);else{H.pipe(No()).subscribe();const z=H.pipe(fs(De=>De.getRedirectResult().then(Ye=>Ye,()=>null)),Vo.iC,FV({bufferSize:1,refCount:!1})),W=H.pipe(fs(De=>new gr.y(Ye=>({unsubscribe:o.runOutsideAngular(()=>De.onAuthStateChanged(ct=>Ye.next(ct),ct=>Ye.error(ct),()=>Ye.complete()))})))),fe=H.pipe(fs(De=>new gr.y(Ye=>({unsubscribe:o.runOutsideAngular(()=>De.onIdTokenChanged(ct=>Ye.next(ct),ct=>Ye.error(ct),()=>Ye.complete()))}))));this.authState=z.pipe(MV(W),(0,SP.R)(a.outsideAngular),(0,yM.Q)(a.insideAngular)),this.user=z.pipe(MV(fe),(0,SP.R)(a.outsideAngular),(0,yM.Q)(a.insideAngular)),this.idToken=this.user.pipe(fs(De=>De?(0,zn.D)(De.getIdToken()):pn(null))),this.idTokenResult=this.user.pipe(fs(De=>De?(0,zn.D)(De.getIdTokenResult()):pn(null))),this.credential=(0,tu.T)(z,U,this.authState.pipe(yi(De=>!De))).pipe((0,cn.U)(De=>De?.user?De:null),(0,SP.R)(a.outsideAngular),(0,yM.Q)(a.insideAngular))}return(0,Cd.pX)(this,H,o,{spy:{apply:(Z,z,W)=>{(Z.startsWith("signIn")||Z.startsWith("createUser"))&&W.then(fe=>U.next(fe))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cd.Dh),s.LFG(Cd.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Vo.HU),s.LFG($P,8),s.LFG(YP,8),s.LFG(WP,8),s.LFG(JP,8),s.LFG(XP,8),s.LFG(eU,8),s.LFG(DM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mX=(()=>{class n{constructor(){e8.Z.registerVersion("angularfire",Vo.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[w2]}),n})();function t8(n,t){return function _X(n,t=jb.z){return new gr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function nU(n,t){return t8(n,t).pipe((0,cn.U)(e=>({payload:e,type:"query"})))}function TM(n,t){return nU(n,t).pipe(Ks(void 0),vP(),(0,cn.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(_=>_.doc.ref.isEqual(a.ref)),f=e?.payload.docs.find(_=>_.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function n8(n,t,e){return TM(n,e).pipe(Xl((i,r)=>function vX(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function wX(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return iU(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return iU(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return iU(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),zb(),(0,cn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function iU(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function i8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class r8{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=TM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,cn.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ks(void 0),vP(),yi(([i,r])=>r.length>0||!i),(0,cn.U)(([i,r])=>r),Vo.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=i8(t);return n8(this.query,e,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(t={}){return nU(this.query,this.afs.schedulers.outsideAngular).pipe((0,cn.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Vo.iC)}get(t){return(0,zn.D)(this.query.get(t)).pipe(Vo.iC)}add(t){return this.ref.add(t)}doc(t){return new s8(this.ref.doc(t),this.afs)}}class s8{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=l8(i,e);return new r8(r,o,this.afs)}snapshotChanges(){return function yX(n,t){return t8(n,t).pipe(Ks(void 0),vP(),(0,cn.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,cn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,zn.D)(this.ref.get(t)).pipe(Vo.iC)}}class bX{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?TM(this.query,this.afs.schedulers.outsideAngular).pipe((0,cn.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),yi(e=>e.length>0),Vo.iC):TM(this.query,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xl((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=i8(t);return n8(this.query,e,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(t={}){return nU(this.query,this.afs.schedulers.outsideAngular).pipe((0,cn.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Vo.iC)}get(t){return(0,zn.D)(this.query.get(t)).pipe(Vo.iC)}}const o8=new s.OlP("angularfire2.enableFirestorePersistence"),a8=new s.OlP("angularfire2.firestore.persistenceSettings"),CX=new s.OlP("angularfire2.firestore.settings"),xX=new s.OlP("angularfire2.firestore.use-emulator");function l8(n,t=(e=>e)){return{query:t(n),ref:n}}let BM=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B,U,H,Z,z,W){this.schedulers=h;const fe=(0,Cd.on)(e,u,i),De=_;b&&tU(fe,u,F,U,H,Z,B,z),[this.firestore,this.persistenceEnabled$]=(0,Cd.cc)(`${fe.name}.firestore`,"AngularFirestore",fe.name,()=>{const Ye=u.runOutsideAngular(()=>fe.firestore());if(o&&Ye.settings(o),De&&Ye.useEmulator(...De),r&&!va(a)){const ct=()=>{try{return(0,zn.D)(Ye.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(Ke){return typeof console<"u"&&console.warn(Ke),pn(!1)}};return[Ye,u.runOutsideAngular(ct)]}return[Ye,pn(!1)]},[o,De,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=l8(r,i),u=this.schedulers.ngZone.run(()=>o);return new r8(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new bX(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new s8(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cd.Dh),s.LFG(Cd.xv,8),s.LFG(o8,8),s.LFG(CX,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Vo.HU),s.LFG(a8,8),s.LFG(xX,8),s.LFG(w2,8),s.LFG($P,8),s.LFG(YP,8),s.LFG(WP,8),s.LFG(JP,8),s.LFG(XP,8),s.LFG(eU,8),s.LFG(DM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EX=(()=>{class n{constructor(){e8.Z.registerVersion("angularfire",Vo.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:o8,useValue:!0},{provide:a8,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[BM]}),n})();const SX=["Combattiva","Alza skill","Farming risorse","Generica"];let FM=(()=>{class n{constructor(e){this.store=e}GetTipologieMacro(){return SX}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}getMacro(e){return this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new gP;return a.macro.author=o.author,a.macro.guid=o.guid,a.macro.like=o.like,a.tipologia=o.tipologia,a.macro.title=o.title,a.descrizione=o.descrizione,a.macro.utenti=o.utenti,a.macro.delay=o.delay,a})))}getMacroSettingsUser(e){return this.store.collection("MacroSettingsUser",r=>r.where("guid","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new vx;return a.comando=o.comando,a.settings=o.settings,a.type=o.type,a.function=o.function,a.index=o.index,a})))}getMacros(){return this.store.collection("MacroUser").valueChanges().pipe((0,cn.U)(i=>i.map(r=>{let o=new pP;return o.author=r.author,o.date=r.dateTimeStamp.toDate(),o.guid=r.guid,o.like=r.like,o.tipologia=r.tipologia,o.title=r.title,o.utenti=r.utenti,o.delay=r.delay,o})))}getMacroSettings(){return this.store.collection("MacroSettings").valueChanges().pipe((0,cn.U)(i=>i.map(r=>{let o=new gV;return o.comando=r.comando,o.settings=r.settings,o.type=r.type,o.code=r.code,o.subCode=r.subCode,o})))}addLikeMacro(e,i){var r=new sn.x,o=this.store.collection("MacroUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(null!=a&&a.length>0&&a[0].author!=i)return a[0].utenti.includes(i)?(a[0].utenti=a[0].utenti.filter(h=>h!=i),a[0].like--):(a[0].utenti.push(i),a[0].like++),this.store.collection("MacroUser").doc(`${a[0].id}`).set({like:a[0].like,utenti:a[0].utenti},{merge:!0}),o.unsubscribe(),r.next(!0)});return r.asObservable()}addMacros(e){this.store.collection("MacroUser").add({author:e.macro.author,title:this.capitalizeFirstLetter(e.macro.title),dateTimeStamp:e.macro.date,descrizione:this.capitalizeFirstLetter(e.descrizione),tipologia:e.macro.tipologia,like:0,guid:e.macro.guid,utenti:e.macro.utenti,delay:e.macro.delay}),e.settings.forEach(i=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:i.comando,settings:i.settings,type:i.type,function:i.function,index:i.index})})}updateMacro(e){var i=this.store.collection("MacroUser",r=>r.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(r=>{if(null!=r&&r.length>0){this.store.collection("MacroUser").doc(`${r[0].id}`).set({title:e.macro.title,descrizione:e.descrizione,tipologia:e.macro.tipologia,delay:e.macro.delay},{merge:!0});const a=this.store.collection("MacroSettingsUser",u=>u.where("guid","==",e.macro.guid)).valueChanges({idField:"id"}).subscribe(u=>{if(u.length>0)for(let h=0;h<u.length;h++)this.store.doc("MacroSettingsUser/"+u[h].id).delete(),h==u.length-1&&e.settings.forEach(f=>{this.store.collection("MacroSettingsUser").add({guid:e.macro.guid,comando:f.comando,settings:f.settings,type:f.type,function:f.function,index:f.index}),a.unsubscribe()})})}i.unsubscribe()},r=>console.error("Error"))}deleteMacro(e){const i=this.store.collection("MacroUser",r=>r.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(r=>{if(r.length>0){this.store.doc("MacroUser/"+r[0].id).delete();const o=this.store.collection("MacroSettingsUser",a=>a.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(a=>{if(a.length>0)for(let u=0;u<a.length;u++)this.store.doc("MacroSettingsUser/"+a[u].id).delete(),u==a.length-1&&(i.unsubscribe(),o.unsubscribe())})}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IX=[{macro:"NW",subcode:"1"},{macro:"N",subcode:"2"},{macro:"NE",subcode:"3"},{macro:"E",subcode:"4"},{macro:"SE",subcode:"5"},{macro:"S",subcode:"6"},{macro:"SW",subcode:"7"},{macro:"W",subcode:"8"},{macro:"Anatomia",subcode:"21"},{macro:"Zoologia",subcode:"22"},{macro:"Addomesticare",subcode:"23"},{macro:"OsservareArmi",subcode:"24"},{macro:"Sbirciare",subcode:"25"},{macro:"AdorareTM",subcode:"26"},{macro:"ScovareNascondigli",subcode:"27"},{macro:"Infuriarsi",subcode:"28"},{macro:"PercezioneMagica",subcode:"29"},{macro:"AnalizzareCorpi",subcode:"30"},{macro:"Nascondersi",subcode:"31"},{macro:"GodersiTM",subcode:"32"},{macro:"Religione",subcode:"33"},{macro:"IdentificareOggetti",subcode:"34"},{macro:"Meditare",subcode:"35"},{macro:"Calmare",subcode:"36"},{macro:"Avvelenare",subcode:"37"},{macro:"Istigare",subcode:"38"},{macro:"DisarmareTrappole",subcode:"39"},{macro:"AscoltareSpiriti",subcode:"40"},{macro:"Rubare",subcode:"41"},{macro:"MuoversiSilenziosamente",subcode:"42"},{macro:"RingraziareTM",subcode:"43"},{macro:"SeguireTracce",subcode:"44"},{macro:"LeftHand",subcode:"45"},{macro:"RightHand",subcode:"46"},{macro:"Hostile",subcode:"193"},{macro:"Party",subcode:"194"},{macro:"Mobile",subcode:"195"}];let Df=(()=>{class n{constructor(e,i,r){this._platform=e,this.ngxXml2jsonService=i,this.macroService=r,this.platform=e}isSmartphone(){return this.platform.ANDROID||this.platform.IOS}ConfirmPasswordValidator(e,i){return r=>{let a=r.controls[i];a?.errors&&!a?.errors.confirmPasswordValidator||a?.setErrors(r.controls[e]?.value!==a?.value?{confirmPasswordValidator:!0}:null)}}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}MacrosXmlToObject(e){const r=(new DOMParser).parseFromString(e,"text/xml");var a=this.ngxXml2jsonService.xmlToJson(r).macros.macro;let u=new Array;a.forEach(f=>{let _=new DX;_.name=f["@attributes"].name;let b=f.actions.action;if(void 0===b.length){var F=b["@attributes"];_.action.push(new c8(F.code,F.subcode,F.submenutype,F.text?F.text:null))}else b.forEach(B=>{var U=B["@attributes"];_.action.push(new c8(U.code,U.subcode,U.submenutype,U.text?U.text:null))});u.push(_)});let h=["Paperdoll","Options","Journal","Backpack","Radar","Bow","Salute"];return u.filter(f=>!h.includes(f.name))}getAllMacrosByXml(e){var i=new sn.x,r=this.MacrosXmlToObject(e),o=new Array;return this.macroService.getMacroSettings().subscribe(a=>{let u=a;r.forEach(h=>{let f=new _V;f.macro.macro.title=h.name,h.action.forEach(_=>{let b=new vx,F=u.find(B=>B.code==_.code);if(void 0!==F){F?.settings&&(b.settings=F?.settings),F?.comando&&(b.comando=F?.comando),F?.type&&(b.type=F?.type),"0"!=_.subcode&&(b.function=IX.filter(U=>U.subcode===_.subcode)[0].macro);let B=_.text;B&&(b.function=B),f.settings.push(b)}}),""!=f.macro.macro.title&&o.push(f)}),i.next(o)}),i.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia),s.LFG(ky),s.LFG(FM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DX{constructor(){this.action=new Array}}class c8{constructor(t,e,i,r){this.code=t,this.subcode=e,this.subMenuType=i,this.text=r||""}}class TX{static getRuoliFromRoles(t){var e=new Array;return t.forEach(i=>{switch(i){case"511946618682081281":e.push("Cittadino");break;case"511948559902572554":e.push("Regnante");break;case"710160889990348820":e.push("Valinrim");break;case"1079385953765949480":e.push("Ceorita")}}),e}}class u8{constructor(t,e,i){t?(this.id=t.user.id,this.username=t.user.username,this.ruoli=TX.getRuoliFromRoles(t.roles),this.roles=t.roles):(this.id=e,this.username=i)}}function di(n){return null!=n&&"false"!=`${n}`}function Ic(n,t=0){return d8(n)?Number(n):t}function d8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function MM(n){return Array.isArray(n)?n:[n]}function Pl(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ry(n){return n instanceof s.SBq?n.nativeElement:n}var BX=ie(1144);const FX=["addListener","removeListener"],MX=["addEventListener","removeEventListener"],kX=["on","off"];function I0(n,t,e,i){if((0,qs.m)(e)&&(i=e,e=void 0),i)return I0(n,t,e).pipe(Jl(i));const[r,o]=function LX(n){return(0,qs.m)(n.addEventListener)&&(0,qs.m)(n.removeEventListener)}(n)?MX.map(a=>u=>n[a](t,u,e)):function RX(n){return(0,qs.m)(n.addListener)&&(0,qs.m)(n.removeListener)}(n)?FX.map(h8(n,t)):function OX(n){return(0,qs.m)(n.on)&&(0,qs.m)(n.off)}(n)?kX.map(h8(n,t)):[];if(!r&&(0,BX.z)(n))return(0,xo.z)(a=>I0(a,t,e))((0,Fa.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new gr.y(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>o(u)})}function h8(n,t){return e=>i=>n[e](t,i)}var A8=ie(4408);const b2={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=b2;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Co.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=b2;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=b2;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var f8=ie(7565);new class PX extends f8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class NX extends A8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=b2.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(b2.cancelAnimationFrame(e),t._scheduled=void 0)}});let rU,QX=1;const kM={};function p8(n){return n in kM&&(delete kM[n],!0)}const HX={setImmediate(n){const t=QX++;return kM[t]=!0,rU||(rU=Promise.resolve()),rU.then(()=>p8(t)&&n()),t},clearImmediate(n){p8(n)}},{setImmediate:VX,clearImmediate:GX}=HX,RM={setImmediate(...n){const{delegate:t}=RM;return(t?.setImmediate||VX)(...n)},clearImmediate(n){const{delegate:t}=RM;return(t?.clearImmediate||GX)(n)},delegate:void 0};new class zX extends f8.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const o=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this._active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class jX extends A8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=RM.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(RM.clearImmediate(e),t._scheduled=void 0)}});var ZX=ie(3532);function g8(n){return n instanceof Date&&!isNaN(n)}function m8(n=0,t,e=jb.P){let i=-1;return null!=t&&((0,ZX.K)(t)?e=t:i=t),new gr.y(r=>{let o=g8(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function sU(n,t=jb.P){return function KX(n){return(0,Wr.e)((t,e)=>{let i=!1,r=null,o=null,a=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const f=r;r=null,e.next(f)}a&&e.complete()},h=()=>{o=null,a&&e.complete()};t.subscribe(new Pr.Q(e,f=>{i=!0,r=f,o||(0,Fa.Xf)(n(f)).subscribe(o=new Pr.Q(e,u,h))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>m8(n,t))}var oU=ie(5032);function Ri(n){return(0,Wr.e)((t,e)=>{(0,Fa.Xf)(n).subscribe(new Pr.Q(e,()=>e.complete(),oU.Z)),!e.closed&&t.subscribe(e)})}const $X=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function YX(){return(0,s.f3M)(Oe)}}),WX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ph=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function JX(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?WX.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($X,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),C2=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new sn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new gr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(sU(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):pn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(yi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ry(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>I0(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ia),s.LFG(Oe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x2=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new sn.x,this._elementScrolled=new gr.y(a=>this.ngZone.runOutsideAngular(()=>I0(this.elementRef.nativeElement,"scroll").pipe(Ri(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=p2()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==p2()?e.left=e.right:1==p2()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;wV()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==p2()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==p2()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(C2),s.Y36(s.R0b),s.Y36(ph,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),xx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new sn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(sU(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia),s.LFG(s.R0b),s.LFG(Oe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),aU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$b,Ex,$b,Ex]}),n})();class lU{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Sx extends lU{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Ix extends lU{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tee extends lU{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class OM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Sx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ix?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof tee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nee extends OM{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Yb=(()=>{class n extends OM{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const a=o.element,u=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(Oe))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Wb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Wp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const w8=wV();class fee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pl(-this._previousScrollPosition.left),t.style.top=Pl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),w8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),w8&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class pee{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class b8{enable(){}disable(){}attach(){}}function dU(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function C8(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class gee{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dU(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mee=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new b8,this.close=a=>new pee(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new fee(this._viewportRuler,this._document),this.reposition=a=>new gee(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(C2),s.LFG(xx),s.LFG(s.R0b),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LM{constructor(t){if(this.scrollStrategy=new b8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class _ee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let x8=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yee=(()=>{class n extends x8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const u=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vee=(()=>{class n extends x8{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Gb(o)},this._clickListener=o=>{const a=Gb(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){const _=h[f];if(_._outsidePointerEvents.observers.length<1||!_.hasAttached())continue;if(_.overlayElement.contains(a)||_.overlayElement.contains(u))break;const b=_._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(o)):b.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(ia),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||yP()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),yP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(ia))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class S2{constructor(t,e,i,r,o,a,u,h,f,_=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=f,this._animationsDisabled=_,this._backdropElement=null,this._backdropClick=new sn.x,this._attachments=new sn.x,this._detachments=new sn.x,this._locationChanges=Co.w0.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new sn.x,this._outsidePointerEvents=new sn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Pl(this._config.width),t.height=Pl(this._config.height),t.minWidth=Pl(this._config.minWidth),t.minHeight=Pl(this._config.minHeight),t.maxWidth=Pl(this._config.maxWidth),t.maxHeight=Pl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=MM(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ri((0,tu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const E8="cdk-overlay-connected-position-bounding-box",wee=/([A-Za-z%]+)$/;class bee{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new sn.x,this._resizeSubscription=Co.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(E8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),f=this._getOverlayPoint(h,e,u),_=this._getOverlayFit(f,e,i,u);if(_.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(_,f,i)?o.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<_.visibleArea)&&(a={overlayFit:_,overlayPoint:f,originPoint:h,position:u,overlayRect:e})}if(o.length){let u=null,h=-1;for(const f of o){const _=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);_>h&&(h=_,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=I8(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),f=this._getOffset(r,"y");h&&(a+=h),f&&(u+=f);let F=0-u,B=u+o.height-i.height,U=this._subtractOverflows(o.width,0-a,a+o.width-i.width),H=this._subtractOverflows(o.height,F,B),Z=U*H;return{visibleArea:Z,isCompletelyWithinViewport:o.width*o.height===Z,fitsInViewportVertically:H===o.height,fitsInViewportHorizontally:U==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=S8(this._overlayRef.getConfig().minHeight),u=S8(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportHorizontally||null!=u&&u<=o;return(t.fitsInViewportVertically||null!=a&&a<=r)&&f}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=I8(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-i.top-t.y,0),f=Math.max(o.left-i.left-t.x,0);let _=0,b=0;return _=r.width<=o.width?f||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,b=r.height<=o.height?h||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:_,y:b},{x:t.x+_,y:t.y+b}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new _ee(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,u,_,b,F;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;o=2*B,a=t.y-B,o>U&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)F=i.width-t.x+this._viewportMargin,_=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)b=t.x,_=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;_=2*B,b=t.x-B,_>U&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-U/2)}return{top:a,left:b,bottom:u,right:F,width:_,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Pl(i.height),r.top=Pl(i.top),r.bottom=Pl(i.bottom),r.width=Pl(i.width),r.left=Pl(i.left),r.right=Pl(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Pl(o)),a&&(r.maxWidth=Pl(a))}this._lastBoundingBoxSize=i,Jb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Jb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const _=this._viewportRuler.getViewportScrollPosition();Jb(i,this._getExactOverlayY(e,t,_)),Jb(i,this._getExactOverlayX(e,t,_))}else i.position="static";let u="",h=this._getOffset(e,"x"),f=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),f&&(u+=`translateY(${f}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=Pl(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Pl(a.maxWidth):o&&(i.maxWidth="")),Jb(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Pl(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Pl(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:C8(t,i),isOriginOutsideView:dU(t,i),isOverlayClipped:C8(e,i),isOverlayOutsideView:dU(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&MM(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Jb(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function S8(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(wee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function I8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const D8="cdk-global-overlay-wrapper";class Cee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(D8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),_=this._xPosition,b=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",U="",H="";h?H="flex-start":"center"===_?(H="center",F?U=b:B=b):F?"left"===_||"end"===_?(H="flex-end",B=b):("right"===_||"start"===_)&&(H="flex-start",U=b):"left"===_||"start"===_?(H="flex-start",B=b):("right"===_||"end"===_)&&(H="flex-end",U=b),t.position=this._cssPosition,t.marginLeft=h?"0":B,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":U,e.justifyContent=H,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(D8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xee=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Cee}flexibleConnectedTo(e){return new bee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xx),s.LFG(Oe),s.LFG(ia),s.LFG(NM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eee=0,Tf=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=f,this._directionality=_,this._location=b,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new LM(e);return a.direction=a.direction||this._directionality.value,new S2(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Eee++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new nee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mee),s.LFG(NM),s.LFG(s._Vd),s.LFG(xee),s.LFG(yee),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(Oe),s.LFG(ph),s.LFG(Wt),s.LFG(vee),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const See=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],T8=new s.OlP("cdk-connected-overlay-scroll-strategy");let B8=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),F8=(()=>{class n{constructor(e,i,r,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Co.w0.EMPTY,this._attachSubscription=Co.w0.EMPTY,this._detachSubscription=Co.w0.EMPTY,this._positionSubscription=Co.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new Ix(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=di(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=di(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=di(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=di(e)}get push(){return this._push}set push(e){this._push=di(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=See);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Wp(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new LM({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof B8?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(rf(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tf),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(T8),s.Y36(ph,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[s.TTD]}),n})();const Dee={provide:T8,deps:[Tf],useFactory:function Iee(n){return()=>n.scrollStrategies.reposition()}};let Bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tf,Dee],imports:[$b,Wb,aU,aU]}),n})();function I2(n,t=jb.z){return(0,Wr.e)((e,i)=>{let r=null,o=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const f=o;o=null,i.next(f)}};function h(){const f=a+n,_=t.now();if(_<f)return r=this.schedule(void 0,f-_),void i.add(r);u()}e.subscribe(new Pr.Q(i,f=>{o=f,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function M8(n){return yi((t,e)=>n<=e)}let k8=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tee=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ry(e);return new gr.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new sn.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(k8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hU=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ic(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(I2(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tee),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),PM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[k8]}),n})();const R8=new Set;let Fx,Bee=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Mee}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Fee(n){if(!R8.has(n))try{Fx||(Fx=document.createElement("style"),Fx.setAttribute("type","text/css"),document.head.appendChild(Fx)),Fx.sheet&&(Fx.sheet.insertRule(`@media ${n} {body{ }}`,0),R8.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mee(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let UM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new sn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return O8(MM(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Wa(O8(MM(e)).map(a=>this._registerQuery(a).observable));return o=Ja(o.pipe((0,Jr.q)(1)),o.pipe(M8(1),I2(0))),o.pipe((0,cn.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:f})=>{u.matches=u.matches||h,u.breakpoints[f]=h}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new gr.y(a=>{const u=h=>this._zone.run(()=>a.next(h));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Ks(i),(0,cn.U)(({matches:a})=>({query:e,matches:a})),Ri(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bee),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O8(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function QM(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const P8="cdk-describedby-message",HM="cdk-describedby-host";let AU=0,U8=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+AU++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+AU++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=fU(i,r);"string"!=typeof i?(Q8(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=fU(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${HM}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(HM);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Q8(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(fU(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=QM(e,"aria-describedby").filter(r=>0!=r.indexOf(P8));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function kee(n,t,e){const i=QM(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(HM,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Ree(n,t,e){const r=QM(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(HM)}_isElementDescribedByMessage(e,i){const r=QM(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(ia))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fU(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Q8(n,t){n.id||(n.id=`${P8}-${t}-${AU++}`)}class H8{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new sn.x,this._typeaheadSubscription=Co.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new sn.x,this.change=new sn.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Cr.b)(e=>this._pressedLetters.push(e)),I2(t),yi(()=>this._pressedLetters.length>0),(0,cn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Wp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class Oee extends H8{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class V8 extends H8{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let D2=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Nee(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Lee(n){try{return n.frameElement}catch{return null}}(function zee(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===j8(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=j8(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Gee(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function jee(n){return!function Uee(n){return function Hee(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Pee(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Qee(n){return function Vee(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||G8(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G8(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function j8(n){if(!G8(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class qee{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(t)}}let VM=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new qee(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(D2),s.LFG(s.R0b),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z8(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function q8(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Kee=new s.OlP("cdk-input-modality-detector-options"),Zee={ignoreKeys:[18,17,224,91,16]},Mx=f2({passive:!0,capture:!0});let $ee=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new _r(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Gb(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(z8(a)?"keyboard":"mouse"),this._mostRecentTarget=Gb(a))},this._onTouchstart=a=>{q8(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Gb(a))},this._options={...Zee,...o},this.modalityDetected=this._modality.pipe(M8(1)),this.modalityChanged=this.modalityDetected.pipe(zb()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Mx),r.addEventListener("mousedown",this._onMousedown,Mx),r.addEventListener("touchstart",this._onTouchstart,Mx)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Mx),document.removeEventListener("mousedown",this._onMousedown,Mx),document.removeEventListener("touchstart",this._onTouchstart,Mx))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia),s.LFG(s.R0b),s.LFG(Oe),s.LFG(Kee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yee=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Wee(){return null}}),Jee=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let pU=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yee,8),s.LFG(s.R0b),s.LFG(Oe),s.LFG(Jee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xee=new s.OlP("cdk-focus-monitor-default-options"),GM=f2({passive:!0,capture:!0});let Bf=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new sn.x,this._rootNodeFocusAndBlurListener=u=>{for(let f=Gb(u);f;f=f.parentElement)"focus"===u.type?this._onFocus(u,f):this._onBlur(u,f)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Ry(e);if(!this._platform.isBrowser||1!==r.nodeType)return pn(null);const o=bV(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new sn.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=Ry(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ry(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,h])=>this._originChanged(u,i,h)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Gb(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,GM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,GM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ri(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(ia),s.LFG($ee),s.LFG(Oe,8),s.LFG(Xee,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z8="cdk-high-contrast-black-on-white",$8="cdk-high-contrast-white-on-black",gU="cdk-high-contrast-active";let Y8=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(UM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(gU,Z8,$8),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(gU,Z8):2===i&&e.add(gU,$8)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W8=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Y8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[PM]}),n})();function ete(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function tte(n,t){if(1&n&&(s.TgZ(0,"span",5),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const nte=["*"];let ite=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),rte=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const ote=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function ste(){return!0}});let hr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!yP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Y8),s.LFG(ote,8),s.LFG(Oe))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$b,$b]}),n})();function Xb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=di(t)}}}function Oy(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function jM(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=di(t)}}}function zM(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ic(e):this.defaultTabIndex}}}function e7(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}function t7(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new gr.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const ate=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function lte(){return(0,s.f3M)(s.soG)}});class n7{constructor(){this._localeChanges=new sn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const cte=new s.OlP("mat-date-formats"),ute=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function mU(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let dte=(()=>{class n extends n7{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return mU(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return mU(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return mU(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(ute.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ate,8),s.LFG(ia))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hte={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ate=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:n7,useClass:dte}]}),n})(),fte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:cte,useValue:hte}],imports:[Ate]}),n})(),kx=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pte{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const i7={enterDuration:225,exitDuration:150},_U=f2({passive:!0}),r7=["mousedown","touchstart"],s7=["mouseup","mouseleave","touchend","touchcancel"];class mte{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ry(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...i7,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function _te(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,h=e-r.top,f=o.enterDuration,_=document.createElement("div");_.classList.add("mat-ripple-element"),_.style.left=u-a+"px",_.style.top=h-a+"px",_.style.height=2*a+"px",_.style.width=2*a+"px",null!=i.color&&(_.style.backgroundColor=i.color),_.style.transitionDuration=`${f}ms`,this._containerElement.appendChild(_);const b=window.getComputedStyle(_),B=b.transitionDuration,U="none"===b.transitionProperty||"0s"===B||"0s, 0s"===B,H=new pte(this,_,i,U);_.style.transform="scale3d(1, 1, 1)",H.state=0,i.persistent||(this._mostRecentTransientRipple=H);let Z=null;return!U&&(f||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const z=()=>this._finishRippleTransition(H),W=()=>this._destroyRipple(H);_.addEventListener("transitionend",z),_.addEventListener("transitioncancel",W),Z={onTransitionEnd:z,onTransitionCancel:W}}),this._activeRipples.set(H,Z),(U||!f)&&this._finishRippleTransition(H),H}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...i7,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ry(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(r7))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(s7),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=z8(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!q8(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,_U)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(r7.forEach(t=>{this._triggerElement.removeEventListener(t,this,_U)}),this._pointerUpEventsRegistered&&s7.forEach(t=>{this._triggerElement.removeEventListener(t,this,_U)}))}}const yte=new s.OlP("mat-ripple-global-options");let D0=(()=>{class n{constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new mte(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ia),s.Y36(yte,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),vte=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),wte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr]}),n})();const o7=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),a7=new s.OlP("MatOptgroup");let bte=0;class Cte{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let xte=(()=>{class n{constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bte++,this.onSelectionChange=new s.vpe,this._stateChanges=new sn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=di(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Wp(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Cte(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),T0=(()=>{class n extends xte{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(o7,8),s.Y36(a7,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),s.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:nte,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,ete,1,2,"mat-pseudo-checkbox",0),s.TgZ(1,"span",1),s.Hsn(2),s.qZA(),s.YNc(3,tte,2,1,"span",2),s._UZ(4,"div",3)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(3),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[D0,Ei,vte],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function l7(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}let c7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B2,Yo,hr,wte]}),n})();const u7=["mat-button",""],d7=["*"],Dte=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Tte=Oy(Xb(jM(class{constructor(n){this._elementRef=n}})));let Sd=(()=>{class n extends Tte{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Dte)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Bf),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(D0,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:u7,ngContentSelectors:d7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[D0],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),h7=(()=>{class n extends Sd{constructor(e,i,r,o){super(i,e,r),this._ngZone=o,this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bf),s.Y36(s.SBq),s.Y36(s.QbO,8),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("tabindex",i.disabled?-1:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:u7,ngContentSelectors:d7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[D0],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B2,hr,hr]}),n})();class A7{}class Bte{}const Ly="*";function iu(n,t){return{type:7,name:n,definitions:t,options:{}}}function ra(n,t=null){return{type:4,styles:t,timings:n}}function f7(n,t=null){return{type:3,steps:n,options:t}}function p7(n,t=null){return{type:2,steps:n,options:t}}function Ii(n){return{type:6,styles:n,offset:null}}function Xr(n,t,e){return{type:0,name:n,styles:t,options:e}}function F2(n){return{type:5,steps:n}}function Do(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function KM(n=null){return{type:9,options:n}}function ZM(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function g7(n){Promise.resolve().then(n)}class M2{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){g7(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class m7{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?g7(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Fte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function Mte(n,t){}const _7=new s.OlP("MatSnackBarData");class $M{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const kte=Math.pow(2,31)-1;class vU{constructor(t,e){this._overlayRef=e,this._afterDismissed=new sn.x,this._afterOpened=new sn.x,this._onAction=new sn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,kte))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Rte=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vU),s.Y36(_7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,Fte,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[Ei,Sd],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const Ote={snackBarState:iu("state",[Xr("void, hidden",Ii({transform:"scale(0.8)",opacity:0})),Xr("visible",Ii({transform:"scale(1)",opacity:1})),Do("* => visible",ra("150ms cubic-bezier(0, 0, 0.2, 1)")),Do("* => void, * => hidden",ra("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ii({opacity:0})))])};let Lte=(()=>{class n extends OM{constructor(e,i,r,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new sn.x,this._onExit=new sn.x,this._onEnter=new sn.x,this._animationState="void",this.attachDomPortal=u=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ia),s.Y36($M))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Yb,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),Nte=(()=>{class n extends Lte{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Mte,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[Yb],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[Ote.snackBarState]}}),n})(),y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bx,Wb,Yo,qM,hr,hr]}),n})();const v7=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Pte(){return new $M}});let Ute=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:$M,useValue:i}]}),a=new Sx(this.snackBarContainerComponent,i.viewContainerRef,o),u=e.attach(a);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const r={...new $M,...this._defaultConfig,...i},o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),u=new vU(a,o);if(e instanceof s.Rgc){const h=new Ix(e,null,{$implicit:r.data,snackBarRef:u});u.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,u),f=new Sx(e,void 0,h),_=a.attachComponentPortal(f);u.instance=_.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ri(o.detachments())).subscribe(h=>{o.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new LM;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,u=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:vU,useValue:i},{provide:_7,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tf),s.LFG(pU),s.LFG(s.zs3),s.LFG(UM),s.LFG(n,12),s.LFG(v7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qte=(()=>{class n extends Ute{constructor(e,i,r,o,a,u){super(e,i,r,o,a,u),this.simpleSnackBarComponent=Rte,this.snackBarContainerComponent=Nte,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tf),s.LFG(pU),s.LFG(s.zs3),s.LFG(UM),s.LFG(n,12),s.LFG(v7))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:y7}),n})();const w7="https://fabiodagostino.github.io/rot/",b7="1106594210242625579",C7="74VfRYTw1f-ERkI4rfJGSVGwP3ShCsNe",k2="https://discord.com/api/v10";let IA=(()=>{class n{constructor(e,i,r,o,a,u){this.store=e,this._snackBar=i,this.auth2=r,this.route=o,this.activated=a,this.http=u,this.isLoggedIn=!1,this.isRotinrim=!1}getGuilds(e){const i=(new oc).set("Authorization",`Bearer ${e}`);return this.http.get(`${k2}/users/@me/guilds`,{headers:i})}getUserGuildInfo(e){const i=(new oc).set("Authorization",`Bearer ${e}`);return this.http.get(`${k2}/users/@me/guilds/511856322141093904/member`,{headers:i})}getUserInfo(e){const i=(new oc).set("Authorization",`Bearer ${e}`);return this.http.get(`${k2}/users/@me`,{headers:i})}logicaLogin(e){var i=new sn.x;return this.getGuilds(e).subscribe(r=>{r.find(o=>o.id.includes("511856322141093904"))?this.getUserGuildInfo(e).subscribe(o=>{var a;this.openSnackBar("login"),this.isLoggedIn=!0;var u=new u8(o);!(null===(a=u.ruoli)||void 0===a)&&a.includes("Cittadino")&&(this.isRotinrim=!0),i.next(u)}):r.find(o=>o.id.includes("608322373057249290"))?this.getUserInfo(e).subscribe(o=>{this.openSnackBar("login"),this.isLoggedIn=!0,i.next(new u8(void 0,o.id,o.username))}):this.openSnackBar("loginFallita")}),i.asObservable()}loginDiscord(e){var i=new sn.x;return this.getAccessToken(e).subscribe(r=>{this.logicaLogin(r).subscribe(o=>{i.next(o)})}),i.asObservable()}getAccessToken(e){var i=new sn.x;let o=new URLSearchParams;return o.append("client_id",b7),o.append("client_secret",C7),o.append("grant_type","authorization_code"),o.append("code",e),o.append("redirect_uri",w7),this.http.post(`${k2}/oauth2/token`,o,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(a=>{localStorage.setItem("token",a.access_token),i.next(a.access_token)}),i.asObservable()}rekoveAccessToken(){let i=new URLSearchParams;i.append("client_id",b7),i.append("client_secret",C7),i.append("redirect_uri",w7),i.append("token",localStorage.getItem("token")),localStorage.getItem("token")&&this.http.post(`${k2}/oauth2/token/revoke`,i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).subscribe(r=>{})}getQueryParams(){return this.activated.snapshot.queryParamMap.get("code")}login(e){var i=new sn.x;return e.username=this.criptMd5(e.username),e.password=this.criptMd5(e.password),this.store.collection("User",r=>r.where("username","==",e.username).where("password","==",e.password)).valueChanges().subscribe(r=>{r.length>0?(this.addSession(e),localStorage.setItem("user",e.username),this.isLoggedIn=!0,this.Rotinrim(),i.next(!0),this.openSnackBar("login")):this.logoutPartial(),i.next(!1)}),i.asObservable()}checkUser(e){var i=this.criptMd5(e);return this.store.collection("User",r=>r.where("username","==",i)).valueChanges()}checkUserMd5(e){return this.store.collection("User",i=>i.where("username","==",e)).valueChanges()}registrati(e){this.store.collection("User").add({username:this.criptMd5(e.username),usernameNoMd5:e.username,password:this.criptMd5(e.password),nomePg:e.nomePg,regno:e.regno})}Rotinrim(){var e=localStorage.getItem("user");new sn.x,this.store.collection("User",r=>r.where("username","==",e).where("regno","==","Rotiniel")).valueChanges().subscribe(r=>{this.isRotinrim=r.length>0})}SalvaTicket(e){this.store.collection("Ticket").add({user:e.user,messaggio:e.messaggio,tipologia:e.tipologia,tool:e.tool,data:new Date}),this.openSnackBar("segnalazioneInviata")}logout(){this.logoutPartial(),this.openSnackBar("logout"),window.location.reload()}logoutPartial(){this.isRotinrim=!1,this.isLoggedIn=!1,localStorage.removeItem("token")}checkSession(){var e,i=null===(e=localStorage.getItem("user"))||void 0===e?void 0:e.toString();if(void 0!==i){console.log("check session...");let a=new Date;var r=new Date(a.getTime()-6e5);this.store.collection("SessioneAttiva",u=>u.where("data",">=",r)).valueChanges().pipe((0,cn.U)(u=>u.map(h=>{let f=new QW;return f.username=h.username,f.data=h.data,f.id=h.id,f}))).subscribe(u=>{u.length>0&&u.filter(f=>f.username===i).length>0?(this.Rotinrim(),this.isLoggedIn=!0):this.logoutPartial()})}}addSession(e){this.store.collection("SessioneAttiva").add({username:e.username,attiva:!0,data:new Date})}criptMd5(e){return ie(9769)(e)}openSnackBar(e,i="top",r="end",o=""){switch(e){case"login":this.openSnack("Sei loggato correttamente!","blue-snackbar");break;case"logout":this.openSnack("Sei sloggato correttamente!","red-snackbar");break;case"registrazioneAvvenuta":this.openSnack("La registrazione \xe8 avvenuta con successo!","green-snackbar");break;case"registrazioneFallita":this.openSnack(""==o?"Hai sbagliato una o pi\xf9 risposte!":o,"red-snackbar",i,r);break;case"loginFallita":this.openSnack(""==o?"Per poter accedere devi essere presente nel server di Rotiniel o di The Miracle":o,"red-snackbar",i,r);break;case"segnalazioneInviata":this.openSnack("La segnalazione \xe8 stata inviata!","green-snackbar");break;case"infoAggiuntive":this.openSnack("Scarica il pdf per avere tutte le info aggiuntive.","green-snackbar",i,r)}}openSnack(e,i,r="top",o="end"){this._snackBar.open(e,"Ok",{duration:2e3,horizontalPosition:o,verticalPosition:r,panelClass:i})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BM),s.LFG(Qte),s.LFG(w2),s.LFG(Ms),s.LFG(iA),s.LFG(_x))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rx{constructor(){this.nome="",this.classe=new R2,this.skills=new Array,this.razza=new S7,this.stats=new D7,this.malusMagico=0,this.religione=new E7,this.guid="",this.utilizzatoNVolte=0}}class x7{constructor(){this.nome=""}}class Vte{constructor(){this.domanda="",this.risposta="",this.min=0}}class wU{constructor(){this.nome="",this.classe="",this.razza="",this.forza=0,this.destrezza=0,this.intelligenza=0,this.divinita="",this.pantheon="",this.guid="",this.utilizzatoNVolte=0}static Convert(t,e){let i=new Rx;return i.nome=t?.nome,i.stats=new D7(t?.forza,t?.destrezza,t?.intelligenza),i.religione=new E7(t?.divinita),e.forEach(r=>{let o=new I7;o.nome=r?.nomeSkill,o.value=r?.valueSkill,o.isChecked=!0,o.idTipologiaSkill=r.idTipologiaSkill,o.id=r.idSkill,i.skills.push(o)}),i.guid=t?.guid,i.utilizzatoNVolte=t?.utilizzatoNVolte,i.razza=new S7(t?.razza),i.classe=new R2(0,t?.classe),i}}class Gte{constructor(){this.nome="",this.info="",this.procedura=new Array,this.classe=""}}class bU{constructor(){this.id=0,this.religione="",this.spell=Array(),this.aura=""}}class CU{constructor(){this.id=0,this.religione="",this.spell=Array()}}class E7{constructor(t){this.id=0,this.nome="",this.pantheon="",t&&(this.nome=t)}}class S7{constructor(t){this.id=0,this.nome="",t&&(this.nome=t)}}class R2{constructor(t,e){this.id=0,this.nome="",this.notRazze=new Array,this.id=t,this.nome=e}static convertClasse(t){return new jte(t.id,t.nome)}}class O2{constructor(){this.nome="",this.id=0,this.classi=new Array,this.idTipologiaSkill=-1}static ConvertToSkillsChecked(t){let e=new Array;return t.forEach(i=>{let r=new I7;r.id=i.id,r.nome=i.nome,r.idTipologiaSkill=i.idTipologiaSkill,r.classi=i.classi,e.push(r)}),e}}class I7 extends O2{constructor(){super(...arguments),this.isChecked=!1,this.value=0}}class D7{constructor(t,e,i){this.forza=0,this.destrezza=0,this.intelligenza=0,t&&e&&i&&(this.forza=t,this.destrezza=e,this.intelligenza=i)}}class jte extends R2{constructor(){super(...arguments),this.isChecked=!1}}const T7="@firebase/database";let xU="";function F7(n){xU=n}class Kte{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ce.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ce.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Zte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ce.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const M7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Kte(t)}}catch{}return new Zte},eC=M7("localStorage"),EU=M7("sessionStorage"),Ox=new pA.Yd("@firebase/database"),k7=function(){let n=1;return function(){return n++}}(),R7=function(n){const t=(0,ce.dS)(n),e=new ce.gQ;e.update(t);const i=e.digest();return ce.US.encodeByteArray(i)},L2=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=L2.apply(null,i):t+="object"==typeof i?(0,ce.Wl)(i):i,t+=" "}return t};let tC=null,O7=!0;const L7=function(n,t){(0,ce.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ox.logLevel=pA.in.VERBOSE,tC=Ox.log.bind(Ox),t&&EU.set("logging_enabled",!0)):"function"==typeof n?tC=n:(tC=null,EU.remove("logging_enabled"))},Dc=function(...n){if(!0===O7&&(O7=!1,null===tC&&!0===EU.get("logging_enabled")&&L7(!0)),tC){const t=L2.apply(null,n);tC(t)}},N2=function(n){return function(...t){Dc(n,...t)}},SU=function(...n){const t="FIREBASE INTERNAL ERROR: "+L2(...n);Ox.error(t)},Xm=function(...n){const t=`FIREBASE FATAL ERROR: ${L2(...n)}`;throw Ox.error(t),new Error(t)},Pu=function(...n){const t="FIREBASE WARNING: "+L2(...n);Ox.warn(t)},YM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},B0="[MIN_NAME]",Ny="[MAX_NAME]",nC=function(n,t){if(n===t)return 0;if(n===B0||t===Ny)return-1;if(t===B0||n===Ny)return 1;{const e=U7(n),i=U7(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Wte=function(n,t){return n===t?0:n<t?-1:1},P2=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ce.Wl)(t))},IU=function(n){if("object"!=typeof n||null===n)return(0,ce.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ce.Wl)(t[i]),e+=":",e+=IU(n[t[i]]);return e+="}",e},N7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Tc(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const P7=function(n){(0,ce.hu)(!YM(n),"Invalid JSON number");const i=1023;let r,o,a,u,h;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const f=[];for(h=52;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const _=f.join("");let b="";for(h=0;h<64;h+=8){let F=parseInt(_.substr(h,8),2).toString(16);1===F.length&&(F="0"+F),b+=F}return b.toLowerCase()},tne=new RegExp("^-?(0*)\\d{1,10}$"),U7=function(n){if(tne.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Lx=function(n){try{n()}catch(t){setTimeout(()=>{throw Pu("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},U2=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class sne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Pu(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class one{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Dc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pu(t)}}let Q2=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const j7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K7="websocket",Z7="long_polling";class TU{constructor(t,e,i,r,o=!1,a="",u=!1,h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eC.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&eC.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $7(n,t,e){let i;if((0,ce.hu)("string"==typeof t,"typeof type must == string"),(0,ce.hu)("object"==typeof e,"typeof params must == object"),t===K7)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Z7)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ane(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Tc(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class lne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ce.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ce.p$)(this.counters_)}}const BU={},FU={};function MU(n){const t=n.toString();return BU[t]||(BU[t]=new lne),BU[t]}class une{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Lx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class F0{constructor(t,e,i,r,o,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N2(t),this.stats_=MU(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),$7(e,Z7,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new une(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ce.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kU((...o)=>{const[a,u,h,f,_]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&j7.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){F0.forceAllow_=!0}static forceDisallow(){F0.forceDisallow_=!0}static isAvailable(){return!((0,ce.Yr)()||!F0.forceAllow_&&(F0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ce.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ce.h$)(e),r=N7(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ce.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ce.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class kU{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ce.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=k7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=kU.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Dc("frame writing exception"),u.stack&&Dc(u.stack),Dc(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Dc("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ce.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Dc("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let JM=null;typeof MozWebSocket<"u"?JM=MozWebSocket:typeof WebSocket<"u"&&(JM=WebSocket);let Nx=(()=>{class n{constructor(e,i,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N2(this.connId),this.stats_=MU(i),this.connURL=n.connectionURL_(i,u,h,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,a){const u={v:"5"};return!(0,ce.Yr)()&&typeof location<"u"&&location.hostname&&j7.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),a&&(u.p=a),$7(e,K7,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eC.set("previous_websocket_failure",!0);try{let r;if((0,ce.Yr)()){r={headers:{"User-Agent":`Firebase/5/${xU}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new JM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==JM&&!n.forceDisallow_}static previouslyFailed(){return eC.isInMemoryStorage||!0===eC.get("previous_websocket_failure")}markConnectionHealthy(){eC.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ce.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ce.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ce.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=N7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),nG=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[F0,Nx]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Nx&&Nx.isAvailable();let r=i&&!Nx.previouslyFailed();if(e.webSocketOnly&&(i||Pu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nx];else{const o=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class cG{constructor(t,e,i,r,o,a,u,h,f,_){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N2("c:"+this.id+":"),this.transportManager_=new nG(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=U2(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=P2("t",t),i=P2("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=P2("t",t),i=P2("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=P2("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?SU("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SU("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Pu("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),U2(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U2(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eC.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class uG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class dG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ce.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ce.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class XM extends dG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ce.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new XM}getInitialEvent(t){return(0,ce.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cs{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ds(){return new Cs("")}function yr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function M0(n){return n.pieces_.length-n.pieceNum_}function ho(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cs(n.pieces_,t)}function OU(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function H2(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function fG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cs(t,0)}function sa(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cs)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cs(e,0)}function vr(n){return n.pieceNum_>=n.pieces_.length}function Id(n,t){const e=yr(n),i=yr(t);if(null===e)return t;if(e===i)return Id(ho(n),ho(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Mne(n,t){const e=H2(n,0),i=H2(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=nC(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function LU(n,t){if(M0(n)!==M0(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ff(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(M0(n)>M0(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class kne{constructor(t,e){this.errorPrefix_=e,this.parts_=H2(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ce.ug)(this.parts_[i]);pG(this)}}function pG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+iC(n))}function iC(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class NU extends dG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new NU}getInitialEvent(t){return(0,ce.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const V2=1e3;let tk,rC=(()=>{class n extends uG{constructor(e,i,r,o,a,u,h,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=N2("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=V2,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,ce.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NU.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&XM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,ce.Wl)(a)),(0,ce.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ce.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;"ok"===u.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,ce.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ce.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const f=h.d,_=h.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),"ok"!==_&&this.removeListen_(r,o),e.onComplete&&e.onComplete(_,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ce.r3)(e,"w")){const r=(0,ce.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Pu(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ce.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ce.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ce.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ce.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):SU("Unrecognized action received from server: "+(0,ce.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ce.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=V2,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=V2,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=V2),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,It.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let h=!1,f=null;const _=function(){f?f.close():(h=!0,o())};e.realtime_={close:_,sendRequest:function(B){(0,ce.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(B)}};const F=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,U]=yield Promise.all([e.authTokenProvider_.getToken(F),e.appCheckTokenProvider_.getToken(F)]);h?Dc("getToken() completed but was canceled"):(Dc("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=U&&U.token,f=new cG(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,H=>{Pu(H+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),h||(e.repoInfo_.nodeAdmin&&Pu(B),_())}}})()}interrupt(e){Dc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ce.xb)(this.interruptReasons_)&&(this.reconnectDelay_=V2,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>IU(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Cs(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Dc("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Dc("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ce.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+xU.replace(/\./g,"-")]=1,(0,ce.uI)()?e["framework.cordova"]=1:(0,ce.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=XM.getInstance().currentlyOnline();return(0,ce.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Er{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Er(t,e)}}class ek{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Er(B0,t),r=new Er(B0,e);return 0!==this.compare(i,r)}minPost(){return Er.MIN}}class _G extends ek{static get __EMPTY_NODE(){return tk}static set __EMPTY_NODE(t){tk=t}compare(t,e){return nC(t.name,e.name)}isDefinedOn(t){throw(0,ce.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Er.MIN}maxPost(){return new Er(Ny,tk)}makePost(t,e){return(0,ce.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Er(t,tk)}toString(){return".key"}}const e_=new _G;class nk{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let UU,Jp=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??gh.EMPTY_NODE,this.right=a??gh.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return gh.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return gh.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gh{constructor(t,e=gh.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new gh(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jp.BLACK,null,null))}remove(t){return new gh(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jp.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new nk(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new nk(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new nk(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new nk(this.root_,null,this.comparator_,!0,t)}}function Hne(n,t){return nC(n.name,t.name)}function PU(n,t){return nC(n,t)}gh.EMPTY_NODE=new class Qne{copy(t,e,i,r,o){return this}insert(t,e,i){return new Jp(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yG=function(n){return"number"==typeof n?"number:"+P7(n):"string:"+n},vG=function(n){if(n.isLeafNode()){const t=n.val();(0,ce.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ce.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ce.hu)(n===UU||n.isEmpty(),"priority of unexpected type.");(0,ce.hu)(n===UU||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wG,bG,CG,Px=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ce.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vG(this.priorityNode_)}static set __childrenNodeConstructor(e){wG=e}static get __childrenNodeConstructor(){return wG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vr(e)?this:".priority"===yr(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=yr(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ce.hu)(".priority"!==r||1===M0(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ho(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?P7(this.value_):this.value_,this.lazyHash_=R7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ce.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ce.hu)(o>=0,"Unknown leaf type: "+i),(0,ce.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const To=new class zne extends ek{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?nC(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Er.MIN}maxPost(){return new Er(Ny,new Px("[PRIORITY-POST]",CG))}makePost(t,e){const i=bG(t);return new Er(e,new Px("[PRIORITY-POST]",i))}toString(){return".priority"}},qne=Math.log(2);class Kne{constructor(t){this.count=parseInt(Math.log(t+1)/qne,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ik=function(n,t,e,i){n.sort(t);const r=function(h,f){const _=f-h;let b,F;if(0===_)return null;if(1===_)return b=n[h],F=e?e(b):b,new Jp(F,b.node,Jp.BLACK,null,null);{const B=parseInt(_/2,10)+h,U=r(h,B),H=r(B+1,f);return b=n[B],F=e?e(b):b,new Jp(F,b.node,Jp.BLACK,U,H)}},u=function(h){let f=null,_=null,b=n.length;const F=function(U,H){const Z=b-U,z=b;b-=U;const W=r(Z+1,z),fe=n[Z],De=e?e(fe):fe;B(new Jp(De,fe.node,H,null,W))},B=function(U){f?(f.left=U,f=U):(_=U,f=U)};for(let U=0;U<h.count;++U){const H=h.nextBitIsOne(),Z=Math.pow(2,h.count-(U+1));H?F(Z,Jp.BLACK):(F(Z,Jp.BLACK),F(Z,Jp.RED))}return _}(new Kne(n.length));return new gh(i||t,u)};let QU;const Ux={};class Py{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ce.hu)(Ux&&To,"ChildrenNode.ts has not been loaded"),QU=QU||new Py({".priority":Ux},{".priority":To}),QU}get(t){const e=(0,ce.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof gh?e:null}hasIndex(t){return(0,ce.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ce.hu)(t!==e_,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Er.Wrap);let u,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();u=r?ik(i,t.getCompare()):Ux;const h=t.toString(),f=Object.assign({},this.indexSet_);f[h]=t;const _=Object.assign({},this.indexes_);return _[h]=u,new Py(_,f)}addToIndexes(t,e){const i=(0,ce.UI)(this.indexes_,(r,o)=>{const a=(0,ce.DV)(this.indexSet_,o);if((0,ce.hu)(a,"Missing index implementation for "+o),r===Ux){if(a.isDefinedOn(t.node)){const u=[],h=e.getIterator(Er.Wrap);let f=h.getNext();for(;f;)f.name!==t.name&&u.push(f),f=h.getNext();return u.push(t),ik(u,a.getCompare())}return Ux}{const u=e.get(t.name);let h=r;return u&&(h=h.remove(new Er(t.name,u))),h.insert(t,t.node)}});return new Py(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ce.UI)(this.indexes_,r=>{if(r===Ux)return r;{const o=e.get(t.name);return o?r.remove(new Er(t.name,o)):r}});return new Py(i,this.indexSet_)}}let G2,or=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vG(this.priorityNode_),this.children_.isEmpty()&&(0,ce.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return G2||(G2=new n(new gh(PU),null,Py.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||G2}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?G2:i}}getChild(e){const i=yr(e);return null===i?this:this.getImmediateChild(i).getChild(ho(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ce.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Er(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?G2:this.priorityNode_;return new n(o,u,a)}}updateChild(e,i){const r=yr(e);if(null===r)return i;{(0,ce.hu)(".priority"!==yr(e)||1===M0(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ho(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(To,(u,h)=>{i[u]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in i)u[h]=i[h];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yG(this.getPriority().val())+":"),this.forEachChild(To,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":R7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new Er(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Er(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Er(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Er.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Er.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===j2?-1:0}withIndex(e){if(e===e_||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===e_||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(To),o=i.getIterator(To);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===e_?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const j2=new class Zne extends or{constructor(){super(new gh(PU),or.EMPTY_NODE,Py.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return or.EMPTY_NODE}isEmpty(){return!1}};function ga(n,t=null){if(null===n)return or.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ce.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Px(n,ga(t));if(n instanceof Array){let e=or.EMPTY_NODE;return Tc(n,(i,r)=>{if((0,ce.r3)(n,i)&&"."!==i.substring(0,1)){const o=ga(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ga(t))}{const e=[];let i=!1;if(Tc(n,(a,u)=>{if("."!==a.substring(0,1)){const h=ga(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new Er(a,h)))}}),0===e.length)return or.EMPTY_NODE;const o=ik(e,Hne,a=>a.name,PU);if(i){const a=ik(e,To.getCompare());return new or(o,ga(t),new Py({".priority":a},{".priority":To}))}return new or(o,ga(t),Py.Default)}}Object.defineProperties(Er,{MIN:{value:new Er(B0,or.EMPTY_NODE)},MAX:{value:new Er(Ny,j2)}}),_G.__EMPTY_NODE=or.EMPTY_NODE,Px.__childrenNodeConstructor=or,function Vne(n){UU=n}(j2),function jne(n){CG=n}(j2),function Gne(n){bG=n}(ga);class HU extends ek{constructor(t){super(),this.indexPath_=t,(0,ce.hu)(!vr(t)&&".priority"!==yr(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?nC(t.name,e.name):o}makePost(t,e){const i=ga(t),r=or.EMPTY_NODE.updateChild(this.indexPath_,i);return new Er(e,r)}maxPost(){const t=or.EMPTY_NODE.updateChild(this.indexPath_,j2);return new Er(Ny,t)}toString(){return H2(this.indexPath_,0).join("/")}}const VU=new class Yne extends ek{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?nC(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Er.MIN}maxPost(){return Er.MAX}makePost(t,e){const i=ga(t);return new Er(e,i)}toString(){return".value"}};function xG(n){return{type:"value",snapshotNode:n}}function Qx(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function z2(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function q2(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class GU{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,ce.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(z2(e,u)):(0,ce.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Qx(e,i)):a.trackChildChange(q2(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(To,(r,o)=>{e.hasChild(r)||i.trackChildChange(z2(r,o))}),e.isLeafNode()||e.forEachChild(To,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(q2(r,o,a))}else i.trackChildChange(Qx(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?or.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class K2{constructor(t){this.indexedFilter_=new GU(t.getIndex()),this.index_=t.getIndex(),this.startPost_=K2.getStartPost_(t),this.endPost_=K2.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,a){return this.matches(new Er(e,i))||(i=or.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=or.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(or.EMPTY_NODE);const o=this;return e.forEachChild(To,(a,u)=>{o.matches(new Er(a,u))||(r=r.updateImmediateChild(a,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Jne{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new K2(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new Er(e,i))||(i=or.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=or.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),a++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(or.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,or.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const b=this.index_.getCompare();a=(F,B)=>b(B,F)}else a=this.index_.getCompare();const u=t;(0,ce.hu)(u.numChildren()===this.limit_,"");const h=new Er(e,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(e)){const b=u.getImmediateChild(e);let F=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=F&&(F.name===e||u.hasChild(F.name));)F=r.getChildAfterChild(this.index_,F,this.reverse_);const B=null==F?1:a(F,h);if(_&&!i.isEmpty()&&B>=0)return o?.trackChildChange(q2(e,i,b)),u.updateImmediateChild(e,i);{o?.trackChildChange(z2(e,b));const H=u.updateImmediateChild(e,or.EMPTY_NODE);return null!=F&&this.rangedFilter_.matches(F)?(o?.trackChildChange(Qx(F.name,F.node)),H.updateImmediateChild(F.name,F.node)):H}}return i.isEmpty()?t:_&&a(f,h)>=0?(null!=o&&(o.trackChildChange(z2(f.name,f.node)),o.trackChildChange(Qx(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(f.name,or.EMPTY_NODE)):t}}class rk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=To}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ce.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:B0}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ce.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ny}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ce.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===To}copy(){const t=new rk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function jU(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function zU(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function sk(n,t){const e=n.copy();return e.index_=t,e}function EG(n){const t={};if(n.isDefault())return t;let e;if(n.index_===To?e="$priority":n.index_===VU?e="$value":n.index_===e_?e="$key":((0,ce.hu)(n.index_ instanceof HU,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ce.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ce.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ce.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ce.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ce.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function SG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==To&&(t.i=n.index_.toString()),t}class ok extends uG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=N2("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ce.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=ok.getListenId_(t,i),u={};this.listens_[a]=u;const h=EG(t._queryParams);this.restRequest_(o+".json",h,(f,_)=>{let b=_;if(404===f&&(b=null,f=null),null===f&&this.onDataUpdate_(o,b,!1,i),(0,ce.DV)(this.listens_,a)===u){let F;F=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(F,null)}})}unlisten(t,e){const i=ok.getListenId_(t,e);delete this.listens_[i]}get(t){const e=EG(t._queryParams),i=t._path.toString(),r=new ce.BH;return this.restRequest_(i+".json",e,(o,a)=>{let u=a;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ce.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,ce.cI)(u.responseText)}catch{Pu("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else 401!==u.status&&404!==u.status&&Pu("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class rie{constructor(){this.rootNode_=or.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ak(){return{value:null,children:new Map}}function Hx(n,t,e){if(vr(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=yr(t);n.children.has(i)||n.children.set(i,ak()),Hx(n.children.get(i),t=ho(t),e)}}function qU(n,t){if(vr(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(To,(i,r)=>{Hx(n,new Cs(i),r)}),qU(n,t)}}if(n.children.size>0){const e=yr(t);return t=ho(t),n.children.has(e)&&qU(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function KU(n,t,e){null!==n.value?e(t,n.value):function sie(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{KU(r,new Cs(t.toString()+"/"+i),e)})}class oie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Tc(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class cie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new oie(t);const i=1e4+2e4*Math.random();U2(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Tc(t,(r,o)=>{o>0&&(0,ce.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),U2(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mf=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mf||(Mf={})),Mf))();function YU(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class lk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Mf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(vr(this.path)){if(null!=this.affectedTree.value)return(0,ce.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cs(t));return new lk(ds(),e,this.revert)}}return(0,ce.hu)(yr(this.path)===t,"operationForChild called for unrelated child."),new lk(ho(this.path),this.affectedTree,this.revert)}}class Z2{constructor(t,e){this.source=t,this.path=e,this.type=Mf.LISTEN_COMPLETE}operationForChild(t){return vr(this.path)?new Z2(this.source,ds()):new Z2(this.source,ho(this.path))}}class sC{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Mf.OVERWRITE}operationForChild(t){return vr(this.path)?new sC(this.source,ds(),this.snap.getImmediateChild(t)):new sC(this.source,ho(this.path),this.snap)}}class Vx{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Mf.MERGE}operationForChild(t){if(vr(this.path)){const e=this.children.subtree(new Cs(t));return e.isEmpty()?null:e.value?new sC(this.source,ds(),e.value):new Vx(this.source,ds(),e)}return(0,ce.hu)(yr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vx(this.source,ho(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class k0{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vr(t))return this.isFullyInitialized()&&!this.filtered_;const e=yr(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class uie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $2(n,t,e,i,r,o){const a=i.filter(u=>u.type===e);a.sort((u,h)=>function Aie(n,t,e){if(null==t.childName||null==e.childName)throw(0,ce.g5)("Should only compare child_ events.");const i=new Er(t.childName,t.snapshotNode),r=new Er(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,h)),a.forEach(u=>{const h=function hie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(f=>{f.respondsTo(u.type)&&t.push(f.createEvent(h,n.query_))})})}function ck(n,t){return{eventCache:n,serverCache:t}}function Y2(n,t,e,i){return ck(new k0(t,e,i),n.serverCache)}function DG(n,t,e,i){return ck(n.eventCache,new k0(t,e,i))}function uk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function oC(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let WU;class Bo{constructor(t,e=(()=>(WU||(WU=new gh(Wte)),WU))()){this.value=t,this.children=e}static fromObject(t){let e=new Bo(null);return Tc(t,(i,r)=>{e=e.set(new Cs(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ds(),value:this.value};if(vr(t))return null;{const i=yr(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ho(t),e);return null!=o?{path:sa(new Cs(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vr(t))return this;{const e=yr(t),i=this.children.get(e);return null!==i?i.subtree(ho(t)):new Bo(null)}}set(t,e){if(vr(t))return new Bo(e,this.children);{const i=yr(t),o=(this.children.get(i)||new Bo(null)).set(ho(t),e),a=this.children.insert(i,o);return new Bo(this.value,a)}}remove(t){if(vr(t))return this.children.isEmpty()?new Bo(null):new Bo(null,this.children);{const e=yr(t),i=this.children.get(e);if(i){const r=i.remove(ho(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Bo(null):new Bo(this.value,o)}return this}}get(t){if(vr(t))return this.value;{const e=yr(t),i=this.children.get(e);return i?i.get(ho(t)):null}}setTree(t,e){if(vr(t))return e;{const i=yr(t),o=(this.children.get(i)||new Bo(null)).setTree(ho(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Bo(this.value,a)}}fold(t){return this.fold_(ds(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(sa(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ds(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(vr(t))return null;{const o=yr(t),a=this.children.get(o);return a?a.findOnPath_(ho(t),sa(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ds(),e)}foreachOnPath_(t,e,i){if(vr(t))return this;{this.value&&i(e,this.value);const r=yr(t),o=this.children.get(r);return o?o.foreachOnPath_(ho(t),sa(e,r),i):new Bo(null)}}foreach(t){this.foreach_(ds(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(sa(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Xp{constructor(t){this.writeTree_=t}static empty(){return new Xp(new Bo(null))}}function W2(n,t,e){if(vr(t))return new Xp(new Bo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=Id(r,t);return o=o.updateChild(a,e),new Xp(n.writeTree_.set(r,o))}{const r=new Bo(e),o=n.writeTree_.setTree(t,r);return new Xp(o)}}}function JU(n,t,e){let i=n;return Tc(e,(r,o)=>{i=W2(i,sa(t,r),o)}),i}function TG(n,t){if(vr(t))return Xp.empty();{const e=n.writeTree_.setTree(t,new Bo(null));return new Xp(e)}}function XU(n,t){return null!=aC(n,t)}function aC(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Id(e.path,t)):null}function BG(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(To,(i,r)=>{t.push(new Er(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Er(i,r.value))}),t}function R0(n,t){if(vr(t))return n;{const e=aC(n,t);return new Xp(null!=e?new Bo(e):n.writeTree_.subtree(t))}}function e4(n){return n.writeTree_.isEmpty()}function Gx(n,t){return FG(ds(),n.writeTree_,t)}function FG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ce.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=FG(sa(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(sa(n,".priority"),i)),e}}function dk(n,t){return LG(t,n)}function yie(n,t){if(n.snap)return Ff(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ff(sa(n.path,e),t))return!0;return!1}function wie(n){return n.visible}function MG(n,t,e){let i=Xp.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let u;if(o.snap)Ff(e,a)?(u=Id(e,a),i=W2(i,u,o.snap)):Ff(a,e)&&(u=Id(a,e),i=W2(i,ds(),o.snap.getChild(u)));else{if(!o.children)throw(0,ce.g5)("WriteRecord should have .snap or .children");if(Ff(e,a))u=Id(e,a),i=JU(i,u,o.children);else if(Ff(a,e))if(u=Id(a,e),vr(u))i=JU(i,ds(),o.children);else{const h=(0,ce.DV)(o.children,yr(u));if(h){const f=h.getChild(ho(u));i=W2(i,ds(),f)}}}}}return i}function kG(n,t,e,i,r){if(i||r){const o=R0(n.visibleWrites,t);return!r&&e4(o)?e:r||null!=e||XU(o,ds())?Gx(MG(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Ff(f.path,t)||Ff(t,f.path))},t),e||or.EMPTY_NODE):null}{const o=aC(n.visibleWrites,t);if(null!=o)return o;{const a=R0(n.visibleWrites,t);return e4(a)?e:null!=e||XU(a,ds())?Gx(a,e||or.EMPTY_NODE):null}}}function hk(n,t,e,i){return kG(n.writeTree,n.treePath,t,e,i)}function t4(n,t){return function bie(n,t,e){let i=or.EMPTY_NODE;const r=aC(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(To,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=R0(n.visibleWrites,t);return e.forEachChild(To,(a,u)=>{const h=Gx(R0(o,new Cs(a)),u);i=i.updateImmediateChild(a,h)}),BG(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return BG(R0(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function RG(n,t,e,i){return function Cie(n,t,e,i,r){(0,ce.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=sa(t,e);if(XU(n.visibleWrites,o))return null;{const a=R0(n.visibleWrites,o);return e4(a)?r.getChild(e):Gx(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Ak(n,t){return function Eie(n,t){return aC(n.visibleWrites,t)}(n.writeTree,sa(n.treePath,t))}function n4(n,t,e){return function xie(n,t,e,i){const r=sa(t,e),o=aC(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Gx(R0(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function OG(n,t){return LG(sa(n.treePath,t),n.writeTree)}function LG(n,t){return{treePath:n,writeTree:t}}class Tie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ce.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ce.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,q2(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,z2(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Qx(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ce.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,q2(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const NG=new class Bie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class i4{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new k0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return n4(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oC(this.viewCache_),o=function Die(n,t,e,i,r,o){return function Sie(n,t,e,i,r,o,a){let u;const h=R0(n.visibleWrites,t),f=aC(h,ds());if(null!=f)u=f;else{if(null==e)return[];u=Gx(h,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const _=[],b=a.getCompare(),F=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let B=F.getNext();for(;B&&_.length<r;)0!==b(B,i)&&_.push(B),B=F.getNext();return _}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function PG(n,t,e,i,r,o){const a=t.eventCache;if(null!=Ak(i,e))return t;{let u,h;if(vr(e))if((0,ce.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=oC(t),b=t4(i,f instanceof or?f:or.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),b,o)}else{const f=hk(i,oC(t));u=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const f=yr(e);if(".priority"===f){(0,ce.hu)(1===M0(e),"Can't have a priority with additional path components");const _=a.getNode();h=t.serverCache.getNode();const b=RG(i,e,_,h);u=null!=b?n.filter.updatePriority(_,b):a.getNode()}else{const _=ho(e);let b;if(a.isCompleteForChild(f)){h=t.serverCache.getNode();const F=RG(i,e,a.getNode(),h);b=null!=F?a.getNode().getImmediateChild(f).updateChild(_,F):a.getNode().getImmediateChild(f)}else b=n4(i,f,t.serverCache);u=null!=b?n.filter.updateChild(a.getNode(),f,b,_,r,o):a.getNode()}}return Y2(t,u,a.isFullyInitialized()||vr(e),n.filter.filtersNodes())}}function fk(n,t,e,i,r,o,a,u){const h=t.serverCache;let f;const _=a?n.filter:n.filter.getIndexedFilter();if(vr(e))f=_.updateFullNode(h.getNode(),i,null);else if(_.filtersNodes()&&!h.isFiltered()){const B=h.getNode().updateChild(e,i);f=_.updateFullNode(h.getNode(),B,null)}else{const B=yr(e);if(!h.isCompleteForPath(e)&&M0(e)>1)return t;const U=ho(e),Z=h.getNode().getImmediateChild(B).updateChild(U,i);f=".priority"===B?_.updatePriority(h.getNode(),Z):_.updateChild(h.getNode(),B,Z,U,NG,null)}const b=DG(t,f,h.isFullyInitialized()||vr(e),_.filtersNodes());return PG(n,b,e,r,new i4(r,b,o),u)}function r4(n,t,e,i,r,o,a){const u=t.eventCache;let h,f;const _=new i4(r,t,o);if(vr(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=Y2(t,f,!0,n.filter.filtersNodes());else{const b=yr(e);if(".priority"===b)f=n.filter.updatePriority(t.eventCache.getNode(),i),h=Y2(t,f,u.isFullyInitialized(),u.isFiltered());else{const F=ho(e),B=u.getNode().getImmediateChild(b);let U;if(vr(F))U=i;else{const H=_.getCompleteChild(b);U=null!=H?".priority"===OU(F)&&H.getChild(fG(F)).isEmpty()?H:H.updateChild(F,i):or.EMPTY_NODE}h=B.equals(U)?t:Y2(t,n.filter.updateChild(u.getNode(),b,U,F,_,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function UG(n,t){return n.eventCache.isCompleteForChild(t)}function QG(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function s4(n,t,e,i,r,o,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,h=t;f=vr(e)?i:new Bo(null).setTree(e,i);const _=t.serverCache.getNode();return f.children.inorderTraversal((b,F)=>{if(_.hasChild(b)){const U=QG(0,t.serverCache.getNode().getImmediateChild(b),F);h=fk(n,h,new Cs(b),U,r,o,a,u)}}),f.children.inorderTraversal((b,F)=>{const B=!t.serverCache.isCompleteForChild(b)&&null===F.value;if(!_.hasChild(b)&&!B){const H=QG(0,t.serverCache.getNode().getImmediateChild(b),F);h=fk(n,h,new Cs(b),H,r,o,a,u)}}),h}class Uie{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new GU(i.getIndex()),o=function Xne(n){return n.loadsAllData()?new GU(n.getIndex()):n.hasLimit()?new Jne(n):new K2(n)}(i);this.processor_=function Fie(n){return{filter:n}}(o);const a=e.serverCache,u=e.eventCache,h=r.updateFullNode(or.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(or.EMPTY_NODE,u.getNode(),null),_=new k0(h,a.isFullyInitialized(),r.filtersNodes()),b=new k0(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ck(b,_),this.eventGenerator_=new uie(this.query_)}get query(){return this.query_}}function Vie(n,t){const e=oC(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!vr(t)&&!e.getImmediateChild(yr(t)).isEmpty())?e.getChild(t):null}function HG(n){return 0===n.eventRegistrations_.length}function VG(n,t,e){const i=[];if(e){(0,ce.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function GG(n,t,e,i){t.type===Mf.MERGE&&null!==t.source.queryId&&((0,ce.hu)(oC(n.viewCache_),"We should always have a full cache before handling merges"),(0,ce.hu)(uk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function kie(n,t,e,i,r){const o=new Tie;let a,u;if(e.type===Mf.OVERWRITE){const f=e;f.source.fromUser?a=r4(n,t,f.path,f.snap,i,r,o):((0,ce.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered()&&!vr(f.path),a=fk(n,t,f.path,f.snap,i,r,u,o))}else if(e.type===Mf.MERGE){const f=e;f.source.fromUser?a=function Oie(n,t,e,i,r,o,a){let u=t;return i.foreach((h,f)=>{const _=sa(e,h);UG(t,yr(_))&&(u=r4(n,u,_,f,r,o,a))}),i.foreach((h,f)=>{const _=sa(e,h);UG(t,yr(_))||(u=r4(n,u,_,f,r,o,a))}),u}(n,t,f.path,f.children,i,r,o):((0,ce.hu)(f.source.fromServer,"Unknown source."),u=f.source.tagged||t.serverCache.isFiltered(),a=s4(n,t,f.path,f.children,i,r,u,o))}else if(e.type===Mf.ACK_USER_WRITE){const f=e;a=f.revert?function Pie(n,t,e,i,r,o){let a;if(null!=Ak(i,e))return t;{const u=new i4(i,t,r),h=t.eventCache.getNode();let f;if(vr(e)||".priority"===yr(e)){let _;if(t.serverCache.isFullyInitialized())_=hk(i,oC(t));else{const b=t.serverCache.getNode();(0,ce.hu)(b instanceof or,"serverChildren would be complete if leaf node"),_=t4(i,b)}f=n.filter.updateFullNode(h,_,o)}else{const _=yr(e);let b=n4(i,_,t.serverCache);null==b&&t.serverCache.isCompleteForChild(_)&&(b=h.getImmediateChild(_)),f=null!=b?n.filter.updateChild(h,_,b,ho(e),u,o):t.eventCache.getNode().hasChild(_)?n.filter.updateChild(h,_,or.EMPTY_NODE,ho(e),u,o):h,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=hk(i,oC(t)),a.isLeafNode()&&(f=n.filter.updateFullNode(f,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Ak(i,ds()),Y2(t,f,a,n.filter.filtersNodes())}}(n,t,f.path,i,r,o):function Lie(n,t,e,i,r,o,a){if(null!=Ak(r,e))return t;const u=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(vr(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return fk(n,t,e,h.getNode().getChild(e),r,o,u,a);if(vr(e)){let f=new Bo(null);return h.getNode().forEachChild(e_,(_,b)=>{f=f.set(new Cs(_),b)}),s4(n,t,e,f,r,o,u,a)}return t}{let f=new Bo(null);return i.foreach((_,b)=>{const F=sa(e,_);h.isCompleteForPath(F)&&(f=f.set(_,h.getNode().getChild(F)))}),s4(n,t,e,f,r,o,u,a)}}(n,t,f.path,f.affectedTree,i,r,o)}else{if(e.type!==Mf.LISTEN_COMPLETE)throw(0,ce.g5)("Unknown operation type: "+e.type);a=function Nie(n,t,e,i,r){const o=t.serverCache;return PG(n,DG(t,o.getNode(),o.isFullyInitialized()||vr(e),o.isFiltered()),e,i,NG,r)}(n,t,e.path,i,o)}const h=o.getChanges();return function Rie(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=uk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(xG(uk(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function Mie(n,t){(0,ce.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ce.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ce.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,jG(n,o.changes,o.viewCache.eventCache.getNode(),null)}function jG(n,t,e,i){return function die(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function Wne(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),$2(n,r,"child_removed",t,i,e),$2(n,r,"child_added",t,i,e),$2(n,r,"child_moved",o,i,e),$2(n,r,"child_changed",t,i,e),$2(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let pk,mk;class zG{constructor(){this.views=new Map}}function o4(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ce.hu)(null!=o,"SyncTree gave us an op for an invalid query."),GG(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(GG(a,t,e,i));return o}}function qG(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=hk(e,r?i:null),h=!1;u?h=!0:i instanceof or?(u=t4(e,i),h=!1):(u=or.EMPTY_NODE,h=!1);const f=ck(new k0(u,h,!1),new k0(i,r,!1));return new Uie(t,f)}return a}function KG(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function O0(n,t){let e=null;for(const i of n.views.values())e=e||Vie(i,t);return e}function ZG(n,t){return t._queryParams.loadsAllData()?gk(n):n.views.get(t._queryIdentifier)}function $G(n,t){return null!=ZG(n,t)}function L0(n){return null!=gk(n)}function gk(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Jie=1;class YG{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bo(null),this.pendingWriteTree_=function Iie(){return{visibleWrites:Xp.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a4(n,t,e,i,r){return function pie(n,t,e,i,r){(0,ce.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=W2(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?jx(n,new sC({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function N0(n,t,e=!1){const i=function mie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function _ie(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,ce.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&yie(u,i.path)?r=!1:Ff(i.path,u.path)&&(o=!0)),a--}return!!r&&(o?(function vie(n){n.visibleWrites=MG(n.allWrites,wie,ds()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=TG(n.visibleWrites,i.path):Tc(i.children,h=>{n.visibleWrites=TG(n.visibleWrites,sa(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let o=new Bo(null);return null!=i.snap?o=o.set(ds(),!0):Tc(i.children,a=>{o=o.set(new Cs(a),!0)}),jx(n,new lk(i.path,o,e))}return[]}function J2(n,t,e){return jx(n,new sC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _k(n,t,e,i,r=!1){const o=t._path,a=n.syncPointTree_.get(o);let u=[];if(a&&("default"===t._queryIdentifier||$G(a,t))){const h=function $ie(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const u=L0(n);if("default"===r)for(const[h,f]of n.views.entries())a=a.concat(VG(f,e,i)),HG(f)&&(n.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=n.views.get(r);h&&(a=a.concat(VG(h,e,i)),HG(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!L0(n)&&o.push(new(function qie(){return(0,ce.hu)(pk,"Reference.ts has not been loaded"),pk}())(t._repo,t._path)),{removed:o,events:a}}(a,t,e,i);(function Kie(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const _=-1!==f.findIndex(F=>F._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(o,(F,B)=>L0(B));if(_&&!b){const F=n.syncPointTree_.subtree(o);if(!F.isEmpty()){const B=function sre(n){return n.fold((t,e,i)=>{if(e&&L0(e))return[gk(e)];{let r=[];return e&&(r=KG(e)),Tc(i,(o,a)=>{r=r.concat(a)}),r}})}(F);for(let U=0;U<B.length;++U){const H=B[U],Z=H.query,z=ej(n,H);n.listenProvider_.startListening(eD(Z),X2(n,Z),z.hashFn,z.onComplete)}}}!b&&f.length>0&&!i&&(_?n.listenProvider_.stopListening(eD(t),null):f.forEach(F=>{const B=n.queryToTagMap.get(vk(F));n.listenProvider_.stopListening(eD(F),B)}))}!function ore(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=vk(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,f)}return u}function WG(n,t,e,i){const r=c4(n,i);if(null!=r){const o=u4(r),a=o.path,u=o.queryId,h=Id(a,t);return d4(n,a,new sC(YU(u),h,e))}return[]}function l4(n,t,e,i=!1){const r=t._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(r,(F,B)=>{const U=Id(F,r);o=o||O0(B,U),a=a||L0(B)});let h,u=n.syncPointTree_.get(r);u?(a=a||L0(u),o=o||O0(u,ds())):(u=new zG,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=o?h=!0:(h=!1,o=or.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,U)=>{const H=O0(U,ds());H&&(o=o.updateImmediateChild(B,H))}));const f=$G(u,t);if(!f&&!t._queryParams.loadsAllData()){const F=vk(t);(0,ce.hu)(!n.queryToTagMap.has(F),"View does not exist, but we have a tag");const B=function are(){return Jie++}();n.queryToTagMap.set(F,B),n.tagToQueryMap.set(B,F)}let b=function Zie(n,t,e,i,r,o){const a=qG(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function Gie(n,t){n.eventRegistrations_.push(t)}(a,e),function jie(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(To,(o,a)=>{i.push(Qx(o,a))}),e.isFullyInitialized()&&i.push(xG(e.getNode())),jG(n,i,e.getNode(),t)}(a,e)}(u,t,e,dk(n.pendingWriteTree_,r),o,h);if(!f&&!a&&!i){const F=ZG(u,t);b=b.concat(function lre(n,t,e){const i=t._path,r=X2(n,t),o=ej(n,e),a=n.listenProvider_.startListening(eD(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,ce.hu)(!L0(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,_,b)=>{if(!vr(f)&&_&&L0(_))return[gk(_).query];{let F=[];return _&&(F=F.concat(KG(_).map(B=>B.query))),Tc(b,(B,U)=>{F=F.concat(U)}),F}});for(let f=0;f<h.length;++f){const _=h[f];n.listenProvider_.stopListening(eD(_),X2(n,_))}}return a}(n,t,F))}return b}function yk(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,u)=>{const f=O0(u,Id(a,t));if(f)return f});return kG(r,t,o,e,!0)}function jx(n,t){return JG(t,n.syncPointTree_,null,dk(n.pendingWriteTree_,ds()))}function JG(n,t,e,i){if(vr(n.path))return XG(n,t,e,i);{const r=t.get(ds());null==e&&null!=r&&(e=O0(r,ds()));let o=[];const a=yr(n.path),u=n.operationForChild(a),h=t.children.get(a);if(h&&u){const f=e?e.getImmediateChild(a):null,_=OG(i,a);o=o.concat(JG(u,h,f,_))}return r&&(o=o.concat(o4(r,n,i,e))),o}}function XG(n,t,e,i){const r=t.get(ds());null==e&&null!=r&&(e=O0(r,ds()));let o=[];return t.children.inorderTraversal((a,u)=>{const h=e?e.getImmediateChild(a):null,f=OG(i,a),_=n.operationForChild(a);_&&(o=o.concat(XG(_,u,h,f)))}),r&&(o=o.concat(o4(r,n,i,e))),o}function ej(n,t){const e=t.query,i=X2(n,e);return{hashFn:()=>(function Qie(n){return n.viewCache_.serverCache.getNode()}(t)||or.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function nre(n,t,e){const i=c4(n,e);if(i){const r=u4(i),o=r.path,a=r.queryId,u=Id(o,t);return d4(n,o,new Z2(YU(a),u))}return[]}(n,e._path,i):function tre(n,t){return jx(n,new Z2({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function ene(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return _k(n,e,null,o)}}}}function X2(n,t){const e=vk(t);return n.queryToTagMap.get(e)}function vk(n){return n._path.toString()+"$"+n._queryIdentifier}function c4(n,t){return n.tagToQueryMap.get(t)}function u4(n){const t=n.indexOf("$");return(0,ce.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cs(n.substr(0,t))}}function d4(n,t,e){const i=n.syncPointTree_.get(t);return(0,ce.hu)(i,"Missing sync point for query tag that we're tracking"),o4(i,e,dk(n.pendingWriteTree_,t),null)}function eD(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Wie(){return(0,ce.hu)(mk,"Reference.ts has not been loaded"),mk}())(n._repo,n._path):n}class h4{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new h4(e)}node(){return this.node_}}class A4{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=sa(this.path_,t);return new A4(this.syncTree_,e)}node(){return yk(this.syncTree_,this.path_)}}const tj=function(n,t,e){return n&&"object"==typeof n?((0,ce.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ure(n[".sv"],t,e):"object"==typeof n[".sv"]?dre(n[".sv"],t):void(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ure=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ce.hu)(!1,"Unexpected server value: "+n)},dre=function(n,t,e){n.hasOwnProperty("increment")||(0,ce.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ce.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ce.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},nj=function(n,t,e,i){return p4(t,new A4(e,n),i)},f4=function(n,t,e){return p4(n,new h4(t),e)};function p4(n,t,e){const i=n.getPriority().val(),r=tj(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,u=tj(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new Px(u,ga(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new Px(r))),a.forEachChild(To,(u,h)=>{const f=p4(h,t.getImmediateChild(u),e);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}class g4{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function wk(n,t){let e=t instanceof Cs?t:new Cs(t),i=n,r=yr(e);for(;null!==r;){const o=(0,ce.DV)(i.node.children,r)||{children:{},childCount:0};i=new g4(r,i,o),e=ho(e),r=yr(e)}return i}function lC(n){return n.node.value}function m4(n,t){n.node.value=t,_4(n)}function ij(n){return n.node.childCount>0}function bk(n,t){Tc(n.node.children,(e,i)=>{t(new g4(e,n,i))})}function rj(n,t,e,i){e&&!i&&t(n),bk(n,r=>{rj(r,t,!0,i)}),e&&i&&t(n)}function tD(n){return new Cs(null===n.parent?n.name:tD(n.parent)+"/"+n.name)}function _4(n){null!==n.parent&&function fre(n,t,e){const i=function hre(n){return void 0===lC(n)&&!ij(n)}(e),r=(0,ce.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,_4(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,_4(n))}(n.parent,n.name,n)}const pre=/[\[\].#$\/\u0000-\u001F\u007F]/,gre=/[\[\].#$\u0000-\u001F\u007F]/,y4=10485760,Ck=function(n){return"string"==typeof n&&0!==n.length&&!pre.test(n)},sj=function(n){return"string"==typeof n&&0!==n.length&&!gre.test(n)},nD=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!YM(n)||n&&"object"==typeof n&&(0,ce.r3)(n,".sv")},t_=function(n,t,e,i){i&&void 0===t||iD((0,ce.gK)(n,"value"),t,e)},iD=function(n,t,e){const i=e instanceof Cs?new kne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+iC(i));if("function"==typeof t)throw new Error(n+"contains a function "+iC(i)+" with contents = "+t.toString());if(YM(t))throw new Error(n+"contains "+t.toString()+" "+iC(i));if("string"==typeof t&&t.length>y4/3&&(0,ce.ug)(t)>y4)throw new Error(n+"contains a string greater than "+y4+" utf8 bytes "+iC(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Tc(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!Ck(a)))throw new Error(n+" contains an invalid key ("+a+") "+iC(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Rne(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ce.ug)(t),pG(n)})(i,a),iD(n,u,i),function One(n){const t=n.parts_.pop();n.byteLength_-=(0,ce.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+iC(i)+" in addition to actual children.")}},oj=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ce.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Tc(t,(a,u)=>{const h=new Cs(a);if(iD(r,u,sa(e,h)),".priority"===OU(h)&&!nD(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=H2(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!Ck(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mne);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ff(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},v4=function(n,t,e){if(!e||void 0!==t){if(YM(t))throw new Error((0,ce.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nD(t))throw new Error((0,ce.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rD=function(n,t,e,i){if(!(i&&void 0===e||Ck(e)))throw new Error((0,ce.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sD=function(n,t,e,i){if(!(i&&void 0===e||sj(e)))throw new Error((0,ce.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kf=function(n,t){if(".info"===yr(t))throw new Error(n+" failed = Can't modify data under /.info/")},aj=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ck(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sj(n)}(e))throw new Error((0,ce.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class vre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xk(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!LU(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function lj(n,t,e){xk(n,e),cj(n,i=>LU(i,t))}function DA(n,t,e){xk(n,e),cj(n,i=>Ff(i,t)||Ff(t,i))}function cj(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(wre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();tC&&Dc("event: "+e.toString()),Lx(i)}}}const uj="repo_interrupt";class Cre{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ak(),this.transactionQueueTree_=new g4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dj(n){const e=n.infoData_.getNode(new Cs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function oD(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:dj(n)})}function hj(n,t,e,i,r){n.dataUpdateCount++;const o=new Cs(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,ce.UI)(e,f=>ga(f));a=function ire(n,t,e,i){const r=c4(n,i);if(r){const o=u4(r),a=o.path,u=o.queryId,h=Id(a,t),f=Bo.fromObject(e);return d4(n,a,new Vx(YU(u),h,f))}return[]}(n.serverSyncTree_,o,h,r)}else{const h=ga(e);a=WG(n.serverSyncTree_,o,h,r)}else if(i){const h=(0,ce.UI)(e,f=>ga(f));a=function ere(n,t,e){const i=Bo.fromObject(e);return jx(n,new Vx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,h)}else{const h=ga(e);a=J2(n.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=qx(n,o)),DA(n.eventQueue_,u,a)}function Aj(n,t){w4(n,"connected",t),!1===t&&function Dre(n){zx(n,"onDisconnectEvents");const t=oD(n),e=ak();KU(n.onDisconnect_,ds(),(r,o)=>{const a=nj(r,o,n.serverSyncTree_,t);Hx(e,r,a)});let i=[];KU(e,ds(),(r,o)=>{i=i.concat(J2(n.serverSyncTree_,r,o));const a=E4(n,r);qx(n,a)}),n.onDisconnect_=ak(),DA(n.eventQueue_,ds(),i)}(n)}function w4(n,t,e){const i=new Cs("/.info/"+t),r=ga(e);n.infoData_.updateSnapshot(i,r);const o=J2(n.infoSyncTree_,i,r);DA(n.eventQueue_,i,o)}function Ek(n){return n.nextWriteId_++}function b4(n,t,e,i,r){zx(n,"set",{path:t.toString(),value:e,priority:i});const o=oD(n),a=ga(e,i),u=yk(n.serverSyncTree_,t),h=f4(a,u,o),f=Ek(n),_=a4(n.serverSyncTree_,t,h,f,!0);xk(n.eventQueue_,_),n.server_.put(t.toString(),a.val(!0),(F,B)=>{const U="ok"===F;U||Pu("set at "+t+" failed: "+F);const H=N0(n.serverSyncTree_,f,!U);DA(n.eventQueue_,t,H),P0(0,r,F,B)});const b=E4(n,t);qx(n,b),DA(n.eventQueue_,b,[])}function Tre(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&qU(n.onDisconnect_,t),P0(0,e,i,r)})}function fj(n,t,e,i){const r=ga(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&Hx(n.onDisconnect_,t,r),P0(0,i,o,a)})}function C4(n,t,e){let i;i=".info"===yr(t._path)?_k(n.infoSyncTree_,t,e):_k(n.serverSyncTree_,t,e),lj(n.eventQueue_,t._path,i)}function pj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(uj)}function zx(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Dc(e,...t)}function P0(n,t,e,i){t&&Lx(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function x4(n,t,e){return yk(n.serverSyncTree_,t,e)||or.EMPTY_NODE}function Sk(n,t=n.transactionQueueTree_){if(t||Ik(n,t),lC(t)){const e=mj(n,t);(0,ce.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Ore(n,t,e){const i=e.map(f=>f.currentWriteId),r=x4(n,t,i);let o=r;const a=r.hash();for(let f=0;f<e.length;f++){const _=e[f];(0,ce.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=Id(t,_.path);o=o.updateChild(b,_.currentOutputSnapshotRaw)}const u=o.val(!0),h=t;n.server_.put(h.toString(),u,f=>{zx(n,"transaction put response",{path:h.toString(),status:f});let _=[];if("ok"===f){const b=[];for(let F=0;F<e.length;F++)e[F].status=2,_=_.concat(N0(n.serverSyncTree_,e[F].currentWriteId)),e[F].onComplete&&b.push(()=>e[F].onComplete(null,!0,e[F].currentOutputSnapshotResolved)),e[F].unwatcher();Ik(n,wk(n.transactionQueueTree_,t)),Sk(n,n.transactionQueueTree_),DA(n.eventQueue_,t,_);for(let F=0;F<b.length;F++)Lx(b[F])}else{if("datastale"===f)for(let b=0;b<e.length;b++)e[b].status=3===e[b].status?4:0;else{Pu("transaction at "+h.toString()+" failed: "+f);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=f}qx(n,t)}},a)}(n,tD(t),e)}else ij(t)&&bk(t,e=>{Sk(n,e)})}function qx(n,t){const e=gj(n,t),i=tD(e);return function Lre(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const h=t[u],f=Id(e,h.path);let b,_=!1;if((0,ce.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,b=h.abortReason,r=r.concat(N0(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,b="maxretry",r=r.concat(N0(n.serverSyncTree_,h.currentWriteId,!0));else{const F=x4(n,h.path,a);h.currentInputSnapshot=F;const B=t[u].update(F.val());if(void 0!==B){iD("transaction failed: Data returned ",B,h.path);let U=ga(B);"object"==typeof B&&null!=B&&(0,ce.r3)(B,".priority")||(U=U.updatePriority(F.getPriority()));const Z=h.currentWriteId,z=oD(n),W=f4(U,F,z);h.currentOutputSnapshotRaw=U,h.currentOutputSnapshotResolved=W,h.currentWriteId=Ek(n),a.splice(a.indexOf(Z),1),r=r.concat(a4(n.serverSyncTree_,h.path,W,h.currentWriteId,h.applyLocally)),r=r.concat(N0(n.serverSyncTree_,Z,!0))}else _=!0,b="nodata",r=r.concat(N0(n.serverSyncTree_,h.currentWriteId,!0))}DA(n.eventQueue_,e,r),r=[],_&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===b?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(b),!1,null)))}Ik(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Lx(i[u]);Sk(n,n.transactionQueueTree_)}(n,mj(n,e),i),i}function gj(n,t){let e,i=n.transactionQueueTree_;for(e=yr(t);null!==e&&void 0===lC(i);)i=wk(i,e),e=yr(t=ho(t));return i}function mj(n,t){const e=[];return _j(n,t,e),e.sort((i,r)=>i.order-r.order),e}function _j(n,t,e){const i=lC(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);bk(t,r=>{_j(n,r,e)})}function Ik(n,t){const e=lC(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,m4(t,e.length>0?e:void 0)}bk(t,i=>{Ik(n,i)})}function E4(n,t){const e=tD(gj(n,t)),i=wk(n.transactionQueueTree_,t);return function Are(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{S4(n,r)}),S4(n,i),rj(i,r=>{S4(n,r)}),e}function S4(n,t){const e=lC(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,ce.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,ce.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(N0(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?m4(t,void 0):e.length=o+1,DA(n.eventQueue_,tD(t),r);for(let a=0;a<i.length;a++)Lx(i[a])}}const I4=function(n,t){const e=Ure(n),i=e.namespace;return"firebase.com"===e.domain&&Xm(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xm("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new TU(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cs(e.pathString)}},Ure=function(n){let t="",e="",i="",r="",o="",a=!0,u="https",h=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(u=n.substring(0,f-1),n=n.substring(f+2));let _=n.indexOf("/");-1===_&&(_=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),t=n.substring(0,Math.min(_,b)),_<b&&(r=function Nre(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(_,b)));const F=function Pre(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pu(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,b)));f=t.indexOf(":"),f>=0?(a="https"===u||"wss"===u,h=parseInt(t.substring(f+1),10)):f=t.length;const B=t.slice(0,f);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const U=t.indexOf(".");i=t.substring(0,U).toLowerCase(),e=t.substring(U+1),o=i}"ns"in F&&(o=F.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}},yj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Qre=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=yj.charAt(e%64),e=Math.floor(e/64);(0,ce.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=yj.charAt(t[r]);return(0,ce.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class vj{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ce.Wl)(this.snapshot.exportVal())}}class wj{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class D4{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ce.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class bj{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ce.BH;return Tre(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){kf("OnDisconnect.remove",this._path);const t=new ce.BH;return fj(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){kf("OnDisconnect.set",this._path),t_("OnDisconnect.set",t,this._path,!1);const e=new ce.BH;return fj(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){kf("OnDisconnect.setWithPriority",this._path),t_("OnDisconnect.setWithPriority",t,this._path,!1),v4("OnDisconnect.setWithPriority",e,!1);const i=new ce.BH;return function Bre(n,t,e,i,r){const o=ga(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,u)=>{"ok"===a&&Hx(n.onDisconnect_,t,o),P0(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){kf("OnDisconnect.update",this._path),oj("OnDisconnect.update",t,this._path,!1);const e=new ce.BH;return function Fre(n,t,e,i){if((0,ce.xb)(e))return Dc("onDisconnect().update() called with empty data.  Don't do anything."),void P0(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Tc(e,(a,u)=>{const h=ga(u);Hx(n.onDisconnect_,sa(t,a),h)}),P0(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class mh{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return vr(this._path)?null:OU(this._path)}get ref(){return new Rf(this._repo,this._path)}get _queryIdentifier(){const t=SG(this._queryParams),e=IU(t);return"{}"===e?"default":e}get _queryObject(){return SG(this._queryParams)}isEqual(t){if(!((t=(0,ce.m9)(t))instanceof mh))return!1;const e=this._repo===t._repo,i=LU(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Fne(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Dk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function U0(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===e_){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==B0)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ny)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===To){if(null!=t&&!nD(t)||null!=e&&!nD(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ce.hu)(n.getIndex()instanceof HU||n.getIndex()===VU,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Rf extends mh{constructor(t,e){super(t,e,new rk,!1)}get parent(){const t=fG(this._path);return null===t?null:new Rf(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cC{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Cs(t),i=uC(this.ref,t);return new cC(this._node.getChild(e),i,To)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new cC(r,uC(this.ref,i),To)))}hasChild(t){const e=new Cs(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cj(n,t){return(n=(0,ce.m9)(n))._checkNotDeleted("ref"),void 0!==t?uC(n._root,t):n._root}function xj(n,t){(n=(0,ce.m9)(n))._checkNotDeleted("refFromURL");const e=I4(t,n._repo.repoInfo_.nodeAdmin);aj("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xm("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Cj(n,e.path.toString())}function uC(n,t){return null===yr((n=(0,ce.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),sD("child","path",e,!1)):sD("child","path",t,!1),new Rf(n._repo,sa(n._path,t));var e}function T4(n,t){n=(0,ce.m9)(n),kf("set",n._path),t_("set",t,n._path,!1);const e=new ce.BH;return b4(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zre(n,t){oj("update",t,n._path,!1);const e=new ce.BH;return function Ire(n,t,e,i){zx(n,"update",{path:t.toString(),value:e});let r=!0;const o=oD(n),a={};if(Tc(e,(u,h)=>{r=!1,a[u]=nj(sa(t,u),ga(h),n.serverSyncTree_,o)}),r)Dc("update() called with empty data.  Don't do anything."),P0(0,i,"ok",void 0);else{const u=Ek(n),h=function Xie(n,t,e,i){!function gie(n,t,e,i){(0,ce.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=JU(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Bo.fromObject(e);return jx(n,new Vx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);xk(n.eventQueue_,h),n.server_.merge(t.toString(),e,(f,_)=>{const b="ok"===f;b||Pu("update at "+t+" failed: "+f);const F=N0(n.serverSyncTree_,u,!b),B=F.length>0?qx(n,t):t;DA(n.eventQueue_,B,F),P0(0,i,f,_)}),Tc(e,f=>{const _=E4(n,sa(t,f));qx(n,_)}),DA(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function qre(n){n=(0,ce.m9)(n);const t=new D4(()=>{}),e=new aD(t);return function Sre(n,t,e){const i=function rre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,_)=>{const b=Id(f,e);i=i||O0(_,b)});let r=n.syncPointTree_.get(e);r?i=i||O0(r,ds()):(r=new zG,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new k0(i,!0,!1):null;return function Hie(n){return uk(n.viewCache_)}(qG(r,t,dk(n.pendingWriteTree_,t._path),o?a.getNode():or.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ga(r).withIndex(t._queryParams.getIndex());let a;if(l4(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=J2(n.serverSyncTree_,t._path,o);else{const u=X2(n.serverSyncTree_,t);a=WG(n.serverSyncTree_,t._path,o,u)}return DA(n.eventQueue_,t._path,a),_k(n.serverSyncTree_,t,e,null,!0),o},r=>(zx(n,"get for query "+(0,ce.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new cC(i,new Rf(n._repo,n._path),n._queryParams.getIndex()))}class aD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new vj("value",this,new cC(t.snapshotNode,new Rf(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new wj(this,t,e):null}matches(t){return t instanceof aD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Bk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new wj(this,t,e):null}createEvent(t,e){(0,ce.hu)(null!=t.childName,"Child events should have a childName.");const i=uC(new Rf(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new vj(t.type,this,new cC(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Bk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lD(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const h=e,f=(_,b)=>{C4(n._repo,n,u),h(_,b)};f.userCallback=e.userCallback,f.context=e.context,e=f}const a=new D4(e,o||void 0),u="value"===t?new aD(a):new Bk(t,a);return function Mre(n,t,e){let i;i=".info"===yr(t._path)?l4(n.infoSyncTree_,t,e):l4(n.serverSyncTree_,t,e),lj(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>C4(n._repo,n,u)}function B4(n,t,e,i){return lD(n,"value",t,e,i)}function Ej(n,t,e,i){return lD(n,"child_added",t,e,i)}function Sj(n,t,e,i){return lD(n,"child_changed",t,e,i)}function Ij(n,t,e,i){return lD(n,"child_moved",t,e,i)}function Dj(n,t,e,i){return lD(n,"child_removed",t,e,i)}function Tj(n,t,e){let i=null;const r=e?new D4(e):null;"value"===t?i=new aD(r):t&&(i=new Bk(t,r)),C4(n._repo,n,i)}class eg{}class Bj extends eg{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){t_("endAt",this._value,t._path,!0);const e=zU(t._queryParams,this._value,this._key);if(Tk(e),U0(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mh(t._repo,t._path,e,t._orderByCalled)}}class Zre extends eg{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){t_("endBefore",this._value,t._path,!1);const e=function iie(n,t,e){let i;return i=zU(n,t,n.index_===e_||e?e:B0),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Tk(e),U0(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mh(t._repo,t._path,e,t._orderByCalled)}}class Fj extends eg{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){t_("startAt",this._value,t._path,!0);const e=jU(t._queryParams,this._value,this._key);if(Tk(e),U0(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mh(t._repo,t._path,e,t._orderByCalled)}}class Wre extends eg{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){t_("startAfter",this._value,t._path,!1);const e=function nie(n,t,e){let i;return i=jU(n,t,n.index_===e_||e?e:Ny),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Tk(e),U0(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mh(t._repo,t._path,e,t._orderByCalled)}}class Xre extends eg{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mh(t._repo,t._path,function eie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class tse extends eg{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mh(t._repo,t._path,function tie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ise extends eg{constructor(t){super(),this._path=t}_apply(t){Dk(t,"orderByChild");const e=new Cs(this._path);if(vr(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new HU(e),r=sk(t._queryParams,i);return U0(r),new mh(t._repo,t._path,r,!0)}}class sse extends eg{_apply(t){Dk(t,"orderByKey");const e=sk(t._queryParams,e_);return U0(e),new mh(t._repo,t._path,e,!0)}}class ase extends eg{_apply(t){Dk(t,"orderByPriority");const e=sk(t._queryParams,To);return U0(e),new mh(t._repo,t._path,e,!0)}}class cse extends eg{_apply(t){Dk(t,"orderByValue");const e=sk(t._queryParams,VU);return U0(e),new mh(t._repo,t._path,e,!0)}}class dse extends eg{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(t_("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bj(this._value,this._key)._apply(new Fj(this._value,this._key)._apply(t))}}function tg(n,...t){let e=(0,ce.m9)(n);for(const i of t)e=i._apply(e);return e}(function zie(n){(0,ce.hu)(!pk,"__referenceConstructor has already been defined"),pk=n})(Rf),function Yie(n){(0,ce.hu)(!mk,"__referenceConstructor has already been defined"),mk=n}(Rf);const F4={};function kj(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Xm("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dc("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,f,a=I4(o,r),u=a.repoInfo;typeof process<"u"&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,a=I4(o,r),u=a.repoInfo):h=!a.repoInfo.secure;const _=r&&h?new Q2(Q2.OWNER):new one(n.name,n.options,t);aj("Invalid Firebase Database URL",a),vr(a.path)||Xm("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function gse(n,t,e,i){let r=F4[t.name];r||(r={},F4[t.name]=r);let o=r[n.toURLString()];return o&&Xm("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cre(n,false,e,i),r[n.toURLString()]=o,o}(u,n,_,new sne(n.name,e));return new _se(b,n)}class _se{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xre(n,t,e){if(n.stats_=MU(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ok(n.repoInfo_,(i,r,o,a)=>{hj(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Aj(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ce.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rC(n.repoInfo_,t,(i,r,o,a)=>{hj(n,i,r,o,a)},i=>{Aj(n,i)},i=>{!function Ere(n,t){Tc(t,(e,i)=>{w4(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function cne(n,t){const e=n.toString();return FU[e]||(FU[e]=t()),FU[e]}(n.repoInfo_,()=>new cie(n.stats_,n.server_)),n.infoData_=new rie,n.infoSyncTree_=new YG({startListening:(i,r,o,a)=>{let u=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(u=J2(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),w4(n,"connected",!1),n.serverSyncTree_=new YG({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(u,h)=>{const f=a(u,h);DA(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rf(this._repo,ds())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function pse(n,t){const e=F4[t];(!e||e[n.key]!==n)&&Xm(`Database ${t}(${n.repoInfo_}) has already been deleted.`),pj(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xm("Cannot call "+t+" on a deleted database.")}}function Rj(){nG.IS_TRANSPORT_INITIALIZED&&Pu("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function yse(){Rj(),F0.forceDisallow()}function vse(){Rj(),Nx.forceDisallow(),F0.forceAllow()}function Cse(n,t){L7(n,t)}const Ese={".sv":"timestamp"};class Dse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}rC.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rC.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xse(n){F7(fA.SDK_VERSION),(0,fA._registerComponent)(new Pp.wA("database",(t,{instanceIdentifier:e})=>kj(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,fA.registerVersion)(T7,"0.14.4",n),(0,fA.registerVersion)(T7,"0.14.4","esm2017")}();const Mse=new pA.Yd("@firebase/database-compat"),Lj=function(n){Mse.warn("FIREBASE WARNING: "+n)};class Ose{constructor(t){this._delegate=t}cancel(t){(0,ce.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ce.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ce.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ce.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ce.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ce.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ce.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,ce.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Lj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ce.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Lse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ce.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Q0{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ce.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ce.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ce.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ce.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ce.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),sD("DataSnapshot.child","path",t,!1),new Q0(this._database,this._delegate.child(t))}hasChild(t){return(0,ce.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sD("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ce.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ce.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ce.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Q0(this._database,e)))}hasChildren(){return(0,ce.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ce.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ce.Dv)("DataSnapshot.ref",0,0,arguments.length),new TA(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ru{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,ce.Dv)("Query.on",2,4,arguments.length),(0,ce.Wj)("Query.on","callback",e,!1);const a=ru.getCancelAndContextArgs_("Query.on",i,r),u=(f,_)=>{e.call(a.context,new Q0(this.database,f),_)};u.userCallback=e,u.context=a.context;const h=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return B4(this._delegate,u,h),e;case"child_added":return Ej(this._delegate,u,h),e;case"child_removed":return Dj(this._delegate,u,h),e;case"child_changed":return Sj(this._delegate,u,h),e;case"child_moved":return Ij(this._delegate,u,h),e;default:throw new Error((0,ce.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ce.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ce.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ce.Wj)("Query.off","callback",e,!0),(0,ce.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Tj(this._delegate,t,r)}else Tj(this._delegate,t)}get(){return qre(this._delegate).then(t=>new Q0(this.database,t))}once(t,e,i,r){(0,ce.Dv)("Query.once",1,4,arguments.length),(0,ce.Wj)("Query.once","callback",e,!0);const o=ru.getCancelAndContextArgs_("Query.once",i,r),a=new ce.BH,u=(f,_)=>{const b=new Q0(this.database,f);e&&e.call(o.context,b,_),a.resolve(b)};u.userCallback=e,u.context=o.context;const h=f=>{o.cancel&&o.cancel.call(o.context,f),a.reject(f)};switch(t){case"value":B4(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":Ej(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":Dj(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":Sj(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":Ij(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,ce.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,ce.Dv)("Query.limitToFirst",1,1,arguments.length),new ru(this.database,tg(this._delegate,function ese(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xre(n)}(t)))}limitToLast(t){return(0,ce.Dv)("Query.limitToLast",1,1,arguments.length),new ru(this.database,tg(this._delegate,function nse(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new tse(n)}(t)))}orderByChild(t){return(0,ce.Dv)("Query.orderByChild",1,1,arguments.length),new ru(this.database,tg(this._delegate,function rse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sD("orderByChild","path",n,!1),new ise(n)}(t)))}orderByKey(){return(0,ce.Dv)("Query.orderByKey",0,0,arguments.length),new ru(this.database,tg(this._delegate,function ose(){return new sse}()))}orderByPriority(){return(0,ce.Dv)("Query.orderByPriority",0,0,arguments.length),new ru(this.database,tg(this._delegate,function lse(){return new ase}()))}orderByValue(){return(0,ce.Dv)("Query.orderByValue",0,0,arguments.length),new ru(this.database,tg(this._delegate,function use(){return new cse}()))}startAt(t=null,e){return(0,ce.Dv)("Query.startAt",0,2,arguments.length),new ru(this.database,tg(this._delegate,function Yre(n=null,t){return rD("startAt","key",t,!0),new Fj(n,t)}(t,e)))}startAfter(t=null,e){return(0,ce.Dv)("Query.startAfter",0,2,arguments.length),new ru(this.database,tg(this._delegate,function Jre(n,t){return rD("startAfter","key",t,!0),new Wre(n,t)}(t,e)))}endAt(t=null,e){return(0,ce.Dv)("Query.endAt",0,2,arguments.length),new ru(this.database,tg(this._delegate,function Kre(n,t){return rD("endAt","key",t,!0),new Bj(n,t)}(t,e)))}endBefore(t=null,e){return(0,ce.Dv)("Query.endBefore",0,2,arguments.length),new ru(this.database,tg(this._delegate,function $re(n,t){return rD("endBefore","key",t,!0),new Zre(n,t)}(t,e)))}equalTo(t,e){return(0,ce.Dv)("Query.equalTo",1,2,arguments.length),new ru(this.database,tg(this._delegate,function hse(n,t){return rD("equalTo","key",t,!0),new dse(n,t)}(t,e)))}toString(){return(0,ce.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ce.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ce.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ru))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ce.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ce.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ce.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new TA(this.database,new Rf(this._delegate._repo,this._delegate._path))}}class TA extends ru{constructor(t,e){super(t,new mh(e._repo,e._path,new rk,!1)),this.database=t,this._delegate=e}getKey(){return(0,ce.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ce.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new TA(this.database,uC(this._delegate,t))}getParent(){(0,ce.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new TA(this.database,t):null}getRoot(){return(0,ce.Dv)("Reference.root",0,0,arguments.length),new TA(this.database,this._delegate.root)}set(t,e){(0,ce.Dv)("Reference.set",1,2,arguments.length),(0,ce.Wj)("Reference.set","onComplete",e,!0);const i=T4(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ce.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Lj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}kf("Reference.update",this._delegate._path),(0,ce.Wj)("Reference.update","onComplete",e,!0);const i=zre(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ce.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ce.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function jre(n,t,e){if(kf("setWithPriority",n._path),t_("setWithPriority",t,n._path,!1),v4("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ce.BH;return b4(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,ce.Dv)("Reference.remove",0,1,arguments.length),(0,ce.Wj)("Reference.remove","onComplete",t,!0);const e=function Vre(n){return kf("remove",n._path),T4(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ce.Dv)("Reference.transaction",1,3,arguments.length),(0,ce.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ce.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ce.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Tse(n,t,e){var i;if(n=(0,ce.m9)(n),kf("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new ce.BH,u=B4(n,()=>{});return function Rre(n,t,e,i,r,o){zx(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:k7(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=x4(n,t,void 0);a.currentInputSnapshot=u;const h=a.update(u.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{iD("transaction failed: Data returned ",h,a.path),a.status=0;const f=wk(n.transactionQueueTree_,t),_=lC(f)||[];let b;_.push(a),m4(f,_),"object"==typeof h&&null!==h&&(0,ce.r3)(h,".priority")?(b=(0,ce.DV)(h,".priority"),(0,ce.hu)(nD(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(yk(n.serverSyncTree_,t)||or.EMPTY_NODE).getPriority().val();const F=oD(n),B=ga(h,b),U=f4(B,u,F);a.currentOutputSnapshotRaw=B,a.currentOutputSnapshotResolved=U,a.currentWriteId=Ek(n);const H=a4(n.serverSyncTree_,t,U,a.currentWriteId,a.applyLocally);DA(n.eventQueue_,t,H),Sk(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,f,_)=>{let b=null;h?o.reject(h):(b=new cC(_,new Rf(n._repo,n._path),To),o.resolve(new Dse(f,b)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Lse(o.committed,new Q0(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,ce.Dv)("Reference.setPriority",1,2,arguments.length),(0,ce.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Gre(n,t){n=(0,ce.m9)(n),kf("setPriority",n._path),v4("setPriority",t,!1);const e=new ce.BH;return b4(n._repo,sa(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ce.Dv)("Reference.push",0,2,arguments.length),(0,ce.Wj)("Reference.push","onComplete",e,!0);const i=function Hre(n,t){n=(0,ce.m9)(n),kf("push",n._path),t_("push",t,n._path,!0);const e=dj(n._repo),i=Qre(e),r=uC(n,i),o=uC(n,i);let a;return a=null!=t?T4(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new TA(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new TA(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return kf("Reference.onDisconnect",this._delegate._path),new Ose(new bj(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class cD{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:yse,forceLongPolling:vse}}useEmulator(t,e,i={}){!function Oj(n,t,e,i={}){(n=(0,ce.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xm("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xm('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Q2(Q2.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,ce.Sg)(i.mockUserToken,n.app.options.projectId);o=new Q2(a)}!function fse(n,t,e,i){n.repoInfo_=new TU(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,ce.Dv)("database.ref",0,1,arguments.length),t instanceof TA){const e=xj(this._delegate,t.toString());return new TA(this,e)}{const e=Cj(this._delegate,t);return new TA(this,e)}}refFromURL(t){(0,ce.Dv)("database.refFromURL",1,1,arguments.length);const i=xj(this._delegate,t);return new TA(this,i)}goOffline(){return(0,ce.Dv)("database.goOffline",0,0,arguments.length),function wse(n){(n=(0,ce.m9)(n))._checkNotDeleted("goOffline"),pj(n._repo)}(this._delegate)}goOnline(){return(0,ce.Dv)("database.goOnline",0,0,arguments.length),function bse(n){(n=(0,ce.m9)(n))._checkNotDeleted("goOnline"),function kre(n){n.persistentConnection_&&n.persistentConnection_.resume(uj)}(n._repo)}(this._delegate)}}cD.ServerValue={TIMESTAMP:function Sse(){return Ese}(),increment:n=>function Ise(n){return{".sv":{increment:n}}}(n)};var Pse=Object.freeze({__proto__:null,initStandalone:function Nse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){F7(e);const a=new Pp.zt("auth-internal",new Pp.H0("database-standalone"));return a.setComponent(new Pp.wA("auth-internal",()=>i,"PRIVATE")),{instance:new cD(kj(n,a,void 0,t,o),n),namespace:r}}});const Use=cD.ServerValue;function Nj(n){return null==n}function Pj(n){return"function"==typeof n.set}function Uj(n,t){return Pj(t)?t:n.ref(t)}function Qj(n,t){if(function Hse(n){return"string"==typeof n}(n))return t.stringCase();if(Pj(n))return t.firebaseCase();if(function Vse(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function uD(n,t,e="on",i=jb.z){return new gr.y(r=>{let o=null;return o=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,cn.U)(r=>{const{snapshot:o,prevKey:a}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:a,key:u}}),(0,EP.B)())}function Hj(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function zse(n,t){const{payload:e,prevKey:i,key:r}=t,o=Hj(n,r),a=function jse(n,t){if(Nj(t))return 0;{const e=Hj(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(h=>{const f={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,f],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function Vj(n){return(Nj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Gj(n,t,e){return function Gse(n,t,e){return uD(n,"value","once",e).pipe(fs(i=>{const r=[pn(i)];return t.forEach(o=>r.push(uD(n,o,"on",e))),(0,tu.T)(...r).pipe(Xl(zse,[]))}),zb())}(n,t=Vj(t),e)}function jj(n,t,e){const i=(t=Vj(t)).map(r=>uD(n,r,"on",e));return(0,tu.T)(...i)}function zj(n,t){return function(i,r){return Qj(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function $se(n){return function(e){return e?Qj(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function qj(n,t){return function(){return uD(n,"value","on",t)}}!function Qse(n){n.INTERNAL.registerComponent(new Pp.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new cD(r,i)},"PUBLIC").setServiceProps({Reference:TA,Query:ru,Database:cD,DataSnapshot:Q0,enableLogging:Cse,INTERNAL:Pse,ServerValue:Use}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(CV.Z);const Jse=new s.OlP("angularfire2.realtimeDatabaseURL"),Xse=new s.OlP("angularfire2.database.use-emulator");let eoe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B,U,H,Z){this.schedulers=u;const z=h,W=(0,Cd.on)(e,a,i);f&&tU(W,a,_,F,B,U,b,H),this.database=(0,Cd.cc)(`${W.name}.database.${r}`,"AngularFireDatabase",W.name,()=>{const fe=a.runOutsideAngular(()=>W.database(r||void 0));return z&&fe.useEmulator(...z),fe},[z])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Uj(this.database,e));let o=r;return i&&(o=i(r)),function Yse(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:zj(i,"update"),set:zj(i,"set"),push:r=>i.push(r),remove:$se(i),snapshotChanges:r=>Gj(n,r,e).pipe(Vo.iC),stateChanges:r=>jj(n,r,e).pipe(Vo.iC),auditTrail:r=>function qse(n,t,e){return function Zse(n,t,e){return function Kse(n,t){return uD(n,"value","on",t).pipe((0,cn.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function zte(...n){const t=(0,Ta.jO)(n);return(0,Wr.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),u=!1;for(let h=0;h<r;h++)(0,Fa.Xf)(n[h]).subscribe(new Pr.Q(i,f=>{o[h]=f,!u&&!a[h]&&(a[h]=!0,(u=a.every(Cn.y))&&(a=null))},oU.Z));e.subscribe(new Pr.Q(i,h=>{if(u){const f=[h,...o];i.next(t?t(...f):f)}}))})}(t),(0,cn.U)(([r,o])=>{const a=r.lastKeyToLoad,u=o.map(h=>h.key);return{actions:o,lastKeyToLoad:a,loadedKeys:u}}),function qte(n){return(0,Wr.e)((t,e)=>{let i=!1,r=0;t.subscribe(new Pr.Q(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,cn.U)(r=>r.actions))}(n,jj(n,t).pipe(Xl((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Vo.iC),valueChanges:(r,o)=>Gj(n,r,e).pipe((0,cn.U)(u=>u.map(h=>o&&o.idField?Object.assign(Object.assign({},h.payload.val()),{[o.idField]:h.key}):h.payload.val())),Vo.iC)}}(o,this)}object(e){return function Wse(n,t){return{query:n,snapshotChanges:()=>qj(n,t.schedulers.outsideAngular)().pipe(Vo.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>qj(n,t.schedulers.outsideAngular)().pipe(Vo.iC,(0,cn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Uj(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cd.Dh),s.LFG(Cd.xv,8),s.LFG(Jse,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Vo.HU),s.LFG(Xse,8),s.LFG(w2,8),s.LFG($P,8),s.LFG(YP,8),s.LFG(WP,8),s.LFG(JP,8),s.LFG(XP,8),s.LFG(eU,8),s.LFG(DM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Uy=(()=>{class n{constructor(e,i){this.store=e,this.angularFire=i,this.getObservable=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkill=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableTipologia=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableRazza=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableClasseSkills=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableReligioni=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellPaladino=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservablePg=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSkillsPg=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o},this.getObservableSpellChierico=r=>{const o=new _r([]);return r.valueChanges({idField:"id"}).subscribe(a=>{o.next(a)}),o}}getAllClass(){return this.getObservable(this.store.collection("Classe"))}getSpellPaladinoFromDivinita(e){return this.store.collection("SpellPaladino",r=>r.where("religione","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new bU;return a.aura=o.aura,a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getSpellChiericoFromDivinita(e){return this.store.collection("SpellChierico",r=>r.where("religione","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new CU;return a.religione=o.religione,a.id=o.id,a.spell=o.spell,a})))}getRegni(){return this.store.collection("Regno").valueChanges().pipe((0,cn.U)(i=>i.map(r=>{let o=new x7;return o.nome=r.nome,o})))}getDomandeRisposte(){return this.store.collection("DomandeRisposte").valueChanges().pipe((0,cn.U)(i=>i.map(r=>{let o=new Vte;return o.domanda=r.domanda,o.risposta=r.risposta,o.min=r.min,o})))}getInfoSkill(e){return this.store.collection("InfoSkill",r=>r.where("classe","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new Gte;return a.info=o.info,a.nome=o.nome,a.procedura=o.procedura,a.classe=o.classe,a})))}getAllSkills(e=-1){return this.getObservableSkill(this.store.collection("Skill",-1===e?i=>i.orderBy("idTipologiaSkill"):i=>i.where("idTipologiaSkill","==",e.toString())))}getAllReligioni(e=""){return this.getObservableReligioni(""===e?this.store.collection("Religione"):this.store.collection("Religione",i=>i.where("pantheon","==",e)))}getClasseSkills(e){return this.getObservableClasseSkills(this.store.collection("Skill",i=>i.where("classi","array-contains",e)))}getAllRazze(){return this.getObservableRazza(this.store.collection("Razza"))}getAllTipologieSkill(){return this.getObservableTipologia(this.store.collection("TipologiaSkill"))}AddSkill(e){this.store.collection("Skill").add({nome:e.nome,classi:e.classi,idTipologiaSkill:e.idTipologiaSkill})}AddPg(e,i,r=!1){this.store.collection("Pg").add({nome:e.nome,classe:e.classe.nome,divinita:e.religione.nome,pantheon:e.religione.pantheon,razza:e.razza.nome,forza:e.stats.forza,destrezza:e.stats.destrezza,intelligenza:e.stats.intelligenza,guid:i,utilizzatoNVolte:r?1:0})}addSkillsPg(e,i){this.store.collection("SkillsPg").add({guidPg:i,nomeSkill:e.nome,valueSkill:e.value,idTipologiaSkill:e.idTipologiaSkill,idSkill:e.id})}getPg(e){return this.getObservablePg(this.store.collection("Pg",i=>i.where("guid","==",e)))}getSchedePgByClasse(e){return this.store.collection("Pg",r=>r.where("classe","==",e)).valueChanges().pipe((0,cn.U)(r=>r.map(o=>{let a=new wU;return a.nome=o.nome,a.classe=o.classe,a.destrezza=o.destrezza,a.forza=o.forza,a.intelligenza=o.intelligenza,a.guid=o.guid,a.utilizzatoNVolte=o.utilizzatoNVolte,a})))}updateSchedaPg(e,i){var r=this.store.collection("Pg",o=>o.where("guid","==",e)).valueChanges({idField:"id"}).subscribe(o=>{null!=o&&this.store.collection("Pg").doc(`${o[0].id}`).set({utilizzatoNVolte:i},{merge:!0}),r.unsubscribe()},o=>console.error("Error"))}getSkillsPg(e){return this.getObservableSkillsPg(this.store.collection("SkillsPg",i=>i.where("guidPg","==",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BM),s.LFG(eoe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function toe(n,t){}class Fk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Kj=(()=>{class n extends OM{constructor(e,i,r,o,a,u,h,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=h,this._focusMonitor=f,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=_=>{this._portalOutlet.hasAttached();const b=this._portalOutlet.attachDomPortal(_);return this._contentAttached(),b},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=mM(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=mM();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mM())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(VM),s.Y36(Oe,8),s.Y36(Fk),s.Y36(D2),s.Y36(s.R0b),s.Y36(S2),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Yb,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,toe,0,0,"ng-template",0)},dependencies:[Yb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Mk{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new sn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Wp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Zj=new s.OlP("DialogScrollStrategy"),noe=new s.OlP("DialogData"),ioe=new s.OlP("DefaultDialogConfig"),soe={provide:Zj,deps:[Tf],useFactory:function roe(n){return()=>n.scrollStrategies.block()}};let ooe=0,$j=(()=>{class n{constructor(e,i,r,o,a,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=$d(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ks(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Fk,...i}).id=i.id||"cdk-dialog-"+ooe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),u=new Mk(a,i),h=this._attachContainer(a,u,i);return u.containerInstance=h,this._attachDialogContent(e,u,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){M4(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){M4(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),M4(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new LM({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:Fk,useValue:r},{provide:Mk,useValue:i},{provide:S2,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,a.push(...r.container.providers(r))):u=Kj;const h=new Sx(u,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const a=this._createInjector(o,i,r,void 0);let u={$implicit:o.data,dialogRef:i};o.templateContext&&(u={...u,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Ix(e,null,u,a))}else{const a=this._createInjector(o,i,r,this._injector),u=r.attachComponentPortal(new Sx(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,o){const a=e.injector||e.viewContainerRef?.injector,u=[{provide:noe,useValue:e.data},{provide:Mk,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(ph,null,s.XFs.Optional))&&u.push({provide:ph,useValue:{value:e.direction,change:pn()}}),s.zs3.create({parent:a||o,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tf),s.LFG(s.zs3),s.LFG(ioe,8),s.LFG(n,12),s.LFG(NM),s.LFG(Zj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function M4(n,t){let e=n.length;for(;e--;)t(n[e])}let aoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$j,soe],imports:[Bx,Wb,W8,Wb]}),n})();function loe(n,t){}const Kx={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},coe={dialogContainer:iu("dialogContainer",[Xr("void, exit",Ii({opacity:0,transform:"scale(0.7)"})),Xr("enter",Ii({transform:"none"})),Do("* => enter",f7([ra("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Ii({transform:"none",opacity:1})),ZM("@*",KM(),{optional:!0})]),Kx),Do("* => void, * => exit",f7([ra("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Ii({opacity:0})),ZM("@*",KM(),{optional:!0})]),Kx)])};class kk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Kx.params.enterAnimationDuration,this.exitAnimationDuration=Kx.params.exitAnimationDuration}}let uoe=(()=>{class n extends Kj{constructor(e,i,r,o,a,u,h,f){super(e,i,r,o,a,u,h,f),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(VM),s.Y36(Oe,8),s.Y36(kk),s.Y36(D2),s.Y36(s.R0b),s.Y36(S2),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),doe=(()=>{class n extends uoe{constructor(e,i,r,o,a,u,h,f,_){super(e,i,r,o,a,u,h,_),this._changeDetectorRef=f,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Kx.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Kx.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(VM),s.Y36(Oe,8),s.Y36(kk),s.Y36(D2),s.Y36(s.R0b),s.Y36(S2),s.Y36(s.sBO),s.Y36(Bf))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,loe,0,0,"ng-template",0)},dependencies:[Yb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[coe.dialogContainer]}}),n})();class Qy{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new sn.x,this._beforeClosed=new sn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(yi(r=>"opened"===r.state),(0,Jr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(yi(r=>"closed"===r.state),(0,Jr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,tu.T)(this.backdropClick(),this.keydownEvents().pipe(yi(r=>27===r.keyCode&&!this.disableClose&&!Wp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function hoe(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(yi(e=>"closing"===e.state),(0,Jr.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Hy=new s.OlP("MatDialogData"),Aoe=new s.OlP("mat-dialog-default-options"),Yj=new s.OlP("mat-dialog-scroll-strategy"),poe={provide:Yj,deps:[Tf],useFactory:function foe(n){return()=>n.scrollStrategies.block()}};let goe=0,moe=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=h,this._dialogContainerType=f,this._dialogDataToken=_,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=$d(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ks(void 0))),this._scrollStrategy=u,this._dialog=i.get($j)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new kk,...i}).id=i.id||`${this._idPrefix}${goe++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:kk,useValue:i},{provide:Fk,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,u,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Vy=(()=>{class n extends moe{constructor(e,i,r,o,a,u,h,f){super(e,i,o,u,h,a,Qy,doe,Hy,f)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Tf),s.LFG(s.zs3),s.LFG(Wt,8),s.LFG(Aoe,8),s.LFG(Yj),s.LFG(n,12),s.LFG(NM),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_oe=0,Wj=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+_oe++}ngOnInit(){this._dialogRef||(this._dialogRef=function voe(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy,8),s.Y36(s.SBq),s.Y36(Vy))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),yoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),woe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vy,poe],imports:[aoe,Bx,Wb,hr,hr]}),n})();const boe=["*",[["mat-toolbar-row"]]],Coe=["*","mat-toolbar-row"],xoe=Oy(class{constructor(n){this._elementRef=n}});let k4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Rk=(()=>{class n extends xoe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ia),s.Y36(Oe))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,k4,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:Coe,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(boe),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function Xj(...n){const t=(0,Ta.jO)(n),{args:e,keys:i}=Gh(n),r=new gr.y(o=>{const{length:a}=e;if(!a)return void o.complete();const u=new Array(a);let h=a,f=a;for(let _=0;_<a;_++){let b=!1;(0,Fa.Xf)(e[_]).subscribe(new Pr.Q(o,F=>{b||(b=!0,f--),u[_]=F},()=>h--,void 0,()=>{(!h||!b)&&(f||o.next(i?Kg(i,u):u),o.complete())}))}});return t?r.pipe(Jl(t)):r}const Eoe=["*"];let Ok;function dD(n){return function Soe(){if(void 0===Ok&&(Ok=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ok=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ok}()?.createHTML(n)||n}function ez(n){return Error(`Unable to find icon with the name "${n}"`)}function tz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class dC{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Lk=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new dC(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw nz(r);const u=dD(a);return this._addSvgIconConfig(e,i,new dC("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new dC(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw nz(i);const a=dD(o);return this._addSvgIconSetConfig(e,new dC("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw tz(e);const r=this._cachedIconsByUrl.get(i);return r?pn(Nk(r)):this._loadSvgIconFromConfig(new dC(e,null)).pipe((0,Cr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,cn.U)(o=>Nk(o)))}getNamedSvgIcon(e,i=""){const r=iz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):so(ez(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?pn(Nk(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,cn.U)(i=>Nk(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?pn(r):Xj(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Po(u=>{const f=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(f)),pn(null)})))).pipe((0,cn.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw ez(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(a,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i),(0,cn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?pn(null):this._fetchIcon(e).pipe((0,Cr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(dD("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(dD("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:u}=r[o];"id"!==a&&i.setAttribute(a,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Ioe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!a)throw tz(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const h=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,cn.U)(f=>dD(f)),Jd(()=>this._inProgressUrlFetches.delete(a)),(0,EP.B)());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(iz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Toe(o)?new dC(o.url,null,o.options):new dC(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_x,8),s.LFG(Tl),s.LFG(Oe,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nk(n){return n.cloneNode(!0)}function iz(n,t){return n+":"+t}function Toe(n){return!(!n.url||!n.options)}const Boe=Oy(class{constructor(n){this._elementRef=n}}),Foe=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),Moe=new s.OlP("mat-icon-location",{providedIn:"root",factory:function koe(){const n=(0,s.f3M)(Oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Roe=rz.map(n=>`[${n}]`).join(", "),Ooe=/^url\(['"]?#(.*?)['"]?\)$/;let Of=(()=>{class n extends Boe{constructor(e,i,r,o,a,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Co.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=di(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Roe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)rz.forEach(a=>{const u=i[o],h=u.getAttribute(a),f=h?h.match(Ooe):null;if(f){let _=r.get(u);_||(_=[],r.set(u,_)),_.push({name:a,value:f[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Jr.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Lk),s.$8M("aria-hidden"),s.Y36(Moe),s.Y36(s.qLn),s.Y36(Foe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Eoe,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();const Pk=["*"],Loe=["content"];function Noe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Poe(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const Uoe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qoe=["mat-drawer","mat-drawer-content","*"];function Hoe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Voe(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const Goe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],joe=["mat-sidenav","mat-sidenav-content","*"],oz={transformDrawer:iu("transform",[Xr("open, open-instant",Ii({transform:"none",visibility:"visible"})),Xr("void",Ii({"box-shadow":"none",visibility:"hidden"})),Do("void => open-instant",ra("0ms")),Do("void <=> open, open-instant => void",ra("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},qoe=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Koe(){return!1}}),R4=new s.OlP("MAT_DRAWER_CONTAINER");let Uk=(()=>{class n extends x2{constructor(e,i,r,o,a){super(r,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>lz)),s.Y36(s.SBq),s.Y36(C2),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:x2,useExisting:n}]),s.qOj],ngContentSelectors:Pk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),az=(()=>{class n{constructor(e,i,r,o,a,u,h,f){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=u,this._doc=h,this._container=f,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new sn.x,this._animationEnd=new sn.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(yi(_=>_),(0,cn.U)(()=>{})),this.openedStart=this._animationStarted.pipe(yi(_=>_.fromState!==_.toState&&0===_.toState.indexOf("open")),cd(void 0)),this._closedStream=this.openedChange.pipe(yi(_=>!_),(0,cn.U)(()=>{})),this.closedStart=this._animationStarted.pipe(yi(_=>_.fromState!==_.toState&&"void"===_.toState),cd(void 0)),this._destroyed=new sn.x,this.onPositionChanged=new s.vpe,this._modeChanged=new sn.x,this.openedChange.subscribe(_=>{_?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{I0(this._elementRef.nativeElement,"keydown").pipe(yi(_=>27===_.keyCode&&!this.disableClose&&!Wp(_)),Ri(this._destroyed)).subscribe(_=>this._ngZone.run(()=>{this.close(),_.stopPropagation(),_.preventDefault()}))}),this._animationEnd.pipe(zb((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{const{fromState:b,toState:F}=_;(0===F.indexOf("open")&&"void"===b||"void"===F&&0===b.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=di(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=di(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(di(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe((0,Jr.q)(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(VM),s.Y36(Bf),s.Y36(ia),s.Y36(s.R0b),s.Y36(D2),s.Y36(Oe,8),s.Y36(R4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(Loe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Pk,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[x2],encapsulation:2,data:{animation:[oz.transformDrawer]},changeDetection:0}),n})(),lz=(()=>{class n{constructor(e,i,r,o,a,u=!1,h){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=h,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new sn.x,this._doCheckSubject=new sn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new sn.x,e&&e.change.pipe(Ri(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Ri(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=di(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:di(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ks(this._allDrawers),Ri(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ks(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(I2(10),Ri(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(yi(i=>i.fromState!==i.toState),Ri(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ri(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Ri(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ri((0,tu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ph,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(xx),s.Y36(qoe),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Uk,5),s.Suo(r,az,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(Uk,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:R4,useExisting:n}])],ngContentSelectors:Qoe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(Uoe),s.YNc(0,Noe,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,Poe,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Ei,Uk],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n extends Uk{constructor(e,i,r,o,a){super(e,i,r,o,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>uz)),s.Y36(s.SBq),s.Y36(C2),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:x2,useExisting:n}]),s.qOj],ngContentSelectors:Pk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),cz=(()=>{class n extends az{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=di(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ic(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ic(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:Pk,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[x2],encapsulation:2,data:{animation:[oz.transformDrawer]},changeDetection:0}),n})(),uz=(()=>{class n extends lz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,O4,5),s.Suo(r,cz,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:R4,useExisting:n}]),s.qOj],ngContentSelectors:joe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(Goe),s.YNc(0,Hoe,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,Voe,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Ei,O4],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Zoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yo,hr,Ex,Ex,hr]}),n})(),hD=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=di(e)}get inset(){return this._inset}set inset(e){this._inset=di(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),$oe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})();function dz(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const L4="inline",Qk=["row","column","row-reverse","column-reverse"];function hz(n){let[t,e,i]=Az(n);return function Woe(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function Az(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return Qk.find(r=>r===t)||(t=Qk[0]),e===L4&&(e=i!==L4?i:"",i=L4),[t,Yoe(e),!!i]}function AD(n){let[t]=Az(n);return t.indexOf("row")>-1}function Yoe(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Gy(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const Xoe={provide:s.tb,useFactory:function Joe(n,t){return()=>{if(Kl(t)){const e=Array.from(n.querySelectorAll(`[class*=${fz}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${fz}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Oe,s.Lbi],multi:!0},fz="flex-layout-";let N4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Xoe]}),n})();class hC{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new hC(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let eae=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(o=a+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P4={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},ng=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>P4}),Zx=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),U4=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function pz(n,t){return n=n?.clone()??new hC,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Va{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Go=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:dz(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:dz(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||va(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Kl(this._platformId)?e.style.getPropertyValue(i):function tae(n,t){return gz(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||(Kl(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],a=Array.isArray(o)?o:[o];a.sort();for(let u of a)u=u?u+"":"",Kl(this._platformId)||!this._serverModuleLoaded?Kl(this._platformId)?i.style.setProperty(r,u):nae(i,r,u):this._serverStylesheet.addStyleToElement(i,r,u)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(eae),s.LFG(Zx),s.LFG(s.Lbi),s.LFG(ng))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nae(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=gz(n);i[t]=e??"",function iae(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function gz(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const a=o.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,a).trim()]=o.substr(a+1).trim()}}}return t}function fD(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function rae(n,t){return(n.priority||0)-(t.priority||0)}let Q4=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new _r(new hC(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(yi(a=>!i||e.indexOf(a.mediaQuery)>-1)),o=new gr.y(a=>{const u=this.registerQuery(e);if(u.length){const h=u.pop();u.forEach(f=>{a.next(f)}),this.source.next(h)}a.complete()});return(0,tu.T)(o,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function sae(n,t){const e=n.filter(i=>!mz[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>mz[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const a=h=>{this._zone.run(()=>this.source.next(new hC(h.matches,o)))};let u=this.registry.get(o);u||(u=this.buildMQL(o),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(o,u)),u.matches&&r.push(new hC(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function aae(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function oae(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Kl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mz={},lae=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],_z="(orientation: portrait) and (max-width: 599.98px)",yz="(orientation: landscape) and (max-width: 959.98px)",vz="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",wz="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",bz="(orientation: portrait) and (min-width: 840px)",Cz="(orientation: landscape) and (min-width: 1280px)",jy={HANDSET:`${_z}, ${yz}`,TABLET:`${vz} , ${wz}`,WEB:`${bz}, ${Cz} `,HANDSET_PORTRAIT:`${_z}`,TABLET_PORTRAIT:`${vz} `,WEB_PORTRAIT:`${bz}`,HANDSET_LANDSCAPE:`${yz}`,TABLET_LANDSCAPE:`${wz}`,WEB_LANDSCAPE:`${Cz}`},cae=[{alias:"handset",priority:2e3,mediaQuery:jy.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:jy.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:jy.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:jy.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:jy.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:jy.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:jy.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:jy.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:jy.WEB_PORTRAIT,overlapping:!0}],uae=/(\.|-|_)/g;function dae(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const pae=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(U4),t=(0,s.f3M)(ng),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function fae(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Gy(e[i.alias],i):e[i.alias]=i}),function Aae(n){return n.forEach(t=>{t.suffix||(t.suffix=function hae(n){return n.replace(uae,"|").split("|").map(dae).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:lae).concat(t.addOrientationBps?cae:[]),e)}});let H4=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(rae)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $x="print",gae={alias:$x,mediaQuery:$x,priority:1e3};let mae=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new _ae,this.deactivations=[]}withPrintQuery(e){return[...e,$x]}isPrintEvent(e){return e.mediaQuery.startsWith($x)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(fD)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),pz(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new hC(!0,$x))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||a)&&(this.deactivations.push(r),this.deactivations.sort(fD))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H4),s.LFG(ng),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _ae{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(gae),t.sort(fD),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function yae(n){return n?.mediaQuery.startsWith($x)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let oa=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new sn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=pz(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(fD),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(fD),this.updateStyles())}}init(e,i,r,o,a=[]){xz(this.updateMap,e,i,r),xz(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const a=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let a=this.elementMap.get(e);if(a){const h=(a.get(o)??new Map).set(i,r);a.set(o,h),this.elementMap.set(e,a)}else a=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,a);const u=this.getValue(e,i);void 0!==u&&this.updateElement(e,i,u)}trackValue(e,i){return this.subject.asObservable().pipe(yi(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((a,u)=>{this.updateElement(i,u,a),r.delete(u)}),r.forEach(a=>{if(o=this.getActivatedValues(e,a),o){const u=o.get(a);this.updateElement(i,a,u)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const a=o.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const u=(0,tu.T)(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});o.set(i,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const u=e.get(this.activatedBreakpoints[o].alias);if(u&&(void 0===i||u.has(i)&&null!=u.get(i)))return u}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Cr.b)(this.hook.interceptEvents(this)),yi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q4),s.LFG(H4),s.LFG(mae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xz(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let ma=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new sn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let a=this.styleCache.get(e);(!a||!o)&&(a=r.buildStyles(e,i),o&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const a=hz(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Va),s.Y36(Go),s.Y36(oa))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class wae extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function Ez(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=Sz(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=Sz(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function Sz(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let bae=(()=>{class n extends Va{buildStyles(e,{display:i}){const r=hz(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cae=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let xae=(()=>{class n extends ma{constructor(e,i,r,o,a){super(e,r,i,o),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Dz.get(r)??new Map,Dz.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(bae),s.Y36(oa),s.Y36(ng))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),su=(()=>{class n extends xae{constructor(){super(...arguments),this.inputs=Cae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[s.qOj]}),n})();const Dz=new Map;let Lae=(()=>{class n extends Va{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...a]=e.split(" "),u=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",f=AD(h)?"max-width":"max-height",_=AD(h)?"min-width":"min-height",b=String(u).indexOf("calc")>-1,F=b||"auto"===u,B=String(u).indexOf("%")>-1&&!b,U=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let H=b||U;r="0"==r?0:r,o="0"==o?0:o;const Z=!r&&!o;let z={};const W={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":const fe=!1!==this.layoutConfig.useColumnBasisZero;u="row"===h?"0%":fe?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,u="auto";break;case"grow":u="100%";break;case"noshrink":o=0,u="auto";break;case"auto":break;case"none":r=0,o=0,u="auto";break;default:!H&&!B&&!isNaN(u)&&(u+="%"),"0%"===u&&(H=!0),"0px"===u&&(u="0%"),z=Gy(W,b?{"flex-grow":r,"flex-shrink":o,"flex-basis":H?u:"100%"}:{flex:`${r} ${o} ${H?u:"100%"}`})}return z.flex||z["flex-grow"]||(z=Gy(W,b?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(z[_]=Z||H&&r?u:null,z[f]=Z||!F&&o?u:null),z[_]||z[f]?i.hasWrap&&(z[b?"flex-basis":"flex"]=z[f]?b?z[f]:`${r} ${o} ${z[f]}`:b?z[_]:`${r} ${o} ${z[_]}`):z=Gy(W,b?{"flex-grow":r,"flex-shrink":o,"flex-basis":u}:{flex:`${r} ${o} ${u}`}),Gy(z,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ng))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nae=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Pae=(()=>{class n extends ma{constructor(e,i,r,o,a){super(e,o,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Ri(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Ri(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),a=this.wrap;o&&a?this.styleCache=Hae:o&&!a?this.styleCache=Uae:!o&&a?this.styleCache=Vae:!o&&!a&&(this.styleCache=Qae);const h=Ez(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=Ez(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(ng),s.Y36(Lae),s.Y36(oa))},n.\u0275dir=s.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[s.qOj]}),n})(),Ul=(()=>{class n extends Pae{constructor(){super(...arguments),this.inputs=Nae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[s.qOj]}),n})();const Uae=new Map,Qae=new Map,Hae=new Map,Vae=new Map;let dle=(()=>{class n extends Va{buildStyles(e,i){const r={},[o,a]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Gy(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?AD(i.layout)?null:"100%":null,"max-height":"stretch"===a&&AD(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hle=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Ale=(()=>{class n extends ma{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ri(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=_le:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=vle:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=yle:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=wle:"column-reverse"===i&&!r&&(this.styleCache=mle):this.styleCache=ple:this.styleCache=gle:this.styleCache=fle,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),Qk.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(dle),s.Y36(oa))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),_h=(()=>{class n extends Ale{constructor(){super(...arguments),this.inputs=hle}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[s.qOj]}),n})();const fle=new Map,ple=new Map,gle=new Map,mle=new Map,_le=new Map,yle=new Map,vle=new Map,wle=new Map;let Fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N4,$b]}),n})();const ble=["tooltip"],Mz="tooltip-panel",kz=f2({passive:!0}),Rz=new s.OlP("mat-tooltip-scroll-strategy"),Sle={provide:Rz,deps:[Tf],useFactory:function Ele(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Ile=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Dle(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Tle=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=u,this._ariaDescriber=h,this._focusMonitor=f,this._dir=b,this._defaultOptions=F,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new sn.x,this._scrollStrategy=_,this._document=B,F&&(F.position&&(this.position=F.position),F.touchGestures&&(this.touchGestures=F.touchGestures)),b.change.pipe(Ri(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ic(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ic(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ri(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,kz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new Sx(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ri(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Ri(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Mz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ri(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ri(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ri(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Wp(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Jr.q)(1),Ri(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const h=`${this._cssClassPrefix}-${Mz}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,kz)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),AC=(()=>{class n extends Tle{constructor(e,i,r,o,a,u,h,f,_,b,F,B){super(e,i,r,o,a,u,h,f,_,b,F,B),this._tooltipComponent=Fle}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tf),s.Y36(s.SBq),s.Y36(C2),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(ia),s.Y36(U8),s.Y36(Bf),s.Y36(Rz),s.Y36(ph,8),s.Y36(Ile,8),s.Y36(Oe))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),Ble=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new sn.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),Fle=(()=>{class n extends Ble{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(UM),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(ble,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[vs,Rd],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),Oz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Sle],imports:[W8,Yo,Bx,hr,hr,Ex]}),n})(),pD=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tl,16))},n.\u0275pipe=s.Yjl({name:"safe",type:n,pure:!0}),n})();function Mle(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function kle(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const Ole=Oy(class{constructor(n){this._elementRef=n}},"primary"),Lle=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Nle(){return{diameter:100}}});class zy extends Ole{constructor(t,e,i,r,o,a,u,h){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Co.w0.EMPTY,this.mode="determinate";const f=zy._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(i.head)||f.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&a&&h&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&h.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ic(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Ic(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ic(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=bV(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=zy._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}zy._diameters=new WeakMap,zy.\u0275fac=function(t){return new(t||zy)(s.Y36(s.SBq),s.Y36(ia),s.Y36(Oe,8),s.Y36(s.QbO,8),s.Y36(Lle),s.Y36(s.sBO),s.Y36(xx),s.Y36(s.R0b))},zy.\u0275cmp=s.Xpm({type:zy,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,Mle,1,11,"circle",2),s.YNc(3,kle,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[zl,hc],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Lz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,Yo,hr]}),n})(),Ule=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress-spinner"]],decls:3,vars:0,consts:[[1,"overlay"],[1,"center"],["diameter","50","mode","indeterminate","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"mat-progress-spinner",2),s.qZA()())},dependencies:[zy],styles:[".center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})();function Qle(n,t){if(1&n&&(s.TgZ(0,"a",5)(1,"mat-icon",6),s._uU(2,"home"),s.qZA()()),2&n){const e=s.oxw();s.s9C("href",e.urlIFrame,s.LSH)}}function Hle(n,t){1&n&&s._UZ(0,"app-progress-spinner")}let Vle=(()=>{class n{constructor(e,i,r){this.sanitizer=e,this._safePipe=i,this.utils=r,this.isLoading=!1,this.safePipe=new pD(this.sanitizer),this.eventsSubscription=new Co.w0,this.events=new gr.y,this.urlIFrame="",this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.eventsSubscription=this.events.subscribe(e=>{const i=e.includes("alatar")?2300:1e3;this.urlIFrame=e,""!=e&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},i))})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tl),s.Y36(pD),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-iframe-generator"]],inputs:{events:"events"},decls:7,vars:6,consts:[["fxFlex",""],["fxFlex","",1,"content","mat-elevation-z8",2,"overflow","hidden"],["target","_blank","mat-icon-button","","color","primary","class","vaiAlSito",3,"href",4,"ngIf"],[4,"ngIf"],["frameBorder","0",1,"iframe",3,"hidden","src"],["target","_blank","mat-icon-button","","color","primary",1,"vaiAlSito",3,"href"],["matTooltip","Vai al sito"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",0),s.YNc(3,Qle,3,1,"a",2),s.qZA(),s.YNc(4,Hle,1,0,"app-progress-spinner",3),s._UZ(5,"iframe",4),s.ALo(6,"safe"),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf",""!==i.urlIFrame&&!i.isLoading),s.xp6(1),s.Q6J("ngIf",i.isLoading),s.xp6(1),s.Q6J("hidden",""!=i.urlIFrame&&i.isLoading)("src",s.lcZ(6,4,i.urlIFrame),s.uOi))},dependencies:[Ei,Of,h7,Ul,AC,Ule,pD],styles:[".iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:unset;border:none;border-radius:10px}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto;position:relative}.vaiAlSito[_ngcontent-%COMP%]{position:absolute;bottom:0;margin:20px;max-width:100%;line-height:.4em;padding:1.1em .75em;display:flex;flex-direction:column}"]}),n})(),Gle=(()=>{class n{constructor(e,i){this.sanitizer=e,this._safePipe=i,this.eventsSubscription=new Co.w0,this.iFrameEmitter=new sn.x,this.events=new gr.y,this.url=""}ngOnInit(){this.eventsSubscription=this.events.subscribe(e=>{this.url=e,this.iFrameEmitter.next(e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tl),s.Y36(pD))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],inputs:{events:"events"},decls:2,vars:1,consts:[[3,"events"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-sidenav-content"),s._UZ(1,"app-iframe-generator",0),s.qZA()),2&e&&(s.xp6(1),s.Q6J("events",i.iFrameEmitter.asObservable()))},dependencies:[O4,Vle]}),n})();function jle(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," menu "),s.qZA())}function zle(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1," close "),s.qZA())}function qle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(e),s.oxw();const r=s.MAs(12);return s.KtG(r.toggle())}),s.YNc(1,jle,2,0,"mat-icon",15),s.YNc(2,zle,2,0,"mat-icon",15),s.qZA()}if(2&n){s.oxw();const e=s.MAs(12);s.xp6(1),s.Q6J("ngIf",!e.opened),s.xp6(1),s.Q6J("ngIf",e.opened)}}function Kle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openLogin())}),s.TgZ(1,"span",18),s._uU(2,"discord"),s.qZA()()}}function Zle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logOut())}),s.TgZ(1,"span",20),s._uU(2," person_off "),s.qZA()()}}function $le(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.MAs(12).toggle(),s.KtG(r.boolHome=!1)}),s._uU(1,"Macro Utili"),s.qZA()}}function Yle(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.MAs(12).toggle(),s.KtG(r.boolHome=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"help"),s.qZA(),s.TgZ(3,"span"),s._uU(4,"Help"),s.qZA()()}}function Wle(n,t){if(1&n&&s._UZ(0,"app-home",23),2&n){const e=s.oxw();s.Q6J("events",e.iFrameEmitter.asObservable())}}function Jle(n,t){1&n&&s._UZ(0,"router-outlet")}let Xle=(()=>{class n{constructor(e,i,r,o){this.service=e,this.UserService=i,this.dialog=r,this.router=o,this.iFrameEmitter=new sn.x,this.boolHome=!1,this.class=new Array,this.develop=!1}ngOnInit(){const e=ie(7986);this.develop=e.develop}goChild(e){this.boolHome=!0,setTimeout(()=>{this.iFrameEmitter.next(e)},100)}openLogin(){window.location.href="https://discord.com/api/oauth2/authorize?client_id=1106594210242625579&redirect_uri=https%3A%2F%2Ffabiodagostino.github.io%2Frot%2F&response_type=code&scope=identify%20connections%20guilds"}isLoggedIn(){return this.UserService.isLoggedIn}logOut(){this.UserService.logout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uy),s.Y36(IA),s.Y36(Vy),s.Y36(Ms))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu-bar"]],decls:38,vars:7,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"click",4,"ngIf"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px",3,"click"],["fxFlex","96"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click",4,"ngIf"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click",4,"ngIf"],["sidenav","matSidenav"],[1,"name"],["mat-raised-button","","routerLink","/",1,"but",3,"click"],["mat-raised-button","","routerLink","/schedaPersonaggio",1,"but",3,"click"],["mat-raised-button","","routerLink","/bacheca",1,"but",3,"click"],["mat-raised-button","","routerLink","/macro","class","but",3,"click",4,"ngIf"],["mat-raised-button","","class","menu-button","routerLink","/help",3,"click",4,"ngIf"],["mat-raised-button","","routerLink","/credits",1,"menu-button",3,"click"],[3,"events",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","fxFlex","4","matTooltip","Login",3,"click"],[1,"material-icons"],["mat-icon-button","","fxFlex","4","matTooltip","Logout",3,"click"],[1,"material-symbols-outlined"],["mat-raised-button","","routerLink","/macro",1,"but",3,"click"],["mat-raised-button","","routerLink","/help",1,"menu-button",3,"click"],[3,"events"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"mat-toolbar",0),s.YNc(1,qle,3,2,"button",1),s._uU(2," \xa0\n"),s.TgZ(3,"span",2),s.NdJ("click",function(){return i.boolHome=!1}),s._uU(4,"anchor"),s.qZA(),s._uU(5,"\n\xa0\n"),s.TgZ(6,"div",3),s._uU(7," Rotiniel Tools\n"),s.qZA(),s.YNc(8,Kle,3,0,"button",4),s.YNc(9,Zle,3,0,"button",5),s.qZA(),s.TgZ(10,"mat-sidenav-container")(11,"mat-sidenav",0,6)(13,"h4",7),s._uU(14,"Tools"),s.qZA(),s._UZ(15,"mat-divider"),s.TgZ(16,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://bitmed.github.io/tmarmor/"),s.KtG(a.toggle())}),s._uU(17,"Infondere armature"),s.qZA(),s.TgZ(18,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://bitmed.github.io/tmenchant/"),s.KtG(a.toggle())}),s._uU(19,"TM Enchant"),s.qZA(),s.TgZ(20,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://alatarl.github.io/CalendarioTM/"),s.KtG(a.toggle())}),s._uU(21,"Calendario TM"),s.qZA(),s.TgZ(22,"a",8),s.NdJ("click",function(){s.CHM(r);const a=s.MAs(12);return i.goChild("https://alatarl.github.io/ElficoTM/"),s.KtG(a.toggle())}),s._uU(23,"Dizionario elfico"),s.qZA(),s.TgZ(24,"a",9),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s._uU(25,"Scheda personaggio"),s.qZA(),s.TgZ(26,"a",10),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s._uU(27,"Paginazione Bacheche"),s.qZA(),s.YNc(28,$le,2,0,"a",11),s._UZ(29,"mat-divider"),s.YNc(30,Yle,5,0,"button",12),s.TgZ(31,"button",13),s.NdJ("click",function(){return s.CHM(r),s.MAs(12).toggle(),s.KtG(i.boolHome=!1)}),s.TgZ(32,"mat-icon"),s._uU(33,"info"),s.qZA(),s.TgZ(34,"span"),s._uU(35,"Credits"),s.qZA()()(),s.YNc(36,Wle,1,1,"app-home",14),s.YNc(37,Jle,1,0,"router-outlet",15),s.qZA()}if(2&e){const r=s.MAs(12);s.xp6(1),s.Q6J("ngIf","over"===r.mode),s.xp6(7),s.Q6J("ngIf",!i.isLoggedIn()),s.xp6(1),s.Q6J("ngIf",i.isLoggedIn()),s.xp6(19),s.Q6J("ngIf",i.UserService.isRotinrim),s.xp6(2),s.Q6J("ngIf",i.isLoggedIn()),s.xp6(6),s.Q6J("ngIf",i.boolHome),s.xp6(1),s.Q6J("ngIf",!i.boolHome)}},dependencies:[Ei,fd,Z_,Rk,Of,cz,uz,hD,Sd,h7,Ul,AC,Gle],styles:["mat-toolbar[_ngcontent-%COMP%]{background:#004a9f;color:#fff}mat-sidenav[_ngcontent-%COMP%]{width:250px;margin:3px;border-right:none;background:#002b5c;color:#fff;border-radius:10px;padding:16px;text-align:center}.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}mat-sidenav-container[_ngcontent-%COMP%]{height:calc(100vh - 87px)}.menu-button[_ngcontent-%COMP%]{width:90%;margin:7px;display:flex;align-items:center;justify-content:flex-start;font-size:1rem}.avatar[_ngcontent-%COMP%]{margin-top:16px;width:100px;height:100px;border-radius:50%}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.but[_ngcontent-%COMP%]{text-decoration:unset;background-color:#fff;width:90%;margin:7px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#004a9f;font-weight:700}.ank[_ngcontent-%COMP%]{cursor:pointer}html[_ngcontent-%COMP%]{position:relative;min-height:100%}body[_ngcontent-%COMP%]{margin-bottom:60px}.immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})(),ece=(()=>{class n{constructor(){this.version=""}ngOnInit(){const e=ie(7986);this.version=e.version}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer","mat-elevation-z8"],[2,"float","right","margin-right","0.5%","font-size","10px"]],template:function(e,i){1&e&&(s.TgZ(0,"footer",0)(1,"span"),s._uU(2," Rotiniel Inc. "),s.qZA(),s.TgZ(3,"span",1),s._uU(4),s.qZA()()),2&e&&(s.xp6(4),s.hij(" Version: ",i.version," "))},styles:[".footer[_ngcontent-%COMP%]{background-color:#004a9f;width:100%;line-height:22px;text-align:center;color:#fff}"]}),n})(),Nz=(()=>{class n{constructor(e){this.userService=e,this.title="newprova4"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(IA))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-menu-bar")(1,"app-footer")},dependencies:[Xle,ece]}),n})();const tce=["*",[["mat-card-footer"]]],nce=["*","mat-card-footer"],ice=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],rce=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let gD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),mD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),ig=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:nce,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(tce),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:rce,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(ice),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),sce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,hr]}),n})(),oce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-credits"]],decls:73,vars:0,consts:[[2,"padding","2%"],["fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center","fxFlex","",2,"margin","4%"],["href","https://bitmed.github.io/tmarmor/","target","_blank"],["href","https://bitmed.github.io/tmenchant/","target","_blank"],["href","https://alatarl.github.io/ElficoTM/","target","_blank"],["href","https://alatarl.github.io/CalendarioTM/","target","_blank"],[1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","25px","position","relative","top","6px","-webkit-text-stroke-width","0px"],["routerLink","/schedaPersonaggio","target","_blank"],["routerLink","/bacheca","target","_blank"],["href","https://themiraclegdr.com/","target","_blank"],[2,"text-align","center"],["src","https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/900px-Octicons-mark-github.svg.png?20180806170715","width","30","height","30"],["src","https://camo.githubusercontent.com/df1439c289b9cb4558e079a9110731e666976c4f2b6ef387b8fee78ca95375dc/68747470733a2f2f696d672e69636f6e73382e636f6d2f636f6c6f722f3435322f66697265626173652e706e67","width","34","height","34"],[2,"text-align","right"],[2,"color","#004a9f"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.TgZ(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5," Credits "),s.qZA(),s.TgZ(6,"mat-card-subtitle"),s._uU(7," Ringraziamenti "),s.qZA()(),s.TgZ(8,"mat-card-content")(9,"ul")(10,"li")(11,"p")(12,"b"),s._uU(13,"Paperellion"),s.qZA(),s._uU(14," per "),s.TgZ(15,"a",3),s._uU(16,'"Infondere Armature"'),s.qZA(),s._uU(17," e "),s.TgZ(18,"a",4),s._uU(19,'"TM Enchant"'),s.qZA()()(),s.TgZ(20,"li")(21,"p")(22,"b"),s._uU(23,"Alatar"),s.qZA(),s._uU(24," per "),s.TgZ(25,"a",5),s._uU(26,'"Dizionario elfico"'),s.qZA(),s._uU(27," e "),s.TgZ(28,"a",6),s._uU(29,'"Calendario TM"'),s.qZA()()(),s.TgZ(30,"li")(31,"p")(32,"b"),s._uU(33,"Yoridyon"),s.qZA(),s._uU(34," per "),s.TgZ(35,"span",7),s._uU(36,"anchor"),s.qZA(),s.TgZ(37,"b"),s._uU(38," Rotiniel Tools"),s.qZA(),s._uU(39,", "),s.TgZ(40,"a",8),s._uU(41,'"Scheda Personaggio"'),s.qZA(),s._uU(42," e "),s.TgZ(43,"a",9),s._uU(44,'"Paginazione Bacheche"'),s.qZA()()(),s.TgZ(45,"li")(46,"p"),s._uU(47,"Tutti i membri della community che hanno contribuito allo sviluppo dei tools"),s.qZA()(),s.TgZ(48,"li")(49,"p"),s._uU(50,"Lo Staff di "),s.TgZ(51,"a",10),s._uU(52,"The Miracle Shard"),s.qZA(),s._uU(53," per aver creato il gioco e averlo mantenuto attivo (e in costante aggiornamento) per oltre vent'anni"),s.qZA()(),s.TgZ(54,"li")(55,"p"),s._uU(56,"Tutti i player e gli amici di "),s.TgZ(57,"b"),s._uU(58,"Rotiniel"),s.qZA(),s._uU(59," che rendono piacevoli le ore di gioco passate assieme "),s.qZA()()(),s._UZ(60,"br"),s.TgZ(61,"div",11)(62,"b"),s._uU(63,"Powered by:"),s.qZA(),s._uU(64,"\xa0 "),s._UZ(65,"img",12),s._uU(66," \xa0"),s._UZ(67,"img",13),s.qZA(),s._UZ(68,"br")(69,"br"),s.TgZ(70,"div",14)(71,"b",15),s._uU(72,"Enjoy TM!"),s.qZA()()()()())},dependencies:[Z_,su,_h,Ul,ig,_D,gD,mD,Pz],styles:["a[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#000}mat-card[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),Uz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),fC=(()=>{class n extends Uz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Lf=new s.OlP("NgValueAccessor"),lce={provide:Lf,useExisting:(0,s.Gpc)(()=>rg),multi:!0},uce=new s.OlP("CompositionEventMode");let rg=(()=>{class n extends Uz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cce(){const n=re()?re().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(uce,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([lce]),s.qOj]}),n})();function H0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Hz(n){return null!=n&&"number"==typeof n.length}const Bc=new s.OlP("NgValidators"),V0=new s.OlP("NgAsyncValidators"),hce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wr{static min(t){return Vz(t)}static max(t){return function Gz(n){return t=>{if(H0(t.value)||H0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return jz(t)}static requiredTrue(t){return function zz(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function qz(n){return H0(n.value)||hce.test(n.value)?null:{email:!0}}(t)}static minLength(t){return Kz(t)}static maxLength(t){return function Zz(n){return t=>Hz(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function $z(n){if(!n)return Gk;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(H0(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return t9(t)}static composeAsync(t){return n9(t)}}function Vz(n){return t=>{if(H0(t.value)||H0(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function jz(n){return H0(n.value)?{required:!0}:null}function Kz(n){return t=>H0(t.value)||!Hz(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Gk(n){return null}function Yz(n){return null!=n}function Wz(n){return(0,s.QGY)(n)?(0,zn.D)(n):n}function Jz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Xz(n,t){return t.map(e=>e(n))}function e9(n){return n.map(t=>function Ace(n){return!n.validate}(t)?t:e=>t.validate(e))}function t9(n){if(!n)return null;const t=n.filter(Yz);return 0==t.length?null:function(e){return Jz(Xz(e,t))}}function G4(n){return null!=n?t9(e9(n)):null}function n9(n){if(!n)return null;const t=n.filter(Yz);return 0==t.length?null:function(e){return Xj(Xz(e,t).map(Wz)).pipe((0,cn.U)(Jz))}}function j4(n){return null!=n?n9(e9(n)):null}function i9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function r9(n){return n._rawValidators}function s9(n){return n._rawAsyncValidators}function z4(n){return n?Array.isArray(n)?n:[n]:[]}function jk(n,t){return Array.isArray(n)?n.includes(t):n===t}function o9(n,t){const e=z4(t);return z4(n).forEach(r=>{jk(e,r)||e.push(r)}),e}function a9(n,t){return z4(t).filter(e=>!jk(n,e))}class l9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=G4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=j4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Dd extends l9{get formDirective(){return null}get path(){return null}}class n_ extends l9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c9{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let i_=(()=>{class n extends c9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(n_,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),q4=(()=>{class n extends c9{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Dd,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const yD="VALID",qk="INVALID",Yx="PENDING",vD="DISABLED";function Y4(n){return(Kk(n)?n.validators:n)||null}function W4(n,t){return(Kk(t)?t.asyncValidators:n)||null}function Kk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function d9(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function h9(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Zk{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yD}get invalid(){return this.status===qk}get pending(){return this.status==Yx}get disabled(){return this.status===vD}get enabled(){return this.status!==vD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(o9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(o9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(a9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(a9(t,this._rawAsyncValidators))}hasValidator(t){return jk(this._rawValidators,t)}hasAsyncValidator(t){return jk(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yx,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yD||this.status===Yx)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vD:yD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yx,this._hasOwnPendingAsyncValidator=!0;const e=Wz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?vD:this.errors?qk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yx)?Yx:this._anyControlsHaveStatus(qk)?qk:yD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Kk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function vce(n){return Array.isArray(n)?G4(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function wce(n){return Array.isArray(n)?j4(n):n||null}(this._rawAsyncValidators)}}class G0 extends Zk{constructor(t,e,i){super(Y4(e),W4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){h9(this,0,t),Object.keys(t).forEach(i=>{d9(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class A9 extends G0{}const Wx=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$k}),$k="always";function Yk(n,t){return[...t.path,n]}function wD(n,t,e=$k){J4(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Cce(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&f9(n,t)})}(n,t),function Ece(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function xce(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&f9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function bce(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wk(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Xk(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jk(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function J4(n,t){const e=r9(n);null!==t.validator?n.setValidators(i9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=s9(n);null!==t.asyncValidator?n.setAsyncValidators(i9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Jk(t._rawValidators,r),Jk(t._rawAsyncValidators,r)}function Xk(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=r9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=s9(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Jk(t._rawValidators,i),Jk(t._rawAsyncValidators,i),e}function f9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function p9(n,t){J4(n,t)}function e3(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function g9(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function t3(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===rg?e=o:function Dce(n){return Object.getPrototypeOf(n.constructor)===fC}(o)?i=o:r=o}),r||i||e||null}const Bce={provide:Dd,useExisting:(0,s.Gpc)(()=>CD)},bD=(()=>Promise.resolve())();let CD=(()=>{class n extends Dd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new G0({},G4(e),j4(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bD.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),wD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bD.then(()=>{const i=this._findContainer(e.path),r=new G0({});p9(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bD.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,g9(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bc,10),s.Y36(V0,10),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Bce]),s.qOj]}),n})();function m9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function _9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Os=class extends Zk{constructor(t=null,e,i){super(Y4(e),W4(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kk(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=_9(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){m9(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){m9(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_9(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},kce={provide:n_,useExisting:(0,s.Gpc)(()=>j0)},w9=(()=>Promise.resolve())();let j0=(()=>{class n extends n_{constructor(e,i,r,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Os,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=t3(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),e3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){w9.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);w9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Yk(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Dd,9),s.Y36(Bc,10),s.Y36(V0,10),s.Y36(Lf,10),s.Y36(s.sBO,8),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([kce]),s.qOj,s.TTD]}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Rce={provide:Lf,useExisting:(0,s.Gpc)(()=>xD),multi:!0};let xD=(()=>{class n extends fC{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Rce]),s.qOj]}),n})(),b9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const i3=new s.OlP("NgModelWithFormControlWarning"),Pce={provide:n_,useExisting:(0,s.Gpc)(()=>ED)};let ED=(()=>{class n extends n_{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=t3(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Wk(i,this,!1),wD(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}e3(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Wk(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Bc,10),s.Y36(V0,10),s.Y36(Lf,10),s.Y36(i3,8),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([Pce]),s.qOj,s.TTD]}),n})();const Uce={provide:Dd,useExisting:(0,s.Gpc)(()=>pC)};let pC=(()=>{class n extends Dd{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return wD(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wk(e.control||null,e,!1),function Tce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,g9(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Wk(i||null,e),(n=>n instanceof Os)(r)&&(wD(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);p9(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Sce(n,t){return Xk(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J4(this.form,this),this._oldForm&&Xk(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bc,10),s.Y36(V0,10),s.Y36(Wx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Uce]),s.qOj,s.TTD]}),n})();const Vce={provide:n_,useExisting:(0,s.Gpc)(()=>eR)};let eR=(()=>{class n extends n_{constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=t3(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),e3(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Yk(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Dd,13),s.Y36(Bc,10),s.Y36(V0,10),s.Y36(Lf,10),s.Y36(i3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Vce]),s.qOj,s.TTD]}),n})();let gC=(()=>{class n{constructor(){this._validator=Gk}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gk,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Yce={provide:Bc,useExisting:(0,s.Gpc)(()=>l3),multi:!0};let l3=(()=>{class n extends gC{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function T9(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>Vz(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[s._Bn([Yce]),s.qOj]}),n})();const Wce={provide:Bc,useExisting:(0,s.Gpc)(()=>tR),multi:!0};let tR=(()=>{class n extends gC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>jz}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Wce]),s.qOj]}),n})();const eue={provide:Bc,useExisting:(0,s.Gpc)(()=>c3),multi:!0};let c3=(()=>{class n extends gC{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function D9(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Kz(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[s._Bn([eue]),s.qOj]}),n})(),R9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[b9]}),n})(),iue=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Wx,useValue:e.callSetDisabledState??$k}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[R9]}),n})(),O9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:i3,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wx,useValue:e.callSetDisabledState??$k}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[R9]}),n})();class L9 extends Zk{constructor(t,e,i){super(Y4(e),W4(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){h9(this,0,t),t.forEach((i,r)=>{d9(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function N9(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let P9=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return N9(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new G0(r,o)}record(e,i=null){const r=this._reduceControls(e);return new A9(r,i)}control(e,i,r){let o={};return this.useNonNullable?(N9(i)?o=i:(o.validators=i,o.asyncValidators=r),new Os(e,{...o,nonNullable:!0})):new Os(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new L9(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Os||e instanceof Zk?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:O9}),n})();const rue=["connectionContainer"],sue=["inputContainer"],oue=["label"];function aue(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function lue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function cue(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function uue(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function due(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function hue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,cue,4,1,"ng-container",12),s.YNc(3,uue,1,0,"ng-content",12),s.YNc(4,due,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Aue(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function fue(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function pue(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function gue(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function mue(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,gue,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const _ue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yue=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let vue=0;const U9=new s.OlP("MatError");let iR=(()=>{class n{constructor(e,i){this.id="mat-error-"+vue++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:U9,useExisting:n}])]}),n})();const wue={transitionMessages:iu("transitionMessages",[Xr("enter",Ii({opacity:1,transform:"translateY(0%)"})),Do("void => enter",[Ii({opacity:0,transform:"translateY(-5px)"}),ra("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),bue=0;const Q9=new s.OlP("MatHint");let Cue=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+bue++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:Q9,useExisting:n}])]}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),xue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const H9=new s.OlP("MatPrefix");let V9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:H9,useExisting:n}])]}),n})();const G9=new s.OlP("MatSuffix");let Eue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:G9,useExisting:n}])]}),n})(),j9=0;const Iue=Oy(class{constructor(n){this._elementRef=n}},"primary"),Due=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),u3=new s.OlP("MatFormField");let q0=(()=>{class n extends Iue{constructor(e,i,r,o,a,u,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=a,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new sn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+j9++,this._labelId="mat-form-field-label-"+j9++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=di(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ks(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ri(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ri(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,tu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ks(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ks(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ri(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,I0(this._label.nativeElement,"transitionend").pipe((0,Jr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const _=i.querySelectorAll(`${r}, ${o}`);for(let b=0;b<_.length;b++)_[b].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,u=0;const h=i.querySelectorAll(r),f=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const _=i.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(_),F=e.children,B=this._getStartEnd(F[0].getBoundingClientRect());let U=0;for(let H=0;H<F.length;H++)U+=F[H].offsetWidth;a=Math.abs(B-b)-5,u=U>0?.75*U+10:0}for(let _=0;_<h.length;_++)h[_].style.width=`${a}px`;for(let _=0;_<f.length;_++)f[_].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ph,8),s.Y36(Due,8),s.Y36(ia),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,rR,5),s.Suo(r,rR,7),s.Suo(r,z0,5),s.Suo(r,z0,7),s.Suo(r,xue,5),s.Suo(r,U9,5),s.Suo(r,Q9,5),s.Suo(r,H9,5),s.Suo(r,G9,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(rue,7),s.Gf(sue,5),s.Gf(oue,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:u3,useExisting:n}]),s.qOj],ngContentSelectors:yue,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(_ue),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,aue,9,0,"ng-container",3),s.YNc(4,lue,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,hue,5,16,"label",8),s.qZA()(),s.YNc(10,Aue,2,0,"div",9),s.qZA(),s.YNc(11,fue,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,pue,2,1,"div",12),s.YNc(14,mue,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Ei,zl,hc,hU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[wue.transitionMessages]},changeDetection:0}),n})(),sR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yo,hr,PM,hr]}),n})();class Tue{}function d3(n){return n&&"function"==typeof n.connect&&!(n instanceof jh)}class q9{applyChanges(t,e,i,r,o){t.forEachOperation((a,u,h)=>{let f,_;if(null==a.previousIndex){const b=i(a,u,h);f=e.createEmbeddedView(b.templateRef,b.context,b.index),_=1}else null==h?(e.remove(u),_=3):(f=e.get(u),e.move(f,h),_=2);o&&o({context:f?.context,operation:_,record:a})})}detach(){}}class Bue{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new sn.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let Z9=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SD=new s.OlP("_ViewRepeater"),Fue=["trigger"],Mue=["panel"];function kue(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function Rue(n,t){if(1&n&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function Oue(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function Lue(n,t){if(1&n&&(s.TgZ(0,"span",9),s.YNc(1,Rue,2,1,"span",10),s.YNc(2,Oue,1,0,"ng-content",11),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function Nue(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",13)(1,"div",14,15),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(3,1),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@transformPanelWrap",void 0),s.xp6(1),s.Gre("mat-select-panel ",e._getPanelTheme(),""),s.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),s.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Pue=[[["mat-select-trigger"]],"*"],Uue=["mat-select-trigger","*"],$9={transformPanelWrap:iu("transformPanelWrap",[Do("* => void",ZM("@transformPanel",[KM()],{optional:!0}))]),transformPanel:iu("transformPanel",[Xr("void",Ii({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Xr("showing",Ii({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Xr("showing-multiple",Ii({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Do("void => *",ra("120ms cubic-bezier(0, 0, 0.2, 1)")),Do("* => void",ra("100ms 25ms linear",Ii({opacity:0})))])};let Y9=0;const J9=new s.OlP("mat-select-scroll-strategy"),Gue=new s.OlP("MAT_SELECT_CONFIG"),jue={provide:J9,deps:[Tf],useFactory:function Vue(n){return()=>n.scrollStrategies.reposition()}};class zue{constructor(t,e){this.source=t,this.value=e}}const que=jM(zM(Xb(e7(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new sn.x}})))),Kue=new s.OlP("MatSelectTrigger");let Zue=(()=>{class n extends que{constructor(e,i,r,o,a,u,h,f,_,b,F,B,U,H){super(a,o,h,f,b),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=_,this._liveAnnouncer=U,this._defaultOptions=H,this._panelOpen=!1,this._compareWith=(Z,z)=>Z===z,this._uid="mat-select-"+Y9++,this._triggerAriaLabelledBy=null,this._destroy=new sn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Y9++,this._panelDoneAnimatingStream=new sn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=$d(()=>{const Z=this.options;return Z?Z.changes.pipe(Ks(Z),fs(()=>(0,tu.T)(...Z.map(z=>z.onSelectionChange)))):this._ngZone.onStable.pipe((0,Jr.q)(1),fs(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(yi(Z=>Z),(0,cn.U)(()=>{})),this._closedStream=this.openedChange.pipe(yi(Z=>!Z),(0,cn.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=H?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=H.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(F)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(wr.required)??!1}set required(e){this._required=di(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=di(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=di(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ic(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Bue(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(zb(),Ri(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ri(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ks(null),Ri(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Wp(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const h=this.selected;h&&u!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Wp(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(u?h.select():h.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Jr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Oee(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ri(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ri(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,tu.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ri(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,tu.T)(...this.options.map(i=>i._stateChanges)).pipe(Ri(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xx),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(kx),s.Y36(s.SBq),s.Y36(ph,8),s.Y36(CD,8),s.Y36(pC,8),s.Y36(u3,8),s.Y36(n_,10),s.$8M("tabindex"),s.Y36(J9),s.Y36(pU),s.Y36(Gue,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(Fue,5),s.Gf(Mue,5),s.Gf(F8,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),mC=(()=>{class n extends Zue{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ri(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Jr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=l7(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function Ete(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new zue(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),o=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let f=this._selectionModel.selected[0]||this.options.first;a=f&&f.group?32:16}r||(a*=-1);const u=0-(e.left+a-(r?o:0)),h=e.right+a-i.width+(r?0:o);u>0?a+=u+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const o=this._getItemHeight(),a=(o-this._triggerRect.height)/2,u=Math.floor(256/o);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*o:this._scrollTop===r?(e-(this._getItemCount()-u))*o+(o-(this._getItemCount()*o-256)%o):i-o/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),f=Math.min(this._getItemCount()*i,256)-u-this._triggerRect.height;f>a?this._adjustPanelUp(f,a):u>o?this._adjustPanelDown(u,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=l7(u,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(u,h,a),this._offsetY=this._calculateOverlayOffsetY(u,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Kue,5),s.Suo(r,T0,5),s.Suo(r,a7,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[s._Bn([{provide:rR,useExisting:n},{provide:o7,useExisting:n}]),s.qOj],ngContentSelectors:Uue,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(Pue),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,kue,2,1,"span",3),s.YNc(5,Lue,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"div",6),s.qZA()(),s.YNc(8,Nue,4,14,"ng-template",7),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(3),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[vs,zl,hc,Fd,F8,B8],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[$9.transformPanelWrap,$9.transformPanel]},changeDetection:0}),n})(),X9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jue],imports:[Yo,Bx,c7,hr,Ex,sR,c7,hr]}),n})();const eq=f2({passive:!0});let $ue=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yc.E;const i=Ry(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new sn.x,a="cdk-text-field-autofilled",u=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,eq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",u,eq)}}),o}stopMonitoring(e){const i=Ry(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ia),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yue=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new sn.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=a=>{this._hasFocus="focus"===a.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=Ic(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Ic(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=di(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{I0(this._getWindow(),"resize").pipe(sU(16),Ri(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,a=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(a);const u=e.scrollHeight-4;return e.classList.remove(a),o&&(e.style.marginBottom=i),u}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),a=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${a}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ia),s.Y36(s.R0b),s.Y36(Oe,8))},n.\u0275dir=s.lG2({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,i){1&e&&s.NdJ("input",function(){return i._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),tq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Wue=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Jue=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Xue=0;const ede=e7(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new sn.x}});let K0=(()=>{class n extends ede{constructor(e,i,r,o,a,u,h,f,_,b){super(u,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=f,this._formField=b,this._uid="mat-input-"+Xue++,this.focused=!1,this.stateChanges=new sn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>vV().has(U)),this._iOSKeyupListener=U=>{const H=U.target;!H.value&&0===H.selectionStart&&0===H.selectionEnd&&(H.setSelectionRange(1,1),H.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,B=F.nodeName.toLowerCase();this._inputValueAccessor=h||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&_.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!b,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=di(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wr.required)??!1}set required(e){this._required=di(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=di(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Jue.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ia),s.Y36(n_,10),s.Y36(CD,8),s.Y36(pC,8),s.Y36(kx),s.Y36(Wue,10),s.Y36($ue),s.Y36(s.R0b),s.Y36(u3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:rR,useExisting:n}]),s.qOj,s.TTD]}),n})(),tde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[kx],imports:[tq,sR,hr,tq,sR]}),n})();const nde=["input"],ide=["label"],rde=function(n){return{enterDuration:n}},sde=["*"],ode=new s.OlP("mat-checkbox-default-options",{providedIn:"root",factory:nq});function nq(){return{color:"accent",clickAction:"check-indeterminate"}}let ade=0;const iq=nq(),lde={provide:Lf,useExisting:(0,s.Gpc)(()=>DD),multi:!0};class cde{}const ude=zM(Oy(jM(Xb(class{constructor(n){this._elementRef=n}}))));let dde=(()=>{class n extends ude{constructor(e,i,r,o,a,u,h){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=u,this._options=h,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new s.vpe,this.indeterminateChange=new s.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||iq,this.color=this.defaultColor=this._options.color||iq.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++ade}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=di(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=di(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=di(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=di(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(nde,5),s.Gf(ide,5),s.Gf(D0,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first),s.iGM(r=s.CRH())&&(i._labelElement=r.first),s.iGM(r=s.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[s.qOj]}),n})(),DD=(()=>{class n extends dde{constructor(e,i,r,o,a,u,h){super("mat-checkbox-",e,i,o,a,u,h),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new cde;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Bf),s.Y36(s.R0b),s.$8M("tabindex"),s.Y36(s.QbO,8),s.Y36(ode,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),s.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[s._Bn([lde]),s.qOj],ngContentSelectors:sde,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),s.NdJ("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.qZA(),s._UZ(7,"span",7),s.TgZ(8,"span",8),s.O4$(),s.TgZ(9,"svg",9),s._UZ(10,"path",10),s.qZA(),s.kcU(),s._UZ(11,"span",11),s.qZA()(),s.TgZ(12,"span",12,13),s.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),s.TgZ(14,"span",14),s._uU(15,"\xa0"),s.qZA(),s.Hsn(16),s.qZA()()),2&e){const r=s.MAs(1),o=s.MAs(13);s.uIk("for",i.inputId),s.xp6(2),s.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),s.xp6(1),s.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),s.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),s.xp6(2),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",s.VKq(19,rde,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[D0,hU],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),fde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[B2,hr,PM,rq,hr,rq]}),n})();function pde(n,t){if(1&n&&(s.TgZ(0,"mat-option",24),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.Oqu(e.nome)}}function gde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"mat-form-field",21)(2,"mat-label"),s._uU(3,"Tipologia Skill"),s.qZA(),s.TgZ(4,"mat-select",22),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.newSkill.idTipologiaSkill=r)}),s.YNc(5,pde,2,2,"mat-option",23),s.qZA()()()}if(2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngModel",e.newSkill.idTipologiaSkill),s.xp6(1),s.Q6J("ngForOf",e.tipologiaSkills)}}function mde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-checkbox",25),s.NdJ("change",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.toggle(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.nome)}}function _de(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function yde(n,t){if(1&n&&(s.TgZ(0,"li",27)(1,"b"),s._uU(2),s.qZA(),s.YNc(3,_de,3,1,"ul",28),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.hij("*",e.nome,""),s.xp6(1),s.Q6J("ngForOf",e.classi)}}function vde(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,yde,4,2,"li",26),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.skills)}}function wde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",6)(2,"mat-card",7)(3,"mat-card-header")(4,"mat-card-title"),s._uU(5,"Salva nuova skill"),s.qZA()(),s.TgZ(6,"mat-card-content",8)(7,"div",9)(8,"mat-form-field",10)(9,"mat-label"),s._uU(10,"Nome skill"),s.qZA(),s.TgZ(11,"input",11),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.newSkill.nome=r)}),s.qZA(),s.TgZ(12,"button",12),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.newSkill.nome="")}),s.TgZ(13,"mat-icon"),s._uU(14,"close"),s.qZA()()()(),s.YNc(15,gde,6,2,"div",13),s.TgZ(16,"div",14)(17,"section"),s.YNc(18,mde,2,1,"mat-checkbox",15),s.qZA()(),s.TgZ(19,"div",16)(20,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.SalvaSkill())}),s._uU(21,"Salva"),s.qZA()()()()(),s.TgZ(22,"div",18)(23,"mat-card",19),s.YNc(24,vde,2,1,"ul",0),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(11),s.Q6J("ngModel",e.newSkill.nome),s.xp6(4),s.Q6J("ngIf",e.tipologiaSkills.length>0),s.xp6(3),s.Q6J("ngForOf",e.classi),s.xp6(2),s.Q6J("disabled",""==e.newSkill.nome||-1===e.newSkill.idTipologiaSkill),s.xp6(4),s.Q6J("ngIf",e.skills.length>0)}}let bde=(()=>{class n{constructor(e,i,r){this.service=e,this.userService=i,this.utils=r,this.skills=new Array,this.newSkill=new O2,this.classi=new Array,this.tipologiaSkills=new Array,this.idsClassiScelte=new Array,this.notChecked=!1,this.develop=!1,this.user=new dM,this.area=""}ngOnInit(){const e=ie(7986);this.develop=e.develop,this.service.getAllSkills().subscribe(i=>this.skills=i),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.service.getAllTipologieSkill().subscribe(i=>this.tipologiaSkills=i),this.discord()}SalvaSkill(){const e=this.newSkill;e.nome=(e.nome.charAt(0).toUpperCase()+e.nome.slice(1)).trim(),this.service.AddSkill(this.newSkill),this.service.getAllClass().subscribe(i=>{this.classi=i}),this.newSkill=new O2}toggle(e){this.newSkill.classi.push(e.nome)}checkSession(){this.userService.checkSession()}logout(){this.userService.logout()}registrati(){this.userService.registrati(this.user)}login(){this.userService.login(this.user).subscribe(e=>alert(e))}goText(){this.utils.MacrosXmlToObject(this.area)}discord(){var e=this.userService.getQueryParams();e&&this.userService.loginDiscord(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uy),s.Y36(IA),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-develop"]],decls:36,vars:6,consts:[[4,"ngIf"],[3,"click"],["type","text","placeholder","Nome",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["href","https://discord.com/api/oauth2/authorize?client_id=960448858926768148&redirect_uri=http%3A%2F%2Flocalhost%3A4200%2Fdevelop&response_type=code&scope=identify%20email%20connections%20guilds%20guilds.join%20guilds.members.read%20role_connections.write"],["fxLayout","row",1,"home"],["fxFlex","70","fxLayout","column",1,"container"],["fxFlex","100","fxLayoutAlign","center center",2,"height","300px"],["fxFlex","30","fxLayout","column"],[1,"example-form-field"],["matInput","","type","text","fxFlex","","color","primary",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["fxLayout","column","fxFlex","30",4,"ngIf"],["fxFlex","30","fxLayout","column",2,"margin-left","10%"],["style","padding:4px","color","primary",3,"change",4,"ngFor","ngForOf"],["fxFlex","",2,"margin-left","5%","margin-right","5%"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutAlign","center center",1,"skills"],["fxFlex","","fxLayout","row","fxFlex","",2,"height","300px","overflow-y","auto"],["fxLayout","column","fxFlex","30"],["appearance","fill"],["color","primary",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value"],["color","primary",2,"padding","4px",3,"change"],["fxLayout","column","style","padding: 5px;",4,"ngFor","ngForOf"],["fxLayout","column",2,"padding","5px"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.YNc(0,wde,25,5,"div",0),s._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br"),s.TgZ(8,"button",1),s.NdJ("click",function(){return i.checkSession()}),s._uU(9,"Check session"),s.qZA(),s.TgZ(10,"button",1),s.NdJ("click",function(){return i.logout()}),s._uU(11,"logout"),s.qZA(),s._UZ(12,"br"),s._uU(13," Registrati\n"),s.TgZ(14,"input",2),s.NdJ("ngModelChange",function(o){return i.user.username=o}),s.qZA(),s.TgZ(15,"input",3),s.NdJ("ngModelChange",function(o){return i.user.password=o}),s.qZA(),s.TgZ(16,"button",1),s.NdJ("click",function(){return i.registrati()}),s._uU(17,"Registrati"),s.qZA(),s._UZ(18,"br")(19,"br")(20,"br")(21,"br")(22,"br")(23,"br"),s._uU(24,"\nLogin\n"),s.TgZ(25,"input",2),s.NdJ("ngModelChange",function(o){return i.user.username=o}),s.qZA(),s.TgZ(26,"input",3),s.NdJ("ngModelChange",function(o){return i.user.password=o}),s.qZA(),s.TgZ(27,"button",1),s.NdJ("click",function(){return i.login()}),s._uU(28,"Login"),s.qZA(),s._UZ(29,"br"),s.TgZ(30,"textarea",4),s.NdJ("ngModelChange",function(o){return i.area=o}),s._uU(31,"\n"),s.qZA(),s.TgZ(32,"button",1),s.NdJ("click",function(){return i.goText()}),s._uU(33,"Ciao"),s.qZA(),s.TgZ(34,"a",5),s._uU(35,"Redirect"),s.qZA()),2&e&&(s.Q6J("ngIf",i.develop),s.xp6(14),s.Q6J("ngModel",i.user.username),s.xp6(1),s.Q6J("ngModel",i.user.password),s.xp6(10),s.Q6J("ngModel",i.user.username),s.xp6(1),s.Q6J("ngModel",i.user.password),s.xp6(4),s.Q6J("ngModel",i.area))},dependencies:[ns,Ei,rg,i_,Of,Sd,su,_h,Ul,j0,q0,z0,Eue,mC,T0,K0,DD,ig,_D,gD,mD],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}.container[_ngcontent-%COMP%]{height:100%;padding:15px;display:flex;margin-top:5%}.home[_ngcontent-%COMP%]{height:auto;padding:0;display:flex;justify-content:center;margin-top:5%}.skills[_ngcontent-%COMP%]{width:50%;padding:0;display:flex;justify-content:center;margin-top:5%}"]}),n})();class Cde{constructor(t,e,i){this.tipologia="",this.tool="",this.messaggio="",this.user="",this.tipologia=t,this.tool=e,this.messaggio=i}}function xde(n,t){1&n&&(s.TgZ(0,"mat-form-field",4)(1,"mat-label"),s._uU(2,"User"),s.qZA(),s._UZ(3,"input",11),s.qZA())}function Ede(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Sde(n,t){if(1&n&&(s.TgZ(0,"mat-option",12),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}function Ide(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",13)(1,"mat-label"),s._uU(2,"Seleziona tool"),s.qZA(),s.TgZ(3,"mat-select",14),s.YNc(4,Sde,2,2,"mat-option",6),s.qZA()()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngForOf",e.tools)}}let Dde=(()=>{class n{constructor(e,i,r){this._formBuilder=e,this._userService=i,this._utils=r,this.tipologiaTicket=["Correzione dati tool","Malfunzionamento","Consigli"],this.tools=["Scheda personaggio","Dizionario Elfico","Enchant TM","Calendario TM","Armature infuse"],this.firstFormGroup=this._formBuilder.group({user:[""],tipologia:["",wr.required],tool:[""],ticket:["",wr.compose([wr.minLength(20),wr.required])]})}ngOnInit(){this.isSmartphone()}salva(){var e,i,r,o;if(this.firstFormGroup.valid){var a=null===(e=this.firstFormGroup.get("tipologia"))||void 0===e?void 0:e.value,u=null===(i=this.firstFormGroup.get("ticket"))||void 0===i?void 0:i.value,h=null===(r=this.firstFormGroup.get("tool"))||void 0===r?void 0:r.value;if(h||(h="Blank"),a&&u&&h){var f=new Cde(a,h,u),_=null===(o=this.firstFormGroup.get("user"))||void 0===o?void 0:o.value,b=localStorage.getItem("user");!this.isLoggedIn()&&_&&(f.user=_),this.isLoggedIn()&&b&&(f.user=b),this._userService.SalvaTicket(f),this.firstFormGroup.reset()}}}isLoggedIn(){return this._userService.isLoggedIn}isSmartphone(){return this._utils.isSmartphone()}width(){return this.isSmartphone()?"100":"50"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(P9),s.Y36(IA),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-help"]],decls:23,vars:10,consts:[["fxLayoutAlign","center center",2,"padding-top","2%"],["fxFlex","","fxLayout","column",3,"fxFlex"],["fxFlex","","fxLayout","column","fxLayoutAlign","center",3,"formGroup"],["appearance","fill",4,"ngIf"],["appearance","fill"],["formControlName","tipologia"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","",4,"ngIf"],["rows","100","cols","100","matInput","","formControlName","ticket","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["mat-raised-button","","color","primary",3,"disabled","click"],["matInput","","type","text","formControlName","user"],[3,"value"],["appearance","fill","fxFlex",""],["formControlName","tool"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),s._uU(4," Help "),s.qZA(),s.TgZ(5,"mat-card-subtitle"),s._uU(6," Invia ticket (al fuoco... al fuoco...) "),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",2),s.YNc(9,xde,4,0,"mat-form-field",3),s.TgZ(10,"mat-form-field",4)(11,"mat-label"),s._uU(12,"Tipo errore"),s.qZA(),s.TgZ(13,"mat-select",5),s.YNc(14,Ede,2,2,"mat-option",6),s.qZA()(),s.YNc(15,Ide,5,1,"mat-form-field",7),s.TgZ(16,"mat-form-field",4)(17,"mat-label"),s._uU(18,"Ticket"),s.qZA(),s._UZ(19,"textarea",8,9),s.qZA(),s.TgZ(21,"button",10),s.NdJ("click",function(){return i.salva()}),s._uU(22,"Invia"),s.qZA()()()()()),2&e){let r,o,a,u;s.xp6(1),s.Q6J("fxFlex",i.width()),s.xp6(7),s.Q6J("formGroup",i.firstFormGroup),s.xp6(1),s.Q6J("ngIf",!i.isLoggedIn()),s.xp6(5),s.Q6J("ngForOf",i.tipologiaTicket),s.xp6(1),s.Q6J("ngIf",(null==(r=i.firstFormGroup.get("tipologia"))?null:r.value)==i.tipologiaTicket[0]),s.xp6(1),s.Udp("visibility",null!=(o=i.firstFormGroup.get("tipologia"))&&o.valid||(null==(o=i.firstFormGroup.get("tipologia"))?null:o.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.xp6(5),s.Udp("visibility",null!=(a=i.firstFormGroup.get("tool"))&&a.valid||(null==(a=i.firstFormGroup.get("tipologia"))?null:a.value)===i.tipologiaTicket[1]?"visible":"hidden"),s.Q6J("disabled",null==(u=i.firstFormGroup.get("ticket"))?null:u.invalid)}},dependencies:[ns,Ei,n3,rg,i_,q4,pC,eR,Sd,su,_h,Ul,q0,z0,mC,T0,Yue,K0,ig,_D,gD,mD,Pz],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}"]}),n})(),Tde=(()=>{class n{constructor(e,i,r){this._utils=e,this.userService=i,this.router=r}ngOnInit(){this.discord()}isSmartphone(){return this._utils.isSmartphone()?"80":"55"}discord(){var e=this.userService.getQueryParams();e&&(this.router.navigate([],{queryParams:{code:null},queryParamsHandling:"merge"}),this.userService.loginDiscord(e).subscribe(i=>{}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Df),s.Y36(IA),s.Y36(Ms))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home-view"]],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center","fxFlex",""],["fxFlex","50",2,"padding","1%"],["fxLayout","row","fxFlex","","fxLayoutAlign","center"],["src","https://media.discordapp.net/attachments/511856322141093914/916417399123746878/122446285_3745805028787577_1420736271386283273_n-1.png",1,"immagine",3,"fxFlex"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",2),s._UZ(3,"img",3),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("fxFlex",i.isSmartphone()))},dependencies:[su,_h,Ul],styles:[".immagine[_ngcontent-%COMP%]{border:7px solid #004a9f;border-radius:3px}"]}),n})();function Bde(n,t){1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2," Scegli un file .txt e caricalo nella piattaforma."),s._UZ(3,"br"),s._uU(4," Il sistema lo elaborer\xe0 e lo render\xe0 adatto alle bacheche del gioco. "),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA())}function Fde(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Mde(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,Fde,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function kde(n,t){if(1&n&&(s.TgZ(0,"mat-card",7)(1,"mat-card-content"),s.YNc(2,Mde,2,1,"div",8),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.bacheche)}}function Rde(n,t){if(1&n&&(s.TgZ(0,"div")(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Ode(n,t){if(1&n&&(s.TgZ(0,"div",9),s.YNc(1,Rde,3,1,"div",10),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function Lde(n,t){if(1&n&&(s.TgZ(0,"div",11),s.YNc(1,Ode,2,1,"div",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.bacheche)}}let Nde=(()=>{class n{constructor(e,i){this.utils=e,this.service=i,this.bacheche=new Array,this.isSmartphone=!1}ngOnInit(){this.isSmartphone=this.utils.isSmartphone()}onChange(e){var i=this;return(0,It.Z)(function*(){var r=e.target.files[0];let o=yield r.text();i.elabTextToBachecaMessage(o)})()}elabTextToBachecaMessage(e){var i="",r=new Array,o=new Array;let a=this.cleanArray(e);a.forEach(u=>{i.length+u.length<=32?i+=u+" ":(i=i.substring(0,i.lastIndexOf(" ")),r.push(i),i=u+" "),u==a[a.length-1]&&(i=i.substring(0,i.lastIndexOf(" ")),r.push(i)),39==r.length&&(o.push(r),r=new Array)}),o.push(r),this.bacheche=o}checkWords(e){for(let r=0;r<e.length;r++)if(e[r].includes("\n\r")){var i=e[r].split("\r\n");i=i.filter(o=>""!=o),e.splice(r,i.length,...i)}return e}cleanArray(e){var i,r=(e=e.replace(/[\r\n]/g," ")).split(" ");r=r.filter(u=>""!=u);let o=(new Array).concat(r),a=0;for(;r.filter(u=>u.length>32).length>0;){if((null===(i=o[a])||void 0===i?void 0:i.length)>=32){let u=new Array,h=0;for(let f=0;f<o[a].length/32;f++)u.push(o[a].substring(h,h+31)),h+=31;o=this.mergeArray(o,u,a)}r=o,a++}return r}mergeArray(e,i,r=0){return(e=e.filter(o=>o!==e[r])).slice(0,r).concat(i,e.slice(r))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Df),s.Y36(IA))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bacheca"]],decls:7,vars:3,consts:[["fxLayout","column","fxFlex","","fxLayoutAlign","space-evenly center"],["fxFlex","",2,"padding","1%"],[2,"text-align","center"],[4,"ngIf"],["type","file",1,"form-control",3,"change"],["class","pergamene",4,"ngIf"],["class","pergameneSmarth",4,"ngIf"],[1,"pergamene"],["class","pergamena",4,"ngFor","ngForOf"],[1,"pergamena"],[4,"ngFor","ngForOf"],[1,"pergameneSmarth"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),s.YNc(3,Bde,7,0,"div",3),s.TgZ(4,"input",4),s.NdJ("change",function(o){return i.onChange(o)}),s.qZA()()(),s.YNc(5,kde,3,1,"mat-card",5),s.YNc(6,Lde,2,1,"div",6),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",0==i.bacheche.length),s.xp6(2),s.Q6J("ngIf",i.bacheche.length>0&&!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.bacheche.length>0&&i.isSmartphone))},dependencies:[ns,Ei,su,_h,Ul,ig,gD],styles:[".pergamena[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/premium-photo/old-parchment-paper-texture-background-wallpaper_118047-11580.jpg);font-family:Playfair Display,serif;font-size:20px;padding:10px;margin:6px;border-radius:10px;text-align:center}.pergamene[_ngcontent-%COMP%]{width:40%;max-height:65vh;overflow-y:auto}.pergameneSmarth[_ngcontent-%COMP%]{width:80%;max-height:65vh;overflow-y:auto}.font[_ngcontent-%COMP%]{font-family:Playfair Display,serif}"]}),n})();function Pde(n,t){if(1&n&&(s.TgZ(0,"mat-option",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Ude(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",16)(1,"mat-select",17),s.NdJ("selectionChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._changePageSize(r.value))}),s.YNc(2,Pde,2,2,"mat-option",18),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("appearance",e._formFieldAppearance)("color",e.color),s.xp6(1),s.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),s.xp6(1),s.Q6J("ngForOf",e._displayedPageSizeOptions)}}function Qde(n,t){if(1&n&&(s.TgZ(0,"div",20),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.pageSize)}}function Hde(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13),s._uU(2),s.qZA(),s.YNc(3,Ude,3,8,"mat-form-field",14),s.YNc(4,Qde,2,1,"div",15),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e._intl.itemsPerPageLabel," "),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length>1),s.xp6(1),s.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function Vde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.firstPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",22),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),s.uIk("aria-label",e._intl.firstPageLabel)}}function Gde(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.lastPage())}),s.O4$(),s.TgZ(1,"svg",7),s._UZ(2,"path",24),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),s.uIk("aria-label",e._intl.lastPageLabel)}}let aR=(()=>{class n{constructor(){this.changes=new sn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zde={provide:aR,deps:[[new s.FiY,new s.tp0,aR]],useFactory:function jde(n){return n||new aR}};class Kde{}const Zde=new s.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),$de=Xb(t7(class{}));let Yde=(()=>{class n extends $de{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new s.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:a,hidePageSize:u,showFirstLastButtons:h}=r;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=u&&(this._hidePageSize=u),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(Ic(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=Ic(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(Ic(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Ic(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=di(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=di(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[s.qOj]}),n})(),h3=(()=>{class n extends Yde{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(aR),s.Y36(s.sBO),s.Y36(Zde,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[s.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Hde,5,3,"div",2),s.TgZ(3,"div",3)(4,"div",4),s._uU(5),s.qZA(),s.YNc(6,Vde,3,5,"button",5),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.previousPage()}),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()(),s.kcU(),s.TgZ(10,"button",9),s.NdJ("click",function(){return i.nextPage()}),s.O4$(),s.TgZ(11,"svg",7),s._UZ(12,"path",10),s.qZA()(),s.YNc(13,Gde,3,5,"button",11),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("ngIf",!i.hidePageSize),s.xp6(3),s.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),s.xp6(1),s.Q6J("ngIf",i.showFirstLastButtons),s.xp6(1),s.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),s.uIk("aria-label",i._intl.previousPageLabel),s.xp6(3),s.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),s.uIk("aria-label",i._intl.nextPageLabel),s.xp6(3),s.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[ns,Ei,Sd,q0,mC,T0,AC],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Wde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[zde],imports:[Yo,qM,X9,Oz,hr]}),n})();const Jde=["mat-sort-header",""];function Xde(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3),s.NdJ("@arrowPosition.start",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._disableViewStateAnimation=!1)}),s._UZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"div",6)(4,"div",7)(5,"div",8),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),s.xp6(2),s.Q6J("@indicator",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@leftPointer",e._getArrowDirectionState()),s.xp6(1),s.Q6J("@rightPointer",e._getArrowDirectionState())}}const ehe=["*"],sq=new s.OlP("MAT_SORT_DEFAULT_OPTIONS"),the=t7(Xb(class{}));let A3=(()=>{class n extends the{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new sn.x,this.start="asc",this._direction="",this.sortChange=new s.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=di(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function nhe(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(sq,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[s.qOj,s.TTD]}),n})();const Z0=rte.ENTERING+" "+ite.STANDARD_CURVE,Xx={indicator:iu("indicator",[Xr("active-asc, asc",Ii({transform:"translateY(0px)"})),Xr("active-desc, desc",Ii({transform:"translateY(10px)"})),Do("active-asc <=> active-desc",ra(Z0))]),leftPointer:iu("leftPointer",[Xr("active-asc, asc",Ii({transform:"rotate(-45deg)"})),Xr("active-desc, desc",Ii({transform:"rotate(45deg)"})),Do("active-asc <=> active-desc",ra(Z0))]),rightPointer:iu("rightPointer",[Xr("active-asc, asc",Ii({transform:"rotate(45deg)"})),Xr("active-desc, desc",Ii({transform:"rotate(-45deg)"})),Do("active-asc <=> active-desc",ra(Z0))]),arrowOpacity:iu("arrowOpacity",[Xr("desc-to-active, asc-to-active, active",Ii({opacity:1})),Xr("desc-to-hint, asc-to-hint, hint",Ii({opacity:.54})),Xr("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Ii({opacity:0})),Do("* => asc, * => desc, * => active, * => hint, * => void",ra("0ms")),Do("* <=> *",ra(Z0))]),arrowPosition:iu("arrowPosition",[Do("* => desc-to-hint, * => desc-to-active",ra(Z0,F2([Ii({transform:"translateY(-25%)"}),Ii({transform:"translateY(0)"})]))),Do("* => hint-to-desc, * => active-to-desc",ra(Z0,F2([Ii({transform:"translateY(0)"}),Ii({transform:"translateY(25%)"})]))),Do("* => asc-to-hint, * => asc-to-active",ra(Z0,F2([Ii({transform:"translateY(25%)"}),Ii({transform:"translateY(0)"})]))),Do("* => hint-to-asc, * => active-to-asc",ra(Z0,F2([Ii({transform:"translateY(0)"}),Ii({transform:"translateY(-25%)"})]))),Xr("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Ii({transform:"translateY(0)"})),Xr("hint-to-desc, active-to-desc, desc",Ii({transform:"translateY(-25%)"})),Xr("hint-to-asc, active-to-asc, asc",Ii({transform:"translateY(25%)"}))]),allowChildren:iu("allowChildren",[Do("* <=> *",[ZM("@*",KM(),{optional:!0})])])};let lR=(()=>{class n{constructor(){this.changes=new sn.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rhe={provide:lR,deps:[[new s.FiY,new s.tp0,lR]],useFactory:function ihe(n){return n||new lR}},she=Xb(class{});let ohe=(()=>{class n extends she{constructor(e,i,r,o,a,u,h,f){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=a,this._elementRef=u,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",f?.arrowPosition&&(this.arrowPosition=f?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=di(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,tu.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lR),s.Y36(s.sBO),s.Y36(A3,8),s.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),s.Y36(Bf),s.Y36(s.SBq),s.Y36(U8,8),s.Y36(sq,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(s.uIk("aria-sort",i._getAriaSortAttribute()),s.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[s.qOj],attrs:Jde,ngContentSelectors:ehe,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1),s.Hsn(2),s.qZA(),s.YNc(3,Xde,6,6,"div",2),s.qZA()),2&e&&(s.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),s.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),s.xp6(3),s.Q6J("ngIf",i._renderArrow()))},dependencies:[Ei],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Xx.indicator,Xx.leftPointer,Xx.rightPointer,Xx.arrowOpacity,Xx.arrowPosition,Xx.allowChildren]},changeDetection:0}),n})(),ahe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rhe],imports:[Yo,hr]}),n})();const che=[[["caption"]],[["colgroup"],["col"]]],uhe=["caption","colgroup, col"];function f3(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=di(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const eE=new s.OlP("CDK_TABLE");let tE=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),nE=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),cR=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class fhe{}const phe=f3(fhe);let qy=(()=>{class n extends phe{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=di(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,tE,5),s.Suo(r,nE,5),s.Suo(r,cR,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class p3{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let g3=(()=>{class n extends p3{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qy),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),m3=(()=>{class n extends p3{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qy),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class aq{constructor(){this.tasks=[],this.endTasks=[]}}const _3=new s.OlP("_COALESCED_STYLE_SCHEDULER");let lq=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new sn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new aq,this._getScheduleObservable().pipe(Ri(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new aq;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,zn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Jr.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),y3=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof TD?e.headerCell.template:this instanceof BD?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class ghe extends y3{}const mhe=f3(ghe);let TD=(()=>{class n extends mhe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(eE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class _he extends y3{}const yhe=f3(_he);let BD=(()=>{class n extends yhe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(eE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),uR=(()=>{class n extends y3{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(eE,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),Ky=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Ky],encapsulation:2}),n})(),dR=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const cq=["top","bottom","left","right"];class vhe{constructor(t,e,i,r,o=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,u=this._getCellWidths(o,r),h=this._getStickyStartColumnPositions(u,e),f=this._getStickyEndColumnPositions(u,i),_=e.lastIndexOf(!0),b=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,B=F?"right":"left",U=F?"left":"right";for(const H of t)for(let Z=0;Z<a;Z++){const z=H.children[Z];e[Z]&&this._addStickyStyle(z,B,h[Z],Z===_),i[Z]&&this._addStickyStyle(z,U,f[Z],Z===b)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===_?[]:u.slice(0,_+1).map((H,Z)=>e[Z]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===b?[]:u.slice(b).map((H,Z)=>i[Z+b]?H:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],u=[],h=[];for(let _=0,b=0;_<r.length;_++){if(!o[_])continue;a[_]=b;const F=r[_];h[_]=this._isNativeHtmlTable?Array.from(F.children):[F];const B=F.getBoundingClientRect().height;b+=B,u[_]=B}const f=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let _=0;_<r.length;_++){if(!o[_])continue;const b=a[_],F=_===f;for(const B of h[_])this._addStickyStyle(B,i,b,F)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);cq.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of cq)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const C3=new s.OlP("CDK_SPL");let hR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),AR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),fR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),pR=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),gR=(()=>{class n{constructor(e,i,r,o,a,u,h,f,_,b,F,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=f,this._coalescedStyleScheduler=_,this._viewportRuler=b,this._stickyPositioningListener=F,this._ngZone=B,this._onDestroy=new sn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new _r({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=di(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=di(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Ri(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),d3(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Jr.q)(1),Ri(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&a.push(i[u]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const a=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<a.length;u++){let h=a[u];const f=this._cachedRenderRowsMap.get(h.data);f.has(h.rowDef)?f.get(h.rowDef).push(h):f.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const h=u.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),mR(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=mR(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=mR(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=mR(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],d3(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;d3(this.dataSource)?e=this.dataSource.connect(this):function lhe(n){return!!n&&(n instanceof gr.y||(0,qs.m)(n.lift)&&(0,qs.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=pn(this.dataSource)),this._renderChangeSubscription=e.pipe(Ri(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Ky.mostRecentCellOutlet&&Ky.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const a of r.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new vhe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:pn()).pipe(Ri(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(ph,8),s.Y36(Oe),s.Y36(ia),s.Y36(SD),s.Y36(_3),s.Y36(xx),s.Y36(C3,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,dR,5),s.Suo(r,qy,5),s.Suo(r,uR,5),s.Suo(r,TD,5),s.Suo(r,BD,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(hR,7),s.Gf(AR,7),s.Gf(fR,7),s.Gf(pR,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:eE,useExisting:n},{provide:SD,useClass:q9},{provide:_3,useClass:lq},{provide:C3,useValue:null}])],ngContentSelectors:uhe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(che),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[hR,AR,fR,pR],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function mR(n,t){return n.concat(Array.from(t))}let bhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[aU]}),n})();const Che=[[["caption"]],[["colgroup"],["col"]]],xhe=["caption","colgroup, col"];let dq=(()=>{class n extends gR{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:SD,useClass:q9},{provide:gR,useExisting:n},{provide:eE,useExisting:n},{provide:_3,useClass:lq},{provide:C3,useValue:null}]),s.qOj],ngContentSelectors:xhe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Che),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[hR,AR,fR,pR],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),x3=(()=>{class n extends tE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:tE,useExisting:n}]),s.qOj]}),n})(),E3=(()=>{class n extends nE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:nE,useExisting:n}]),s.qOj]}),n})(),S3=(()=>{class n extends qy{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:qy,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),I3=(()=>{class n extends g3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[s.qOj]}),n})(),D3=(()=>{class n extends m3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[s.qOj]}),n})(),hq=(()=>{class n extends TD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:TD,useExisting:n}]),s.qOj]}),n})(),Aq=(()=>{class n extends uR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:uR,useExisting:n}]),s.qOj]}),n})(),fq=(()=>{class n extends v3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:v3,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[Ky],encapsulation:2}),n})(),Ohe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[bhe,hr,hr]}),n})();class Nhe extends Tue{constructor(t=[]){super(),this._renderData=new _r([]),this._filter=new _r(""),this._internalPageChanges=new sn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(d8(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((a,u)=>{let h=this.sortingDataAccessor(a,r),f=this.sortingDataAccessor(u,r);const _=typeof h,b=typeof f;_!==b&&("number"===_&&(h+=""),"number"===b&&(f+=""));let F=0;return null!=h&&null!=f?h>f?F=1:h<f&&(F=-1):null!=h?F=1:null!=f&&(F=-1),F*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new _r(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,tu.T)(this._sort.sortChange,this._sort.initialized):pn(null),e=this._paginator?(0,tu.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):pn(null),r=Wa([this._data,this._filter]).pipe((0,cn.U)(([u])=>this._filterData(u))),o=Wa([r,t]).pipe((0,cn.U)(([u])=>this._orderData(u))),a=Wa([o,e]).pipe((0,cn.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class pq extends Nhe{}function Phe(n,t){1&n&&s.Hsn(0)}const Uhe=["*"];let gq=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),mq=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),Qhe=0;const _q=new s.OlP("STEPPER_GLOBAL_OPTIONS");let T3=(()=>{class n{constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new s.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=di(e)}get optional(){return this._optional}set optional(e){this._optional=di(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=di(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=di(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>_R)),s.Y36(_q,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,mq,5),2&e){let o;s.iGM(o=s.CRH())&&(i.stepLabel=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[s.TTD],ngContentSelectors:Uhe,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Phe,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),_R=(()=>{class n{constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new sn.x,this.steps=new s.n_E,this._sortedHeaders=new s.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new s.vpe,this._orientation="horizontal",this._groupId=Qhe++}get linear(){return this._linear}set linear(e){this._linear=di(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=Ic(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe(Ks(this._steps),Ri(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Ks(this._stepHeader),Ri(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new V8(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:pn()).pipe(Ks(this._layoutDirection()),Ri(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=Wp(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=mM();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ph,8),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,T3,5),s.Suo(r,gq,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._steps=o),s.iGM(o=s.CRH())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),Hhe=(()=>{class n{constructor(e){this._stepper=e,this.type="submit"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_R))},n.\u0275dir=s.lG2({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._stepper.next()}),2&e&&s.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),Vhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$b]}),n})();function Ghe(n,t){if(1&n&&s.GkF(0,8),2&n){const e=s.oxw();s.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function jhe(n,t){if(1&n&&(s.TgZ(0,"span",13),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._getDefaultTextForState(e.state))}}function zhe(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._intl.completedLabel)}}function qhe(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._intl.editableLabel)}}function Khe(n,t){if(1&n&&(s.TgZ(0,"mat-icon",13),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._getDefaultTextForState(e.state))}}function Zhe(n,t){if(1&n&&(s.ynx(0,9),s.YNc(1,jhe,2,1,"span",10),s.YNc(2,zhe,2,1,"span",11),s.YNc(3,qhe,2,1,"span",11),s.YNc(4,Khe,2,1,"mat-icon",12),s.BQk()),2&n){const e=s.oxw();s.Q6J("ngSwitch",e.state),s.xp6(1),s.Q6J("ngSwitchCase","number"),s.xp6(1),s.Q6J("ngIf","done"===e.state),s.xp6(1),s.Q6J("ngIf","edit"===e.state)}}function $he(n,t){if(1&n&&(s.TgZ(0,"div",15),s.GkF(1,16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Yhe(n,t){if(1&n&&(s.TgZ(0,"div",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function Whe(n,t){if(1&n&&(s.TgZ(0,"div",17),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e._intl.optionalLabel)}}function Jhe(n,t){if(1&n&&(s.TgZ(0,"div",18),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.errorMessage)}}function Xhe(n,t){}function eAe(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,Xhe,0,0,"ng-template",0)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkPortalOutlet",e._portal)}}const tAe=["*"];function nAe(n,t){1&n&&s._UZ(0,"div",11)}const yq=function(n,t){return{step:n,i:t}};function iAe(n,t){if(1&n&&(s.ynx(0),s.GkF(1,9),s.YNc(2,nAe,1,0,"div",10),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=t.last;s.oxw(2);const o=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",s.WLB(3,yq,e,i)),s.xp6(1),s.Q6J("ngIf",!r)}}const vq=function(n){return{animationDuration:n}},wq=function(n,t){return{value:n,params:t}};function rAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12),s.NdJ("@horizontalStepTransition.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._animationDone.next(r))}),s.GkF(1,13),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.ekj("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),s.Q6J("@horizontalStepTransition",s.WLB(8,wq,r._getAnimationDirection(i),s.VKq(6,vq,r._getAnimationDuration())))("id",r._getStepContentId(i)),s.uIk("aria-labelledby",r._getStepLabelId(i)),s.xp6(1),s.Q6J("ngTemplateOutlet",e.content)}}function sAe(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5),s.YNc(2,iAe,3,6,"ng-container",6),s.qZA(),s.TgZ(3,"div",7),s.YNc(4,rAe,2,11,"div",8),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.steps),s.xp6(2),s.Q6J("ngForOf",e.steps)}}function oAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15),s.GkF(1,9),s.TgZ(2,"div",16)(3,"div",17),s.NdJ("@verticalStepTransition.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._animationDone.next(r))}),s.TgZ(4,"div",18),s.GkF(5,13),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=t.last,o=s.oxw(2),a=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.WLB(10,yq,e,i)),s.xp6(1),s.ekj("mat-stepper-vertical-line",!r),s.xp6(1),s.ekj("mat-vertical-stepper-content-inactive",o.selectedIndex!==i),s.Q6J("@verticalStepTransition",s.WLB(15,wq,o._getAnimationDirection(i),s.VKq(13,vq,o._getAnimationDuration())))("id",o._getStepContentId(i)),s.uIk("aria-labelledby",o._getStepLabelId(i)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.content)}}function aAe(n,t){if(1&n&&(s.ynx(0),s.YNc(1,oAe,6,18,"div",14),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.steps)}}function lAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-step-header",19),s.NdJ("click",function(){const o=s.CHM(e).step;return s.KtG(o.select())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onKeydown(r))}),s.qZA()}if(2&n){const e=t.step,i=t.i,r=s.oxw();s.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),s.Q6J("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),s.uIk("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let yR=(()=>{class n extends mq{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matStepLabel",""]],features:[s.qOj]}),n})(),vR=(()=>{class n{constructor(){this.changes=new sn.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uAe={provide:vR,deps:[[new s.FiY,new s.tp0,vR]],useFactory:function cAe(n){return n||new vR}},dAe=Oy(class extends gq{constructor(t){super(t)}},"primary");let bq=(()=>{class n extends dAe{constructor(e,i,r,o){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof yR?null:this.label}_templateLabel(){return this.label instanceof yR?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vR),s.Y36(Bf),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[s.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.TgZ(1,"div")(2,"div",1),s.YNc(3,Ghe,1,2,"ng-container",2),s.YNc(4,Zhe,5,4,"ng-container",3),s.qZA()(),s.TgZ(5,"div",4),s.YNc(6,$he,2,1,"div",5),s.YNc(7,Yhe,2,1,"div",5),s.YNc(8,Whe,2,1,"div",6),s.YNc(9,Jhe,2,1,"div",7),s.qZA()),2&e&&(s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),s.xp6(1),s.Gre("mat-step-icon-state-",i.state," mat-step-icon"),s.ekj("mat-step-icon-selected",i.selected),s.xp6(1),s.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(2),s.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),s.xp6(1),s.Q6J("ngIf",i._templateLabel()),s.xp6(1),s.Q6J("ngIf",i._stringLabel()),s.xp6(1),s.Q6J("ngIf",i.optional&&"error"!=i.state),s.xp6(1),s.Q6J("ngIf","error"==i.state))},dependencies:[Ei,ya,zl,hc,Fd,Of,D0],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const Eq={horizontalStepTransition:iu("horizontalStepTransition",[Xr("previous",Ii({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Xr("current",Ii({transform:"none",visibility:"inherit"})),Xr("next",Ii({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Do("* => *",ra("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:iu("verticalStepTransition",[Xr("previous",Ii({height:"0px",visibility:"hidden"})),Xr("next",Ii({height:"0px",visibility:"hidden"})),Xr("current",Ii({height:"*",visibility:"inherit"})),Do("* <=> current",ra("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let hAe=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),AAe=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),Sq=(()=>{class n extends T3{constructor(e,i,r,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=Co.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(fs(()=>this._stepper.selectionChange.pipe((0,cn.U)(e=>e.selectedStep===this),Ks(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Ix(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>Iq)),s.Y36(kx,4),s.Y36(s.s_b),s.Y36(_q,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,yR,5),s.Suo(r,AAe,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.stepLabel=o.first),s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[s._Bn([{provide:kx,useExisting:n},{provide:T3,useExisting:n}]),s.qOj],ngContentSelectors:tAe,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,eAe,2,1,"ng-template"))},dependencies:[Yb],encapsulation:2,changeDetection:0}),n})(),Iq=(()=>{class n extends _R{constructor(e,i,r){super(e,i,r),this.steps=new s.n_E,this.animationDone=new s.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new sn.x,this._animationDuration="";const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Ri(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(zb((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),Ri(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ph,8),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Sq,5),s.Suo(r,hAe,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._steps=o),s.iGM(o=s.CRH())&&(i._icons=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(bq,5),2&e){let r;s.iGM(r=s.CRH())&&(i._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.orientation),s.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[s._Bn([{provide:_R,useExisting:n}]),s.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(s.ynx(0,0),s.YNc(1,sAe,5,2,"div",1),s.YNc(2,aAe,2,1,"ng-container",2),s.BQk(),s.YNc(3,lAe,1,23,"ng-template",null,3,s.W1O)),2&e&&(s.Q6J("ngSwitch",i.orientation),s.xp6(1),s.Q6J("ngSwitchCase","horizontal"),s.xp6(1),s.Q6J("ngSwitchCase","vertical"))},dependencies:[ns,Ei,ya,zl,hc,bq],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Eq.horizontalStepTransition,Eq.verticalStepTransition]},changeDetection:0}),n})(),fAe=(()=>{class n extends Hhe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("type",i.type)},inputs:{type:"type"},features:[s.qOj]}),n})(),pAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[uAe,kx],imports:[hr,Yo,Wb,qM,Vhe,sz,B2,hr]}),n})();function gAe(n,t){if(1&n&&s._UZ(0,"p",6),2&n){const e=s.oxw();s.Udp("color",e.messageColor)}}let mAe=(()=>{class n{constructor(){this.bar0="",this.bar1="",this.bar2="",this.bar3="",this.passwordToCheck=" ",this.passwordStrength=new s.vpe,this.colors=["orangered","orange","yellowgreen","#004a9f"],this.message="",this.messageColor=""}checkStrength(e){let i=0;const f=[/[a-z]+/.test(e),/[A-Z]+/.test(e),/[0-9]+/.test(e),/[$-/:-?{-~!"^_@`\[\]]/g.test(e)];let _=0;for(const b of f)_+=!0===b?1:0;return i+=2*e.length+(e.length>=10?1:0),i+=10*_,i=e.length<=6?Math.min(i,10):i,i=1===_?Math.min(i,10):i,i=2===_?Math.min(i,20):i,i=3===_?Math.min(i,30):i,i=4===_?Math.min(i,40):i,i}ngOnChanges(e){const i=e.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),i){const r=this.checkStrength(i);this.passwordStrength.emit(r>=20);const o=this.getColor(r);switch(this.setBarColors(o.index,o.color),r){case 10:this.message="Molto bassa";break;case 20:this.message="Bassa";break;case 30:this.message="Discreta";break;case 40:this.message="Buona"}}else this.message=""}getColor(e){let i=0;return i=10===e?0:20===e?1:30===e?2:40===e?3:4,this.messageColor=this.colors[i],{index:i+1,color:this.colors[i]}}setBarColors(e,i){for(let r=0;r<e;r++)this["bar"+r]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-password-strenght-meter"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[s.TTD],decls:10,vars:9,consts:[[2,"margin","1px"],[2,"text-align","center","font-weight","bold","margin","0"],[1,"strength"],[1,"strengthBar","mt-2"],[1,"point"],["class","text-center mb-0",3,"color",4,"ngIf"],[1,"text-center","mb-0"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h5",1),s._uU(2,"Robustezza Password"),s.qZA(),s.TgZ(3,"div",2)(4,"ul",3),s._UZ(5,"li",4)(6,"li",4)(7,"li",4)(8,"li",4),s.qZA(),s.YNc(9,gAe,1,2,"p",5),s.qZA()()),2&e&&(s.xp6(5),s.Udp("background-color",i.bar0),s.xp6(1),s.Udp("background-color",i.bar1),s.xp6(1),s.Udp("background-color",i.bar2),s.xp6(1),s.Udp("background-color",i.bar3),s.xp6(1),s.Q6J("ngIf",null==i.passwordToCheck?null:i.passwordToCheck.length))},dependencies:[Ei],styles:[".strength[_ngcontent-%COMP%]{display:flex;flex-direction:row}.strengthBar[_ngcontent-%COMP%]{display:flex;flex-grow:1;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;flex-grow:1}p[_ngcontent-%COMP%]{font-weight:700;flex-grow:.1}"]}),n})();function _Ae(n,t){1&n&&s._uU(0,"Credenziali ")}function yAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," L'username deve contenere almeno 4 caratteri "),s.qZA())}function vAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Username gi\xe0 utilizzato "),s.qZA())}function wAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," La password deve contenere almeno 6 caratteri "),s.qZA())}function bAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," La password \xe8 vulnerabile "),s.qZA())}function CAe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Le password non corrispondono "),s.qZA())}function xAe(n,t){1&n&&s._uU(0,"Info")}function EAe(n,t){if(1&n&&(s.TgZ(0,"mat-option",25),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("disabled",i.regni.length<1)("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function SAe(n,t){1&n&&s._uU(0,"Domande")}function IAe(n,t){if(1&n&&(s.TgZ(0,"div",28)(1,"div")(2,"textarea",29),s._uU(3),s.qZA()(),s.TgZ(4,"div"),s._UZ(5,"input",30,31),s.qZA(),s.TgZ(7,"div")(8,"textarea",29),s._uU(9),s.qZA()(),s.TgZ(10,"div"),s._UZ(11,"input",32,31),s.qZA(),s.TgZ(13,"div")(14,"textarea",29),s._uU(15),s.qZA()(),s.TgZ(16,"div"),s._UZ(17,"input",33,31),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Udp("height",e.heightTextArea(e.dr[0].domanda),"px"),s.Q6J("readonly",!0),s.xp6(1),s.Oqu(e.dr[0].domanda),s.xp6(5),s.Udp("height",e.heightTextArea(e.dr[1].domanda),"px"),s.Q6J("readonly",!0),s.xp6(1),s.Oqu(e.dr[1].domanda),s.xp6(5),s.Udp("height",e.heightTextArea(e.dr[2].domanda),"px"),s.Q6J("readonly",!0),s.xp6(1),s.Oqu(e.dr[2].domanda)}}function DAe(n,t){if(1&n&&(s.TgZ(0,"mat-step",7)(1,"form",8),s.YNc(2,SAe,1,0,"ng-template",9),s.YNc(3,IAe,19,12,"div",26),s.TgZ(4,"div")(5,"button",17)(6,"span",27),s._uU(7," expand_more "),s.qZA()()()()()),2&n){const e=s.oxw(2);s.Q6J("stepControl",e.thirdFormGroup)("editable",e.isEditable),s.xp6(1),s.Q6J("formGroup",e.thirdFormGroup),s.xp6(2),s.Q6J("ngIf",e.dr.length>0)}}function TAe(n,t){1&n&&s._uU(0,"Fine")}function BAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"mat-toolbar",2)(2,"span",3),s._uU(3,"anchor"),s.qZA()(),s.TgZ(4,"mat-card",4)(5,"mat-stepper",5,6)(7,"mat-step",7)(8,"form",8),s.YNc(9,_Ae,1,0,"ng-template",9),s.TgZ(10,"mat-form-field")(11,"mat-icon",10),s._uU(12,"person_outline"),s.qZA(),s.TgZ(13,"input",11,12),s.NdJ("change",function(){s.CHM(e);const r=s.MAs(14),o=s.oxw();return s.KtG(o.checkUser(r.value))}),s.qZA(),s.YNc(15,yAe,2,0,"mat-error",13),s.YNc(16,vAe,2,0,"mat-error",13),s.qZA(),s.TgZ(17,"mat-form-field")(18,"mat-icon",10),s._uU(19,"lock_outline"),s.qZA(),s._UZ(20,"input",14),s.YNc(21,wAe,2,0,"mat-error",13),s.YNc(22,bAe,2,0,"mat-error",13),s.qZA(),s.TgZ(23,"mat-form-field")(24,"mat-icon",10),s._uU(25,"lock_outline"),s.qZA(),s._UZ(26,"input",15),s.YNc(27,CAe,2,0,"mat-error",13),s.qZA(),s.TgZ(28,"app-password-strenght-meter",16),s.NdJ("passwordStrength",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onPasswordStrengthChanged(r))}),s.qZA(),s.TgZ(29,"div")(30,"button",17)(31,"span",18),s._uU(32," expand_more "),s.qZA()()()()(),s.TgZ(33,"mat-step",7)(34,"form",8),s.YNc(35,xAe,1,0,"ng-template",9),s.TgZ(36,"mat-form-field")(37,"mat-icon",10),s._uU(38,"person_outline"),s.qZA(),s._UZ(39,"input",19),s.qZA(),s.TgZ(40,"mat-form-field")(41,"mat-icon",10),s._uU(42,"location_city"),s.qZA(),s.TgZ(43,"mat-label"),s._uU(44,"Regno"),s.qZA(),s.TgZ(45,"mat-select",20),s.YNc(46,EAe,2,3,"mat-option",21),s.qZA()(),s.TgZ(47,"div")(48,"button",17)(49,"span",18),s._uU(50," expand_more "),s.qZA()()()()(),s.YNc(51,DAe,8,4,"mat-step",22),s.TgZ(52,"mat-step"),s.YNc(53,TAe,1,0,"ng-template",9),s.TgZ(54,"div",23)(55,"button",24),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.salva())}),s._uU(56,"Salva"),s.qZA()()()()()()}if(2&n){const e=s.oxw();let i,r,o,a,u,h,f;s.xp6(7),s.Q6J("stepControl",e.firstFormGroup)("editable",e.isEditable),s.xp6(1),s.Q6J("formGroup",e.firstFormGroup),s.xp6(7),s.Q6J("ngIf",null==(i=e.firstFormGroup.get("username"))?null:i.hasError("minlength")),s.xp6(1),s.Q6J("ngIf",null==(r=e.firstFormGroup.get("username"))?null:r.hasError("incorrect")),s.xp6(5),s.Q6J("ngIf",null==(o=e.firstFormGroup.get("password"))?null:o.hasError("minlength")),s.xp6(1),s.Q6J("ngIf",null==(a=e.firstFormGroup.get("password"))?null:a.hasError("passwordEasy")),s.xp6(5),s.Q6J("ngIf",null==(u=e.firstFormGroup.get("password2"))?null:u.hasError("confirmPasswordValidator")),s.xp6(1),s.Q6J("passwordToCheck",(null==(h=e.firstFormGroup.get("password"))?null:h.value)||" "),s.xp6(5),s.Q6J("stepControl",e.secondFormGroup)("editable",e.isEditable),s.xp6(1),s.Q6J("formGroup",e.secondFormGroup),s.xp6(12),s.Q6J("ngForOf",e.regni),s.xp6(5),s.Q6J("ngIf","Rotiniel"===(null==(f=e.secondFormGroup.get("regno"))?null:f.value))}}let FAe=(()=>{class n{constructor(e,i,r,o,a,u){this.service=e,this.dialog=i,this._formBuilder=r,this._schedaService=o,this._utils=a,this.cdRef=u,this.user=new dM,this.error=!1,this.regni=new Array,this.regno=new x7,this.dr=new Array,this.strongPassword=!0,this.firstFormGroup=this._formBuilder.group({username:["",wr.compose([wr.minLength(4),wr.maxLength(12),wr.required])],password:["",wr.compose([wr.minLength(6),wr.required])],password2:["",wr.compose([wr.minLength(6),wr.required])]},{validator:this._utils.ConfirmPasswordValidator("password","password2")}),this.secondFormGroup=this._formBuilder.group({nomePg:["",wr.compose([wr.minLength(3),wr.required])],regno:["",wr.required]}),this.thirdFormGroup=this._formBuilder.group({r1:["",wr.required],r2:["",wr.required],r3:["",wr.required]}),this.form=new G0({}),this.isEditable=!0,this.isLinear=!0}ngOnInit(){this.getRegni(),this.getDomandeRisposte()}signUp(){Object.assign({},this.user),this.service.registrati(this.user)}isLoggedIn(){return this.service.isLoggedIn}getRegni(){this._schedaService.getRegni().subscribe(e=>this.regni=e)}getDomandeRisposte(){this._schedaService.getDomandeRisposte().subscribe(e=>this.sortDomandeRisposte(e))}sortDomandeRisposte(e){e.sort(()=>.5-Math.random());for(let i=0;i<3;i++)this.dr.push(e[i])}heightTextArea(e){let i=this._utils.isSmartphone();return e.length>=5&&e.length<=25?i?40:23:e.length>25&&e.length<=45?i?60:35:e.length>45&&e.length<=55?i?65:40:e.length>55&&e.length<=60?i?75:45:e.length>60&&e.length<=75?i?85:50:i?1.1*e.length:.63*e.length}checkUser(e){this.service.checkUser(e).subscribe(i=>{var r;i.length>0&&(null===(r=this.firstFormGroup.get("username"))||void 0===r||r.setErrors({incorrect:!0}))})}onPasswordStrengthChanged(e){var i;!1===e&&(null===(i=this.firstFormGroup.get("password"))||void 0===i||i.setErrors({passwordEasy:!0})),this.cdRef.detectChanges()}salva(){var e,i,r,o,a,u,h,f,_=null===(e=this.secondFormGroup.get("regno"))||void 0===e?void 0:e.value,b=!0;if(_?.includes("Rotiniel")){const De=this.dr;var F=new Array,B=null===(i=this.thirdFormGroup.get("r1"))||void 0===i?void 0:i.value,U=null===(r=this.thirdFormGroup.get("r2"))||void 0===r?void 0:r.value,H=null===(o=this.thirdFormGroup.get("r3"))||void 0===o?void 0:o.value;let Ye=new Array;if(B&&U&&H){F.push(B),F.push(U),F.push(H);for(let ct=0;ct<F?.length;ct++)F[ct].length>=De[ct].min&&De[ct].risposta.toLowerCase().includes(F[ct].toLowerCase())&&Ye.push(!0)}b=3==(null===(a=Ye.filter(ct=>1==ct))||void 0===a?void 0:a.length)}if(b){var Z=null===(u=this.firstFormGroup.get("username"))||void 0===u?void 0:u.value,z=null===(h=this.firstFormGroup.get("password"))||void 0===h?void 0:h.value,W=null===(f=this.secondFormGroup.get("nomePg"))||void 0===f?void 0:f.value;if(Z&&z&&W&&_){var fe=new dM(Z,z);fe.nomePg=W,fe.regno=_,this.service.registrati(fe),this.service.openSnackBar("registrazioneAvvenuta"),this.dialog.close(fe)}}else this.service.openSnackBar("registrazioneFallita");this.dialog.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(IA),s.Y36(Mk),s.Y36(P9),s.Y36(Uy),s.Y36(Df),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-up"]],decls:1,vars:1,consts:[["class","login-container","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","center center",1,"login-container"],["color","primary",1,"login-toolbar"],[1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px"],["fxFlex",""],["linear","","orientation","vertical","fxFlex","","fxLayout","column"],["stepper",""],[3,"stepControl","editable"],["fxFlex","100","fxLayout","column",3,"formGroup"],["matStepLabel",""],["matPrefix",""],["autofocus","","type","text","matInput","","placeholder","Username","formControlName","username","fxFlex","","required","",3,"change"],["user",""],[4,"ngIf"],["type","password","autocomplete","false","matInput","","placeholder","Password","formControlName","password","required","","fxFlex",""],["type","password","autocomplete","false","matInput","","placeholder","Ripeti password","formControlName","password2","required","","fxFlex",""],[3,"passwordToCheck","passwordStrength"],["mat-button","","matStepperNext","","fxFlex",""],[1,"material-symbols-outlined","arrow"],["autofocus","","type","text","matInput","","placeholder","Nome pg","formControlName","nomePg","fxFlex",""],["color","primary","fxFlex","","formControlName","regno","fxFlex",""],["color","primary",3,"disabled","value",4,"ngFor","ngForOf"],[3,"stepControl","editable",4,"ngIf"],["fxFlex","",2,"padding","5%"],["type","submit","mat-raised-button","","color","primary","fxFlex","",3,"click"],["color","primary",3,"disabled","value"],["fxFlex","","class","area",4,"ngIf"],["fxFlex","",1,"material-symbols-outlined","arrow"],["fxFlex","",1,"area"],["matInput","","fxFlex","","cols","100",1,"textarea",3,"readonly"],["mat-input","","placeholder","Risposta","fxFlex","","formControlName","r1",1,"ris"],["ris",""],["mat-input","","placeholder","Risposta","fxFlex","","formControlName","r2",1,"ris"],["mat-input","","placeholder","Risposta","fxFlex","","formControlName","r3",1,"ris"]],template:function(e,i){1&e&&s.YNc(0,BAe,57,14,"div",0),2&e&&s.Q6J("ngIf",!i.isLoggedIn())},dependencies:[ns,Ei,n3,rg,i_,q4,tR,pC,eR,Rk,Of,Sd,su,_h,Ul,iR,q0,z0,V9,mC,T0,K0,ig,Sq,yR,Iq,fAe,mAe],styles:[".registrati[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;margin-top:5%;text-align:end;color:#004a9f}.registrati[_ngcontent-%COMP%]:hover{color:#000;text-decoration:underline}.arrow[_ngcontent-%COMP%]{color:#283593}.area[_ngcontent-%COMP%]{padding:7%}.textarea[_ngcontent-%COMP%]{resize:none;text-align:center;font-weight:500}.ris[_ngcontent-%COMP%]{margin-bottom:10%}textarea[_ngcontent-%COMP%]{overflow:hidden}"]}),n})();function MAe(n,t){1&n&&(s.TgZ(0,"mat-error",12),s._uU(1," Username o password errati. "),s.qZA())}function kAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"mat-toolbar",3)(3,"span",4),s._uU(4,"anchor"),s.qZA()(),s.TgZ(5,"mat-card")(6,"mat-card-header")(7,"mat-card-title"),s._uU(8," Login "),s.qZA()(),s.TgZ(9,"mat-form-field")(10,"mat-icon",5),s._uU(11,"person_outline"),s.qZA(),s.TgZ(12,"input",6),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.user.username=r)}),s.qZA()(),s.TgZ(13,"mat-form-field")(14,"mat-icon",5),s._uU(15,"lock_outline"),s.qZA(),s.TgZ(16,"input",7),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.user.password=r)})("keyup.enter",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.login())}),s.qZA()(),s.YNc(17,MAe,2,0,"mat-error",8),s.TgZ(18,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.login())}),s._uU(19,"Login"),s.qZA(),s.TgZ(20,"span",10),s._uU(21,"discord"),s.qZA(),s.TgZ(22,"div",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openRegistrati())}),s._uU(23,"Registrati"),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(12),s.Q6J("ngModel",e.user.username),s.xp6(4),s.Q6J("ngModel",e.user.password),s.xp6(1),s.Q6J("ngIf",e.error)}}let Dq=(()=>{class n{constructor(e,i,r){this.service=e,this.dialog=i,this.modal=r,this.user=new dM,this.error=!1}ngOnInit(){}login(){var e=Object.assign({},this.user);const i=this.service.login(e).subscribe(r=>{r?this.dialog.close(r):this.error=!0,i.unsubscribe()})}isLoggedIn(){return this.service.isLoggedIn}openRegistrati(){this.modal.open(FAe,{width:"500px"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(IA),s.Y36(Qy),s.Y36(Vy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","login-container",4,"ngIf"],[1,"login-container"],[1,"login-content"],["color","primary",1,"login-toolbar"],["routerLink","/",1,"material-icons","ank",2,"color","rgb(255, 210, 48)","font-size","56px","-webkit-text-stroke-width","0px"],["matPrefix",""],["autofocus","","type","text","matInput","","placeholder","Username",3,"ngModel","ngModelChange"],["type","password","autocomplete","false","matInput","","placeholder","Password",3,"ngModel","ngModelChange","keyup.enter"],["style","text-align:center",4,"ngIf"],["type","submit","mat-raised-button","","color","primary",3,"click"],[1,"material-icons"],[1,"registrati",3,"click"],[2,"text-align","center"]],template:function(e,i){1&e&&s.YNc(0,kAe,24,3,"div",0),2&e&&s.Q6J("ngIf",!i.isLoggedIn())},dependencies:[Ei,Z_,rg,i_,Rk,Of,Sd,j0,iR,q0,V9,K0,ig,_D,mD],styles:[".login-container[_ngcontent-%COMP%]{height:100%;width:100%;align-items:center;display:flex}form[_ngcontent-%COMP%]{width:100%}.login-content[_ngcontent-%COMP%]{width:400px;display:block;margin:0 auto}.login-toolbar[_ngcontent-%COMP%]{justify-content:center}.mat-form-field[_ngcontent-%COMP%]{width:100%;display:block}.mat-raised-button[_ngcontent-%COMP%]{width:100%;margin-top:15px}.registrati[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;margin-top:5%;text-align:end;color:#004a9f}.registrati[_ngcontent-%COMP%]:hover{color:#000;text-decoration:underline}"]}),n})(),UAe=(()=>{class n extends ma{constructor(e,i,r,o,a,u,h){super(e,null,i,r),this.ngClassInstance=h,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new vs(o,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(oa),s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(vs,10))},n.\u0275dir=s.lG2({type:n,inputs:{klass:["class","klass"]},features:[s.qOj]}),n})();const QAe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let wR=(()=>{class n extends UAe{constructor(){super(...arguments),this.inputs=QAe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[s.qOj]}),n})();class zAe{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function Tq(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function Fq(n){const[t,...e]=n.split(":");return new zAe(t,e.join(":"))}function Mq(n,t){return t.key&&(n[t.key]=t.value),n}let ZAe=(()=>{class n extends ma{constructor(e,i,r,o,a,u,h,f,_){super(e,null,i,r),this.sanitizer=o,this.ngStyleInstance=h,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new Zo(e,a,u)),this.init();const b=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(b),this.isServer=f&&va(_)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(s.q3G.STYLE,r)??"";if(e)switch(Tq(e)){case"string":return kq(function qAe(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return kq(e,i);default:return function Bq(n,t){let e=[];return"set"===Tq(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function KAe(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Go),s.Y36(oa),s.Y36(Tl),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(Zo,10),s.Y36(Zx),s.Y36(s.Lbi))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const $Ae=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let bR=(()=>{class n extends ZAe{constructor(){super(...arguments),this.inputs=$Ae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[s.qOj]}),n})();function kq(n,t){return n.map(Fq).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Mq,{})}let Rq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N4]}),n})();function YAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return r.edit=!0,s.KtG(r.detail=!1)}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA()()}}function WAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.deleteMacro())}),s.TgZ(2,"mat-icon"),s._uU(3,"delete_forever"),s.qZA()(),s.YNc(4,YAe,3,0,"button",13),s.qZA()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngIf",!e.edit)}}function JAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()()()}}function XAe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11)(1,"button",16),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.likeIt())}),s.TgZ(2,"mat-icon"),s._uU(3,"thumb_up"),s.qZA()()()}}function efe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",27),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.editMultiInsert())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!(null!=i.macroMultiInsert&&i.macroMultiInsert.checked)),s.xp6(1),s.hij(" ",e," ")}}function tfe(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una tipologia "),s.qZA())}function nfe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function ife(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function rfe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,nfe,4,2,"li",3),s.YNc(2,ife,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function sfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",17)(2,"mat-form-field")(3,"mat-label"),s._uU(4,"Autore"),s.qZA(),s.TgZ(5,"input",18),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.macro.author=r)}),s.qZA()(),s.TgZ(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Titolo"),s.qZA(),s.TgZ(9,"input",19),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA()(),s.TgZ(10,"mat-form-field")(11,"mat-label"),s._uU(12,"Delay MacroUO"),s.qZA(),s.TgZ(13,"input",20),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editMultiInsert(r))}),s.qZA()(),s.TgZ(14,"textarea",21),s.NdJ("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.editMultiInsert())}),s.qZA(),s.TgZ(15,"mat-form-field",22)(16,"mat-label"),s._uU(17,"Tipologia"),s.qZA(),s.TgZ(18,"mat-select",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.macroMultiInsert.macro.tipologia=r)}),s.YNc(19,efe,2,3,"mat-option",24),s.qZA(),s.YNc(20,tfe,2,0,"mat-error",3),s.qZA()(),s.TgZ(21,"div",25),s.YNc(22,rfe,3,2,"ul",26),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("readonly",!0)("ngModel",e.macroMultiInsert.macro.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!(null!=e.macroMultiInsert&&e.macroMultiInsert.checked)),s.xp6(4),s.Q6J("ngModel",e.macroMultiInsert.macro.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",""==e.macroMultiInsert.macro.tipologia),s.xp6(2),s.Q6J("ngForOf",null==e.macroMultiInsert?null:e.macroMultiInsert.settings)}}function ofe(n,t){if(1&n&&(s.TgZ(0,"mat-option",36),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("value",e)("disabled",!i.edit&&i.detail),s.xp6(1),s.hij(" ",e," ")}}function afe(n,t){1&n&&(s.TgZ(0,"b",37),s._uU(1,"Crea la tua macro"),s.qZA())}function lfe(n,t){1&n&&(s.TgZ(0,"mat-icon",49),s._uU(1,"remove_circle"),s.qZA())}function cfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",50),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(3);return s.KtG(u.addMacroToList(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e.comando," ")}}function ufe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",50),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(3);return s.KtG(u.addMacroToListUpdate(a,o,null))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function dfe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",44)(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"mat-select"),s.YNc(4,ufe,2,2,"mat-option",47),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando),s.xp6(2),s.Q6J("ngForOf",e.settings)}}function hfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",51),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(3);return s.KtG(a.addMacroToListUpdate(o,"",r))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function Afe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",17),s._UZ(1,"div",7),s.TgZ(2,"div",42)(3,"button",40),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(3);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(4,lfe,2,0,"mat-icon",43),s.qZA()(),s.TgZ(5,"mat-form-field",44)(6,"mat-label",45),s._uU(7,"Macro"),s.qZA(),s.TgZ(8,"mat-select",46),s.YNc(9,cfe,2,2,"mat-option",47),s.qZA()(),s.YNc(10,dfe,5,2,"mat-form-field",48),s.YNc(11,hfe,4,1,"mat-form-field",3),s.TgZ(12,"div",7),s._UZ(13,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf",e&&(null==e?null:e.settings).length>0),s.xp6(1),s.Q6J("ngIf",e&&"text"==(null==e?null:e.type))}}function ffe(n,t){1&n&&(s.TgZ(0,"mat-icon",52),s._uU(1,"add_circle"),s.qZA())}function pfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",38),s.YNc(1,Afe,14,6,"div",39),s.TgZ(2,"button",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addMacro())}),s.YNc(3,ffe,2,0,"mat-icon",41),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.insertMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function gfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",53),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.saveMacro())}),s._uU(1,"Salva"),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.disabledButton())}}function mfe(n,t){if(1&n&&(s.TgZ(0,"div",17)(1,"mat-form-field")(2,"mat-label"),s._uU(3,"Autore"),s.qZA(),s._UZ(4,"input",28),s.qZA(),s.TgZ(5,"mat-form-field")(6,"mat-label"),s._uU(7,"Titolo"),s.qZA(),s._UZ(8,"input",29),s.qZA(),s.TgZ(9,"mat-form-field")(10,"mat-label"),s._uU(11,"Delay MacroUO"),s.qZA(),s._UZ(12,"input",30),s.qZA(),s._UZ(13,"textarea",31),s.TgZ(14,"mat-form-field",22)(15,"mat-label"),s._uU(16,"Tipologia"),s.qZA(),s.TgZ(17,"mat-select",32),s.YNc(18,ofe,2,3,"mat-option",33),s.qZA()(),s.YNc(19,afe,2,0,"b",34),s.YNc(20,pfe,4,2,"div",6),s._UZ(21,"div",7),s.YNc(22,gfe,2,1,"button",35),s.qZA()),2&n){const e=s.oxw();s.xp6(4),s.Q6J("readonly",!0)("formControl",e.macroFullForm.controls.author)("ngModel",e.macroFull.macro.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.titolo)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.delay)("readonly",!e.edit&&e.detail),s.xp6(1),s.Q6J("formControl",e.macroFullForm.controls.descrizione)("readonly",!e.edit&&e.detail),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert&&!e.multiInsert),s.xp6(1),s.Q6J("ngIf",!e.edit&&!e.detail&&e.insert),s.xp6(2),s.Q6J("ngIf",!e.detail&&!e.edit)}}function _fe(n,t){1&n&&(s.TgZ(0,"b",54),s._uU(1,"Modifica la tua macro"),s.qZA())}function yfe(n,t){1&n&&(s.TgZ(0,"mat-icon",49),s._uU(1,"remove_circle"),s.qZA())}function vfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",56),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw().index,u=s.oxw(2);return s.KtG(u.editSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e.comando," ")}}function wfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",56),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2).index,u=s.oxw(2);return s.KtG(u.editSubSettings(o,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("value",e)("disabled",i.detail),s.xp6(1),s.hij(" ",e," ")}}function bfe(n,t){if(1&n&&(s.TgZ(0,"mat-form-field",44)(1,"mat-label",45),s._uU(2),s.qZA(),s.TgZ(3,"mat-select",46),s.YNc(4,wfe,2,3,"mat-option",55),s.qZA()()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("compareWith",i.compareSottoSettings)("ngModel",e.function),s.xp6(1),s.Q6J("ngForOf",e.settings)}}function Cfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field")(1,"mat-label"),s._uU(2),s.qZA(),s.TgZ(3,"input",57),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw().index,a=s.oxw(2);return s.KtG(a.editSubSettings(r.target,o))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(e.comando),s.xp6(1),s.Q6J("ngModel",e.function)("readonly",i.detail)}}function xfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",17)(1,"div",42)(2,"button",40),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw(2);return s.KtG(a.eliminaMacroEdit(o))}),s.YNc(3,yfe,2,0,"mat-icon",43),s.qZA()(),s.TgZ(4,"mat-form-field",44)(5,"mat-label",45),s._uU(6,"Macro"),s.qZA(),s.TgZ(7,"mat-select",46),s.YNc(8,vfe,2,3,"mat-option",55),s.qZA()(),s.YNc(9,bfe,5,4,"mat-form-field",48),s.YNc(10,Cfe,4,3,"mat-form-field",3),s.TgZ(11,"div",7),s._UZ(12,"hr"),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(3),s.Q6J("ngIf",!i.detail),s.xp6(4),s.Q6J("compareWith",i.compareSettings)("ngModel",e),s.xp6(1),s.Q6J("ngForOf",i.macroSettings),s.xp6(1),s.Q6J("ngIf","command"==e.type&&e.settings.length>0),s.xp6(1),s.Q6J("ngIf","text"==e.type&&0==e.settings.length)}}function Efe(n,t){1&n&&(s.TgZ(0,"mat-icon",52),s._uU(1,"add_circle"),s.qZA())}function Sfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",38),s.YNc(1,xfe,13,6,"div",39),s.TgZ(2,"button",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addMacro())}),s.YNc(3,Efe,2,0,"mat-icon",41),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings),s.xp6(2),s.Q6J("ngIf",!e.detail)}}function Ife(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.saveMacro())}),s._uU(1,"Modifica"),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabeldEditButton())}}function Dfe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij("",e.comando,":"),s.xp6(1),s.hij(" ",e.function,"")}}function Tfe(n,t){if(1&n&&(s.TgZ(0,"li")(1,"b"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.comando)}}function Bfe(n,t){if(1&n&&(s.TgZ(0,"ul"),s.YNc(1,Dfe,4,2,"li",3),s.YNc(2,Tfe,3,1,"li",3),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",""!=e.function),s.xp6(1),s.Q6J("ngIf",""==e.function)}}function Ffe(n,t){if(1&n&&(s.TgZ(0,"div",25),s.YNc(1,Bfe,3,2,"ul",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.detailMacroSettings)}}const Mfe=function(n){return{"border-color":n}},kfe=function(n){return{"cont panel":n}};let Oq=(()=>{class n{constructor(e,i,r,o,a){this.utils=e,this.service=i,this.data=r,this.userService=o,this.dialog=a,this.editMacro=new s.vpe,this.multiInsert=!1,this.detail=!1,this.insert=!1,this.isUpdateable=!1,this.edit=!1,this.username="",this.macroFull=new gP,this.tipologieMacro=new Array,this.macroSettings=new Array,this.insertMacroSettings=new Array,this.detailMacroSettings=new Array,this.utenteLoggato="",this.macroFullForm=new G0({author:new Os(""),titolo:new Os(""),tipologia:new Os(""),settings:new Os(""),descrizione:new Os(""),delay:new Os("0",wr.minLength(0))}),r&&(-1!=r.id&&(this.detail=!0),1==r.insert&&(this.insert=r.insert))}ngOnInit(){this.inizializza()}ngOnChanges(e){this.macroMultiInsert&&this.setMultiInsert()}setMultiInsert(){var e,i,r,o,a,u;this.multiInsert=!0,null===(e=this.macroFullForm.get("titolo"))||void 0===e||e.setValue(this.macroMultiInsert.macro.macro.title),null===(i=this.macroFullForm.get("descrizione"))||void 0===i||i.setValue(this.macroMultiInsert.macro.descrizione),null===(r=this.macroFullForm.get("delay"))||void 0===r||r.setValue(this.macroMultiInsert.macro.macro.delay.toString()),""==(null===(o=this.macroFullForm.get("tipologia"))||void 0===o?void 0:o.value)&&(null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue("")),this.edit=1==(null===(u=this.macroMultiInsert)||void 0===u?void 0:u.checked)}editMultiInsert(e=null){var i,r;const o=null===(i=this.macroFullForm.get("descrizione"))||void 0===i?void 0:i.value;o&&(this.macroMultiInsert.macro.descrizione=o);const a=null===(r=this.macroFullForm.get("titolo"))||void 0===r?void 0:r.value;null!=a&&(this.macroMultiInsert.macro.macro.title=a),e&&null!=e.target.value&&(this.macroMultiInsert.macro.macro.delay=Number(e.target.value)),this.editMacro.emit(this.macroMultiInsert)}inizializza(){this.tipologieMacro=this.service.GetTipologieMacro(),this.macroMultiInsert||(this.getMacroSettings(),this.getMacro(),this.insert&&this.checkUser())}getMacro(){const e=this.service.getMacro(this.data.id).subscribe(i=>{var r;if(null!==(r=i[0])&&void 0!==r&&r.macro.author){e.unsubscribe();const o=this.service.getMacroSettingsUser(this.data.id).subscribe(a=>{a.length>0&&(this.checkUser(),this.setAllValue(i[0],a),o.unsubscribe())})}})}setAllValue(e,i){var r,o,a,u;this.macroFull.macro.author=e.macro.author,this.macroFull.macro.date=e.macro.date,this.macroFull.macro.like=e.macro.like,this.macroFull.macro.guid=e.macro.guid,this.macroFull.macro.utenti=e.macro.utenti,null===(r=this.macroFullForm.get("titolo"))||void 0===r||r.setValue(e.macro.title),null===(o=this.macroFullForm.get("descrizione"))||void 0===o||o.setValue(e.descrizione),null===(a=this.macroFullForm.get("tipologia"))||void 0===a||a.setValue(e.tipologia),null===(u=this.macroFullForm.get("delay"))||void 0===u||u.setValue(e.macro.delay.toString()),this.detailMacroSettings=i.sort(function(h,f){return h.index>f.index?1:-1})}compareSettings(e,i){return e.comando===i.comando}compareSottoSettings(e,i){return e==i}getSubSettings(e){return document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),this.macroSettings.filter(i=>i.comando==e)[0].settings}checkUser(){var e;const i=null===(e=localStorage.getItem("user"))||void 0===e?void 0:e.toString();if(i){const r=this.userService.checkUserMd5(i).subscribe(o=>{o.length>0&&(this.utenteLoggato=o[0].nomePg,this.utenteLoggato===this.macroFull.macro.author&&(this.isUpdateable=!0),this.insert&&null!=this.utenteLoggato&&(this.macroFull.macro.author=this.utenteLoggato)),r.unsubscribe()})}else this.insert&&(this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login"),setTimeout(()=>{this.dialog.open(Dq).afterClosed().subscribe(o=>{o&&this.checkUser()})},500))}getMacroSettings(){this.service.getMacroSettings().subscribe(e=>this.macroSettings=e)}addMacro(){this.insert&&this.insertMacroSettings.push(new vx),this.edit&&this.detailMacroSettings.push(new vx),document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}eliminaMacroEdit(e){e>-1&&this.edit&&this.detailMacroSettings.splice(e,1),e>-1&&this.insert&&this.insertMacroSettings.splice(e,1)}editSettings(e,i){var r;null==(null===(r=this.detailMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.detailMacroSettings[i]=new vx),this.detailMacroSettings[i].comando=e.comando,this.detailMacroSettings[i].type=e.type,this.detailMacroSettings[i].settings=e.settings,this.detailMacroSettings[i].function=""}editSubSettings(e,i){this.detailMacroSettings[i].function="string"==typeof e?e:e.value,document.getElementById("targetRed").scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}addMacroToList(e,i){var r;null==(null===(r=this.insertMacroSettings[i])||void 0===r?void 0:r.comando)&&(this.insertMacroSettings[i]=new vx),this.insertMacroSettings[i].comando=e.comando,this.insertMacroSettings[i].settings=e.settings,this.insertMacroSettings[i].type=e.type}addMacroToListUpdate(e,i="",r){""!=i&&(this.insertMacroSettings[e].function=i),r&&(this.insertMacroSettings[e].function=r.target.value)}disabledButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.insertMacroSettings[0]||""==(null===(e=this.insertMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}disabeldEditButton(){var e,i,r,o;return""==this.macroFull.macro.author||null==this.detailMacroSettings[0]||""==(null===(e=this.detailMacroSettings[0])||void 0===e?void 0:e.comando)||""==(null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value)||""==(null===(r=this.macroFullForm.get("tipologia"))||void 0===r?void 0:r.value)||""==(null===(o=this.macroFullForm.get("titolo"))||void 0===o?void 0:o.value)}saveMacro(){var e,i;if(!this.disabledButton()||this.edit&&!this.disabeldEditButton()){let r=new mV;r.macro.author=this.macroFull.macro.author;const o=this.macroFullForm.get("titolo").value;o&&(r.macro.title=o);const a=this.macroFullForm.get("descrizione").value;a&&(r.descrizione=a);const u=null===(e=this.macroFullForm.get("tipologia"))||void 0===e?void 0:e.value;u&&(r.macro.tipologia=u);const h=null===(i=this.macroFullForm.get("delay"))||void 0===i?void 0:i.value;h&&(r.macro.delay=Number(h)),this.insert&&(r.settings=this.orderMacro(this.insertMacroSettings),r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),this.service.addMacros(r)),this.edit&&(r.settings=this.orderMacro(this.detailMacroSettings),r.macro.date=this.macroFull.macro.date,r.macro.like=this.macroFull.macro.like,r.macro.guid=this.macroFull.macro.guid,this.service.updateMacro(r)),this.dialog.closeAll()}}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}deleteMacro(){confirm("Sei sicuro di voler cancellare la macro?")&&(this.service.deleteMacro(this.macroFull.macro.guid),this.dialog.closeAll())}checkThumb(){return this.detail&&!this.macroFull.macro.utenti.includes(this.utenteLoggato)&&""!=this.utenteLoggato}checkIfVote(){return this.macroFull.macro.utenti.includes(this.utenteLoggato)}likeIt(){const e=this.service.addLikeMacro(this.macroFull.macro.guid,this.utenteLoggato).subscribe(i=>{i&&(this.getMacro(),e.unsubscribe())})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Df),s.Y36(FM),s.Y36(Hy),s.Y36(IA),s.Y36(Vy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-insert-edit"]],inputs:{macroMultiInsert:"macroMultiInsert"},outputs:{editMacro:"editMacro"},features:[s.TTD],decls:14,vars:15,consts:[["fxLayout","column","fxLayoutAlign","space-around stretch"],[1,"cont",3,"ngStyle","ngClass"],["class","edit",4,"ngIf"],[4,"ngIf"],["fxLayout","column",4,"ngIf"],["style","width:100%;text-align: center; ",4,"ngIf"],["class","customTextArea",4,"ngIf"],[2,"padding-top","2vh"],["mat-raised-button","","color","accent","style","width:100%",3,"disabled","click",4,"ngIf"],["class","customTextArea","style","text-align: left;",4,"ngIf"],["id","targetRed",2,"padding-top","1vh","width","100%"],[1,"edit"],["mat-mini-fab","","matTooltip","Elimina","color","warn",2,"margin-right","1vw",3,"click"],["mat-mini-fab","","matTooltip","Modifica",3,"click",4,"ngIf"],["mat-mini-fab","","matTooltip","Modifica",3,"click"],["mat-mini-fab","","matTooltip","Mi piace","color","primary",3,"click"],["mat-mini-fab","","matTooltip","Non mi piace",2,"background-color","grey",3,"click"],["fxLayout","column"],["matInput","",3,"readonly","ngModel","ngModelChange"],["matInput","",3,"formControl","readonly","keyup"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly","change"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly","keyup"],["appearance","fill",2,"padding-top","2vh"],[3,"ngModel","ngModelChange"],[3,"value","disabled","click",4,"ngFor","ngForOf"],[1,"customTextArea",2,"text-align","left"],[4,"ngFor","ngForOf"],[3,"value","disabled","click"],["matInput","",3,"readonly","formControl","ngModel"],["matInput","",3,"formControl","readonly"],["matInput","","type","number","minlength","0","min","0",3,"formControl","readonly"],["appTextareaAutosize","","placeholder","Descrizione...",1,"text-inputSmart",3,"formControl","readonly"],[3,"formControl"],[3,"value","disabled",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value","disabled"],[2,"text-align","center"],[1,"customTextArea"],["fxLayout","column",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro","class","Custom",4,"ngIf"],[1,"delete"],["matTooltip","Elimina Macro",4,"ngIf"],["appearance","fill"],[1,"label"],[3,"compareWith","ngModel"],["fxFlex","",3,"value","click",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["matTooltip","Elimina Macro"],["fxFlex","",3,"value","click"],["matInput","","type","text",3,"keyup"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["mat-raised-button","","color","primary",3,"disabled","click"],[2,"width","100%","text-align","center"],["fxFlex","",3,"value","disabled","click",4,"ngFor","ngForOf"],["fxFlex","",3,"value","disabled","click"],["matInput","","type","text",3,"ngModel","readonly","keyup"],["mat-raised-button","","color","accent",2,"width","100%",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-card",1),s.YNc(2,WAe,5,1,"div",2),s.YNc(3,JAe,4,0,"div",2),s.YNc(4,XAe,4,0,"div",2),s.TgZ(5,"mat-card-content"),s.YNc(6,sfe,23,12,"div",3),s.YNc(7,mfe,23,14,"div",4),s.YNc(8,_fe,2,0,"b",5),s.YNc(9,Sfe,4,2,"div",6),s._UZ(10,"div",7),s.YNc(11,Ife,2,1,"button",8),s.YNc(12,Ffe,2,1,"div",9),s.qZA()()(),s._UZ(13,"div",10)),2&e&&(s.xp6(1),s.Q6J("ngStyle",s.VKq(11,Mfe,i.macroMultiInsert&&!i.macroMultiInsert.checked?"grey":""))("ngClass",s.VKq(13,kfe,i.multiInsert)),s.xp6(1),s.Q6J("ngIf",i.isUpdateable&&i.detail),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkThumb()),s.xp6(1),s.Q6J("ngIf",!i.isUpdateable&&i.detail&&i.checkIfVote()),s.xp6(2),s.Q6J("ngIf",i.multiInsert),s.xp6(1),s.Q6J("ngIf",!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.edit&&!i.detail&&!i.insert),s.xp6(2),s.Q6J("ngIf",i.edit&&!i.multiInsert),s.xp6(1),s.Q6J("ngIf",i.detail&&!i.edit&&!i.insert&&!i.multiInsert))},dependencies:[vs,ns,Ei,Zo,rg,xD,i_,c3,l3,ED,Of,Sd,su,_h,Ul,wR,bR,AC,j0,iR,q0,z0,mC,T0,K0,ig,gD],styles:[".cont[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:5px}.panel[_ngcontent-%COMP%]{height:45vh;overflow-y:auto}.text-inputSmart[_ngcontent-%COMP%]{resize:none;height:80px}.customTextArea[_ngcontent-%COMP%]{border:1px solid black;width:100%;text-align:center}.Custom[_ngcontent-%COMP%]{color:#004a9f}.miniSelect[_ngcontent-%COMP%]{width:10px}hr[_ngcontent-%COMP%]{border:2px solid #004a9f}.edit[_ngcontent-%COMP%]{text-align:right;width:100%;height:5vh}.delete[_ngcontent-%COMP%]{text-align:right;width:100%;color:red}"]}),n})(),Rfe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.userService=i,this.service=r,this.dialog=o,this.macros=new Array,this.macro=new _V,this.index=0,this.checkAll=!0,null!=e.macros&&(this.macros=e.macros)}ngOnInit(){this.macro=this.macros[0],this.checkUser()}changeScheda(e){"right"==e&&this.index<this.macros.length-1?this.index++:"left"==e&&this.index>0&&this.index--,this.macro=this.macros[this.index]}resetMacro(){this.macro.checked||(this.macro.macro.tipologia=""),this.checkAllMacro(),this.checkedMacros()}checkUser(){var e;const i=null===(e=localStorage.getItem("user"))||void 0===e?void 0:e.toString();if(i){const r=this.userService.checkUserMd5(i).subscribe(o=>{o.length>0&&(this.macros.forEach(a=>a.macro.macro.author=o[0].nomePg),r?.unsubscribe()),r.unsubscribe()})}}setMacro(e){this.macro=e,this.checkAllMacro()}saveAll(){this.checkAllMacro()||this.macros.filter(i=>1==i.checked).forEach(i=>{let r=new mV;r.descrizione=i.macro.descrizione,r.macro.author=i.macro.macro.author,r.macro.delay=i.macro.macro.delay,r.macro.tipologia=i.macro.tipologia,r.macro.title=i.macro.macro.title,r.macro.date=new Date,r.macro.like=0,r.macro.guid=crypto.randomUUID(),r.settings=this.orderMacro(i.settings),this.service.addMacros(r)}),this.dialog.closeAll()}orderMacro(e){for(let i=0;i<e.length;i++)e[i].index=i;return e}checkAllMacro(){let e=!1,i=!1;return this.macros.forEach(r=>{r.checked&&(e=""==r.macro.macro.author||null==r.settings[0]||r.macro.macro.delay<0||""==r.macro.tipologia||0==r.macro.macro.title.length,e&&(i=e))}),0==this.macros.filter(r=>1==r.checked).length&&(i=!0),i}checkedMacros(){return this.macros.filter(e=>1==e.checked).length==this.macros.length?(this.checkAll=!0,"primary"):0!==this.macros.filter(e=>1==e.checked).length?(this.checkAll=!0,"accent"):0==this.macros.filter(e=>1==e.checked).length?"warn":null}setAllChecked(e){e?(this.checkAll=!0,this.macros.forEach(i=>i.checked=!0)):(this.checkAll=!1,this.macros.forEach(i=>i.checked=!1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hy),s.Y36(IA),s.Y36(FM),s.Y36(Vy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-multi-insert"]],decls:27,vars:8,consts:[[3,"color","ngModel","ngModelChange","change"],["fxLayout","row","fxLayoutAlign","space-around center",1,"skipScheda"],["color","primary",3,"ngModel","ngModelChange","change"],["fxFlex",""],["mat-icon-button","",3,"click"],[2,"color","black"],[1,"panel",3,"multiInsert","macroMultiInsert","editMacro"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"section")(1,"mat-checkbox",0),s.NdJ("ngModelChange",function(o){return i.checkAll=o})("change",function(o){return i.setAllChecked(o.checked)}),s.TgZ(2,"b"),s._uU(3,"Seleziona tutto"),s.qZA()()(),s.TgZ(4,"div",1)(5,"section")(6,"mat-checkbox",2),s.NdJ("ngModelChange",function(o){return i.macro.checked=o})("change",function(){return i.resetMacro()}),s.TgZ(7,"b"),s._uU(8,"Inserisci Macro"),s.qZA()()(),s.TgZ(9,"div",3)(10,"button",4),s.NdJ("click",function(){return i.changeScheda("left")}),s.TgZ(11,"mat-icon"),s._uU(12,"keyboard_arrow_left"),s.qZA()(),s.TgZ(13,"b",5),s._uU(14),s.qZA(),s.TgZ(15,"button",4),s.NdJ("click",function(){return i.changeScheda("right")}),s.TgZ(16,"mat-icon"),s._uU(17,"keyboard_arrow_right"),s.qZA()()()(),s.TgZ(18,"app-macro-insert-edit",6),s.NdJ("editMacro",function(o){return i.setMacro(o)}),s.qZA(),s.TgZ(19,"div",7)(20,"h6"),s._uU(21,'*Per salvare le macro selezionate ricorda di valorizzare il campo "tipologia" '),s._UZ(22,"br"),s._uU(23,"\n*Per rendere la tua macro facilmente ricercabile dalle un titolo semplice, esplicativo e breve"),s.qZA(),s.TgZ(24,"div")(25,"button",8),s.NdJ("click",function(){return i.saveAll()}),s._uU(26,"Salva"),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("color",i.checkedMacros())("ngModel",i.checkAll),s.xp6(5),s.Q6J("ngModel",i.macro.checked),s.xp6(8),s.AsE("",i.index+1,"/",i.macros.length,""),s.xp6(4),s.Q6J("multiInsert",!0)("macroMultiInsert",i.macro),s.xp6(7),s.Q6J("disabled",i.checkAllMacro()))},dependencies:[i_,Of,Sd,su,_h,Ul,j0,DD,Oq],styles:[".skipScheda[_ngcontent-%COMP%]{width:100%;text-align:right;color:#004a9f}"]}),n})();function Ofe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function Lfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function Nfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function Pfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function Ufe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function Qfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function Hfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function Vfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35),s._uU(1," Like "),s.qZA())}function Gfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function jfe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipologia "),s.qZA())}function zfe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function qfe(n,t){1&n&&s._UZ(0,"mat-header-cell")}function Kfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()()}}function Zfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw(2);return s.KtG(o.likeIt(r.guid))}),s.TgZ(1,"mat-icon",42),s._uU(2,"thumb_up"),s.qZA()()}}function $fe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s.YNc(1,Kfe,3,0,"button",37),s.YNc(2,Zfe,3,0,"button",38),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.checkThumb(e)),s.xp6(1),s.Q6J("ngIf",i.checkIfVote(e))}}function Yfe(n,t){1&n&&s._UZ(0,"mat-header-row")}function Wfe(n,t){1&n&&s._UZ(0,"mat-header-row")}const Lq=function(){return[5,10]};function Jfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Titolo"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,Ofe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,Lfe,2,0,"mat-header-cell",11),s.YNc(19,Nfe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,Pfe,2,0,"mat-header-cell",14),s.YNc(22,Ufe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,Qfe,2,0,"mat-header-cell",16),s.YNc(25,Hfe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,Vfe,2,0,"mat-header-cell",18),s.YNc(28,Gfe,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,jfe,2,0,"mat-header-cell",20),s.YNc(31,zfe,2,1,"mat-cell",12),s.BQk(),s.ynx(32,21),s.YNc(33,qfe,1,0,"mat-header-cell",11),s.YNc(34,$fe,3,2,"mat-cell",12),s.BQk(),s.YNc(35,Yfe,1,0,"mat-header-row",22),s.YNc(36,Wfe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(37,"mat-toolbar",24)(38,"mat-toolbar-row")(39,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(40,"mat-icon",26),s._uU(41,"add_circle"),s.qZA()(),s.TgZ(42,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.fileInput())}),s.TgZ(43,"mat-icon",27),s._uU(44,"add_to_photos"),s.qZA()(),s.TgZ(45,"input",28),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.openMultiInsert(r))}),s.qZA(),s.TgZ(46,"div",29),s._UZ(47,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(19),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns),s.xp6(11),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}function Xfe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.applyFilter(o,"tipologia"))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.hij(" ",e," ")}}function epe(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Data "),s.qZA())}function tpe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.date,"dd.MM.y")," ")}}function npe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",32),s._uU(1," Autore "),s.qZA())}function ipe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.author," ")}}function rpe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",33),s._uU(1," Titolo "),s.qZA())}function spe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"div",34),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.detailMacro(o.guid))}),s._uU(2),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.title)}}function ope(n,t){1&n&&(s.TgZ(0,"mat-header-cell",35)(1,"mat-icon",40),s._uU(2,"thumb_up"),s.qZA()())}function ape(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.like," ")}}function lpe(n,t){1&n&&(s.TgZ(0,"mat-header-cell",36),s._uU(1,"Tipo "),s.qZA())}function cpe(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.tipologia," ")}}function upe(n,t){1&n&&s._UZ(0,"mat-header-row")}function dpe(n,t){1&n&&s._UZ(0,"mat-header-row")}function hpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",43)(2,"div",3)(3,"mat-form-field",4)(4,"mat-label"),s._uU(5,"Autore"),s.qZA(),s.TgZ(6,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"author"))}),s.qZA()(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Macro"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("keyup",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.applyFilter(r.target,"macro"))}),s.qZA()(),s.TgZ(11,"mat-form-field",6)(12,"mat-label"),s._uU(13,"Tipologia"),s.qZA(),s.TgZ(14,"mat-select",7),s.YNc(15,Xfe,2,2,"mat-option",8),s.qZA()()(),s.TgZ(16,"mat-table",9),s.NdJ("matSortChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.sortData(r))}),s.ynx(17,10),s.YNc(18,epe,2,0,"mat-header-cell",11),s.YNc(19,tpe,3,4,"mat-cell",12),s.BQk(),s.ynx(20,13),s.YNc(21,npe,2,0,"mat-header-cell",14),s.YNc(22,ipe,2,1,"mat-cell",12),s.BQk(),s.ynx(23,15),s.YNc(24,rpe,2,0,"mat-header-cell",16),s.YNc(25,spe,3,1,"mat-cell",12),s.BQk(),s.ynx(26,17),s.YNc(27,ope,3,0,"mat-header-cell",18),s.YNc(28,ape,2,1,"mat-cell",12),s.BQk(),s.ynx(29,19),s.YNc(30,lpe,2,0,"mat-header-cell",20),s.YNc(31,cpe,2,1,"mat-cell",12),s.BQk(),s.YNc(32,upe,1,0,"mat-header-row",22),s.YNc(33,dpe,1,0,"mat-header-row",23),s.qZA(),s.TgZ(34,"mat-toolbar",24)(35,"mat-toolbar-row")(36,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.insertMacro())}),s.TgZ(37,"mat-icon",26),s._uU(38,"add_circle"),s.qZA()(),s.TgZ(39,"div",29),s._UZ(40,"mat-paginator",30),s.qZA()()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("formControl",e.macroFullForm.controls.author),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.macro),s.xp6(4),s.Q6J("formControl",e.macroFullForm.controls.tipologia),s.xp6(1),s.Q6J("ngForOf",e.tipologieMacro),s.xp6(1),s.Q6J("dataSource",e.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",e.getDisplayedColumns()),s.xp6(1),s.Q6J("matRowDefColumns",e.getDisplayedColumns()),s.xp6(7),s.Q6J("pageSizeOptions",s.DdM(8,Lq))}}let Ape=(()=>{class n{constructor(e,i,r,o){this.utils=e,this.service=i,this.dialog=r,this.userService=o,this.macroFullForm=new G0({author:new Os(""),macro:new Os(""),tipologia:new Os("")}),this.user="",this.filtroData="",this.displayedColumns=["autore","data","like","tipologia","title","likeIt"],this.dataSource=new pq,this.sortedData=new Array,this.tipologieMacro=new Array,this.sortedData=this.dataSource.data.slice()}ngOnInit(){var e;this.tipologieMacro=this.service.GetTipologieMacro().slice(),this.getMacros(),this.tipologieMacro.push("Tutte"),null===(e=this.macroFullForm.get("tipologia"))||void 0===e||e.setValue("Tutte"),this.checkUser()}getMacros(){this.service.getMacros().subscribe(e=>{this.dataSource=new pq(e),this.sortedData=this.dataSource.data.slice()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e,i){if("tipologia"!=i){let r=e.value.trim().toLowerCase();this.dataSource.filter=r}else this.dataSource.data="Tutte"!=e?this.sortedData.filter(r=>r.tipologia.includes(e)):this.sortedData}sortData(e){const i=this.dataSource.data.slice();e.active&&""!==e.direction?(this.sortedData=i.sort((r,o)=>{const a="asc"===e.direction;switch(e.active){case"author":return this.compare(r.author,o.author,a);case"like":return this.compare(r.like,o.like,a);case"title":return this.compare(r.title,o.title,a);case"tiplogia":return this.compare(r.tipologia,o.tipologia,a);default:return 0}}),this.dataSource.data=this.sortedData):this.sortedData=i}compare(e,i,r){return(e<i?-1:1)*(r?1:-1)}getDisplayedColumns(){return this.displayedColumns=["autore","tipologia","title","like"]}detailMacro(e){this.dialogInsertEdit(e,!1)}insertMacro(){this.dialogInsertEdit(-1,!0).afterClosed().subscribe(i=>{this.getMacros()})}dialogInsertEdit(e=-1,i=!1){return this.dialog.open(Oq,{data:{id:e,insert:i},width:this.utils.isSmartphone()?"100vw":"50vw",height:this.utils.isSmartphone()?"90vh":"70vh"})}checkUser(){var e;const i=null===(e=localStorage.getItem("user"))||void 0===e?void 0:e.toString();if(i){const r=this.userService.checkUserMd5(i).subscribe(o=>{o.length>0&&(this.user=o[0].nomePg,r?.unsubscribe())})}}checkThumb(e){return""!=this.user&&this.user!=e.author&&!e.utenti.includes(this.user)}checkIfVote(e){return e.utenti.includes(this.user)}likeIt(e){this.service.addLikeMacro(e,this.user)}fileInput(){var e;if(""==this.user||null==this.user)return this.userService.openSnackBar("registrazioneFallita","bottom","center","Effettua prima la login"),void setTimeout(()=>{this.dialog.open(Dq).afterClosed().subscribe(r=>{var o;r&&(null===(o=document.getElementById("fileInput"))||void 0===o||o.click())})},500);null===(e=document.getElementById("fileInput"))||void 0===e||e.click()}openMultiInsert(e){var i=this;return(0,It.Z)(function*(){var r=e.target.files[0];if("macros.xml"!=r.name)return void alert("Inserisci il file macros.xml! (The Miracle/Data/Profiles/nomeAccount/The Miracle 3/nomePg/macros.xml)");const a=i.utils.getAllMacrosByXml(yield r.text()).subscribe(u=>{u.length>0?(i.dialog.open(Rfe,{data:{macros:u},width:i.utils.isSmartphone()?"100vw":"45vw",height:i.utils.isSmartphone()?"90vh":"74vh"}),a.unsubscribe()):alert("Nessuna macro presente nel file macros.xml!")});e.target.value=null})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Df),s.Y36(FM),s.Y36(Vy),s.Y36(IA))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro-list"]],viewQuery:function(e,i){if(1&e&&(s.Gf(h3,5),s.Gf(A3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.paginator=r.first),s.iGM(r=s.CRH())&&(i.sort=r.first)}},decls:2,vars:2,consts:[["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","70",2,"padding-top","3vh"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"input"],["fxFlex","30"],["matInput","",3,"formControl","keyup"],["appearance","fill","fxFlex","30"],[3,"formControl"],[3,"value","click",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","column","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","data"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","autore"],["mat-sort-header","author","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","title"],["mat-sort-header","title","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","like"],["mat-sort-header","like","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","tipologia"],["mat-sort-header","tipologia","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","likeIt"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[2,"background-color","white"],["mat-icon-button","",3,"click"],["matTooltip","Aggiungi una nuova macro",1,"Custom"],["matTooltip","Importa file macros.xml",1,"Custom"],["type","file","hidden","","type","file","id","fileInput","accept",".xml",3,"change"],[2,"width","100%","padding","0"],["showFirstLastButtons","",1,"paginator",3,"pageSizeOptions"],[3,"value","click"],["mat-sort-header","author","mat-header-cell",""],["mat-sort-header","title","mat-header-cell",""],[1,"macro",3,"click"],["mat-sort-header","like","mat-header-cell",""],["mat-sort-header","tipologia","mat-header-cell",""],["mat-button","","matTooltip","Mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Non mi piace",3,"click",4,"ngIf"],["mat-button","","matTooltip","Mi piace",3,"click"],[1,"Custom"],["mat-button","","matTooltip","Non mi piace",3,"click"],[2,"color","grey"],["fxFlex","","fxLayout","column","fxLayoutAlign","space-around stretch","fxFlex","100",2,"padding-top","3vh"]],template:function(e,i){1&e&&(s.YNc(0,Jfe,48,9,"div",0),s.YNc(1,hpe,41,9,"div",0)),2&e&&(s.Q6J("ngIf",!i.utils.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.utils.isSmartphone()))},dependencies:[ns,Ei,rg,i_,ED,Rk,k4,Of,Sd,su,_h,Ul,AC,q0,z0,mC,T0,K0,h3,A3,ohe,dq,E3,hq,S3,x3,Aq,I3,D3,fq,PA],styles:[".macro[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;cursor:pointer;font-weight:700;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.macro[_ngcontent-%COMP%]:hover{color:#004a9f;font-weight:700}.Custom[_ngcontent-%COMP%]{color:#004a9f}mat-header-cell[_ngcontent-%COMP%]{color:#004a9f;font-weight:700}"]}),n})(),fpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-macro"]],decls:2,vars:0,consts:[["fxFlex",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-macro-list",0),s.qZA())},dependencies:[Ul,Ape]}),n})();const ppe=["primaryValueBar"],gpe=Oy(class{constructor(n){this._elementRef=n}},"primary"),mpe=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function _pe(){const n=(0,s.f3M)(Oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ype=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let vpe=0,Nq=(()=>{class n extends gpe{constructor(e,i,r,o,a,u){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=u,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._animationEndSubscription=Co.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+vpe++;const h=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${h}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,a&&(a.color&&(this.color=this.defaultColor=a.color),this.mode=a.mode||this.mode)}get value(){return this._value}set value(e){this._value=Pq(Ic(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=Pq(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=I0(e,"transitionend").pipe(yi(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(mpe,8),s.Y36(ype,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&s.Gf(ppe,5),2&e){let r;s.iGM(r=s.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),s.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),s._UZ(4,"circle",3),s.qZA()(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),s.qZA()),2&e&&(s.xp6(3),s.Q6J("id",i.progressbarId),s.xp6(2),s.uIk("fill",i._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",i._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Zo],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function Pq(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let wpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yo,hr,hr]}),n})();function bpe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," collections_bookmark "),s.qZA())}function Cpe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," music_note "),s.qZA())}function xpe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," receipt_long "),s.qZA())}function Epe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," school "),s.qZA())}function Spe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," auto_fix "),s.qZA())}function Ipe(n,t){1&n&&(s.TgZ(0,"span",18),s._uU(1," swords "),s.qZA())}function Dpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",19),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw().$implicit;return s.KtG(o.value=r)})("keyup",function(){s.CHM(e);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.checkNumber(r))}),s.qZA()}if(2&n){const e=s.oxw().$implicit;s.Q6J("ngModel",e.value)}}function Tpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li")(1,"div",14)(2,"button",15),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.setSkill(o))}),s.YNc(3,bpe,2,0,"span",16),s.YNc(4,Cpe,2,0,"span",16),s.YNc(5,xpe,2,0,"span",16),s.YNc(6,Epe,2,0,"span",16),s.YNc(7,Spe,2,0,"span",16),s.YNc(8,Ipe,2,0,"span",16),s._uU(9),s.qZA(),s.YNc(10,Dpe,1,1,"input",17),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("color",e.isChecked?"primary":"white"),s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(1),s.hij(" ",e.nome," "),s.xp6(1),s.Q6J("ngIf",e.isChecked)}}function Bpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.reset())}),s._uU(1,"Reset "),s.TgZ(2,"mat-icon"),s._uU(3,"undo"),s.qZA()()}}function Fpe(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.salvaSkills())}),s._uU(1,"Salva "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.valueTotale>1200)}}const Mpe=function(n){return{content:n}};let kpe=(()=>{class n{constructor(e,i,r,o){this.service=e,this.utils=i,this.dialogRef=r,this.data=o,this.classe=new R2,this.tipologieSkill=new Array,this.skillDiClasse=new Array,this.combattive=new Array,this.miscellanee=new Array,this.musicali=new Array,this.magiche=new Array,this.lavorative=new Array,this.conoscitive=new Array,this.skillsComplessive=new Array,this.skillForm=new Os(0,[wr.required]),this.arraySkills=new Array,this.valueTotale=0,this.salva=!1,this.skillScelte=new Array,this.isSmartphone=!1,this.skills=new Array,this.expanded=!0,this.classe=o?.classe,this.skills=o?.skills}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),this.reload()}setSkill(e){e.isChecked?(e.isChecked=!1,e.value=0,this.removeSkill(e)):(e.isChecked=!0,e.value=100,this.skillScelte.push(e)),this.resultSkills()}checkNumber(e){let i="cercare minerali"==e.nome.toLowerCase()||"fare legna"==e.nome.toLowerCase()||"pescare"==e.nome.toLowerCase()||"erboristeria"==e.nome.toLowerCase()||"agricoltura"==e.nome.toLowerCase();0==e.idTipologiaSkill&&e.value>200&&!i&&(e.value=200),(e.idTipologiaSkill>0||i)&&e.value>100&&(e.value=100),e.value<0&&(e.value=0),this.updateSkill(e),this.resultSkills()}getStandardSkills(e){let i=O2.ConvertToSkillsChecked(e);return i.forEach(r=>{r.value=100,r.isChecked=!0}),i}setStandardSkills(e,i=-1){return this.skillDiClasse.forEach(r=>{let o=e.findIndex(a=>a.id==r.id);-1!=o&&(-1==i?(e[o].isChecked=!0,e[o].value=100):(e[o].isChecked=!1,e[o].value=0))}),e}setAll(e){e.checked?(this.skillsComplessive=this.setStandardSkills(this.skillsComplessive),this.getSkillsChecked()):this.skillsComplessive=this.setStandardSkills(this.skillsComplessive,1),this.resultSkills()}resultSkills(){this.valueTotale=0,this.valueTotale+=this.skillsComplessive.reduce((e,i)=>e+i.value,0)}reload(){this.service.getClasseSkills(this.classe.nome).subscribe(e=>{this.skillDiClasse=this.getStandardSkills(e),this.service.getAllSkills().subscribe(i=>{this.skillsComplessive=O2.ConvertToSkillsChecked(i),this.reloadSkills()})})}removeSkill(e){this.skillScelte=this.skillScelte.filter(i=>i.id!==e.id)}updateSkill(e){var i=this.skillScelte.findIndex(r=>r.id==e.id);this.skillScelte[i].value=e.value}salvaSkills(){this.getSkillsChecked(),this.dialogRef.close({data:this.skillScelte})}reloadSkills(){this.skills.length>0&&(this.skills.forEach(e=>{var i;let r=this.skillsComplessive.findIndex(o=>o.id==e.id);void 0!==(null===(i=this.skillsComplessive[r])||void 0===i?void 0:i.value)&&(this.skillsComplessive[r].value=e.value,this.skillsComplessive[r].isChecked=e.isChecked)}),this.resultSkills())}getSkillsChecked(){this.skillScelte=new Array,this.skillScelte=this.skillScelte.concat(this.skillsComplessive.filter(e=>e.isChecked&&e.value>0))}reset(){this.skillsComplessive.forEach(e=>{e.value=0,e.isChecked=!1}),this.valueTotale=0,this.skillScelte=new Array}spazioSmartphone(){return{"margin-top":this.utils.isSmartphone()?"150em":"135em"}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uy),s.Y36(Df),s.Y36(Qy),s.Y36(Hy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-skills"]],decls:24,vars:12,consts:[["mat-dialog-title","","fxLayout","column","fxLayoutAlign","space-around"],[2,"margin-top","0.5em"],["mode","determinate",3,"color","value"],["fxFlex","","fxlayout","column",2,"margin-top","0.5em"],["fxFlex","","fxlayout","column",1,"example-section"],["color","primary",1,"example-margin",2,"margin-left","12px",3,"change"],["fxLayout","column","fxLayoutAlign","space-around",3,"ngClass"],["fxFlex","","fxLayout","column",1,"home",3,"ngStyle"],["fxLayout","column",1,"skills"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["fxFlex",""],["mat-raised-button","","fxFlex","",1,"skill",3,"color","click"],["class","material-symbols-outlined",4,"ngIf"],["class","value","matInput","","type","number","fxFlex","30","placeholder","Valore skill",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"material-symbols-outlined"],["matInput","","type","number","fxFlex","30","placeholder","Valore skill",1,"value",3,"ngModel","ngModelChange","keyup"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"div",0)(2,"span"),s._uU(3,"Scegli le skills del tuo pg"),s.qZA(),s.TgZ(4,"div",1),s._UZ(5,"mat-progress-bar",2),s.qZA(),s.TgZ(6,"div",3)(7,"h4"),s._uU(8,"Totale skills selezionate: "),s.TgZ(9,"u"),s._uU(10),s.qZA(),s._uU(11,"/1200"),s.qZA()(),s.TgZ(12,"section",4)(13,"mat-checkbox",5),s.NdJ("change",function(o){return i.setAll(o)}),s._uU(14,"Applica skills consigliate"),s.qZA()()(),s.TgZ(15,"mat-dialog-content",6)(16,"div",7)(17,"div",8),s.YNc(18,Tpe,11,9,"li",9),s.qZA()()(),s.TgZ(19,"mat-toolbar-row",10)(20,"div",11),s.YNc(21,Bpe,4,0,"button",12),s.qZA(),s.TgZ(22,"div",11),s.YNc(23,Fpe,4,1,"button",13),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("color",i.valueTotale<=1200?"primary":"warn")("value",i.valueTotale/12),s.xp6(4),s.Udp("color",i.valueTotale>1200?"red":"#004a9f"),s.xp6(1),s.Oqu(i.valueTotale),s.xp6(5),s.Q6J("ngClass",s.VKq(10,Mpe,i.utils.isSmartphone())),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngForOf",i.skillsComplessive),s.xp6(3),s.Q6J("ngIf",i.expanded),s.xp6(2),s.Q6J("ngIf",i.expanded))},dependencies:[vs,ns,Ei,Zo,rg,xD,i_,k4,Of,Sd,su,_h,Ul,wR,bR,j0,K0,DD,Wj,yoe,Nq],styles:['.skill[_ngcontent-%COMP%]{cursor:pointer;padding:2px;margin:4px;height:3em;overflow-y:clip}.value[_ngcontent-%COMP%]{text-align:center;border:2px solid #004a9f;border-radius:7px;margin:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.content[_ngcontent-%COMP%]{max-height:50vh}']}),n})();function Rpe(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let Ope=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellsPaladino=new bU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){null!=this.religione&&""!=this.religione&&this.service.getSpellPaladinoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellsPaladino=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy),s.Y36(Hy),s.Y36(Uy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-paladino"]],decls:19,vars:3,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Paladino"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"li",3)(11,"b"),s._uU(12,"Aura:"),s.qZA(),s._uU(13),s.qZA(),s._UZ(14,"br"),s.TgZ(15,"b"),s._uU(16,"Spells:"),s.qZA(),s.TgZ(17,"ul"),s.YNc(18,Rpe,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellsPaladino.religione,""),s.xp6(5),s.hij(" ",i.spellsPaladino.aura,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellsPaladino?null:i.spellsPaladino.spell))},dependencies:[ns,su,Ul,ig],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function Ls(n){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var Xs=Uint8Array,Fc=Uint16Array,$0=Uint32Array,iE=new Xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rE=new Xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),FD=new Xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qq=function(n,t){for(var e=new Fc(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new $0(e[30]);for(i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return[e,r]},Hq=Qq(iE,2),F3=Hq[0],CR=Hq[1];F3[28]=258,CR[258]=28;for(var Vq=Qq(rE,0),Gq=Vq[0],M3=Vq[1],MD=new Fc(32768),jo=0;jo<32768;++jo){var Y0=(43690&jo)>>>1|(21845&jo)<<1;MD[jo]=((65280&(Y0=(61680&(Y0=(52428&Y0)>>>2|(13107&Y0)<<2))>>>4|(3855&Y0)<<4))>>>8|(255&Y0)<<8)>>>1}var Nf=function(n,t,e){for(var i=n.length,r=0,o=new Fc(t);r<i;++r)++o[n[r]-1];var u,a=new Fc(t);for(r=0;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;if(e){u=new Fc(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],_=t-n[r],b=a[n[r]-1]++<<_,F=b|(1<<_)-1;b<=F;++b)u[MD[b]>>>h]=f}else for(u=new Fc(i),r=0;r<i;++r)u[r]=MD[a[n[r]-1]++]>>>15-n[r];return u},$y=new Xs(288);for(jo=0;jo<144;++jo)$y[jo]=8;for(jo=144;jo<256;++jo)$y[jo]=9;for(jo=256;jo<280;++jo)$y[jo]=7;for(jo=280;jo<288;++jo)$y[jo]=8;var sE=new Xs(32);for(jo=0;jo<32;++jo)sE[jo]=5;var jq=Nf($y,9,0),zq=Nf($y,9,1),qq=Nf(sE,5,0),Kq=Nf(sE,5,1),xR=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Pf=function(n,t,e){var i=t/8>>0;return(n[i]|n[i+1]<<8)>>>(7&t)&e},ER=function(n,t){var e=t/8>>0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>>(7&t)},kD=function(n){return(n/8>>0)+(7&n&&1)},_C=function(n,t,e){(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length);var i=new(n instanceof Fc?Fc:n instanceof $0?$0:Xs)(e-t);return i.set(n.subarray(t,e)),i},r_=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8},oE=function(n,t,e){var i=t/8>>0;n[i]|=e<<=7&t,n[i+1]|=e>>>8,n[i+2]|=e>>>16},IR=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,o=e.slice();if(!r)return[new Xs(0),0];if(1==r){var a=new Xs(e[0].s+1);return a[e[0].s]=1,[a,1]}e.sort(function(Ye,ct){return Ye.f-ct.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],f=0,_=1,b=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};_!=r-1;)u=e[e[f].f<e[b].f?f++:b++],h=e[f!=_&&e[f].f<e[b].f?f++:b++],e[_++]={s:-1,f:u.f+h.f,l:u,r:h};var F=o[0].s;for(i=1;i<r;++i)o[i].s>F&&(F=o[i].s);var B=new Fc(F+1),U=DR(e[_-1],B,0);if(U>t){i=0;var H=0,Z=U-t,z=1<<Z;for(o.sort(function(ct,Ke){return B[Ke.s]-B[ct.s]||ct.f-Ke.f});i<r;++i){var W=o[i].s;if(!(B[W]>t))break;H+=z-(1<<U-B[W]),B[W]=t}for(H>>>=Z;H>0;){var fe=o[i].s;B[fe]<t?H-=1<<t-B[fe]++-1:++i}for(;i>=0&&H;--i){var De=o[i].s;B[De]==t&&(--B[De],++H)}U=t}return[new Xs(B),U]},DR=function(n,t,e){return-1==n.s?Math.max(DR(n.l,t,e+1),DR(n.r,t,e+1)):t[n.s]=e},k3=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Fc(++t),i=0,r=n[0],o=1,a=function(h){e[i++]=h},u=1;u<=t;++u)if(n[u]==r&&u!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(r),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(r);o=1,r=n[u]}return[e.subarray(0,i),t]},aE=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},RD=function(n,t,e){var i=e.length,r=kD(t+2);n[r]=255&i,n[r+1]=i>>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var o=0;o<i;++o)n[r+o+4]=e[o];return 8*(r+4+i)},R3=function(n,t,e,i,r,o,a,u,h,f,_){r_(t,_++,e),++r[256];for(var b=IR(r,15),F=b[0],B=b[1],U=IR(o,15),H=U[0],Z=U[1],z=k3(F),W=z[0],fe=z[1],De=k3(H),Ye=De[0],ct=De[1],Ke=new Fc(19),xe=0;xe<W.length;++xe)Ke[31&W[xe]]++;for(xe=0;xe<Ye.length;++xe)Ke[31&Ye[xe]]++;for(var Lt=IR(Ke,7),Rt=Lt[0],pe=Lt[1],Ae=19;Ae>4&&!Rt[FD[Ae-1]];--Ae);var Pe,Xe,He,mt,Me=f+5<<3,Te=aE(r,$y)+aE(o,sE)+a,Tt=aE(r,F)+aE(o,H)+a+14+3*Ae+aE(Ke,Rt)+(2*Ke[16]+3*Ke[17]+7*Ke[18]);if(Me<=Te&&Me<=Tt)return RD(t,_,n.subarray(h,h+f));if(r_(t,_,1+(Tt<Te)),_+=2,Tt<Te){Pe=Nf(F,B,0),Xe=F,He=Nf(H,Z,0),mt=H;var Ct=Nf(Rt,pe,0);for(r_(t,_,fe-257),r_(t,_+5,ct-1),r_(t,_+10,Ae-4),_+=14,xe=0;xe<Ae;++xe)r_(t,_+3*xe,Rt[FD[xe]]);_+=3*Ae;for(var wn=[W,Ye],X=0;X<2;++X){var ve=wn[X];for(xe=0;xe<ve.length;++xe)r_(t,_,Ct[we=31&ve[xe]]),_+=Rt[we],we>15&&(r_(t,_,ve[xe]>>>5&127),_+=ve[xe]>>>12)}}else Pe=jq,Xe=$y,He=qq,mt=sE;for(xe=0;xe<u;++xe)if(i[xe]>255){var we;oE(t,_,Pe[257+(we=i[xe]>>>18&31)]),_+=Xe[we+257],we>7&&(r_(t,_,i[xe]>>>23&31),_+=iE[we]);var Ve=31&i[xe];oE(t,_,He[Ve]),_+=mt[Ve],Ve>3&&(oE(t,_,i[xe]>>>5&8191),_+=rE[Ve])}else oE(t,_,Pe[i[xe]]),_+=Xe[i[xe]];return oE(t,_,Pe[256]),_+Xe[256]},Zq=new $0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$q=new Xs(0),BR=function(n,t,e,i,r){return function(n,t,e,i,r,o){var a=n.length,u=new Xs(i+a+5*(1+Math.floor(a/7e3))+r),h=u.subarray(i,u.length-r),f=0;if(!t||a<8)for(var _=0;_<=a;_+=65535){var b=_+65535;b<a?f=RD(h,f,n.subarray(_,b)):(h[_]=o,f=RD(h,f,n.subarray(_,a)))}else{for(var F=Zq[t-1],B=F>>>13,U=8191&F,H=(1<<e)-1,Z=new Fc(32768),z=new Fc(H+1),W=Math.ceil(e/3),fe=2*W,De=function(Ui){return(n[Ui]^n[Ui+1]<<W^n[Ui+2]<<fe)&H},Ye=new $0(25e3),ct=new Fc(288),Ke=new Fc(32),xe=0,Lt=0,Rt=(_=0,0),pe=0,Ae=0;_<a;++_){var Me=De(_),Te=32767&_,Tt=z[Me];if(Z[Te]=Tt,z[Me]=Te,pe<=_){var Pe=a-_;if((xe>7e3||Rt>24576)&&Pe>423){f=R3(n,h,0,Ye,ct,Ke,Lt,Rt,Ae,_-Ae,f),Rt=xe=Lt=0,Ae=_;for(var Xe=0;Xe<286;++Xe)ct[Xe]=0;for(Xe=0;Xe<30;++Xe)Ke[Xe]=0}var He=2,mt=0,Ct=U,wn=Te-Tt&32767;if(Pe>2&&Me==De(_-wn))for(var X=Math.min(B,Pe)-1,ve=Math.min(32767,_),we=Math.min(258,Pe);wn<=ve&&--Ct&&Te!=Tt;){if(n[_+He]==n[_+He-wn]){for(var Ve=0;Ve<we&&n[_+Ve]==n[_+Ve-wn];++Ve);if(Ve>He){if(He=Ve,mt=wn,Ve>X)break;var et=Math.min(wn,Ve-2),lt=0;for(Xe=0;Xe<et;++Xe){var yt=_-wn+Xe+32768&32767,_n=yt-Z[yt]+32768&32767;_n>lt&&(lt=_n,Tt=yt)}}}wn+=(Te=Tt)-(Tt=Z[Te])+32768&32767}if(mt){Ye[Rt++]=268435456|CR[He]<<18|M3[mt];var An=31&CR[He],qn=31&M3[mt];Lt+=iE[An]+rE[qn],++ct[257+An],++Ke[qn],pe=_+He,++xe}else Ye[Rt++]=n[_],++ct[n[_]]}}f=R3(n,h,o,Ye,ct,Ke,Lt,Rt,Ae,_-Ae,f),o||(f=RD(h,f,$q))}return _C(u,0,i+kD(f)+r)}(n,t.level??6,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+t.mem,e,i,!r)};function LD(n,t){void 0===t&&(t={});var e=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,o=e.length,a=0;a!=o;){for(var u=Math.min(a+5552,o);a<u;++a)r+=i+=e[a];i%=65521,r%=65521}n=i,t=r},d:function(){return(n>>>8<<16|(255&t)<<8|t>>>8)+2*((255&n)<<23)}}}();e.p(n);var i=BR(n,t,2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;n[0]=120,n[1]=i<<6|(i?32-2*i:1)}(i,t),function(n,t,e){for(;e;++t)n[t]=e,e>>>=8}(i,i.length-4,e.d()),i}function kR(n,t){return function(n,t,e){var i=n.length,r=!t||e,o=!e||e.i;e||(e={}),t||(t=new Xs(3*i));var a=function(et){var lt=t.length;if(et>lt){var yt=new Xs(Math.max(2*lt,et));yt.set(t),t=yt}},u=e.f||0,h=e.p||0,f=e.b||0,_=e.l,b=e.d,F=e.m,B=e.n,U=8*i;do{if(!_){e.f=u=Pf(n,h,1);var H=Pf(n,h+1,3);if(h+=3,!H){var z=n[(Z=kD(h)+4)-4]|n[Z-3]<<8,W=Z+z;if(W>i){if(o)throw"unexpected EOF";break}r&&a(f+z),t.set(n.subarray(Z,W),f),e.b=f+=z,e.p=h=8*W;continue}if(1==H)_=zq,b=Kq,F=9,B=5;else{if(2!=H)throw"invalid block type";var fe=Pf(n,h,31)+257,De=Pf(n,h+10,15)+4,Ye=fe+Pf(n,h+5,31)+1;h+=14;for(var ct=new Xs(Ye),Ke=new Xs(19),xe=0;xe<De;++xe)Ke[FD[xe]]=Pf(n,h+3*xe,7);h+=3*De;var Lt=xR(Ke),Rt=(1<<Lt)-1;if(!o&&h+Ye*(Lt+7)>U)break;var pe=Nf(Ke,Lt,1);for(xe=0;xe<Ye;){var Z,Ae=pe[Pf(n,h,Rt)];if(h+=15&Ae,(Z=Ae>>>4)<16)ct[xe++]=Z;else{var Me=0,Te=0;for(16==Z?(Te=3+Pf(n,h,3),h+=2,Me=ct[xe-1]):17==Z?(Te=3+Pf(n,h,7),h+=3):18==Z&&(Te=11+Pf(n,h,127),h+=7);Te--;)ct[xe++]=Me}}var Tt=ct.subarray(0,fe),Pe=ct.subarray(fe);F=xR(Tt),B=xR(Pe),_=Nf(Tt,F,1),b=Nf(Pe,B,1)}if(h>U)throw"unexpected EOF"}r&&a(f+131072);for(var Xe=(1<<F)-1,He=(1<<B)-1,mt=F+B+18;o||h+mt<U;){var Ct=(Me=_[ER(n,h)&Xe])>>>4;if((h+=15&Me)>U)throw"unexpected EOF";if(!Me)throw"invalid length/literal";if(Ct<256)t[f++]=Ct;else{if(256==Ct){_=null;break}var wn=Ct-254;Ct>264&&(wn=Pf(n,h,(1<<(X=iE[xe=Ct-257]))-1)+F3[xe],h+=X);var ve=b[ER(n,h)&He],we=ve>>>4;if(!ve)throw"invalid distance";if(h+=15&ve,Pe=Gq[we],we>3){var X=rE[we];Pe+=ER(n,h)&(1<<X)-1,h+=X}if(h>U)throw"unexpected EOF";r&&a(f+131072);for(var Ve=f+wn;f<Ve;f+=4)t[f]=t[f-Pe],t[f+1]=t[f+1-Pe],t[f+2]=t[f+2-Pe],t[f+3]=t[f+3-Pe];f=Ve}}e.l=_,e.p=h,e.b=f,_&&(u=1,e.m=F,e.d=b,e.n=B)}while(!u);return f==t.length?t:_C(t,0,f)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),t)}var Pi=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Q3(){Pi.console&&"function"==typeof Pi.console.log&&Pi.console.log.apply(Pi.console,arguments)}var Ao={log:Q3,warn:function(n){Pi.console&&("function"==typeof Pi.console.warn?Pi.console.warn.apply(Pi.console,arguments):Q3.call(null,arguments))},error:function(n){Pi.console&&("function"==typeof Pi.console.error?Pi.console.error.apply(Pi.console,arguments):Q3(n))}};function H3(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){yC(i.response,t,e)},i.onerror=function(){Ao.error("could not download file")},i.send()}function fK(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function OR(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var ND,V3,yC=Pi.saveAs||("object"!==(typeof window>"u"?"undefined":Ls(window))||window!==Pi?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Pi.URL||Pi.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?fK(r.href)?H3(n,t,e):OR(r,r.target="_blank"):OR(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){OR(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(fK(n))H3(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){OR(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(o=e)?o={autoBom:!1}:"object"!==Ls(o)&&(Ao.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r),t);var r,o}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return H3(n,t,e);var r="application/octet-stream"===n.type,o=/constructor/i.test(Pi.HTMLElement)||Pi.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o)&&"object"===(typeof FileReader>"u"?"undefined":Ls(FileReader))){var u=new FileReader;u.onloadend=function(){var _=u.result;_=a?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=_:location=_,i=null},u.readAsDataURL(n)}else{var h=Pi.URL||Pi.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function pK(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var o=e[i].process,a=e[i].re.exec(n);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return 1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),1==f.length&&(f="0"+f),"#"+u+h+f}}function G3(n,t){var e=n[0],i=n[1],r=n[2],o=n[3];e=Uu(e,i,r,o,t[0],7,-680876936),o=Uu(o,e,i,r,t[1],12,-389564586),r=Uu(r,o,e,i,t[2],17,606105819),i=Uu(i,r,o,e,t[3],22,-1044525330),e=Uu(e,i,r,o,t[4],7,-176418897),o=Uu(o,e,i,r,t[5],12,1200080426),r=Uu(r,o,e,i,t[6],17,-1473231341),i=Uu(i,r,o,e,t[7],22,-45705983),e=Uu(e,i,r,o,t[8],7,1770035416),o=Uu(o,e,i,r,t[9],12,-1958414417),r=Uu(r,o,e,i,t[10],17,-42063),i=Uu(i,r,o,e,t[11],22,-1990404162),e=Uu(e,i,r,o,t[12],7,1804603682),o=Uu(o,e,i,r,t[13],12,-40341101),r=Uu(r,o,e,i,t[14],17,-1502002290),e=Qu(e,i=Uu(i,r,o,e,t[15],22,1236535329),r,o,t[1],5,-165796510),o=Qu(o,e,i,r,t[6],9,-1069501632),r=Qu(r,o,e,i,t[11],14,643717713),i=Qu(i,r,o,e,t[0],20,-373897302),e=Qu(e,i,r,o,t[5],5,-701558691),o=Qu(o,e,i,r,t[10],9,38016083),r=Qu(r,o,e,i,t[15],14,-660478335),i=Qu(i,r,o,e,t[4],20,-405537848),e=Qu(e,i,r,o,t[9],5,568446438),o=Qu(o,e,i,r,t[14],9,-1019803690),r=Qu(r,o,e,i,t[3],14,-187363961),i=Qu(i,r,o,e,t[8],20,1163531501),e=Qu(e,i,r,o,t[13],5,-1444681467),o=Qu(o,e,i,r,t[2],9,-51403784),r=Qu(r,o,e,i,t[7],14,1735328473),e=Hu(e,i=Qu(i,r,o,e,t[12],20,-1926607734),r,o,t[5],4,-378558),o=Hu(o,e,i,r,t[8],11,-2022574463),r=Hu(r,o,e,i,t[11],16,1839030562),i=Hu(i,r,o,e,t[14],23,-35309556),e=Hu(e,i,r,o,t[1],4,-1530992060),o=Hu(o,e,i,r,t[4],11,1272893353),r=Hu(r,o,e,i,t[7],16,-155497632),i=Hu(i,r,o,e,t[10],23,-1094730640),e=Hu(e,i,r,o,t[13],4,681279174),o=Hu(o,e,i,r,t[0],11,-358537222),r=Hu(r,o,e,i,t[3],16,-722521979),i=Hu(i,r,o,e,t[6],23,76029189),e=Hu(e,i,r,o,t[9],4,-640364487),o=Hu(o,e,i,r,t[12],11,-421815835),r=Hu(r,o,e,i,t[15],16,530742520),e=Vu(e,i=Hu(i,r,o,e,t[2],23,-995338651),r,o,t[0],6,-198630844),o=Vu(o,e,i,r,t[7],10,1126891415),r=Vu(r,o,e,i,t[14],15,-1416354905),i=Vu(i,r,o,e,t[5],21,-57434055),e=Vu(e,i,r,o,t[12],6,1700485571),o=Vu(o,e,i,r,t[3],10,-1894986606),r=Vu(r,o,e,i,t[10],15,-1051523),i=Vu(i,r,o,e,t[1],21,-2054922799),e=Vu(e,i,r,o,t[8],6,1873313359),o=Vu(o,e,i,r,t[15],10,-30611744),r=Vu(r,o,e,i,t[6],15,-1560198380),i=Vu(i,r,o,e,t[13],21,1309151649),e=Vu(e,i,r,o,t[4],6,-145523070),o=Vu(o,e,i,r,t[11],10,-1120210379),r=Vu(r,o,e,i,t[2],15,718787259),i=Vu(i,r,o,e,t[9],21,-343485551),n[0]=J0(e,n[0]),n[1]=J0(i,n[1]),n[2]=J0(r,n[2]),n[3]=J0(o,n[3])}function LR(n,t,e,i,r,o){return t=J0(J0(t,n),J0(i,o)),J0(t<<r|t>>>32-r,e)}function Uu(n,t,e,i,r,o,a){return LR(t&e|~t&i,n,t,r,o,a)}function Qu(n,t,e,i,r,o,a){return LR(t&i|e&~i,n,t,r,o,a)}function Hu(n,t,e,i,r,o,a){return LR(t^e^i,n,t,r,o,a)}function Vu(n,t,e,i,r,o,a){return LR(e^(t|~i),n,t,r,o,a)}function gK(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)G3(i,Kpe(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(G3(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,G3(i,r),i}function Kpe(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}ND=Pi.atob.bind(Pi),V3=Pi.btoa.bind(Pi);var mK="0123456789abcdef".split("");function Zpe(n){for(var t="",e=0;e<4;e++)t+=mK[n>>8*e+4&15]+mK[n>>8*e&15];return t}function $pe(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function j3(n){return gK(n).map($pe).join("")}var Ype="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=Zpe(n[t]);return n.join("")}(gK("hello"));function J0(n,t){if(Ype){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function z3(n,t){var e,i,r;if(n!==e){for(var a=(r=n,new Array(1+(256/n.length>>0)+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var _=u[h];f=(f+_+a.charCodeAt(h))%256,u[h]=u[f],u[f]=_}e=n,i=u}else u=i;var b=t.length,F=0,B=0,U="";for(h=0;h<b;h++)B=(B+(_=u[F=(F+1)%256]))%256,u[F]=u[B],u[B]=_,a=u[(u[F]+u[B])%256],U+=String.fromCharCode(t.charCodeAt(h)^a);return U}var _K={print:4,modify:8,copy:16,"annot-forms":32};function cE(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(void 0!==_K.perm)throw new Error("Invalid permission: "+u);r+=_K[u]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^r)),this.encryptionKey=j3(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=z3(this.encryptionKey,this.padding)}function uE(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function yK(n){if("object"!==Ls(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(n,i)}catch(u){Pi.console&&Ao.error("jsPDF PubSub Error",u.message,u)}a[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function NR(n){if(!(this instanceof NR))return new NR(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function vK(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function vC(n,t,e,i,r){if(!(this instanceof vC))return new vC(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,vK.call(this,i,r)}function dE(n,t,e,i,r){if(!(this instanceof dE))return new dE(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,vK.call(this,i,r)}function Oi(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],a=[],u=1,h=16,f="S",_=null;"object"===Ls(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,null!==(_=n.encryption||null)&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),u="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),a=n.filters||(!0===o?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,F={},B={internal:{},__private__:{}};B.__private__.PubSub=yK;var U="1.3",H=B.__private__.getPdfVersion=function(){return U};B.__private__.setPdfVersion=function(M){U=M};var Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};B.__private__.getPageFormats=function(){return Z};var z=B.__private__.getPageFormat=function(M){return Z[M]};r=r||"a4";var W={COMPAT:"compat",ADVANCED:"advanced"},fe=W.COMPAT;function De(){this.saveGraphicsState(),Ee(new Li(Vn,0,0,-Vn,0,ow()*Vn).toString()+" cm"),this.setFontSize(this.getFontSize()/Vn),f="n",fe=W.ADVANCED}function Ye(){this.restoreGraphicsState(),f="S",fe=W.COMPAT}var ct=B.__private__.combineFontStyleAndFontWeight=function(M,Y){if("bold"==M&&"normal"==Y||"bold"==M&&400==Y||"normal"==M&&"italic"==Y||"bold"==M&&"italic"==Y)throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(M=400==Y||"normal"===Y?"italic"===M?"italic":"normal":700!=Y&&"bold"!==Y||"normal"!==M?(700==Y?"bold":Y)+""+M:"bold"),M};B.advancedAPI=function(M){var Y=fe===W.COMPAT;return Y&&De.call(this),"function"!=typeof M||(M(this),Y&&Ye.call(this)),this},B.compatAPI=function(M){var Y=fe===W.ADVANCED;return Y&&Ye.call(this),"function"!=typeof M||(M(this),Y&&De.call(this)),this},B.isAdvancedAPI=function(){return fe===W.ADVANCED};var Ke,xe=function(M){if(fe!==W.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Lt=B.roundToPrecision=B.__private__.roundToPrecision=function(M,Y){var be=t||Y;if(isNaN(M)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(be).replace(/0+$/,"")};Ke=B.hpf=B.__private__.hpf="number"==typeof h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Lt(M,h)}:"smart"===h?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Lt(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return Lt(M,16)};var Rt=B.f2=B.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return Lt(M,2)},pe=B.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return Lt(M,3)},Ae=B.scale=B.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return fe===W.COMPAT?M*Vn:fe===W.ADVANCED?M:void 0},Me=function(M){return fe===W.COMPAT?ow()-M:fe===W.ADVANCED?M:void 0},Te=function(M){return Ae(Me(M))};B.__private__.setPrecision=B.setPrecision=function(M){"number"==typeof parseInt(M,10)&&(t=parseInt(M,10))};var Tt,Pe="00000000000000000000000000000000",Xe=B.__private__.getFileId=function(){return Pe},He=B.__private__.setFileId=function(M){return Pe=void 0!==M&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==_&&(ju=new cE(_.userPermissions,_.userPassword,_.ownerPassword,Pe)),Pe};B.setFileId=function(M){return He(M),this},B.getFileId=function(){return Xe()};var mt=B.__private__.convertDateToPDFDate=function(M){var Y=M.getTimezoneOffset(),be=Y<0?"+":"-",ke=Math.floor(Math.abs(Y/60)),rt=Math.abs(Y%60),Nt=[be,we(ke),"'",we(rt),"'"].join("");return["D:",M.getFullYear(),we(M.getMonth()+1),we(M.getDate()),we(M.getHours()),we(M.getMinutes()),we(M.getSeconds()),Nt].join("")},Ct=B.__private__.convertPDFDateToDate=function(M){var Y=parseInt(M.substr(2,4),10),be=parseInt(M.substr(6,2),10)-1,ke=parseInt(M.substr(8,2),10),rt=parseInt(M.substr(10,2),10),Nt=parseInt(M.substr(12,2),10),an=parseInt(M.substr(14,2),10);return new Date(Y,be,ke,rt,Nt,an,0)},wn=B.__private__.setCreationDate=function(M){var Y;if(void 0===M&&(M=new Date),M instanceof Date)Y=mt(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=M}return Tt=Y},X=B.__private__.getCreationDate=function(M){var Y=Tt;return"jsDate"===M&&(Y=Ct(Tt)),Y};B.setCreationDate=function(M){return wn(M),this},B.getCreationDate=function(M){return X(M)};var ve,we=B.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Ve=B.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},et=0,lt=[],yt=[],_t=0,_n=[],An=[],qn=!1,Xn=yt,Ui=function(){et=0,_t=0,yt=[],lt=[],_n=[],Xy=Ql(),hg=Ql()};B.__private__.setCustomOutputDestination=function(M){qn=!0,Xn=M};var Ut=function(M){qn||(Xn=M)};B.__private__.resetCustomOutputDestination=function(){qn=!1,Xn=yt};var Ee=B.__private__.out=function(M){return M=M.toString(),_t+=M.length+1,Xn.push(M),Xn},ar=B.__private__.write=function(M){return Ee(1===arguments.length?M.toString():Array.prototype.join.call(arguments," "))},ci=B.__private__.getArrayBuffer=function(M){for(var Y=M.length,be=new ArrayBuffer(Y),ke=new Uint8Array(be);Y--;)ke[Y]=M.charCodeAt(Y);return be},fn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];B.__private__.getStandardFonts=function(){return fn};var Dn=n.fontSize||16;B.__private__.setFontSize=B.setFontSize=function(M){return Dn=fe===W.ADVANCED?M/Vn:M,this};var Hn,Nn=B.__private__.getFontSize=B.getFontSize=function(){return fe===W.COMPAT?Dn:Dn*Vn},vi=n.R2L||!1;B.__private__.setR2L=B.setR2L=function(M){return vi=M,this},B.__private__.getR2L=B.getR2L=function(){return vi};var ir,pr=B.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Hn=M;else if(isNaN(M)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Hn=M}else Hn=parseInt(M,10)};B.__private__.getZoomMode=function(){return Hn};var Sr,rs=B.__private__.setPageMode=function(M){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');ir=M};B.__private__.getPageMode=function(){return ir};var eo=B.__private__.setLayoutMode=function(M){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Sr=M};B.__private__.getLayoutMode=function(){return Sr},B.__private__.setDisplayMode=B.setDisplayMode=function(M,Y,be){return pr(M),eo(Y),rs(be),this};var qi={title:"",subject:"",author:"",keywords:"",creator:""};B.__private__.getDocumentProperty=function(M){if(-1===Object.keys(qi).indexOf(M))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qi[M]},B.__private__.getDocumentProperties=function(){return qi},B.__private__.setDocumentProperties=B.setProperties=B.setDocumentProperties=function(M){for(var Y in qi)qi.hasOwnProperty(Y)&&M[Y]&&(qi[Y]=M[Y]);return this},B.__private__.setDocumentProperty=function(M,Y){if(-1===Object.keys(qi).indexOf(M))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qi[M]=Y};var Fr,Vn,Gu,hs,cg,fo={},aa={},u_=[],xs={},SC={},ja={},ug={},Jy=null,za=0,rr=[],Es=new yK(B),IC=n.hotfixes||[],ou={},d_={},h_=[],Li=function M(Y,be,ke,rt,Nt,an){if(!(this instanceof M))return new M(Y,be,ke,rt,Nt,an);isNaN(Y)&&(Y=1),isNaN(be)&&(be=0),isNaN(ke)&&(ke=0),isNaN(rt)&&(rt=1),isNaN(Nt)&&(Nt=0),isNaN(an)&&(an=0),this._matrix=[Y,be,ke,rt,Nt,an]};Object.defineProperty(Li.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Li.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Li.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Li.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Li.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Li.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Li.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Li.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Li.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Li.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Li.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Li.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Li.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Li.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Li.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Li.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Li.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ke).join(M)},Li.prototype.multiply=function(M){return new Li(M.sx*this.sx+M.shy*this.shx,M.sx*this.shy+M.shy*this.sy,M.shx*this.sx+M.sy*this.shx,M.shx*this.shy+M.sy*this.sy,M.tx*this.sx+M.ty*this.shx+this.tx,M.tx*this.shy+M.ty*this.sy+this.ty)},Li.prototype.decompose=function(){var M=this.sx,Y=this.shy,be=this.shx,ke=this.sy,rt=this.tx,Nt=this.ty,an=Math.sqrt(M*M+Y*Y),Kn=(M/=an)*be+(Y/=an)*ke;be-=M*Kn,ke-=Y*Kn;var Ci=Math.sqrt(be*be+ke*ke);return Kn/=Ci,M*(ke/=Ci)<Y*(be/=Ci)&&(M=-M,Y=-Y,Kn=-Kn,an=-an),{scale:new Li(an,0,0,Ci,0,0),translate:new Li(1,0,0,1,rt,Nt),rotate:new Li(M,Y,-Y,M,0,0),skew:new Li(1,0,Kn,1,0,0)}},Li.prototype.toString=function(M){return this.join(" ")},Li.prototype.inversed=function(){var M=this.sx,Y=this.shy,be=this.shx,ke=this.sy,rt=this.tx,Nt=this.ty,an=1/(M*ke-Y*be),Kn=ke*an,Ci=-Y*an,lr=-be*an,mr=M*an;return new Li(Kn,Ci,lr,mr,-Kn*rt-lr*Nt,-Ci*rt-mr*Nt)},Li.prototype.applyToPoint=function(M){return new ME(M.x*this.sx+M.y*this.shx+this.tx,M.x*this.shy+M.y*this.sy+this.ty)},Li.prototype.applyToRectangle=function(M){var Y=this.applyToPoint(M),be=this.applyToPoint(new ME(M.x+M.w,M.y+M.h));return new XD(Y.x,Y.y,be.x-Y.x,be.y-Y.y)},Li.prototype.clone=function(){return new Li(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},B.Matrix=Li;var dg=B.matrixMult=function(M,Y){return Y.multiply(M)},A_=new Li(1,0,0,1,0,0);B.unitMatrix=B.identityMatrix=A_;var vh=function(M,Y){if(!SC[M]){var be=(Y instanceof vC?"Sh":"P")+(Object.keys(xs).length+1).toString(10);Y.id=be,SC[M]=be,xs[be]=Y,Es.publish("addPattern",Y)}};B.ShadingPattern=vC,B.TilingPattern=dE,B.addShadingPattern=function(M,Y){return xe("addShadingPattern()"),vh(M,Y),this},B.beginTilingPattern=function(M){xe("beginTilingPattern()"),DO(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},B.endTilingPattern=function(M,Y){xe("endTilingPattern()"),Y.stream=An[ve].join("\n"),vh(M,Y),Es.publish("endTilingPattern",Y),h_.pop().restore()};var ac=B.__private__.newObject=function(){var M=Ql();return kA(M,!0),M},Ql=B.__private__.newObjectDeferred=function(){return et++,lt[et]=function(){return _t},et},kA=function(M,Y){return Y="boolean"==typeof Y&&Y,lt[M]=_t,Y&&Ee(M+" 0 obj"),M},yE=B.__private__.newAdditionalObject=function(){var M={objId:Ql(),content:""};return _n.push(M),M},Xy=Ql(),hg=Ql(),Ag=B.__private__.decodeColorString=function(M){var Y=M.split(" ");if(2!==Y.length||"g"!==Y[1]&&"G"!==Y[1])5===Y.length&&("k"===Y[4]||"K"===Y[4])&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var be=parseFloat(Y[0]);Y=[be,be,be,"r"]}for(var ke="#",rt=0;rt<3;rt++)ke+=("0"+Math.floor(255*parseFloat(Y[rt])).toString(16)).slice(-2);return ke},fg=B.__private__.encodeColorString=function(M){var Y;"string"==typeof M&&(M={ch1:M});var be=M.ch1,ke=M.ch2,rt=M.ch3,Nt=M.ch4,an="draw"===M.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof be&&"#"!==be.charAt(0)){var Kn=new pK(be);if(Kn.ok)be=Kn.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if("string"==typeof be&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),"string"==typeof be&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Ci=parseInt(be.substr(1),16);be=Ci>>16&255,ke=Ci>>8&255,rt=255&Ci}if(void 0===ke||void 0===Nt&&be===ke&&ke===rt)Y="string"==typeof be?be+" "+an[0]:2===M.precision?Rt(be/255)+" "+an[0]:pe(be/255)+" "+an[0];else if(void 0===Nt||"object"===Ls(Nt)){if(Nt&&!isNaN(Nt.a)&&0===Nt.a)return["1.","1.","1.",an[1]].join(" ");Y="string"==typeof be?[be,ke,rt,an[1]].join(" "):2===M.precision?[Rt(be/255),Rt(ke/255),Rt(rt/255),an[1]].join(" "):[pe(be/255),pe(ke/255),pe(rt/255),an[1]].join(" ")}else Y="string"==typeof be?[be,ke,rt,Nt,an[2]].join(" "):2===M.precision?[Rt(be),Rt(ke),Rt(rt),Rt(Nt),an[2]].join(" "):[pe(be),pe(ke),pe(rt),pe(Nt),an[2]].join(" ");return Y},f_=B.__private__.getFilters=function(){return a},Hf=B.__private__.putStream=function(M){var Y=(M=M||{}).data||"",be=M.filters||f_(),ke=M.alreadyAppliedFilters||[],rt=M.addLength1||!1,Nt=Y.length,an=M.objectId,Kn=function(zu){return zu};if(null!==_&&void 0===an)throw new Error("ObjectId must be passed to putStream for file encryption");null!==_&&(Kn=ju.encryptor(an,0));var Ci={};!0===be&&(be=["FlateEncode"]);var lr=M.additionalKeyValues||[],mr=(Ci=void 0!==Oi.API.processDataByFilters?Oi.API.processDataByFilters(Y,be):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(0!==Ci.data.length&&(lr.push({key:"Length",value:Ci.data.length}),!0===rt&&lr.push({key:"Length1",value:Nt})),0!=mr.length)if(mr.split("/").length-1==1)lr.push({key:"Filter",value:mr});else{lr.push({key:"Filter",value:"["+mr+"]"});for(var es=0;es<lr.length;es+=1)if("DecodeParms"===lr[es].key){for(var _a=[],qa=0;qa<Ci.reverseChain.split("/").length-1;qa+=1)_a.push("null");_a.push(lr[es].value),lr[es].value="["+_a.join(" ")+"]"}}Ee("<<");for(var Hl=0;Hl<lr.length;Hl++)Ee("/"+lr[Hl].key+" "+lr[Hl].value);Ee(">>"),0!==Ci.data.length&&(Ee("stream"),Ee(Kn(Ci.data)),Ee("endstream"))},p_=B.__private__.putPage=function(M){var Y=M.number,be=M.data,ke=M.objId,rt=M.contentsObjId;kA(ke,!0),Ee("<</Type /Page"),Ee("/Parent "+M.rootDictionaryObjId+" 0 R"),Ee("/Resources "+M.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(Ke(M.mediaBox.bottomLeftX))+" "+parseFloat(Ke(M.mediaBox.bottomLeftY))+" "+Ke(M.mediaBox.topRightX)+" "+Ke(M.mediaBox.topRightY)+"]"),null!==M.cropBox&&Ee("/CropBox ["+Ke(M.cropBox.bottomLeftX)+" "+Ke(M.cropBox.bottomLeftY)+" "+Ke(M.cropBox.topRightX)+" "+Ke(M.cropBox.topRightY)+"]"),null!==M.bleedBox&&Ee("/BleedBox ["+Ke(M.bleedBox.bottomLeftX)+" "+Ke(M.bleedBox.bottomLeftY)+" "+Ke(M.bleedBox.topRightX)+" "+Ke(M.bleedBox.topRightY)+"]"),null!==M.trimBox&&Ee("/TrimBox ["+Ke(M.trimBox.bottomLeftX)+" "+Ke(M.trimBox.bottomLeftY)+" "+Ke(M.trimBox.topRightX)+" "+Ke(M.trimBox.topRightY)+"]"),null!==M.artBox&&Ee("/ArtBox ["+Ke(M.artBox.bottomLeftX)+" "+Ke(M.artBox.bottomLeftY)+" "+Ke(M.artBox.topRightX)+" "+Ke(M.artBox.topRightY)+"]"),"number"==typeof M.userUnit&&1!==M.userUnit&&Ee("/UserUnit "+M.userUnit),Es.publish("putPage",{objId:ke,pageContext:rr[Y],pageNumber:Y,page:be}),Ee("/Contents "+rt+" 0 R"),Ee(">>"),Ee("endobj");var Nt=be.join("\n");return fe===W.ADVANCED&&(Nt+="\nQ"),kA(rt,!0),Hf({data:Nt,filters:f_(),objectId:rt}),Ee("endobj"),ke},DC=B.__private__.putPages=function(){var M,Y,be=[];for(M=1;M<=za;M++)rr[M].objId=Ql(),rr[M].contentsObjId=Ql();for(M=1;M<=za;M++)be.push(p_({number:M,data:An[M],objId:rr[M].objId,contentsObjId:rr[M].contentsObjId,mediaBox:rr[M].mediaBox,cropBox:rr[M].cropBox,bleedBox:rr[M].bleedBox,trimBox:rr[M].trimBox,artBox:rr[M].artBox,userUnit:rr[M].userUnit,rootDictionaryObjId:Xy,resourceDictionaryObjId:hg}));kA(Xy,!0),Ee("<</Type /Pages");var ke="/Kids [";for(Y=0;Y<za;Y++)ke+=be[Y]+" 0 R ";Ee(ke+"]"),Ee("/Count "+za),Ee(">>"),Ee("endobj"),Es.publish("postPutPages")},vE=function(M){Es.publish("putFont",{font:M,out:Ee,newObject:ac,putStream:Hf}),!0!==M.isAlreadyPutted&&(M.objectNumber=ac(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+uE(M.postScriptName)),Ee("/Subtype /Type1"),"string"==typeof M.encoding&&Ee("/Encoding /"+M.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},wE=function(){for(var M in fo)fo.hasOwnProperty(M)&&(!1===b||!0===b&&F.hasOwnProperty(M))&&vE(fo[M])},bE=function(M){M.objectNumber=ac();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[Ke(M.x),Ke(M.y),Ke(M.x+M.width),Ke(M.y+M.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var be=M.pages[1].join("\n");Hf({data:be,additionalKeyValues:Y,objectId:M.objectNumber}),Ee("endobj")},CE=function(){for(var M in ou)ou.hasOwnProperty(M)&&bE(ou[M])},uO=function(M,Y){var be,ke=[],rt=1/(Y-1);for(be=0;be<1;be+=rt)ke.push(be);ke.push(1),0!=M[0].offset&&M.unshift({offset:0,color:M[0].color}),1!=M[M.length-1].offset&&M.push({offset:1,color:M[M.length-1].color});for(var Kn="",Ci=0,lr=0;lr<ke.length;lr++){for(be=ke[lr];be>M[Ci+1].offset;)Ci++;var mr=M[Ci].offset,es=(be-mr)/(M[Ci+1].offset-mr),_a=M[Ci].color,qa=M[Ci+1].color;Kn+=Ve(Math.round((1-es)*_a[0]+es*qa[0]).toString(16))+Ve(Math.round((1-es)*_a[1]+es*qa[1]).toString(16))+Ve(Math.round((1-es)*_a[2]+es*qa[2]).toString(16))}return Kn.trim()},k6=function(M,Y){Y||(Y=21);var be=ac(),ke=uO(M.colors,Y),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+Y+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hf({data:ke,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Ee("endobj"),M.objectNumber=ac(),Ee("<< /ShadingType "+M.type),Ee("/ColorSpace /DeviceRGB");var Nt="/Coords ["+Ke(parseFloat(M.coords[0]))+" "+Ke(parseFloat(M.coords[1]))+" ";Nt+=2===M.type?Ke(parseFloat(M.coords[2]))+" "+Ke(parseFloat(M.coords[3])):Ke(parseFloat(M.coords[2]))+" "+Ke(parseFloat(M.coords[3]))+" "+Ke(parseFloat(M.coords[4]))+" "+Ke(parseFloat(M.coords[5])),Ee(Nt+="]"),M.matrix&&Ee("/Matrix ["+M.matrix.toString()+"]"),Ee("/Function "+be+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},R6=function(M,Y){var be=Ql(),ke=ac();Y.push({resourcesOid:be,objectOid:ke}),M.objectNumber=ke;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+M.boundingBox.map(Ke).join(" ")+"]"}),rt.push({key:"XStep",value:Ke(M.xStep)}),rt.push({key:"YStep",value:Ke(M.yStep)}),rt.push({key:"Resources",value:be+" 0 R"}),M.matrix&&rt.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Hf({data:M.stream,additionalKeyValues:rt,objectId:M.objectNumber}),Ee("endobj")},xE=function(M){var Y;for(Y in xs)xs.hasOwnProperty(Y)&&(xs[Y]instanceof vC?k6(xs[Y]):xs[Y]instanceof dE&&R6(xs[Y],M))},dO=function(M){for(var Y in M.objectNumber=ac(),Ee("<<"),M)switch(Y){case"opacity":Ee("/ca "+Rt(M[Y]));break;case"stroke-opacity":Ee("/CA "+Rt(M[Y]))}Ee(">>"),Ee("endobj")},O6=function(){var M;for(M in ja)ja.hasOwnProperty(M)&&dO(ja[M])},GD=function(){for(var M in Ee("/XObject <<"),ou)ou.hasOwnProperty(M)&&ou[M].objectNumber>=0&&Ee("/"+M+" "+ou[M].objectNumber+" 0 R");Es.publish("putXobjectDict"),Ee(">>")},L6=function(){ju.oid=ac(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+ju.v),Ee("/R "+ju.r),Ee("/U <"+ju.toHexString(ju.U)+">"),Ee("/O <"+ju.toHexString(ju.O)+">"),Ee("/P "+ju.P),Ee(">>"),Ee("endobj")},hO=function(){for(var M in Ee("/Font <<"),fo)fo.hasOwnProperty(M)&&(!1===b||!0===b&&F.hasOwnProperty(M))&&Ee("/"+M+" "+fo[M].objectNumber+" 0 R");Ee(">>")},N6=function(){if(Object.keys(xs).length>0){for(var M in Ee("/Shading <<"),xs)xs.hasOwnProperty(M)&&xs[M]instanceof vC&&xs[M].objectNumber>=0&&Ee("/"+M+" "+xs[M].objectNumber+" 0 R");Es.publish("putShadingPatternDict"),Ee(">>")}},EE=function(M){if(Object.keys(xs).length>0){for(var Y in Ee("/Pattern <<"),xs)xs.hasOwnProperty(Y)&&xs[Y]instanceof B.TilingPattern&&xs[Y].objectNumber>=0&&xs[Y].objectNumber<M&&Ee("/"+Y+" "+xs[Y].objectNumber+" 0 R");Es.publish("putTilingPatternDict"),Ee(">>")}},P6=function(){if(Object.keys(ja).length>0){var M;for(M in Ee("/ExtGState <<"),ja)ja.hasOwnProperty(M)&&ja[M].objectNumber>=0&&Ee("/"+M+" "+ja[M].objectNumber+" 0 R");Es.publish("putGStateDict"),Ee(">>")}},gl=function(M){kA(M.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hO(),N6(),EE(M.objectOid),P6(),GD(),Ee(">>"),Ee("endobj")},AO=function(){var M=[];wE(),O6(),CE(),xE(M),Es.publish("putResources"),M.forEach(gl),gl({resourcesOid:hg,objectOid:Number.MAX_SAFE_INTEGER}),Es.publish("postPutResources")},fO=function(){Es.publish("putAdditionalObjects");for(var M=0;M<_n.length;M++){var Y=_n[M];kA(Y.objId,!0),Ee(Y.content),Ee("endobj")}Es.publish("postPutAdditionalObjects")},pO=function(M){aa[M.fontName]=aa[M.fontName]||{},aa[M.fontName][M.fontStyle]=M.id},jD=function(M,Y,be,ke,rt){var Nt={id:"F"+(Object.keys(fo).length+1).toString(10),postScriptName:M,fontName:Y,fontStyle:be,encoding:ke,isStandardFont:rt||!1,metadata:{}};return Es.publish("addFont",{font:Nt,instance:this}),fo[Nt.id]=Nt,pO(Nt),Nt.id},U6=function(M){for(var Y=0,be=fn.length;Y<be;Y++){var ke=jD.call(this,M[Y][0],M[Y][1],M[Y][2],fn[Y][3],!0);!1===b&&(F[ke]=!0);var rt=M[Y][0].split("-");pO({id:ke,fontName:rt[0],fontStyle:rt[1]||""})}Es.publish("addFonts",{fonts:fo,dictionary:aa})},pg=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(ke){var Y=ke.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var be="Error in function "+Y.split("\n")[0].split("<")[0]+": "+ke.message;if(!Pi.console)throw new Error(be);Pi.console.error(be,ke),Pi.alert&&alert(be)}},M.foo.bar=M,M.foo},SE=function(M,Y){var be,ke,rt,Nt,an,Kn,Ci,lr,mr;if(rt=(Y=Y||{}).sourceEncoding||"Unicode",an=Y.outputEncoding,(Y.autoencode||an)&&fo[Fr].metadata&&fo[Fr].metadata[rt]&&fo[Fr].metadata[rt].encoding&&(Nt=fo[Fr].metadata[rt].encoding,!an&&fo[Fr].encoding&&(an=fo[Fr].encoding),!an&&Nt.codePages&&(an=Nt.codePages[0]),"string"==typeof an&&(an=Nt[an]),an)){for(Ci=!1,Kn=[],be=0,ke=M.length;be<ke;be++)(lr=an[M.charCodeAt(be)])?Kn.push(String.fromCharCode(lr)):Kn.push(M[be]),Kn[be].charCodeAt(0)>>8&&(Ci=!0);M=Kn.join("")}for(be=M.length;void 0===Ci&&0!==be;)M.charCodeAt(be-1)>>8&&(Ci=!0),be--;if(!Ci)return M;for(Kn=Y.noBOM?[]:[254,255],be=0,ke=M.length;be<ke;be++){if((mr=(lr=M.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kn.push(mr),Kn.push(lr-(mr<<8))}return String.fromCharCode.apply(void 0,Kn)},wh=B.__private__.pdfEscape=B.pdfEscape=function(M,Y){return SE(M,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zD=B.__private__.beginPage=function(M){An[++za]=[],rr[za]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},mO(za),Ut(An[ve])},gO=function(M,Y){var be,ke,rt;switch(e=Y||e,"string"==typeof M&&(be=z(M.toLowerCase()),Array.isArray(be)&&(ke=be[0],rt=be[1])),Array.isArray(M)&&(ke=M[0]*Vn,rt=M[1]*Vn),isNaN(ke)&&(ke=r[0],rt=r[1]),(ke>14400||rt>14400)&&(Ao.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),rt=Math.min(14400,rt)),r=[ke,rt],e.substr(0,1)){case"l":rt>ke&&(r=[rt,ke]);break;case"p":ke>rt&&(r=[rt,ke])}zD(r),CO($D),Ee(gg),0!==WD&&Ee(WD+" J"),0!==JD&&Ee(JD+" j"),Es.publish("addPage",{pageNumber:za})},Q6=function(M){M>0&&M<=za&&(An.splice(M,1),rr.splice(M,1),za--,ve>za&&(ve=za),this.setPage(ve))},mO=function(M){M>0&&M<=za&&(ve=M)},H6=B.__private__.getNumberOfPages=B.getNumberOfPages=function(){return An.length-1},_O=function(M,Y,be){var ke,rt=void 0;return be=be||{},Y=void 0!==Y?Y:fo[Fr].fontStyle,ke=(M=void 0!==M?M:fo[Fr].fontName).toLowerCase(),void 0!==aa[ke]&&void 0!==aa[ke][Y]?rt=aa[ke][Y]:void 0!==aa[M]&&void 0!==aa[M][Y]?rt=aa[M][Y]:!1===be.disableWarning&&Ao.warn("Unable to look up font label for font '"+M+"', '"+Y+"'. Refer to getFontList() for available fonts."),rt||be.noFallback||null==(rt=aa.times[Y])&&(rt=aa.times.normal),rt},V6=B.__private__.putInfo=function(){var M=ac(),Y=function(ke){return ke};for(var be in null!==_&&(Y=ju.encryptor(M,0)),Ee("<<"),Ee("/Producer ("+wh(Y("jsPDF "+Oi.version))+")"),qi)qi.hasOwnProperty(be)&&qi[be]&&Ee("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+wh(Y(qi[be]))+")");Ee("/CreationDate ("+wh(Y(Tt))+")"),Ee(">>"),Ee("endobj")},qD=B.__private__.putCatalog=function(M){var Y=(M=M||{}).rootDictionaryObjId||Xy;switch(ac(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+Y+" 0 R"),Hn||(Hn="fullwidth"),Hn){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Hn;"%"===be.substr(be.length-1)&&(Hn=parseInt(Hn)/100),"number"==typeof Hn&&Ee("/OpenAction [3 0 R /XYZ null null "+Rt(Hn)+"]")}switch(Sr||(Sr="continuous"),Sr){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}ir&&Ee("/PageMode /"+ir),Es.publish("putCatalog"),Ee(">>"),Ee("endobj")},G6=B.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(et+1)),Ee("/Root "+et+" 0 R"),Ee("/Info "+(et-1)+" 0 R"),null!==_&&Ee("/Encrypt "+ju.oid+" 0 R"),Ee("/ID [ <"+Pe+"> <"+Pe+"> ]"),Ee(">>")},j6=B.__private__.putHeader=function(){Ee("%PDF-"+U),Ee("%\xba\xdf\xac\xe0")},z6=B.__private__.putXRef=function(){var M="0000000000";Ee("xref"),Ee("0 "+(et+1)),Ee("0000000000 65535 f ");for(var Y=1;Y<=et;Y++)Ee("function"==typeof lt[Y]?(M+lt[Y]()).slice(-10)+" 00000 n ":void 0!==lt[Y]?(M+lt[Y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},ev=B.__private__.buildDocument=function(){Ui(),Ut(yt),Es.publish("buildDocument"),j6(),DC(),fO(),AO(),null!==_&&L6(),V6(),qD();var M=_t;return z6(),G6(),Ee("startxref"),Ee(""+M),Ee("%%EOF"),Ut(An[ve]),yt.join("\n")},IE=B.__private__.getBlob=function(M){return new Blob([ci(M)],{type:"application/pdf"})},DE=B.output=B.__private__.output=pg(function(M,Y){switch("string"==typeof(Y=Y||{})?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",M){case void 0:return ev();case"save":B.save(Y.filename);break;case"arraybuffer":return ci(ev());case"blob":return IE(ev());case"bloburi":case"bloburl":if(void 0!==Pi.URL&&"function"==typeof Pi.URL.createObjectURL)return Pi.URL&&Pi.URL.createObjectURL(IE(ev()))||void 0;Ao.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",ke=ev();try{be=V3(ke)}catch{be=V3(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+Y.filename+";base64,"+be;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Pi)){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(rt=Y.pdfObjectUrl,Nt="");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Kn=Pi.open();return null!==Kn&&Kn.document.write(an),Kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Pi)){var Ci='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',lr=Pi.open();if(null!==lr){lr.document.write(Ci);var mr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=Y.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Pi))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var es='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',_a=Pi.open();if(null!==_a&&(_a.document.write(es),_a.document.title=Y.filename),_a||typeof safari>"u")return _a;break;case"datauri":case"dataurl":return Pi.document.location.href=this.output("datauristring",Y);default:return null}}),yO=function(M){return!0===Array.isArray(IC)&&IC.indexOf(M)>-1};switch(i){case"pt":Vn=1;break;case"mm":Vn=72/25.4;break;case"cm":Vn=72/2.54;break;case"in":Vn=72;break;case"px":Vn=1==yO("px_scaling")?.75:96/72;break;case"pc":case"em":Vn=12;break;case"ex":Vn=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Vn=i}var ju=null;wn(),He();var q6=function(M){return null!==_?ju.encryptor(M,0):function(Y){return Y}},vO=B.__private__.getPageInfo=B.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[M].objId,pageNumber:M,pageContext:rr[M]}},Xi=B.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in rr)if(rr[Y].objId===M)break;return vO(Y)},K6=B.__private__.getCurrentPageInfo=B.getCurrentPageInfo=function(){return{objId:rr[ve].objId,pageNumber:ve,pageContext:rr[ve]}};B.addPage=function(){return gO.apply(this,arguments),this},B.setPage=function(){return mO.apply(this,arguments),Ut.call(this,An[ve]),this},B.insertPage=function(M){return this.addPage(),this.movePage(ve,M),this},B.movePage=function(M,Y){var be,ke;if(M>Y){be=An[M],ke=rr[M];for(var rt=M;rt>Y;rt--)An[rt]=An[rt-1],rr[rt]=rr[rt-1];An[Y]=be,rr[Y]=ke,this.setPage(Y)}else if(M<Y){be=An[M],ke=rr[M];for(var Nt=M;Nt<Y;Nt++)An[Nt]=An[Nt+1],rr[Nt]=rr[Nt+1];An[Y]=be,rr[Y]=ke,this.setPage(Y)}return this},B.deletePage=function(){return Q6.apply(this,arguments),this},B.__private__.text=B.text=function(M,Y,be,ke,rt){var Nt,an,Kn,Ci,lr,mr,es,_a,qa,Hl=(ke=ke||{}).scope||this;if("number"==typeof M&&"number"==typeof Y&&("string"==typeof be||Array.isArray(be))){var zu=be;be=Y,Y=M,M=zu}if(arguments[3]instanceof Li?(xe("The transform parameter of text() with a Matrix value"),qa=rt):(Kn=arguments[4],Ci=arguments[5],"object"===Ls(es=arguments[3])&&null!==es||("string"==typeof Kn&&(Ci=Kn,Kn=null),"string"==typeof es&&(Ci=es,es=null),"number"==typeof es&&(Kn=es,es=null),ke={flags:es,angle:Kn,align:Ci})),isNaN(Y)||isNaN(be)||null==M)throw new Error("Invalid arguments passed to jsPDF.text");if(0===M.length)return Hl;var Oc="",mg=!1,RA="number"==typeof ke.lineHeightFactor?ke.lineHeightFactor:BC,nv=Hl.internal.scaleFactor;function TO(Fo){return Fo=Fo.split("\t").join(Array(ke.TabLen||9).join(" ")),wh(Fo,es)}function iT(Fo){for(var Mo,ml=Fo.concat(),lc=[],ov=ml.length;ov--;)"string"==typeof(Mo=ml.shift())?lc.push(Mo):Array.isArray(Fo)&&(1===Mo.length||void 0===Mo[1]&&void 0===Mo[2])?lc.push(Mo[0]):lc.push([Mo[0],Mo[1],Mo[2]]);return lc}function rT(Fo,Mo){var ml;if("string"==typeof Fo)ml=Mo(Fo)[0];else if(Array.isArray(Fo)){for(var lc,ov,dw=Fo.concat(),VE=[],FO=dw.length;FO--;)"string"==typeof(lc=dw.shift())?VE.push(Mo(lc)[0]):Array.isArray(lc)&&"string"==typeof lc[0]&&(ov=Mo(lc[0],lc[1],lc[2]),VE.push([ov[0],ov[1],ov[2]]));ml=VE}return ml}var RE=!1,sT=!0;if("string"==typeof M)RE=!0;else if(Array.isArray(M)){var oT=M.concat();an=[];for(var OE,bh=oT.length;bh--;)("string"!=typeof(OE=oT.shift())||Array.isArray(OE)&&"string"!=typeof OE[0])&&(sT=!1);RE=sT}if(!1===RE)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');"string"==typeof M&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var LE=Dn/Hl.internal.scaleFactor,NE=LE*(RA-1);switch(ke.baseline){case"bottom":be-=NE;break;case"top":be+=LE-NE;break;case"hanging":be+=LE-2*NE;break;case"middle":be+=LE/2-NE}if((mr=ke.maxWidth||0)>0&&("string"==typeof M?M=Hl.splitTextToSize(M,mr):"[object Array]"===Object.prototype.toString.call(M)&&(M=M.reduce(function(Fo,Mo){return Fo.concat(Hl.splitTextToSize(Mo,mr))},[]))),Es.publish("preProcessText",Nt={text:M,x:Y,y:be,options:ke,mutex:{pdfEscape:wh,activeFontKey:Fr,fonts:fo,activeFontSize:Dn}}),M=Nt.text,Kn=(ke=Nt.options).angle,qa instanceof Li||!Kn||"number"!=typeof Kn)Kn&&Kn instanceof Li&&(qa=Kn);else{Kn*=Math.PI/180,0===ke.rotationDirection&&(Kn=-Kn),fe===W.ADVANCED&&(Kn=-Kn);var PE=Math.cos(Kn),aT=Math.sin(Kn);qa=new Li(PE,aT,-aT,PE,0,0)}fe!==W.ADVANCED||qa||(qa=A_),void 0!==(lr=ke.charSpace||FE)&&(Oc+=Ke(Ae(lr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(_a=ke.horizontalScale)&&(Oc+=Ke(100*_a)+" Tz\n");var Ch=-1,iQ=void 0!==ke.renderingMode?ke.renderingMode:ke.stroke,lT=Hl.internal.getCurrentPageInfo().pageContext;switch(iQ){case 0:case!1:case"fill":Ch=0;break;case 1:case!0:case"stroke":Ch=1;break;case 2:case"fillThenStroke":Ch=2;break;case 3:case"invisible":Ch=3;break;case 4:case"fillAndAddForClipping":Ch=4;break;case 5:case"strokeAndAddPathForClipping":Ch=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ch=6;break;case 7:case"addToPathForClipping":Ch=7}var BO=void 0!==lT.usedRenderingMode?lT.usedRenderingMode:-1;-1!==Ch?Oc+=Ch+" Tr\n":-1!==BO&&(Oc+="0 Tr\n"),-1!==Ch&&(lT.usedRenderingMode=Ch),Ci=ke.align||"left";var _g,cT=Dn*RA,rQ=Hl.internal.pageSize.getWidth(),sQ=fo[Fr];lr=ke.charSpace||FE,mr=ke.maxWidth||0,es=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var aw=[];if("[object Array]"===Object.prototype.toString.call(M)){var Vf;an=iT(M),"left"!==Ci&&(_g=an.map(function(Fo){return Hl.getStringUnitWidth(Fo,{font:sQ,charSpace:lr,fontSize:Dn,doKerning:!1})*Dn/nv}));var yg,lw=0;if("right"===Ci){Y-=_g[0],M=[],bh=an.length;for(var m_=0;m_<bh;m_++)0===m_?(yg=tv(Y),Vf=rw(be)):(yg=Ae(lw-_g[m_]),Vf=-cT),M.push([an[m_],yg,Vf]),lw=_g[m_]}else if("center"===Ci){Y-=_g[0]/2,M=[],bh=an.length;for(var iv=0;iv<bh;iv++)0===iv?(yg=tv(Y),Vf=rw(be)):(yg=Ae((lw-_g[iv])/2),Vf=-cT),M.push([an[iv],yg,Vf]),lw=_g[iv]}else if("left"===Ci){M=[],bh=an.length;for(var UE=0;UE<bh;UE++)M.push(an[UE])}else{if("justify"!==Ci)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');M=[],bh=an.length,mr=0!==mr?mr:rQ;for(var vg=0;vg<bh;vg++)Vf=0===vg?rw(be):-cT,yg=0===vg?tv(Y):0,aw.push(vg<bh-1?Ke(Ae((mr-_g[vg])/(an[vg].split(" ").length-1))):0),M.push([an[vg],yg,Vf])}}var QE="boolean"==typeof ke.R2L?ke.R2L:vi;!0===QE&&(M=rT(M,function(Fo,Mo,ml){return[Fo.split("").reverse().join(""),Mo,ml]})),Es.publish("postProcessText",Nt={text:M,x:Y,y:be,options:ke,mutex:{pdfEscape:wh,activeFontKey:Fr,fonts:fo,activeFontSize:Dn}}),M=Nt.text,mg=Nt.mutex.isHex||!1;var uT=fo[Fr].encoding;"WinAnsiEncoding"!==uT&&"StandardEncoding"!==uT||(M=rT(M,function(Fo,Mo,ml){return[TO(Fo),Mo,ml]})),an=iT(M),M=[];for(var cw,wg,rv,kC=0,HE=1,RC=Array.isArray(an[0])?HE:kC,uw="",dT=function(Fo,Mo,ml){var lc="";return ml instanceof Li?(ml="number"==typeof ke.angle?dg(ml,new Li(1,0,0,1,Fo,Mo)):dg(new Li(1,0,0,1,Fo,Mo),ml),fe===W.ADVANCED&&(ml=dg(new Li(1,0,0,-1,0,0),ml)),lc=ml.join(" ")+" Tm\n"):lc=Ke(Fo)+" "+Ke(Mo)+" Td\n",lc},Gf=0;Gf<an.length;Gf++){switch(uw="",RC){case HE:rv=(mg?"<":"(")+an[Gf][0]+(mg?">":")"),cw=parseFloat(an[Gf][1]),wg=parseFloat(an[Gf][2]);break;case kC:rv=(mg?"<":"(")+an[Gf]+(mg?">":")"),cw=tv(Y),wg=rw(be)}void 0!==aw&&void 0!==aw[Gf]&&(uw=aw[Gf]+" Tw\n"),0===Gf?M.push(uw+dT(cw,wg,qa)+rv):RC===kC?M.push(uw+rv):RC===HE&&M.push(uw+dT(cw,wg,qa)+rv)}M=M.join(RC===kC?" Tj\nT* ":" Tj\n"),M+=" Tj\n";var sv="BT\n/";return sv+=Fr+" "+Dn+" Tf\n",sv+=Ke(Dn*RA)+" TL\n",sv+=FC+"\n",sv+=Oc,sv+=M,Ee(sv+="ET"),F[Fr]=!0,Hl};var Z6=B.__private__.clip=B.clip=function(M){return Ee("evenodd"===M?"W*":"W"),this};B.clipEvenOdd=function(){return Z6("evenodd")},B.__private__.discardPath=B.discardPath=function(){return Ee("n"),this};var g_=B.__private__.isValidStyle=function(M){var Y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)&&(Y=!0),Y};B.__private__.setDefaultPathOperation=B.setDefaultPathOperation=function(M){return g_(M)&&(f=M),this};var wO=B.__private__.getStyle=B.getStyle=function(M){var Y=f;switch(M){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=M}return Y},bO=B.close=function(){return Ee("h"),this};B.stroke=function(){return Ee("S"),this},B.fill=function(M){return TE("f",M),this},B.fillEvenOdd=function(M){return TE("f*",M),this},B.fillStroke=function(M){return TE("B",M),this},B.fillStrokeEvenOdd=function(M){return TE("B*",M),this};var TE=function(M,Y){"object"===Ls(Y)?Y6(Y,M):Ee(M)},KD=function(M){null===M||fe===W.ADVANCED&&void 0===M||(M=wO(M),Ee(M))};function $6(M,Y,be,ke,rt){var Nt=new dE(Y||this.boundingBox,be||this.xStep,ke||this.yStep,this.gState,rt||this.matrix);Nt.stream=this.stream;var an=M+"$$"+this.cloneIndex+++"$$";return vh(an,Nt),Nt}var Y6=function(M,Y){var be=SC[M.key],ke=xs[be];if(ke instanceof vC)Ee("q"),Ee(W6(Y)),ke.gState&&B.setGState(ke.gState),Ee(M.matrix.toString()+" cm"),Ee("/"+be+" sh"),Ee("Q");else if(ke instanceof dE){var rt=new Li(1,0,0,-1,0,ow());M.matrix&&(rt=rt.multiply(M.matrix||A_),be=$6.call(ke,M.key,M.boundingBox,M.xStep,M.yStep,rt).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+be+" scn"),ke.gState&&B.setGState(ke.gState),Ee(Y),Ee("Q")}},W6=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ZD=B.moveTo=function(M,Y){return Ee(Ke(Ae(M))+" "+Ke(Te(Y))+" m"),this},TC=B.lineTo=function(M,Y){return Ee(Ke(Ae(M))+" "+Ke(Te(Y))+" l"),this},iw=B.curveTo=function(M,Y,be,ke,rt,Nt){return Ee([Ke(Ae(M)),Ke(Te(Y)),Ke(Ae(be)),Ke(Te(ke)),Ke(Ae(rt)),Ke(Te(Nt)),"c"].join(" ")),this};B.__private__.line=B.line=function(M,Y,be,ke,rt){if(isNaN(M)||isNaN(Y)||isNaN(be)||isNaN(ke)||!g_(rt))throw new Error("Invalid arguments passed to jsPDF.line");return fe===W.COMPAT?this.lines([[be-M,ke-Y]],M,Y,[1,1],rt||"S"):this.lines([[be-M,ke-Y]],M,Y,[1,1]).stroke()},B.__private__.lines=B.lines=function(M,Y,be,ke,rt,Nt){var an,Kn,Ci,lr,mr,zu,Oc,mg;if("number"==typeof M&&(mg=be,be=Y,Y=M,M=mg),ke=ke||[1,1],Nt=Nt||!1,isNaN(Y)||isNaN(be)||!Array.isArray(M)||!Array.isArray(ke)||!g_(rt)||"boolean"!=typeof Nt)throw new Error("Invalid arguments passed to jsPDF.lines");for(ZD(Y,be),an=ke[0],Kn=ke[1],lr=M.length,zu=Y,Oc=be,Ci=0;Ci<lr;Ci++)2===(mr=M[Ci]).length?TC(zu=mr[0]*an+zu,Oc=mr[1]*Kn+Oc):iw(mr[0]*an+zu,mr[1]*Kn+Oc,mr[2]*an+zu,mr[3]*Kn+Oc,zu=mr[4]*an+zu,Oc=mr[5]*Kn+Oc);return Nt&&bO(),KD(rt),this},B.path=function(M){for(var Y=0;Y<M.length;Y++){var be=M[Y],ke=be.c;switch(be.op){case"m":ZD(ke[0],ke[1]);break;case"l":TC(ke[0],ke[1]);break;case"c":iw.apply(this,ke);break;case"h":bO()}}return this},B.__private__.rect=B.rect=function(M,Y,be,ke,rt){if(isNaN(M)||isNaN(Y)||isNaN(be)||isNaN(ke)||!g_(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return fe===W.COMPAT&&(ke=-ke),Ee([Ke(Ae(M)),Ke(Te(Y)),Ke(Ae(be)),Ke(Ae(ke)),"re"].join(" ")),KD(rt),this},B.__private__.triangle=B.triangle=function(M,Y,be,ke,rt,Nt,an){if(isNaN(M)||isNaN(Y)||isNaN(be)||isNaN(ke)||isNaN(rt)||isNaN(Nt)||!g_(an))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-M,ke-Y],[rt-be,Nt-ke],[M-rt,Y-Nt]],M,Y,[1,1],an,!0),this},B.__private__.roundedRect=B.roundedRect=function(M,Y,be,ke,rt,Nt,an){if(isNaN(M)||isNaN(Y)||isNaN(be)||isNaN(ke)||isNaN(rt)||isNaN(Nt)||!g_(an))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kn=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*be),Nt=Math.min(Nt,.5*ke),this.lines([[be-2*rt,0],[rt*Kn,0,rt,Nt-Nt*Kn,rt,Nt],[0,ke-2*Nt],[0,Nt*Kn,-rt*Kn,Nt,-rt,Nt],[2*rt-be,0],[-rt*Kn,0,-rt,-Nt*Kn,-rt,-Nt],[0,2*Nt-ke],[0,-Nt*Kn,rt*Kn,-Nt,rt,-Nt]],M+rt,Y,[1,1],an,!0),this},B.__private__.ellipse=B.ellipse=function(M,Y,be,ke,rt){if(isNaN(M)||isNaN(Y)||isNaN(be)||isNaN(ke)||!g_(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*be,an=4/3*(Math.SQRT2-1)*ke;return ZD(M+be,Y),iw(M+be,Y-an,M+Nt,Y-ke,M,Y-ke),iw(M-Nt,Y-ke,M-be,Y-an,M-be,Y),iw(M-be,Y+an,M-Nt,Y+ke,M,Y+ke),iw(M+Nt,Y+ke,M+be,Y+an,M+be,Y),KD(rt),this},B.__private__.circle=B.circle=function(M,Y,be,ke){if(isNaN(M)||isNaN(Y)||isNaN(be)||!g_(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,Y,be,be,ke)},B.setFont=function(M,Y,be){return be&&(Y=ct(Y,be)),Fr=_O(M,Y,{disableWarning:!1}),this};var J6=B.__private__.getFont=B.getFont=function(){return fo[_O.apply(B,arguments)]};B.__private__.getFontList=B.getFontList=function(){var M,Y,be={};for(M in aa)if(aa.hasOwnProperty(M))for(Y in be[M]=[],aa[M])aa[M].hasOwnProperty(Y)&&be[M].push(Y);return be},B.addFont=function(M,Y,be,ke,rt){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Nt.indexOf(arguments[3])?rt=arguments[3]:arguments[3]&&-1==Nt.indexOf(arguments[3])&&(be=ct(be,ke)),jD.call(this,M,Y,be,rt=rt||"Identity-H")};var BC,$D=n.lineWidth||.200025,BE=B.__private__.getLineWidth=B.getLineWidth=function(){return $D},CO=B.__private__.setLineWidth=B.setLineWidth=function(M){return $D=M,Ee(Ke(Ae(M))+" w"),this};B.__private__.setLineDash=Oi.API.setLineDash=Oi.API.setLineDashPattern=function(M,Y){if(M=M||[],Y=Y||0,isNaN(Y)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(be){return Ke(Ae(be))}).join(" "),Y=Ke(Ae(Y)),Ee("["+M+"] "+Y+" d"),this};var xO=B.__private__.getLineHeight=B.getLineHeight=function(){return Dn*BC};B.__private__.getLineHeight=B.getLineHeight=function(){return Dn*BC};var EO=B.__private__.setLineHeightFactor=B.setLineHeightFactor=function(M){return"number"==typeof(M=M||1.15)&&(BC=M),this},SO=B.__private__.getLineHeightFactor=B.getLineHeightFactor=function(){return BC};EO(n.lineHeight);var tv=B.__private__.getHorizontalCoordinate=function(M){return Ae(M)},rw=B.__private__.getVerticalCoordinate=function(M){return fe===W.ADVANCED?M:rr[ve].mediaBox.topRightY-rr[ve].mediaBox.bottomLeftY-Ae(M)},X6=B.__private__.getHorizontalCoordinateString=B.getHorizontalCoordinateString=function(M){return Ke(tv(M))},sw=B.__private__.getVerticalCoordinateString=B.getVerticalCoordinateString=function(M){return Ke(rw(M))},gg=n.strokeColor||"0 G";B.__private__.getStrokeColor=B.getDrawColor=function(){return Ag(gg)},B.__private__.setStrokeColor=B.setDrawColor=function(M,Y,be,ke){return gg=fg({ch1:M,ch2:Y,ch3:be,ch4:ke,pdfColorType:"draw",precision:2}),Ee(gg),this};var YD=n.fillColor||"0 g";B.__private__.getFillColor=B.getFillColor=function(){return Ag(YD)},B.__private__.setFillColor=B.setFillColor=function(M,Y,be,ke){return YD=fg({ch1:M,ch2:Y,ch3:be,ch4:ke,pdfColorType:"fill",precision:2}),Ee(YD),this};var FC=n.textColor||"0 g",eQ=B.__private__.getTextColor=B.getTextColor=function(){return Ag(FC)};B.__private__.setTextColor=B.setTextColor=function(M,Y,be,ke){return FC=fg({ch1:M,ch2:Y,ch3:be,ch4:ke,pdfColorType:"text",precision:3}),this};var FE=n.charSpace,tQ=B.__private__.getCharSpace=B.getCharSpace=function(){return parseFloat(FE||0)};B.__private__.setCharSpace=B.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return FE=M,this};var WD=0;B.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},B.__private__.setLineCap=B.setLineCap=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return WD=Y,Ee(Y+" J"),this};var JD=0;B.__private__.setLineJoin=B.setLineJoin=function(M){var Y=B.CapJoinStyles[M];if(void 0===Y)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return JD=Y,Ee(Y+" j"),this},B.__private__.setLineMiterLimit=B.__private__.setMiterLimit=B.setLineMiterLimit=B.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(Ke(Ae(M))+" M"),this},B.GState=NR,B.setGState=function(M){(M="string"==typeof M?ja[ug[M]]:IO(null,M)).equals(Jy)||(Ee("/"+M.id+" gs"),Jy=M)};var IO=function(M,Y){if(!M||!ug[M]){var be=!1;for(var ke in ja)if(ja.hasOwnProperty(ke)&&ja[ke].equals(Y)){be=!0;break}if(be)Y=ja[ke];else{var rt="GS"+(Object.keys(ja).length+1).toString(10);ja[rt]=Y,Y.id=rt}return M&&(ug[M]=Y.id),Es.publish("addGState",Y),Y}};B.addGState=function(M,Y){return IO(M,Y),this},B.saveGraphicsState=function(){return Ee("q"),u_.push({key:Fr,size:Dn,color:FC}),this},B.restoreGraphicsState=function(){Ee("Q");var M=u_.pop();return Fr=M.key,Dn=M.size,FC=M.color,Jy=null,this},B.setCurrentTransformationMatrix=function(M){return Ee(M.toString()+" cm"),this},B.comment=function(M){return Ee("#"+M),this};var ME=function(M,Y){var be=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Nt){isNaN(Nt)||(be=parseFloat(Nt))}});var ke=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(Nt){isNaN(Nt)||(ke=parseFloat(Nt))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(Nt){rt=Nt.toString()}}),this},XD=function(M,Y,be,ke){ME.call(this,M,Y),this.type="rect";var rt=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(an){isNaN(an)||(rt=parseFloat(an))}});var Nt=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(an){isNaN(an)||(Nt=parseFloat(an))}}),this},eT=function(){this.page=za,this.currentPage=ve,this.pages=An.slice(0),this.pagesContext=rr.slice(0),this.x=Gu,this.y=hs,this.matrix=cg,this.width=MC(ve),this.height=ow(ve),this.outputDestination=Xn,this.id="",this.objectNumber=-1};eT.prototype.restore=function(){za=this.page,rr=this.pagesContext,An=this.pages,Gu=this.x,hs=this.y,cg=this.matrix,tT(ve=this.currentPage,this.width),nT(ve,this.height),Xn=this.outputDestination};var DO=function(M,Y,be,ke,rt){h_.push(new eT),za=ve=0,An=[],Gu=M,hs=Y,cg=rt,zD([be,ke])},nQ=function(M){if(d_[M])h_.pop().restore();else{var Y=new eT,be="Xo"+(Object.keys(ou).length+1).toString(10);Y.id=be,d_[M]=be,ou[be]=Y,Es.publish("addFormObject",Y),h_.pop().restore()}};for(var kE in B.beginFormObject=function(M,Y,be,ke,rt){return DO(M,Y,be,ke,rt),this},B.endFormObject=function(M){return nQ(M),this},B.doFormObject=function(M,Y){var be=ou[d_[M]];return Ee("q"),Ee(Y.toString()+" cm"),Ee("/"+be.id+" Do"),Ee("Q"),this},B.getFormObject=function(M){var Y=ou[d_[M]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},B.save=function(M,Y){return M=M||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,!1===Y.returnPromise?(yC(IE(ev()),M),"function"==typeof yC.unload&&Pi.setTimeout&&setTimeout(yC.unload,911),this):new Promise(function(be,ke){try{var rt=yC(IE(ev()),M);"function"==typeof yC.unload&&Pi.setTimeout&&setTimeout(yC.unload,911),be(rt)}catch(Nt){ke(Nt.message)}})},Oi.API)Oi.API.hasOwnProperty(kE)&&("events"===kE&&Oi.API.events.length?function(M,Y){var ke,rt;for(rt=Y.length-1;-1!==rt;rt--)M.subscribe.apply(M,[Y[rt][0]].concat("function"==typeof(ke=Y[rt][1])?[ke]:ke))}(Es,Oi.API.events):B[kE]=Oi.API[kE]);var MC=B.getPageWidth=function(M){return(rr[M=M||ve].mediaBox.topRightX-rr[M].mediaBox.bottomLeftX)/Vn},tT=B.setPageWidth=function(M,Y){rr[M].mediaBox.topRightX=Y*Vn+rr[M].mediaBox.bottomLeftX},ow=B.getPageHeight=function(M){return(rr[M=M||ve].mediaBox.topRightY-rr[M].mediaBox.bottomLeftY)/Vn},nT=B.setPageHeight=function(M,Y){rr[M].mediaBox.topRightY=Y*Vn+rr[M].mediaBox.bottomLeftY};return B.internal={pdfEscape:wh,getStyle:wO,getFont:J6,getFontSize:Nn,getCharSpace:tQ,getTextColor:eQ,getLineHeight:xO,getLineHeightFactor:SO,getLineWidth:BE,write:ar,getHorizontalCoordinate:tv,getVerticalCoordinate:rw,getCoordinateString:X6,getVerticalCoordinateString:sw,collections:{},newObject:ac,newAdditionalObject:yE,newObjectDeferred:Ql,newObjectDeferredBegin:kA,getFilters:f_,putStream:Hf,events:Es,scaleFactor:Vn,pageSize:{getWidth:function(){return MC(ve)},setWidth:function(M){tT(ve,M)},getHeight:function(){return ow(ve)},setHeight:function(M){nT(ve,M)}},encryptionOptions:_,encryption:ju,getEncryptor:q6,output:DE,getNumberOfPages:H6,pages:An,out:Ee,f2:Rt,f3:pe,getPageInfo:vO,getPageInfoByObjId:Xi,getCurrentPageInfo:K6,getPDFVersion:H,Point:ME,Rectangle:XD,Matrix:Li,hasHotfix:yO},Object.defineProperty(B.internal.pageSize,"width",{get:function(){return MC(ve)},set:function(M){tT(ve,M)},enumerable:!0,configurable:!0}),Object.defineProperty(B.internal.pageSize,"height",{get:function(){return ow(ve)},set:function(M){nT(ve,M)},enumerable:!0,configurable:!0}),U6.call(B,fn),Fr="F1",gO(r,e),Es.publish("initialized"),B}cE.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},cE.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cE.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},cE.prototype.processOwnerPassword=function(n,t){return z3(j3(t).substr(0,5),n)},cE.prototype.encryptor=function(n,t){var e=j3(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return z3(e,i)}},NR.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Ls(n)!==Ls(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},Oi.API={events:[]},Oi.version="2.5.1";var Ga=Oi.API,q3=1,wC=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hE=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nr=function(n){return n.toFixed(2)},X0=function(n){return n.toFixed(5)};Ga.__acroform__={};var yh=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},wK=function(n){return n*q3},s_=function(n){var t=new CK,e=si.internal.getHeight(n)||0,i=si.internal.getWidth(n)||0;return t.BBox=[0,0,Number(nr(i)),Number(nr(e))],t},Wpe=Ga.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Jpe=Ga.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},Xpe=Ga.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<t)?0:1},hl=Ga.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xpe(n,t-1)},Al=Ga.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wpe(n,t-1)},fl=Ga.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Jpe(n,t-1)},ege=Ga.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],o=n[1],a=n[2],u=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(o+u)||0,h.upperRight_X=e(r+a)||0,h.upperRight_Y=i(o)||0,[Number(nr(h.lowerLeft_X)),Number(nr(h.lowerLeft_Y)),Number(nr(h.upperRight_X)),Number(nr(h.upperRight_Y))]},tge=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=K3(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+nr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=s_(n);return o.scope=n.scope,o.stream=t.join("\n"),o}},K3=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(pe){return pe.split("\n")}:function(pe){return[pe]});var o=e,a=si.internal.getHeight(n)||0;a=a<0?-a:a;var pe,u=si.internal.getWidth(n)||0;u=u<0?-u:u,o++;e:for(;o>0;){t="",o--;var f,_,b=PR("3",n,o).height,F=n.multiline?a-o:(a-b)/2,B=F+=2,U=0,H=0,Z=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+PR(t,n,o=12).width+", FieldWidth:"+u+"\n";break}for(var z="",W=0,fe=0;fe<r.length;fe++)if(r.hasOwnProperty(fe)){var De=!1;if(1!==r[fe].length&&Z!==r[fe].length-1){if((b+2)*(W+2)+2>a)continue e;z+=r[fe][Z],De=!0,H=fe,fe--}else{z=" "==(z+=r[fe][Z]+" ").substr(z.length-1)?z.substr(0,z.length-1):z;var Ye=parseInt(fe),ct=(pe=Ye)+1<r.length&&PR(z+" "+r[pe+1][0],n,o).width<=u-4,Ke=fe>=r.length-1;if(ct&&!Ke){z+=" ",Z=0;continue}if(ct||Ke){if(Ke)H=Ye;else if(n.multiline&&(b+2)*(W+2)+2>a)continue e}else{if(!n.multiline||(b+2)*(W+2)+2>a)continue e;H=Ye}}for(var xe="",Lt=U;Lt<=H;Lt++){var Rt=r[Lt];if(n.multiline){if(Lt===H){xe+=Rt[Z]+" ",Z=(Z+1)%Rt.length;continue}if(Lt===U){xe+=Rt[Rt.length-1]+" ";continue}}xe+=Rt[0]+" "}switch(xe=" "==xe.substr(xe.length-1)?xe.substr(0,xe.length-1):xe,_=PR(xe,n,o).width,n.textAlign){case"right":f=u-_-2;break;case"center":f=(u-_)/2;break;default:f=2}t+=nr(f)+" "+nr(B)+" Td\n",t+="("+wC(xe)+") Tj\n",t+=-nr(f)+" 0 Td\n",B=-(o+2),_=0,U=De?H:H+1,W++,z=""}break}return i.text=t,i.fontSize=o,i},PR=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},nge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ige=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},bK=Ga.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(0!==o&&(r+=" "),Ls(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":"/"!==n[o].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+wC(i(n[o].toString()))+")"):r+=n[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Z3=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+wC(i(n))+")"},o_=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};o_.prototype.toString=function(){return this.objId+" 0 R"},o_.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},o_.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return"content"!=o&&"appearanceStreamContent"!=o&&"scope"!=o&&"objId"!=o&&"_"!=o.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:bK(r,this.objId,this.scope)}):r instanceof o_?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var CK=function(){o_.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};yh(CK,o_);var xK=function(){o_.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+wC(e(n))+")"}},set:function(e){n=e}})};yh(xK,o_);var og=function n(){o_.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(z){if(isNaN(z))throw new Error('Invalid value "'+z+'" for attribute F supplied.');t=z}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(t,3))},set:function(z){this.F=!0===Boolean(z)?Al(t,3):fl(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(z){if(isNaN(z))throw new Error('Invalid value "'+z+'" for attribute Ff supplied.');e=z}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(z){i=void 0!==z?z:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(z){i[0]=z}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(z){i[1]=z}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(z){i[2]=z}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(z){i[3]=z}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(z){switch(z){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=z;break;default:throw new Error('Invalid value "'+z+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof HR)return;o="FieldObject"+n.FieldNum++}var z=function(W){return W};return this.scope&&(z=this.scope.internal.getEncryptor(this.objId)),"("+wC(z(o))+")"},set:function(z){o=z.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(z){o=z}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(z){a=z}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(z){u=z}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(z){h=z}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===f?50/q3:f},set:function(z){f=z}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(z){_=z}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof HR||this instanceof bC))return Z3(b,this.objId,this.scope)},set:function(z){z=z.toString(),b=z}});var F=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(F)return this instanceof Rc?F:Z3(F,this.objId,this.scope)},set:function(z){z=z.toString(),F=this instanceof Rc?z:"("===z.substr(0,1)?hE(z.substr(1,z.length-2)):hE(z)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rc?hE(F.substr(1,F.length-1)):F},set:function(z){z=z.toString(),F=this instanceof Rc?"/"+z:z}});var B=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(B)return B},set:function(z){this.V=z}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Rc?B:Z3(B,this.objId,this.scope)},set:function(z){z=z.toString(),B=this instanceof Rc?z:"("===z.substr(0,1)?hE(z.substr(1,z.length-2)):hE(z)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rc?hE(B.substr(1,B.length-1)):B},set:function(z){z=z.toString(),B=this instanceof Rc?"/"+z:z}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(z){z=Boolean(z),H=z}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(z){U=z}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,1))},set:function(z){this.Ff=!0===Boolean(z)?Al(this.Ff,1):fl(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,2))},set:function(z){this.Ff=!0===Boolean(z)?Al(this.Ff,2):fl(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,3))},set:function(z){this.Ff=!0===Boolean(z)?Al(this.Ff,3):fl(this.Ff,3)}});var Z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Z)return Z},set:function(z){if(-1===[0,1,2].indexOf(z))throw new Error('Invalid value "'+z+'" for attribute Q supplied.');Z=z}}),Object.defineProperty(this,"textAlign",{get:function(){var z;switch(Z){case 0:default:z="left";break;case 1:z="center";break;case 2:z="right"}return z},configurable:!0,enumerable:!0,set:function(z){switch(z){case"right":case 2:Z=2;break;case"center":case 1:Z=1;break;default:Z=0}}})};yh(og,o_);var AE=function(){og.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bK(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(o,a,u){u||(u=1);for(var h,f=[];h=a.exec(o);)f.push(h[u]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,18):fl(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?Al(this.Ff,19):fl(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Al(this.Ff,20),t.sort()):this.Ff=fl(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,22):fl(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,23):fl(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,27):fl(this.Ff,27)}}),this.hasAppearanceStream=!1};yh(AE,og);var fE=function(){AE.call(this),this.fontName="helvetica",this.combo=!1};yh(fE,AE);var pE=function(){fE.call(this),this.combo=!0};yh(pE,fE);var UR=function(){pE.call(this),this.edit=!0};yh(UR,pE);var Rc=function(){og.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,15):fl(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,16):fl(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,17):fl(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?Al(this.Ff,26):fl(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+wC(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===Ls(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};yh(Rc,og);var QR=function(){Rc.call(this),this.pushButton=!0};yh(QR,Rc);var gE=function(){Rc.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};yh(gE,Rc);var HR=function(){var n,t;og.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),i)a.push("/"+o+" ("+wC(r(i[o]))+")");return a.push(">>"),a.join("\n")},set:function(r){"object"===Ls(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=si.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yh(HR,og),gE.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},gE.prototype.createOption=function(n){var t=new HR;return t.Parent=this,t.optionName=n,this.Kids.push(t),oge.call(this.scope,t),t};var VR=function(){Rc.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=si.CheckBox.createAppearanceStream()};yh(VR,Rc);var bC=function(){og.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,13):fl(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,21):fl(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,23):fl(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,24):fl(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,25):fl(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Al(this.Ff,26):fl(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yh(bC,og);var GR=function(){bC.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(hl(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?Al(this.Ff,14):fl(this.Ff,14)}}),this.password=!0};yh(GR,bC);var si={CheckBox:{createAppearanceStream:function(){return{N:{On:si.CheckBox.YesNormal},D:{On:si.CheckBox.YesPushDown,Off:si.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=K3(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+nr(si.internal.getWidth(n))+" "+nr(si.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+nr(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=s_(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=si.internal.getHeight(n),a=si.internal.getWidth(n),u=K3(n,n.caption);return r.push("1 g"),r.push("0 0 "+nr(a)+" "+nr(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+nr(a-1)+" "+nr(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+nr(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(si.internal.getWidth(n))+" "+nr(si.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:si.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=si.RadioButton.Circle.YesNormal,t.D[n]=si.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=s_(n);t.scope=n.scope;var e=[],i=si.internal.getWidth(n)<=si.internal.getHeight(n)?si.internal.getWidth(n)/4:si.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=Number((i*si.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+X0(si.internal.getWidth(n)/2)+" "+X0(si.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=[],i=si.internal.getWidth(n)<=si.internal.getHeight(n)?si.internal.getWidth(n)/4:si.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*si.internal.Bezier_C).toFixed(5)),a=Number((i*si.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+X0(si.internal.getWidth(n)/2)+" "+X0(si.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+X0(si.internal.getWidth(n)/2)+" "+X0(si.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=[],i=si.internal.getWidth(n)<=si.internal.getHeight(n)?si.internal.getWidth(n)/4:si.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*si.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+X0(si.internal.getWidth(n)/2)+" "+X0(si.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:si.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=si.RadioButton.Cross.YesNormal,t.D[n]=si.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=s_(n);t.scope=n.scope;var e=[],i=si.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+nr(si.internal.getWidth(n)-2)+" "+nr(si.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(nr(i.x1.x)+" "+nr(i.x1.y)+" m"),e.push(nr(i.x2.x)+" "+nr(i.x2.y)+" l"),e.push(nr(i.x4.x)+" "+nr(i.x4.y)+" m"),e.push(nr(i.x3.x)+" "+nr(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=si.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+nr(si.internal.getWidth(n))+" "+nr(si.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nr(si.internal.getWidth(n)-2)+" "+nr(si.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(nr(e.x1.x)+" "+nr(e.x1.y)+" m"),i.push(nr(e.x2.x)+" "+nr(e.x2.y)+" l"),i.push(nr(e.x4.x)+" "+nr(e.x4.y)+" m"),i.push(nr(e.x3.x)+" "+nr(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=s_(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nr(si.internal.getWidth(n))+" "+nr(si.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};si.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=si.internal.getWidth(n),e=si.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},si.internal.getWidth=function(n){var t=0;return"object"===Ls(n)&&(t=wK(n.Rect[2])),t},si.internal.getHeight=function(n){var t=0;return"object"===Ls(n)&&(t=wK(n.Rect[3])),t};var oge=Ga.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(og.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(nge)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");q3=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xK,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&ige(o,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var o=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var u=i[a],h=[],f=u.Rect;if(u.Rect&&(u.Rect=ege(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=si.createDefaultAppearanceStream(u),"object"===Ls(u)&&"function"==typeof u.getKeyValueListForStream&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var _=tge(u);h.push({key:"AP",value:"<</N "+_+">>"}),r.internal.acroformPlugin.xForms.push(_)}if(u.appearanceStreamContent){var b="";for(var F in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(F)){var B=u.appearanceStreamContent[F];if(b+="/"+F+" ",b+="<<",Object.keys(B).length>=1||Array.isArray(B)){for(var a in B)if(B.hasOwnProperty(a)){var U=B[a];"function"==typeof U&&(U=U.call(r,u)),b+="/"+a+" "+U+" ",r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U)}}else"function"==typeof(U=B)&&(U=U.call(r,u)),b+="/"+a+" "+U,r.internal.acroformPlugin.xForms.indexOf(U)>=0||r.internal.acroformPlugin.xForms.push(U);b+=">>"}h.push({key:"AP",value:"<<\n"+b+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}o&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===Ls(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof og))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function EK(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}Ga.AcroFormChoiceField=AE,Ga.AcroFormListBox=fE,Ga.AcroFormComboBox=pE,Ga.AcroFormEditBox=UR,Ga.AcroFormButton=Rc,Ga.AcroFormPushButton=QR,Ga.AcroFormRadioButton=gE,Ga.AcroFormCheckBox=VR,Ga.AcroFormTextField=bC,Ga.AcroFormPasswordField=GR,Ga.AcroFormAppearance=si,Ga.AcroForm={ChoiceField:AE,ListBox:fE,ComboBox:pE,EditBox:UR,Button:Rc,PushButton:QR,RadioButton:gE,CheckBox:VR,TextField:bC,PasswordField:GR,Appearance:si},Oi.AcroForm={ChoiceField:AE,ListBox:fE,ComboBox:pE,EditBox:UR,Button:Rc,PushButton:QR,RadioButton:gE,CheckBox:VR,TextField:bC,PasswordField:GR,Appearance:si},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(pe,Ae){var Me,Te,Tt,Pe,Xe,He=t;if("RGBA"===(Ae=Ae||t)||void 0!==pe.data&&pe.data instanceof Uint8ClampedArray&&"height"in pe&&"width"in pe)return"RGBA";if(ct(pe))for(Xe in e)for(Tt=e[Xe],Me=0;Me<Tt.length;Me+=1){for(Pe=!0,Te=0;Te<Tt[Me].length;Te+=1)if(void 0!==Tt[Me][Te]&&Tt[Me][Te]!==pe[Te]){Pe=!1;break}if(!0===Pe){He=Xe;break}}else for(Xe in e)for(Tt=e[Xe],Me=0;Me<Tt.length;Me+=1){for(Pe=!0,Te=0;Te<Tt[Me].length;Te+=1)if(void 0!==Tt[Me][Te]&&Tt[Me][Te]!==pe.charCodeAt(Te)){Pe=!1;break}if(!0===Pe){He=Xe;break}}return He===t&&Ae!==t&&(He=Ae),He},r=function pe(Ae){for(var Me=this.internal.write,Te=this.internal.putStream,Tt=(0,this.internal.getFilters)();-1!==Tt.indexOf("FlateEncode");)Tt.splice(Tt.indexOf("FlateEncode"),1);Ae.objectId=this.internal.newObject();var Pe=[];if(Pe.push({key:"Type",value:"/XObject"}),Pe.push({key:"Subtype",value:"/Image"}),Pe.push({key:"Width",value:Ae.width}),Pe.push({key:"Height",value:Ae.height}),Ae.colorSpace===Z.INDEXED?Pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ae.palette.length/3-1)+" "+("sMask"in Ae&&void 0!==Ae.sMask?Ae.objectId+2:Ae.objectId+1)+" 0 R]"}):(Pe.push({key:"ColorSpace",value:"/"+Ae.colorSpace}),Ae.colorSpace===Z.DEVICE_CMYK&&Pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Pe.push({key:"BitsPerComponent",value:Ae.bitsPerComponent}),"decodeParameters"in Ae&&void 0!==Ae.decodeParameters&&Pe.push({key:"DecodeParms",value:"<<"+Ae.decodeParameters+">>"}),"transparency"in Ae&&Array.isArray(Ae.transparency)){for(var Xe="",He=0,mt=Ae.transparency.length;He<mt;He++)Xe+=Ae.transparency[He]+" "+Ae.transparency[He]+" ";Pe.push({key:"Mask",value:"["+Xe+"]"})}if(void 0!==Ae.sMask&&Pe.push({key:"SMask",value:Ae.objectId+1+" 0 R"}),Te({data:Ae.data,additionalKeyValues:Pe,alreadyAppliedFilters:void 0!==Ae.filter?["/"+Ae.filter]:void 0,objectId:Ae.objectId}),Me("endobj"),"sMask"in Ae&&void 0!==Ae.sMask){var X={width:Ae.width,height:Ae.height,colorSpace:"DeviceGray",bitsPerComponent:Ae.bitsPerComponent,decodeParameters:"/Predictor "+Ae.predictor+" /Colors 1 /BitsPerComponent "+Ae.bitsPerComponent+" /Columns "+Ae.width,data:Ae.sMask};"filter"in Ae&&(X.filter=Ae.filter),pe.call(this,X)}if(Ae.colorSpace===Z.INDEXED){var ve=this.internal.newObject();Te({data:xe(new Uint8Array(Ae.palette)),objectId:ve}),Me("endobj")}},o=function(){var pe=this.internal.collections.addImage_images;for(var Ae in pe)r.call(this,pe[Ae])},a=function(){var pe,Ae=this.internal.collections.addImage_images,Me=this.internal.write;for(var Te in Ae)Me("/I"+(pe=Ae[Te]).index,pe.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},h=function(){var pe=this.internal.collections.addImage_images;return u.call(this),pe},f=function(){return Object.keys(this.internal.collections.addImage_images).length},_=function(pe){return"function"==typeof n["process"+pe.toUpperCase()]},b=function(pe){return"object"===Ls(pe)&&1===pe.nodeType},F=function(pe,Ae){if("IMG"===pe.nodeName&&pe.hasAttribute("src")){var Me=""+pe.getAttribute("src");if(0===Me.indexOf("data:image/"))return ND(unescape(Me).split("base64,").pop());var Te=n.loadFile(Me,!0);if(void 0!==Te)return Te}if("CANVAS"===pe.nodeName){if(0===pe.width||0===pe.height)throw new Error("Given canvas must have data. Canvas width: "+pe.width+", height: "+pe.height);var Tt;switch(Ae){case"PNG":Tt="image/png";break;case"WEBP":Tt="image/webp";break;default:Tt="image/jpeg"}return ND(pe.toDataURL(Tt,1).split("base64,").pop())}},B=function(pe){var Ae=this.internal.collections.addImage_images;if(Ae)for(var Me in Ae)if(pe===Ae[Me].alias)return Ae[Me]},U=function(pe,Ae,Me){return pe||Ae||(pe=-96,Ae=-96),pe<0&&(pe=-1*Me.width*72/pe/this.internal.scaleFactor),Ae<0&&(Ae=-1*Me.height*72/Ae/this.internal.scaleFactor),0===pe&&(pe=Ae*Me.width/Me.height),0===Ae&&(Ae=pe*Me.height/Me.width),[pe,Ae]},H=function(pe,Ae,Me,Te,Tt,Pe){var Xe=U.call(this,Me,Te,Tt),He=this.internal.getCoordinateString,mt=this.internal.getVerticalCoordinateString,Ct=h.call(this);if(Me=Xe[0],Te=Xe[1],Ct[Tt.index]=Tt,Pe){Pe*=Math.PI/180;var wn=Math.cos(Pe),X=Math.sin(Pe),ve=function(Ve){return Ve.toFixed(4)},we=[ve(wn),ve(X),ve(-1*X),ve(wn),0,0,"cm"]}this.internal.write("q"),Pe?(this.internal.write([1,"0","0",1,He(pe),mt(Ae+Te),"cm"].join(" ")),this.internal.write(we.join(" ")),this.internal.write([He(Me),"0","0",He(Te),"0","0","cm"].join(" "))):this.internal.write([He(Me),"0","0",He(Te),He(pe),mt(Ae+Te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Tt.index+" Do"),this.internal.write("Q")},Z=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=n.__addimage__.sHashCode=function(pe){var Ae,Me,Te=0;if("string"==typeof pe)for(Me=pe.length,Ae=0;Ae<Me;Ae++)Te=(Te<<5)-Te+pe.charCodeAt(Ae),Te|=0;else if(ct(pe))for(Me=pe.byteLength/2,Ae=0;Ae<Me;Ae++)Te=(Te<<5)-Te+pe[Ae],Te|=0;return Te},fe=n.__addimage__.validateStringAsBase64=function(pe){(pe=pe||"").toString().trim();var Ae=!0;return 0===pe.length&&(Ae=!1),pe.length%4!=0&&(Ae=!1),!1===/^[A-Za-z0-9+/]+$/.test(pe.substr(0,pe.length-2))&&(Ae=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(pe.substr(-2))&&(Ae=!1),Ae},De=n.__addimage__.extractImageFromDataUrl=function(pe){var Ae=(pe=pe||"").split("base64,"),Me=null;if(2===Ae.length){var Te=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Ae[0]);Array.isArray(Te)&&(Me={mimeType:Te[1],charset:Te[2],data:Ae[1]})}return Me},Ye=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(pe){return Ye()&&pe instanceof ArrayBuffer};var ct=n.__addimage__.isArrayBufferView=function(pe){return Ye()&&typeof Uint32Array<"u"&&(pe instanceof Int8Array||pe instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&pe instanceof Uint8ClampedArray||pe instanceof Int16Array||pe instanceof Uint16Array||pe instanceof Int32Array||pe instanceof Uint32Array||pe instanceof Float32Array||pe instanceof Float64Array)},Ke=n.__addimage__.binaryStringToUint8Array=function(pe){for(var Ae=pe.length,Me=new Uint8Array(Ae),Te=0;Te<Ae;Te++)Me[Te]=pe.charCodeAt(Te);return Me},xe=n.__addimage__.arrayBufferToBinaryString=function(pe){for(var Ae="",Me=ct(pe)?pe:new Uint8Array(pe),Te=0;Te<Me.length;Te+=8192)Ae+=String.fromCharCode.apply(null,Me.subarray(Te,Te+8192));return Ae};n.addImage=function(){var pe,Ae,Me,Te,Tt,Pe,Xe,He,mt;if("number"==typeof arguments[1]?(Ae=t,Me=arguments[1],Te=arguments[2],Tt=arguments[3],Pe=arguments[4],Xe=arguments[5],He=arguments[6],mt=arguments[7]):(Ae=arguments[1],Me=arguments[2],Te=arguments[3],Tt=arguments[4],Pe=arguments[5],Xe=arguments[6],He=arguments[7],mt=arguments[8]),"object"===Ls(pe=arguments[0])&&!b(pe)&&"imageData"in pe){var Ct=pe;pe=Ct.imageData,Ae=Ct.format||Ae||t,Me=Ct.x||Me||0,Te=Ct.y||Te||0,Tt=Ct.w||Ct.width||Tt,Pe=Ct.h||Ct.height||Pe,Xe=Ct.alias||Xe,He=Ct.compression||He,mt=Ct.rotation||Ct.angle||mt}var wn=this.internal.getFilters();if(void 0===He&&-1!==wn.indexOf("FlateEncode")&&(He="SLOW"),isNaN(Me)||isNaN(Te))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var X=Lt.call(this,pe,Ae,Xe,He);return H.call(this,Me,Te,Tt,Pe,X,mt),this};var Lt=function(pe,Ae,Me,Te){var Tt,Pe,Xe,mt;if("string"==typeof pe&&i(pe)===t){pe=unescape(pe);var He=Rt(pe,!1);(""!==He||void 0!==(He=n.loadFile(pe,!0)))&&(pe=He)}if(b(pe)&&(pe=F(pe,Ae)),Ae=i(pe,Ae),!_(Ae))throw new Error("addImage does not support files of type '"+Ae+"', please ensure that a plugin for '"+Ae+"' support is added.");if((null==(Xe=Me)||0===Xe.length)&&(Me="string"==typeof(mt=pe)||ct(mt)?W(mt):ct(mt.data)?W(mt.data):null),(Tt=B.call(this,Me))||(Ye()&&(pe instanceof Uint8Array||"RGBA"===Ae||(Pe=pe,pe=Ke(pe))),Tt=this["process"+Ae.toUpperCase()](pe,f.call(this),Me,function(mt){return mt&&"string"==typeof mt&&(mt=mt.toUpperCase()),mt in n.image_compression?mt:z.NONE}(Te),Pe)),!Tt)throw new Error("An unknown error occurred whilst processing the image.");return Tt},Rt=n.__addimage__.convertBase64ToBinaryString=function(pe,Ae){var Me;Ae="boolean"!=typeof Ae||Ae;var Te,Tt="";if("string"==typeof pe){Te=null!==(Me=De(pe))?Me.data:pe;try{Tt=ND(Te)}catch(Pe){if(Ae)throw fe(Te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Tt};n.getImageProperties=function(pe){var Ae,Me,Te="";if(b(pe)&&(pe=F(pe)),"string"==typeof pe&&i(pe)===t&&(""===(Te=Rt(pe,!1))&&(Te=n.loadFile(pe)||""),pe=Te),Me=i(pe),!_(Me))throw new Error("addImage does not support files of type '"+Me+"', please ensure that a plugin for '"+Me+"' support is added.");if(!Ye()||pe instanceof Uint8Array||(pe=Ke(pe)),!(Ae=this["process"+Me.toUpperCase()](pe)))throw new Error("An unknown error occurred whilst processing the image");return Ae.fileType=Me,Ae}}(Oi.API),function(n){var t=function(e){if(void 0!==e&&""!=e)return!0};Oi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,o,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,_=!1,b=0;b<f.length&&!_;b++)switch((i=f[b]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(0!=_){this.internal.write("/Annots [");for(var F=0;F<f.length;F++){i=f[F];var B=this.internal.pdfEscape,U=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),Z=this.internal.newAdditionalObject(),z=this.internal.getEncryptor(H.objId),W=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+B(z(i.contents))+")",o+=" /Popup "+Z.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+B(z(W))+") >>",H.content=o;var fe=H.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+fe,i.open&&(o+=" /Open true"),Z.content=o+=" >>",this.internal.write(H.objId,"0 R",Z.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+u(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var De=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+B(U(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+De+")",o+=" /Border [0 0 0]",this.internal.write(o+=" >>");break;case"link":if(i.options.name){var Ye=this.annotations._nameMap[i.options.name];i.options.pageNumber=Ye.page,i.options.top=Ye.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+B(U(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ct=u(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ct+" "+i.options.zoom+"]"}""!=o&&this.internal.write(o+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,o,a){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:f(i),w:h(e+r),h:f(i+o)},options:a,type:"link"})},n.textWithLink=function(e,i,r,o){var a,u,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==o.maxWidth){var _=this.splitTextToSize(e,u=o.maxWidth).length;a=Math.ceil(f*_)}else u=h,a=f;return this.text(e,i,r,o),"center"===o.align&&(i-=h/2),"right"===o.align&&(i-=h),this.link(i,(r+=.2*f)-f,u,a,o),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Oi.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(H){return void 0!==t[H.charCodeAt(0)]},a=n.__arabicParser__.isArabicLetter=function(H){return"string"==typeof H&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},u=n.__arabicParser__.isArabicEndLetter=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(H){return a(H)&&r.indexOf(H.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(H){return a(H)&&o(H)&&t[H.charCodeAt(0)].length>=3};var _=n.__arabicParser__.arabicLetterHasMedialForm=function(H){return a(H)&&o(H)&&4==t[H.charCodeAt(0)].length},b=n.__arabicParser__.resolveLigatures=function(H){var Z=0,z=e,W="",fe=0;for(Z=0;Z<H.length;Z+=1)void 0!==z[H.charCodeAt(Z)]?(fe++,"number"==typeof(z=z[H.charCodeAt(Z)])&&(W+=String.fromCharCode(z),z=e,fe=0),Z===H.length-1&&(z=e,W+=H.charAt(Z-(fe-1)),Z-=fe-1,fe=0)):(z=e,W+=H.charAt(Z-fe),Z-=fe,fe=0);return W};n.__arabicParser__.isArabicDiacritic=function(H){return void 0!==H&&void 0!==i[H.charCodeAt(0)]};var F=n.__arabicParser__.getCorrectForm=function(H,Z,z){return a(H)?!1===o(H)?-1:!f(H)||!a(Z)&&!a(z)||!a(z)&&u(Z)||u(H)&&!a(Z)||u(H)&&h(Z)||u(H)&&u(Z)?0:_(H)&&a(Z)&&!u(Z)&&a(z)&&f(z)?3:u(H)||!a(z)?1:2:-1},B=function(H){var Z=0,z=0,W=0,fe="",De="",Ye="",ct=(H=H||"").split("\\s+"),Ke=[];for(Z=0;Z<ct.length;Z+=1){for(Ke.push(""),z=0;z<ct[Z].length;z+=1)De=ct[Z][z-1],Ye=ct[Z][z+1],a(fe=ct[Z][z])?(W=F(fe,De,Ye),Ke[Z]+=-1!==W?String.fromCharCode(t[fe.charCodeAt(0)][W]):fe):Ke[Z]+=fe;Ke[Z]=b(Ke[Z])}return Ke.join(" ")},U=n.__arabicParser__.processArabic=n.processArabic=function(){var H,Z="string"==typeof arguments[0]?arguments[0]:arguments[0].text,z=[];if(Array.isArray(Z)){var W=0;for(z=[],W=0;W<Z.length;W+=1)Array.isArray(Z[W])?z.push([B(Z[W][0]),Z[W][1],Z[W][2]]):z.push([B(Z[W])]);H=z}else H=B(Z);return"string"==typeof arguments[0]?H:(arguments[0].text=H,arguments[0])};n.events.push(["preProcessText",U])}(Oi.API),Oi.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||!1===Number.isInteger(u)||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||!1===Number.isInteger(u)||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Oi.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(H){h=H}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(H){f=H}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(H){_=H}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(H){b=H}});var F=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return F},set:function(H){F=H}});var B=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return B},set:function(H){B=H}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(H){U=H}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof h?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var _=(f=f||{}).fontSize||this.getFontSize(),b=f.font||this.getFont(),F=f.scaleFactor||this.internal.scaleFactor,B=0,U=0,H=0,Z=this;if(!Array.isArray(h)&&"string"!=typeof h){if("number"!=typeof h)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var z=f.maxWidth;z>0?"string"==typeof h?h=this.splitTextToSize(h,z):"[object Array]"===Object.prototype.toString.call(h)&&(h=h.reduce(function(fe,De){return fe.concat(Z.splitTextToSize(De,z))},[])):h=Array.isArray(h)?h:[h];for(var W=0;W<h.length;W++)B<(H=this.getStringUnitWidth(h[W],{font:b})*_)&&(B=H);return 0!==B&&(U=h.length),{w:B/=F,h:Math.max((U*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/F,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,F=this.internal.__cell__.tableHeaderRow,B=this.internal.__cell__.printHeaders;return void 0!==f.lineNumber&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=b.top,B&&F&&(this.printHeaderRow(h.lineNumber,!0),h.y+=F[0].height)):h.y=f.y+f.height||h.y),void 0!==h.text[0]&&(this.rect(h.x,h.y,h.width,h.height,!0===e?"FD":void 0),"right"===h.align?this.text(h.text,h.x+h.width-_,h.y+_,{align:"right",baseline:"top"}):"center"===h.align?this.text(h.text,h.x+h.width/2,h.y+_,{align:"center",baseline:"top",maxWidth:h.width-_-_}):this.text(h.text,h.x+_,h.y+_,{align:"left",baseline:"top",maxWidth:h.width-_-_})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,_,b,F){if(i.call(this),!_)throw new Error("No data for PDF table.");var B,U,H,Z,z=[],W=[],fe=[],De={},Ye={},ct=[],Ke=[],xe=(F=F||{}).autoSize||!1,Lt=!1!==F.printHeaders,Rt=F.css&&void 0!==F.css["font-size"]?16*F.css["font-size"]:F.fontSize||12,pe=F.margins||Object.assign({width:this.getPageWidth()},t),Ae="number"==typeof F.padding?F.padding:3,Me=F.headerBackgroundColor||"#c8c8c8",Te=F.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=Lt,this.internal.__cell__.margins=pe,this.internal.__cell__.table_font_size=Rt,this.internal.__cell__.padding=Ae,this.internal.__cell__.headerBackgroundColor=Me,this.internal.__cell__.headerTextColor=Te,this.setFontSize(Rt),null==b)W=z=Object.keys(_[0]),fe=z.map(function(){return"left"});else if(Array.isArray(b)&&"object"===Ls(b[0]))for(z=b.map(function(Ct){return Ct.name}),W=b.map(function(Ct){return Ct.prompt||Ct.name||""}),fe=b.map(function(Ct){return Ct.align||"left"}),B=0;B<b.length;B+=1)Ye[b[B].name]=b[B].width*(19.049976/25.4);else Array.isArray(b)&&"string"==typeof b[0]&&(W=z=b,fe=z.map(function(){return"left"}));if(xe||Array.isArray(b)&&"string"==typeof b[0])for(B=0;B<z.length;B+=1){for(De[Z=z[B]]=_.map(function(Ct){return Ct[Z]}),this.setFont(void 0,"bold"),ct.push(this.getTextDimensions(W[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=De[Z],this.setFont(void 0,"normal"),H=0;H<U.length;H+=1)ct.push(this.getTextDimensions(U[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ye[Z]=Math.max.apply(null,ct)+Ae+Ae,ct=[]}if(Lt){var Tt={};for(B=0;B<z.length;B+=1)Tt[z[B]]={},Tt[z[B]].text=W[B],Tt[z[B]].align=fe[B];var Pe=u.call(this,Tt,Ye);Ke=z.map(function(Ct){return new o(h,f,Ye[Ct],Pe,Tt[Ct].text,void 0,Tt[Ct].align)}),this.setTableHeaderRow(Ke),this.printHeaderRow(1,!1)}var Xe=b.reduce(function(Ct,wn){return Ct[wn.name]=wn.align,Ct},{});for(B=0;B<_.length;B+=1){"rowStart"in F&&F.rowStart instanceof Function&&F.rowStart({row:B,data:_[B]},this);var He=u.call(this,_[B],Ye);for(H=0;H<z.length;H+=1){var mt=_[B][z[H]];"cellStart"in F&&F.cellStart instanceof Function&&F.cellStart({row:B,col:H,data:mt},this),a.call(this,new o(h,f,Ye[z[H]],He,mt,B+2,Xe[z[H]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var _=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,F=this.internal.scaleFactor;return Object.keys(h).map(function(B){var U=h[B];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,f[B]-_-_)},this).map(function(B){return this.getLineHeightFactor()*B.length*b/F+_+_},this).reduce(function(B,U){return Math.max(B,U)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var F=[],B=0;B<this.internal.__cell__.tableHeaderRow.length;B+=1){_=this.internal.__cell__.tableHeaderRow[B].clone(),f&&(_.y=this.internal.__cell__.margins.top||0,F.push(_)),_.lineNumber=h;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,_),this.setTextColor(U)}F.length>0&&this.setTableHeaderRow(F),this.setFont(void 0,"normal"),e=!1}}(Oi.API);var SK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},IK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$3=EK(IK),DK=[100,200,300,400,500,600,700,800,900],age=EK(DK);function Y3(n){var o,t=n.family.replace(/"|'/g,"").toLowerCase(),e=SK[o=(o=n.style)||"normal"]?o:"normal",i=function(o){return o?"number"==typeof o?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):"bold"===o?700:400:400}(n.weight),r=function(o){return"number"==typeof $3[o=o||"normal"]?o:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function TK(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var lge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BK={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FK(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function MK(n){return n.trimLeft()}function uge(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function dge(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var jR,kK,RK,W3=["times"];(function(n){var t,e,i,r,o,a,u,h,f,_=function(X){return this.isStrokeTransparent=(X=X||{}).isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=void 0!==X.transform?X.transform.clone():new h,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new a,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new a,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof X.ignoreClearRect||X.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new _}]);var b=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ve=X;Object.defineProperty(this,"pdf",{get:function(){return ve}});var we=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return we},set:function(Ut){we=Boolean(Ut)}});var Ve=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ve},set:function(Ut){Ve=Boolean(Ut)}});var et=0;Object.defineProperty(this,"posX",{get:function(){return et},set:function(Ut){isNaN(Ut)||(et=Ut)}});var lt=0;Object.defineProperty(this,"posY",{get:function(){return lt},set:function(Ut){isNaN(Ut)||(lt=Ut)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ut){var Ee;"number"==typeof Ut?Ee=[Ut,Ut,Ut,Ut]:((Ee=new Array(4))[0]=Ut[0],Ee[1]=Ut.length>=2?Ut[1]:Ee[0],Ee[2]=Ut.length>=3?Ut[2]:Ee[0],Ee[3]=Ut.length>=4?Ut[3]:Ee[1]),f.margin=Ee}});var yt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return yt},set:function(Ut){yt=Ut}});var _t=0;Object.defineProperty(this,"lastBreak",{get:function(){return _t},set:function(Ut){_t=Ut}});var _n=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _n},set:function(Ut){_n=Ut}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ut){Ut instanceof _&&(f=Ut)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ut){f.path=Ut}});var An=[];Object.defineProperty(this,"ctxStack",{get:function(){return An},set:function(Ut){An=Ut}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ut){var Ee;Ee=F(Ut),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=0===Ee.a,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ut){var Ee=F(Ut);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=0===Ee.a,this.ctx.strokeOpacity=Ee.a,0===Ee.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ut){-1!==["butt","round","square"].indexOf(Ut)&&(this.ctx.lineCap=Ut,this.pdf.setLineCap(Ut))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ut){isNaN(Ut)||(this.ctx.lineWidth=Ut,this.pdf.setLineWidth(Ut))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ut){-1!==["bevel","round","miter"].indexOf(Ut)&&(this.ctx.lineJoin=Ut,this.pdf.setLineJoin(Ut))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ut){isNaN(Ut)||(this.ctx.miterLimit=Ut,this.pdf.setMiterLimit(Ut))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ut){this.ctx.textBaseline=Ut}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ut){-1!==["right","end","center","left","start"].indexOf(Ut)&&(this.ctx.textAlign=Ut)}});var qn=null,Ui=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ui},set:function(Ut){qn=null,Ui=Ut}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ut){var Ee;if(this.ctx.font=Ut,null!==(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ut))){var ar=Ee[1],ci=Ee[3],fn=Ee[4],Dn=Ee[6],Hn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(fn)[2];fn=Math.floor("px"===Hn?parseFloat(fn)*this.pdf.internal.scaleFactor:"em"===Hn?parseFloat(fn)*this.pdf.getFontSize():parseFloat(fn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(fn);var Nn=function(qi){var Fr,Vn,Gu=[],hs=qi.trim();if(""===hs)return W3;if(hs in BK)return[BK[hs]];for(;""!==hs;){switch(Vn=null,Fr=(hs=MK(hs)).charAt(0)){case'"':case"'":Vn=uge(hs.substring(1),Fr);break;default:Vn=dge(hs)}if(null===Vn||(Gu.push(Vn[0]),""!==(hs=MK(Vn[1]))&&","!==hs.charAt(0)))return W3;hs=hs.replace(/^,/,"")}return Gu}(Dn);if(this.fontFaces){var vi=function cge(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},lge,e.genericFontFamilies||{}),o=null,a=null,u=0;u<t.length;++u)if(r[(o=Y3(t[u])).family]&&(o.family=r[o.family]),n.hasOwnProperty(o.family)){a=n[o.family];break}if(!(a=a||n[i]))throw new Error("Could not find a font-family for the rule '"+FK(o)+"' and default family '"+i+"'.");if(a=function(h,f){if(f[h])return f[h];var _=$3[h],F=TK(f,IK,_,_<=$3.normal?-1:1);if(!F)throw new Error("Could not find a matching font-stretch value for "+h);return F}(o.stretch,a),a=function(h,f){if(f[h])return f[h];for(var _=SK[h],b=0;b<_.length;++b)if(f[_[b]])return f[_[b]];throw new Error("Could not find a matching font-style for "+h)}(o.style,a),!(a=function(h,f){if(f[h])return f[h];if(400===h&&f[500])return f[500];if(500===h&&f[400])return f[400];var b=TK(f,DK,age[h],h<400?-1:1);if(!b)throw new Error("Could not find a matching font-weight for value "+h);return b}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+FK(o)+"'.");return a}(function Xn(Ut,Ee){if(null===qn){var ar=(ci=Ut.getFontList(),fn=[],Object.keys(ci).forEach(function(Dn){ci[Dn].forEach(function(Hn){var Nn=null;switch(Hn){case"bold":Nn={family:Dn,weight:"bold"};break;case"italic":Nn={family:Dn,style:"italic"};break;case"bolditalic":Nn={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":Nn={family:Dn}}null!==Nn&&(Nn.ref={name:Dn,style:Hn},fn.push(Nn))})}),fn);qn=function(ci){for(var fn={},Dn=0;Dn<ci.length;++Dn){var Hn=Y3(ci[Dn]),Nn=Hn.family,vi=Hn.stretch,ir=Hn.style,pr=Hn.weight;fn[Nn]=fn[Nn]||{},fn[Nn][vi]=fn[Nn][vi]||{},fn[Nn][vi][ir]=fn[Nn][vi][ir]||{},fn[Nn][vi][ir][pr]=Hn}return fn}(ar.concat(Ee))}var ci,fn;return qn}(this.pdf,this.fontFaces),Nn.map(function(qi){return{family:qi,stretch:"normal",weight:ci,style:ar}}));this.pdf.setFont(vi.ref.name,vi.ref.style)}else{var ir="";("bold"===ci||parseInt(ci,10)>=700||"bold"===ar)&&(ir="bold"),"italic"===ar&&(ir+="italic"),0===ir.length&&(ir="normal");for(var pr="",Sr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rs=0;rs<Nn.length;rs++){if(void 0!==this.pdf.internal.getFont(Nn[rs],ir,{noFallback:!0,disableWarning:!0})){pr=Nn[rs];break}if("bolditalic"===ir&&void 0!==this.pdf.internal.getFont(Nn[rs],"bold",{noFallback:!0,disableWarning:!0}))pr=Nn[rs],ir="bold";else if(void 0!==this.pdf.internal.getFont(Nn[rs],"normal",{noFallback:!0,disableWarning:!0})){pr=Nn[rs],ir="normal";break}}if(""===pr)for(var eo=0;eo<Nn.length;eo++)if(Sr[Nn[eo]]){pr=Sr[Nn[eo]];break}this.pdf.setFont(pr=""===pr?"Times":pr,ir)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ut){this.ctx.globalCompositeOperation=Ut}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ut){this.ctx.globalAlpha=Ut}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ut){this.ctx.lineDashOffset=Ut,wn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ut){this.ctx.lineDash=Ut,wn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ut){this.ctx.ignoreClearRect=Boolean(Ut)}})};b.prototype.setLineDash=function(X){this.lineDash=X},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){De.call(this,"fill",!1)},b.prototype.stroke=function(){De.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(X,ve){if(isNaN(X)||isNaN(ve))throw Ao.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var we=this.ctx.transform.applyToPoint(new a(X,ve));this.path.push({type:"mt",x:we.x,y:we.y}),this.ctx.lastPoint=new a(X,ve)},b.prototype.closePath=function(){var X=new a(0,0),ve=0;for(ve=this.path.length-1;-1!==ve;ve--)if("begin"===this.path[ve].type&&"object"===Ls(this.path[ve+1])&&"number"==typeof this.path[ve+1].x){X=new a(this.path[ve+1].x,this.path[ve+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(X.x,X.y)},b.prototype.lineTo=function(X,ve){if(isNaN(X)||isNaN(ve))throw Ao.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var we=this.ctx.transform.applyToPoint(new a(X,ve));this.path.push({type:"lt",x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),De.call(this,null,!0)},b.prototype.quadraticCurveTo=function(X,ve,we,Ve){if(isNaN(we)||isNaN(Ve)||isNaN(X)||isNaN(ve))throw Ao.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var et=this.ctx.transform.applyToPoint(new a(we,Ve)),lt=this.ctx.transform.applyToPoint(new a(X,ve));this.path.push({type:"qct",x1:lt.x,y1:lt.y,x:et.x,y:et.y}),this.ctx.lastPoint=new a(et.x,et.y)},b.prototype.bezierCurveTo=function(X,ve,we,Ve,et,lt){if(isNaN(et)||isNaN(lt)||isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve))throw Ao.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var yt=this.ctx.transform.applyToPoint(new a(et,lt)),_t=this.ctx.transform.applyToPoint(new a(X,ve)),_n=this.ctx.transform.applyToPoint(new a(we,Ve));this.path.push({type:"bct",x1:_t.x,y1:_t.y,x2:_n.x,y2:_n.y,x:yt.x,y:yt.y}),this.ctx.lastPoint=new a(yt.x,yt.y)},b.prototype.arc=function(X,ve,we,Ve,et,lt){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve)||isNaN(et))throw Ao.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(lt=Boolean(lt),!this.ctx.transform.isIdentity){var yt=this.ctx.transform.applyToPoint(new a(X,ve));X=yt.x,ve=yt.y;var _t=this.ctx.transform.applyToPoint(new a(0,we)),_n=this.ctx.transform.applyToPoint(new a(0,0));we=Math.sqrt(Math.pow(_t.x-_n.x,2)+Math.pow(_t.y-_n.y,2))}Math.abs(et-Ve)>=2*Math.PI&&(Ve=0,et=2*Math.PI),this.path.push({type:"arc",x:X,y:ve,radius:we,startAngle:Ve,endAngle:et,counterclockwise:lt})},b.prototype.arcTo=function(X,ve,we,Ve,et){throw new Error("arcTo not implemented.")},b.prototype.rect=function(X,ve,we,Ve){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve))throw Ao.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,ve),this.lineTo(X+we,ve),this.lineTo(X+we,ve+Ve),this.lineTo(X,ve+Ve),this.lineTo(X,ve),this.lineTo(X+we,ve),this.lineTo(X,ve)},b.prototype.fillRect=function(X,ve,we,Ve){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve))throw Ao.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!B.call(this)){var et={};"butt"!==this.lineCap&&(et.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(et.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,ve,we,Ve),this.fill(),et.hasOwnProperty("lineCap")&&(this.lineCap=et.lineCap),et.hasOwnProperty("lineJoin")&&(this.lineJoin=et.lineJoin)}},b.prototype.strokeRect=function(X,ve,we,Ve){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve))throw Ao.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(X,ve,we,Ve),this.stroke())},b.prototype.clearRect=function(X,ve,we,Ve){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve))throw Ao.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,ve,we,Ve))},b.prototype.save=function(X){X="boolean"!=typeof X||X;for(var ve=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("q");if(this.pdf.setPage(ve),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ve=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ve}},b.prototype.restore=function(X){X="boolean"!=typeof X||X;for(var ve=this.pdf.internal.getCurrentPageInfo().pageNumber,we=0;we<this.pdf.internal.getNumberOfPages();we++)this.pdf.setPage(we+1),this.pdf.internal.out("Q");this.pdf.setPage(ve),X&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var F=function(X){var ve,we,Ve,et;if(!0===X.isCanvasGradient&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))ve=0,we=0,Ve=0,et=0;else{var lt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(null!==lt)ve=parseInt(lt[1]),we=parseInt(lt[2]),Ve=parseInt(lt[3]),et=1;else if(null!==(lt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X)))ve=parseInt(lt[1]),we=parseInt(lt[2]),Ve=parseInt(lt[3]),et=parseFloat(lt[4]);else{if(et=1,"string"==typeof X&&"#"!==X.charAt(0)){var yt=new pK(X);X=yt.ok?yt.toHex():"#000000"}4===X.length?(ve=X.substring(1,2),ve+=ve,we=X.substring(2,3),we+=we,Ve=X.substring(3,4),Ve+=Ve):(ve=X.substring(1,3),we=X.substring(3,5),Ve=X.substring(5,7)),ve=parseInt(ve,16),we=parseInt(we,16),Ve=parseInt(Ve,16)}}return{r:ve,g:we,b:Ve,a:et,style:X}},B=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},U=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};b.prototype.fillText=function(X,ve,we,Ve){if(isNaN(ve)||isNaN(we)||"string"!=typeof X)throw Ao.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ve=isNaN(Ve)?void 0:Ve,!B.call(this)){var et=He(this.ctx.transform.rotation),lt=this.ctx.transform.scaleX;Ae.call(this,{text:X,x:ve,y:we,scale:lt,angle:et,align:this.textAlign,maxWidth:Ve})}},b.prototype.strokeText=function(X,ve,we,Ve){if(isNaN(ve)||isNaN(we)||"string"!=typeof X)throw Ao.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){Ve=isNaN(Ve)?void 0:Ve;var et=He(this.ctx.transform.rotation),lt=this.ctx.transform.scaleX;Ae.call(this,{text:X,x:ve,y:we,scale:lt,renderingMode:"stroke",angle:et,align:this.textAlign,maxWidth:Ve})}},b.prototype.measureText=function(X){if("string"!=typeof X)throw Ao.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ve=this.pdf,we=this.pdf.internal.scaleFactor,Ve=ve.internal.getFontSize(),et=ve.getStringUnitWidth(X)*Ve/ve.internal.scaleFactor,lt=function(yt){var _t=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _t}}),this};return new lt({width:et*=Math.round(96*we/72*1e4)/1e4})},b.prototype.scale=function(X,ve){if(isNaN(X)||isNaN(ve))throw Ao.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var we=new h(X,0,0,ve,0,0);this.ctx.transform=this.ctx.transform.multiply(we)},b.prototype.rotate=function(X){if(isNaN(X))throw Ao.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ve=new h(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(ve)},b.prototype.translate=function(X,ve){if(isNaN(X)||isNaN(ve))throw Ao.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var we=new h(1,0,0,1,X,ve);this.ctx.transform=this.ctx.transform.multiply(we)},b.prototype.transform=function(X,ve,we,Ve,et,lt){if(isNaN(X)||isNaN(ve)||isNaN(we)||isNaN(Ve)||isNaN(et)||isNaN(lt))throw Ao.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var yt=new h(X,ve,we,Ve,et,lt);this.ctx.transform=this.ctx.transform.multiply(yt)},b.prototype.setTransform=function(X,ve,we,Ve,et,lt){X=isNaN(X)?1:X,ve=isNaN(ve)?0:ve,we=isNaN(we)?0:we,Ve=isNaN(Ve)?1:Ve,et=isNaN(et)?0:et,lt=isNaN(lt)?0:lt,this.ctx.transform=new h(X,ve,we,Ve,et,lt)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(X,ve,we,Ve,et,lt,yt,_t,_n){var An=this.pdf.getImageProperties(X),qn=1,Xn=1,Ui=1,Ut=1;void 0!==Ve&&void 0!==_t&&(Ui=_t/Ve,Ut=_n/et,qn=An.width/Ve*_t/Ve,Xn=An.height/et*_n/et),void 0===lt&&(lt=ve,yt=we,ve=0,we=0),void 0!==Ve&&void 0===_t&&(_t=Ve,_n=et),void 0===Ve&&void 0===_t&&(_t=An.width,_n=An.height);for(var Ee,ar=this.ctx.transform.decompose(),ci=He(ar.rotate.shx),fn=new h,Dn=(fn=(fn=(fn=fn.multiply(ar.translate)).multiply(ar.skew)).multiply(ar.scale)).applyToRectangle(new u(lt-ve*Ui,yt-we*Ut,Ve*qn,et*Xn)),Hn=Z.call(this,Dn),Nn=[],vi=0;vi<Hn.length;vi+=1)-1===Nn.indexOf(Hn[vi])&&Nn.push(Hn[vi]);if(fe(Nn),this.autoPaging)for(var ir=Nn[0],pr=Nn[Nn.length-1],Sr=ir;Sr<pr+1;Sr++){this.pdf.setPage(Sr);var rs=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],eo=1===Sr?this.posY+this.margin[0]:this.margin[0],Fr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vn=1===Sr?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Sr-2)*Fr;if(0!==this.ctx.clip_path.length){var Gu=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Ee,this.posX+this.margin[3],-Vn+eo+this.ctx.prevPageLastElemOffset),Ye.call(this,"fill",!0),this.path=Gu}var hs=JSON.parse(JSON.stringify(Dn));hs=W([hs],this.posX+this.margin[3],-Vn+eo+this.ctx.prevPageLastElemOffset)[0];var cg=(Sr>ir||Sr<pr)&&H.call(this);cg&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rs,Fr,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",hs.x,hs.y,hs.w,hs.h,null,null,ci),cg&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",Dn.x,Dn.y,Dn.w,Dn.h,null,null,ci)};var Z=function(X,ve,we){var Ve=[];ve=ve||this.pdf.internal.pageSize.width,we=we||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var et=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":Ve.push(Math.floor((X.y+et)/we)+1);break;case"arc":Ve.push(Math.floor((X.y+et-X.radius)/we)+1),Ve.push(Math.floor((X.y+et+X.radius)/we)+1);break;case"qct":var lt=mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);Ve.push(Math.floor((lt.y+et)/we)+1),Ve.push(Math.floor((lt.y+lt.h+et)/we)+1);break;case"bct":var yt=Ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);Ve.push(Math.floor((yt.y+et)/we)+1),Ve.push(Math.floor((yt.y+yt.h+et)/we)+1);break;case"rect":Ve.push(Math.floor((X.y+et)/we)+1),Ve.push(Math.floor((X.y+X.h+et)/we)+1)}for(var _t=0;_t<Ve.length;_t+=1)for(;this.pdf.internal.getNumberOfPages()<Ve[_t];)z.call(this);return Ve},z=function(){var X=this.fillStyle,ve=this.strokeStyle,we=this.font,Ve=this.lineCap,et=this.lineWidth,lt=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=ve,this.font=we,this.lineCap=Ve,this.lineWidth=et,this.lineJoin=lt},W=function(X,ve,we){for(var Ve=0;Ve<X.length;Ve++)switch(X[Ve].type){case"bct":X[Ve].x2+=ve,X[Ve].y2+=we;case"qct":X[Ve].x1+=ve,X[Ve].y1+=we;default:X[Ve].x+=ve,X[Ve].y+=we}return X},fe=function(X){return X.sort(function(ve,we){return ve-we})},De=function(X,ve){for(var we,Ve,et=this.fillStyle,lt=this.strokeStyle,yt=this.lineCap,_t=this.lineWidth,_n=Math.abs(_t*this.ctx.transform.scaleX),An=this.lineJoin,qn=JSON.parse(JSON.stringify(this.path)),Xn=JSON.parse(JSON.stringify(this.path)),Ui=[],Ut=0;Ut<Xn.length;Ut++)if(void 0!==Xn[Ut].x)for(var Ee=Z.call(this,Xn[Ut]),ar=0;ar<Ee.length;ar+=1)-1===Ui.indexOf(Ee[ar])&&Ui.push(Ee[ar]);for(var ci=0;ci<Ui.length;ci++)for(;this.pdf.internal.getNumberOfPages()<Ui[ci];)z.call(this);if(fe(Ui),this.autoPaging)for(var fn=Ui[0],Dn=Ui[Ui.length-1],Hn=fn;Hn<Dn+1;Hn++){this.pdf.setPage(Hn),this.fillStyle=et,this.strokeStyle=lt,this.lineCap=yt,this.lineWidth=_n,this.lineJoin=An;var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vi=1===Hn?this.posY+this.margin[0]:this.margin[0],pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Sr=1===Hn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Hn-2)*pr;if(0!==this.ctx.clip_path.length){var rs=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(we,this.posX+this.margin[3],-Sr+vi+this.ctx.prevPageLastElemOffset),Ye.call(this,X,!0),this.path=rs}if(Ve=JSON.parse(JSON.stringify(qn)),this.path=W(Ve,this.posX+this.margin[3],-Sr+vi+this.ctx.prevPageLastElemOffset),!1===ve||0===Hn){var eo=(Hn>fn||Hn<Dn)&&H.call(this);eo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,pr,null).clip().discardPath()),Ye.call(this,X,ve),eo&&this.pdf.restoreGraphicsState()}this.lineWidth=_t}else this.lineWidth=_n,Ye.call(this,X,ve),this.lineWidth=_t;this.path=qn},Ye=function(X,ve){if(("stroke"!==X||ve||!U.call(this))&&("stroke"===X||ve||!B.call(this))){for(var we,Ve,et=[],lt=this.path,yt=0;yt<lt.length;yt++){var _t=lt[yt];switch(_t.type){case"begin":et.push({begin:!0});break;case"close":et.push({close:!0});break;case"mt":et.push({start:_t,deltas:[],abs:[]});break;case"lt":var _n=et.length;if(lt[yt-1]&&!isNaN(lt[yt-1].x)&&(we=[_t.x-lt[yt-1].x,_t.y-lt[yt-1].y],_n>0))for(;_n>=0;_n--)if(!0!==et[_n-1].close&&!0!==et[_n-1].begin){et[_n-1].deltas.push(we),et[_n-1].abs.push(_t);break}break;case"bct":et[et.length-1].deltas.push(we=[_t.x1-lt[yt-1].x,_t.y1-lt[yt-1].y,_t.x2-lt[yt-1].x,_t.y2-lt[yt-1].y,_t.x-lt[yt-1].x,_t.y-lt[yt-1].y]);break;case"qct":et[et.length-1].deltas.push(we=[lt[yt-1].x+2/3*(_t.x1-lt[yt-1].x)-lt[yt-1].x,lt[yt-1].y+2/3*(_t.y1-lt[yt-1].y)-lt[yt-1].y,_t.x+2/3*(_t.x1-_t.x)-lt[yt-1].x,_t.y+2/3*(_t.y1-_t.y)-lt[yt-1].y,_t.x-lt[yt-1].x,_t.y-lt[yt-1].y]);break;case"arc":et.push({deltas:[],abs:[],arc:!0}),Array.isArray(et[et.length-1].abs)&&et[et.length-1].abs.push(_t)}}Ve=ve?null:"stroke"===X?"stroke":"fill";for(var ar=!1,ci=0;ci<et.length;ci++)if(et[ci].arc)for(var fn=et[ci].abs,Dn=0;Dn<fn.length;Dn++){var Hn=fn[Dn];"arc"===Hn.type?xe.call(this,Hn.x,Hn.y,Hn.radius,Hn.startAngle,Hn.endAngle,Hn.counterclockwise,void 0,ve,!ar):Me.call(this,Hn.x,Hn.y),ar=!0}else!0===et[ci].close?(this.pdf.internal.out("h"),ar=!1):!0!==et[ci].begin&&(Te.call(this,et[ci].deltas,et[ci].start.x,et[ci].start.y),ar=!0);Ve&&Lt.call(this,Ve),ve&&Rt.call(this)}},ct=function(X){var ve=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,we=ve*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-we;case"top":return X+ve-we;case"hanging":return X+ve-2*we;case"middle":return X+ve/2-we;default:return X}},Ke=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(ve,we){this.colorStops.push([ve,we])},X.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var xe=function(X,ve,we,Ve,et,lt,yt,_t,_n){for(var An=Pe.call(this,we,Ve,et,lt),qn=0;qn<An.length;qn++){var Xn=An[qn];0===qn&&(_n?pe.call(this,Xn.x1+X,Xn.y1+ve):Me.call(this,Xn.x1+X,Xn.y1+ve)),Tt.call(this,X,ve,Xn.x2,Xn.y2,Xn.x3,Xn.y3,Xn.x4,Xn.y4)}_t?Rt.call(this):Lt.call(this,yt)},Lt=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Rt=function(){this.pdf.clip(),this.pdf.discardPath()},pe=function(X,ve){this.pdf.internal.out(e(X)+" "+i(ve)+" m")},Ae=function(X){var ve;switch(X.align){case"right":case"end":ve="right";break;case"center":ve="center";break;default:ve="left"}var we=this.pdf.getTextDimensions(X.text),Ve=ct.call(this,X.y),et=Ke.call(this,Ve)-we.h,lt=this.ctx.transform.applyToPoint(new a(X.x,Ve)),yt=this.ctx.transform.decompose(),_t=new h;_t=(_t=(_t=_t.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale);for(var _n,An,qn,Xn=this.ctx.transform.applyToRectangle(new u(X.x,Ve,we.w,we.h)),Ui=_t.applyToRectangle(new u(X.x,et,we.w,we.h)),Ut=Z.call(this,Ui),Ee=[],ar=0;ar<Ut.length;ar+=1)-1===Ee.indexOf(Ut[ar])&&Ee.push(Ut[ar]);if(fe(Ee),this.autoPaging)for(var ci=Ee[0],fn=Ee[Ee.length-1],Dn=ci;Dn<fn+1;Dn++){this.pdf.setPage(Dn);var Hn=1===Dn?this.posY+this.margin[0]:this.margin[0],vi=this.pdf.internal.pageSize.height-this.margin[2],ir=vi-this.margin[0],pr=this.pdf.internal.pageSize.width-this.margin[1],Sr=pr-this.margin[3],rs=1===Dn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Dn-2)*ir;if(0!==this.ctx.clip_path.length){var eo=this.path;_n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(_n,this.posX+this.margin[3],-1*rs+Hn),Ye.call(this,"fill",!0),this.path=eo}var qi=W([JSON.parse(JSON.stringify(Ui))],this.posX+this.margin[3],-rs+Hn+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(An=this.pdf.internal.getFontSize(),this.pdf.setFontSize(An*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale);var Fr="text"!==this.autoPaging;if(Fr||qi.y+qi.h<=vi){if(Fr||qi.y>=Hn&&qi.x<=pr){var Vn=Fr?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||pr-qi.x)[0],Gu=W([JSON.parse(JSON.stringify(Xn))],this.posX+this.margin[3],-rs+Hn+this.ctx.prevPageLastElemOffset)[0],hs=Fr&&(Dn>ci||Dn<fn)&&H.call(this);hs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sr,ir,null).clip().discardPath()),this.pdf.text(Vn,Gu.x,Gu.y,{angle:X.angle,align:ve,renderingMode:X.renderingMode}),hs&&this.pdf.restoreGraphicsState()}}else qi.y<vi&&(this.ctx.prevPageLastElemOffset+=vi-qi.y);X.scale>=.01&&(this.pdf.setFontSize(An),this.lineWidth=qn)}else X.scale>=.01&&(An=this.pdf.internal.getFontSize(),this.pdf.setFontSize(An*X.scale),this.lineWidth=(qn=this.lineWidth)*X.scale),this.pdf.text(X.text,lt.x+this.posX,lt.y+this.posY,{angle:X.angle,align:ve,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(An),this.lineWidth=qn)},Me=function(X,ve,we,Ve){Ve=Ve||0,this.pdf.internal.out(e(X+(we=we||0))+" "+i(ve+Ve)+" l")},Te=function(X,ve,we){return this.pdf.lines(X,ve,we,null,null)},Tt=function(X,ve,we,Ve,et,lt,yt,_t){this.pdf.internal.out([t(r(we+X)),t(o(Ve+ve)),t(r(et+X)),t(o(lt+ve)),t(r(yt+X)),t(o(_t+ve)),"c"].join(" "))},Pe=function(X,ve,we,Ve){for(var et=2*Math.PI,lt=Math.PI/2;ve>we;)ve-=et;var yt=Math.abs(we-ve);yt<et&&Ve&&(yt=et-yt);for(var _t=[],_n=Ve?-1:1,An=ve;yt>1e-5;){var qn=An+_n*Math.min(yt,lt);_t.push(Xe.call(this,X,An,qn)),yt-=Math.abs(qn-An),An=qn}return _t},Xe=function(X,ve,we){var Ve=(we-ve)/2,et=X*Math.cos(Ve),lt=X*Math.sin(Ve),yt=et,_t=-lt,_n=yt*yt+_t*_t,An=_n+yt*et+_t*lt,qn=4/3*(Math.sqrt(2*_n*An)-An)/(yt*lt-_t*et),Xn=yt-qn*_t,Ui=_t+qn*yt,Ut=Xn,Ee=-Ui,ar=Ve+ve,ci=Math.cos(ar),fn=Math.sin(ar);return{x1:X*Math.cos(ve),y1:X*Math.sin(ve),x2:Xn*ci-Ui*fn,y2:Xn*fn+Ui*ci,x3:Ut*ci-Ee*fn,y3:Ut*fn+Ee*ci,x4:X*Math.cos(we),y4:X*Math.sin(we)}},He=function(X){return 180*X/Math.PI},mt=function(X,ve,we,Ve,et,lt){var yt=X+.5*(we-X),_t=ve+.5*(Ve-ve),_n=et+.5*(we-et),An=lt+.5*(Ve-lt),qn=Math.min(X,et,yt,_n),Xn=Math.max(X,et,yt,_n),Ui=Math.min(ve,lt,_t,An),Ut=Math.max(ve,lt,_t,An);return new u(qn,Ui,Xn-qn,Ut-Ui)},Ct=function(X,ve,we,Ve,et,lt,yt,_t){var _n,An,qn,Xn,Ui,Ut,Ee,ar,ci,fn,Dn,Hn,Nn,vi,ir=we-X,pr=Ve-ve,Sr=et-we,rs=lt-Ve,eo=yt-et,qi=_t-lt;for(An=0;An<41;An++)ci=(Ee=(qn=X+(_n=An/40)*ir)+_n*((Ui=we+_n*Sr)-qn))+_n*(Ui+_n*(et+_n*eo-Ui)-Ee),fn=(ar=(Xn=ve+_n*pr)+_n*((Ut=Ve+_n*rs)-Xn))+_n*(Ut+_n*(lt+_n*qi-Ut)-ar),0==An?(Dn=ci,Hn=fn,Nn=ci,vi=fn):(Dn=Math.min(Dn,ci),Hn=Math.min(Hn,fn),Nn=Math.max(Nn,ci),vi=Math.max(vi,fn));return new u(Math.round(Dn),Math.round(Hn),Math.round(Nn-Dn),Math.round(vi-Hn))},wn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var we=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==we&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=we)}}})(Oi.API),function(n){var t=function(o){var a,u,h,f,_,b,F,B,U,H;for(/[^\x00-\xFF]/.test(o),u=[],h=0,f=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)0!==(_=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))?(b=(_=((_=((_=((_=(_-(H=_%85))/85)-(U=_%85))/85)-(B=_%85))/85)-(F=_%85))/85)%85,u.push(b+33,F+33,B+33,U+33,H+33)):u.push(122);return function(Z,z){for(var W=z;W>0;W--)Z.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},e=function(o){var a,u,h,f,_,b=String,F="length",B=255,U="charCodeAt",H="slice",Z="replace";for(o[H](-2),o=o[H](0,-2)[Z](/\s/g,"")[Z]("z","!!!!!"),h=[],f=0,_=(o+=a="uuuuu"[H](o[F]%5||5))[F];_>f;f+=5)u=52200625*(o[U](f)-33)+614125*(o[U](f+1)-33)+7225*(o[U](f+2)-33)+85*(o[U](f+3)-33)+(o[U](f+4)-33),h.push(B&u>>24,B&u>>16,B&u>>8,B&u);return function(z,W){for(var fe=W;fe>0;fe--)z.pop()}(h,a[F]),b.fromCharCode.apply(b,h)},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(o=o.replace(/\s/g,"")).indexOf(">")&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),!1===a.test(o))return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},r=function(o){for(var a=new Uint8Array(o.length),u=o.length;u--;)a[u]=o.charCodeAt(u);return(a=LD(a)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,a){var u=0,h=o||"",f=[];for("string"==typeof(a=a||[])&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(_){return("0"+_.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(Oi.API),function(n){n.loadFile=function(t,e,i){return function(r,o,a){o=!1!==o,a="function"==typeof a?a:function(){};var u=void 0;try{u=function(h,f,_){var b=new XMLHttpRequest,F=0,B=function(U){var H=U.length,Z=[],z=String.fromCharCode;for(F=0;F<H;F+=1)Z.push(z(255&U.charCodeAt(F)));return Z.join("")};if(b.open("GET",h,!f),b.overrideMimeType("text/plain; charset=x-user-defined"),!1===f&&(b.onload=function(){_(200===b.status?B(this.responseText):void 0)}),b.send(null),f&&200===b.status)return B(b.responseText)}(r,o,a)}catch{}return u}(t,e,i)},n.loadImageFile=n.loadFile}(Oi.API),function(n){function t(){return(Pi.html2canvas?Promise.resolve(Pi.html2canvas):Promise.resolve().then(ie.t.bind(ie,4159,23))).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Pi.DOMPurify?Promise.resolve(Pi.DOMPurify):ie.e(735).then(ie.t.bind(ie,2735,23))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var u=Ls(a);return"undefined"===u?"undefined":"string"===u||a instanceof String?"string":"number"===u||a instanceof Number?"number":"function"===u||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&1===a.nodeType?"element":"object"===u?"object":"unknown"},r=function(a,u){var h=document.createElement(a);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function a(u){var h=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),h);return(f=f.setProgress(1,a,1,[a])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,u){return a.__proto__=u||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return"canvas"===h.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(h){return this.set({src:r("div",{innerHTML:a,dompurify:h})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(f,_){for(var b=3===f.nodeType?document.createTextNode(f.nodeValue):f.cloneNode(!1),F=f.firstChild;F;F=F.nextSibling)!0!==_&&1===F.nodeType&&"SCRIPT"===F.nodeName||b.appendChild(h(F,_));return 1===f.nodeType&&("CANVAS"===f.nodeName?(b.width=f.width,b.height=f.height,b.getContext("2d").drawImage(f,0,0)):"TEXTAREA"!==f.nodeName&&"SELECT"!==f.nodeName||(b.value=f.value),b.addEventListener("load",function(){b.scrollTop=f.scrollTop,b.scrollLeft=f.scrollLeft},!0)),b}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===u.tagName&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,_="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var F=0;F<f.length;++F){var B=f[F],U=B.src.find(function(H){return"truetype"===H.format});U&&h.addFont(U.url,B.ref.name,B.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=0==b.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,u,h){return"img"===(h=h||"pdf").toLowerCase()||"image"===h.toLowerCase()?this.outputImg(a,u):this.outputPdf(a,u)},o.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if("object"!==i(a))return this;var u=Object.keys(a||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=a[h]};switch(h){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[h]=a[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(a,u){return this.then(function(){var h=a in o.template.prop?this.prop[a]:this.opt[a];return u?u(h):h})},o.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(2===a.length&&(a=[a[0],a[1],a[0],a[1]]),4===a.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(a=a||Oi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,u,h,f){return null!=a&&(this.progress.val=a),null!=u&&(this.progress.state=u),null!=h&&(this.progress.n=h),null!=f&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,u,h,f){return this.setProgress(a?this.progress.val+a:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(a,u){var h=this;return this.thenCore(a,u,function(f,_){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,f),b}).then(f,_).then(function(b){return h.updateProgress(1),b})})},o.prototype.thenCore=function(a,u,h){h=h||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var f=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),_=h.call(f,a,u);return o.convert(_,this.__proto__)},o.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},o.prototype.thenList=function(a){var u=this;return a.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return o.convert(u,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Oi.getPageSize=function(a,u,h){if("object"===Ls(a)){var f=a;a=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",a=(""+(a||"P")).toLowerCase();var _,b=(""+h).toLowerCase(),F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+u}var B,U=0,H=0;if(F.hasOwnProperty(b))U=F[b][1]/_,H=F[b][0]/_;else try{U=h[1],H=h[0]}catch{throw new Error("Invalid format: "+h)}if("p"===a||"portrait"===a)a="p",H>U&&(B=H,H=U,U=B);else{if("l"!==a&&"landscape"!==a)throw"Invalid orientation: "+a;a="l",U>H&&(B=H,H=U,U=B)}return{width:H,height:U,unit:u,k:_,orientation:a}},n.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Y3):null;var h=new o(u);return u.worker?h:h.from(a).doCallback()}}(Oi.API),Oi.API.addJS=function(n){return RK=n,this.internal.events.subscribe("postPutResources",function(){jR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jR+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kK=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RK+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==jR&&void 0!==kK&&this.internal.out("/Names <</JavaScript "+jR+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var a=r[o],u=i.exec(a);null!=u&&e.internal.newObjectDeferredBegin(u[1],!1),e.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,_=[];for(o=0;o<f;o++){var b=e.internal.newObject();_.push(b);var F=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+F.objId+" 0 R /XYZ null null null]>> endobj")}var B=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<_.length;o++)e.internal.write("(page_"+(o+1)+")"+_[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+B+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var a={title:r,options:o,children:[]};return null==i&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var a=i.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var h=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(Oi.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,o,a,u){var h,f=this.decode.DCT_DECODE,_=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=a||e)?new Uint8Array(e):e,(h=function(b){for(var F,B=256*b.charCodeAt(4)+b.charCodeAt(5),U=b.length,H={width:0,height:0,numcomponents:1},Z=4;Z<U;Z+=2){if(-1!==t.indexOf(b.charCodeAt((Z+=B)+1))){F=256*b.charCodeAt(Z+5)+b.charCodeAt(Z+6),H={width:256*b.charCodeAt(Z+7)+b.charCodeAt(Z+8),height:F,numcomponents:b.charCodeAt(Z+9)};break}B=256*b.charCodeAt(Z+2)+b.charCodeAt(Z+3)}return H}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}_={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return _}}(Oi.API);var mE,zR,OK,LK,NK,hge=function(){var n,t,e;function i(o){var a,h,f,_,b,F,B,U,H,Z,z,W,fe;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},b=null;;){switch(a=this.readUInt32(),U=function(){var De,Ye;for(Ye=[],De=0;De<4;++De)Ye.push(String.fromCharCode(this.data[this.pos++]));return Ye}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":b&&this.animation.frames.push(b),this.pos+=4,b={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),f=this.readUInt16()||100,b.delay=1e3*_/f,b.disposeOp=this.data[this.pos++],b.blendOp=this.data[this.pos++],b.data=[];break;case"IDAT":case"fdAT":for("fdAT"===U&&(this.pos+=4,a-=4),o=b?.data||this.imgData,z=0;0<=a?z<a:z>a;0<=a?++z:--z)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((H=h-this.transparency.indexed.length)>0)for(W=0;0<=H?W<H:W>H;0<=H?++W:--W)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":F=(Z=this.read(a)).indexOf(0),B=String.fromCharCode.apply(String,Z.slice(0,F)),this.text[B]=String.fromCharCode.apply(String,Z.slice(F+1));break;case"IEND":return b&&this.animation.frames.push(b),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(fe=this.colorType)||6===fe,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var a,u;for(u=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),h=0,f=this;if(null==o&&(o=this.imgData),0===o.length)return new Uint8Array(0);function _(b,F,B,U){var H,Z,z,W,fe,De,Ye,ct,xe,Lt,Rt,pe,Ae,Me,Te,Tt,Pe,Xe,He,mt,Ct=Math.ceil((f.width-b)/B),wn=Math.ceil((f.height-F)/U),X=f.width==Ct&&f.height==wn;for(Ae=a*Ct,Rt=X?u:new Uint8Array(Ae*wn),De=o.length,pe=0,Z=0;pe<wn&&h<De;){switch(o[h++]){case 0:for(W=Tt=0;Tt<Ae;W=Tt+=1)Rt[Z++]=o[h++];break;case 1:for(W=Pe=0;Pe<Ae;W=Pe+=1)H=o[h++],fe=W<a?0:Rt[Z-a],Rt[Z++]=(H+fe)%256;break;case 2:for(W=Xe=0;Xe<Ae;W=Xe+=1)H=o[h++],z=(W-W%a)/a,Rt[Z++]=((Me=pe&&Rt[(pe-1)*Ae+z*a+W%a])+H)%256;break;case 3:for(W=He=0;He<Ae;W=He+=1)H=o[h++],z=(W-W%a)/a,fe=W<a?0:Rt[Z-a],Me=pe&&Rt[(pe-1)*Ae+z*a+W%a],Rt[Z++]=(H+Math.floor((fe+Me)/2))%256;break;case 4:for(W=mt=0;mt<Ae;W=mt+=1)H=o[h++],z=(W-W%a)/a,0===pe?Me=Te=0:(Me=Rt[(pe-1)*Ae+z*a+W%a],Te=z&&Rt[(pe-1)*Ae+(z-1)*a+W%a]),Ye=(fe=W<a?0:Rt[Z-a])+Me-Te,ct=Math.abs(Ye-fe),xe=Math.abs(Ye-Me),Lt=Math.abs(Ye-Te),Rt[Z++]=(H+(ct<=xe&&ct<=Lt?fe:xe<=Lt?Me:Te))%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!X){var ve=((F+pe*U)*f.width+b)*a,we=pe*Ae;for(W=0;W<Ct;W+=1){for(var Ve=0;Ve<a;Ve+=1)u[ve++]=Rt[we++];ve+=(B-1)*a}}pe++}}return o=kR(o),1==f.interlaceMethod?(_(0,0,8,8),_(4,0,8,8),_(0,4,4,8),_(2,0,4,4),_(0,2,2,4),_(1,0,2,2),_(0,1,1,2)):_(0,0,1,1),u},i.prototype.decodePalette=function(){var o,a,u,h,f,_,b,F,B;for(u=this.palette,_=this.transparency.indexed||[],f=new Uint8Array((_.length||0)+u.length),h=0,o=0,a=b=0,F=u.length;b<F;a=b+=3)f[h++]=u[a],f[h++]=u[a+1],f[h++]=u[a+2],f[h++]=null!=(B=_[o++])?B:255;return f},i.prototype.copyToImageData=function(o,a){var u,h,f,_,b,F,B,U,H,Z,z;if(h=this.colors,H=null,u=this.hasAlphaChannel,this.palette.length&&(H=null!=(z=this._decodedPalette)?z:this._decodedPalette=this.decodePalette(),h=4,u=!0),U=(f=o.data||o).length,b=H||a,_=F=0,1===h)for(;_<U;)B=H?4*a[_/4]:F,Z=b[B++],f[_++]=Z,f[_++]=Z,f[_++]=Z,f[_++]=u?b[B++]:255,F=B;else for(;_<U;)B=H?4*a[_/4]:F,f[_++]=b[B++],f[_++]=b[B++],f[_++]=b[B++],f[_++]=u?b[B++]:255,F=B},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if("[object Window]"===Object.prototype.toString.call(Pi)){try{t=Pi.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(o){var a;if(!0===r())return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var a,u,h,f,_,b,F,B;if(this.animation){for(B=[],u=_=0,b=(F=this.animation.frames).length;_<b;u=++_)h=o.createImageData((a=F[u]).width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(h,f),a.imageData=h,B.push(a.image=n(h));return B}},i.prototype.renderFrame=function(o,a){var u,h,f;return u=(h=this.animation.frames)[a],f=h[a-1],0===a&&o.clearRect(0,0,this.width,this.height),1===f?.disposeOp?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):2===f?.disposeOp&&o.putImageData(f.imageData,f.xOffset,f.yOffset),0===u.blendOp&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(o){var a,u,h,f,_,b,F=this;return u=0,f=(b=this.animation).numFrames,h=b.frames,_=b.numPlays,(a=function(){var B,U;if(B=u++%f,U=h[B],F.renderFrame(o,B),f>1&&u/f<_)return F.animation._timeout=setTimeout(a,U.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout(null!=(o=this.animation)?o._timeout:void 0)},i.prototype.render=function(o){var a,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},i}();function Age(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=1<<1+(7&r);t++,t++;var u=null,h=null;r>>7&&(u=t,h=a,t+=3*a);var f=!0,_=[],b=0,F=null,B=0,U=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,U=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((pe=n[t++])>=0))throw Error("Invalid block size");if(0===pe)break;t+=pe}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var H=n[t++];b=n[t++]|n[t++]<<8,F=n[t++],0==(1&H)&&(F=null),B=H>>2&7,t++;break;case 254:for(;;){if(!((pe=n[t++])>=0))throw Error("Invalid block size");if(0===pe)break;t+=pe}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var Z=n[t++]|n[t++]<<8,z=n[t++]|n[t++]<<8,W=n[t++]|n[t++]<<8,fe=n[t++]|n[t++]<<8,De=n[t++],Ye=De>>6&1,ct=1<<1+(7&De),Ke=u,xe=h,Lt=!1;De>>7&&(Lt=!0,Ke=t,xe=ct,t+=3*ct);var Rt=t;for(t++;;){var pe;if(!((pe=n[t++])>=0))throw Error("Invalid block size");if(0===pe)break;t+=pe}_.push({x:Z,y:z,width:W,height:fe,has_local_palette:Lt,palette_offset:Ke,palette_size:xe,data_offset:Rt,data_length:t-Rt,transparent_index:F,interlaced:!!Ye,delay:b,disposal:B});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return U},this.frameInfo=function(Ae){if(Ae<0||Ae>=_.length)throw new Error("Frame index out of range.");return _[Ae]},this.decodeAndBlitFrameBGRA=function(Ae,Me){var Te=this.frameInfo(Ae),Tt=Te.width*Te.height,Pe=new Uint8Array(Tt);PK(n,Te.data_offset,Pe,Tt);var Xe=Te.palette_offset,He=Te.transparent_index;null===He&&(He=256);var mt=Te.width,Ct=e-mt,wn=mt,X=4*(Te.y*e+Te.x),ve=4*((Te.y+Te.height)*e+Te.x),we=X,Ve=4*Ct;!0===Te.interlaced&&(Ve+=4*e*7);for(var et=8,lt=0,yt=Pe.length;lt<yt;++lt){var _t=Pe[lt];if(0===wn&&(wn=mt,(we+=Ve)>=ve&&(Ve=4*Ct+4*e*(et-1),we=X+(mt+Ct)*(et<<1),et>>=1)),_t===He)we+=4;else{var _n=n[Xe+3*_t],An=n[Xe+3*_t+1];Me[we++]=n[Xe+3*_t+2],Me[we++]=An,Me[we++]=_n,Me[we++]=255}--wn}},this.decodeAndBlitFrameRGBA=function(Ae,Me){var Te=this.frameInfo(Ae),Tt=Te.width*Te.height,Pe=new Uint8Array(Tt);PK(n,Te.data_offset,Pe,Tt);var Xe=Te.palette_offset,He=Te.transparent_index;null===He&&(He=256);var mt=Te.width,Ct=e-mt,wn=mt,X=4*(Te.y*e+Te.x),ve=4*((Te.y+Te.height)*e+Te.x),we=X,Ve=4*Ct;!0===Te.interlaced&&(Ve+=4*e*7);for(var et=8,lt=0,yt=Pe.length;lt<yt;++lt){var _t=Pe[lt];if(0===wn&&(wn=mt,(we+=Ve)>=ve&&(Ve=4*Ct+4*e*(et-1),we=X+(mt+Ct)*(et<<1),et>>=1)),_t===He)we+=4;else{var An=n[Xe+3*_t+1],qn=n[Xe+3*_t+2];Me[we++]=n[Xe+3*_t],Me[we++]=An,Me[we++]=qn,Me[we++]=255}--wn}}}function PK(n,t,e,i){for(var r=n[t++],o=1<<r,a=o+1,u=a+1,h=r+1,f=(1<<h)-1,_=0,b=0,F=0,B=n[t++],U=new Int32Array(4096),H=null;;){for(;_<16&&0!==B;)b|=n[t++]<<_,_+=8,1===B?B=n[t++]:--B;if(_<h)break;var Z=b&f;if(b>>=h,_-=h,Z!==o){if(Z===a)break;for(var z=Z<u?Z:H,W=0,fe=z;fe>o;)fe=U[fe]>>8,++W;var De=fe;if(F+W+(z!==Z?1:0)>i)return void Ao.log("Warning, gif stream longer than expected.");e[F++]=De;var Ye=F+=W;for(z!==Z&&(e[F++]=De),fe=z;W--;)e[--Ye]=255&(fe=U[fe]),fe>>=8;null!==H&&u<4096&&(U[u++]=H<<8|De,u>=f+1&&h<12&&(++h,f=f<<1|1)),H=Z}else u=a+1,f=(1<<(h=r+1))-1,H=null}return F!==i&&Ao.log("Warning, gif stream shorter than expected."),e}function J3(n){var t,e,i,r,o,a=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),_=new Array(64),b=new Array(65535),F=new Array(65535),B=new Array(64),U=new Array(64),H=[],Z=0,z=7,W=new Array(64),fe=new Array(64),De=new Array(64),Ye=new Array(256),ct=new Array(2048),Ke=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],xe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Lt=[0,1,2,3,4,5,6,7,8,9,10,11],Rt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],pe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ae=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Me=[0,1,2,3,4,5,6,7,8,9,10,11],Te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Pe(X,ve){for(var we=0,Ve=0,et=new Array,lt=1;lt<=16;lt++){for(var yt=1;yt<=X[lt];yt++)et[ve[Ve]]=[],et[ve[Ve]][0]=we,et[ve[Ve]][1]=lt,Ve++,we++;we*=2}return et}function Xe(X){for(var ve=X[0],we=X[1]-1;we>=0;)ve&1<<we&&(Z|=1<<z),we--,--z<0&&(255==Z?(He(255),He(0)):He(Z),z=7,Z=0)}function He(X){H.push(X)}function mt(X){He(X>>8&255),He(255&X)}function Ct(X,ve,we,Ve,et){for(var lt,yt=et[0],_t=et[240],_n=function(fn,Dn){var Hn,Nn,vi,ir,pr,Sr,rs,eo,qi,Fr,Vn=0;for(qi=0;qi<8;++qi){var Gu=(Hn=fn[Vn])+(eo=fn[Vn+7]),hs=Hn-eo,cg=(Nn=fn[Vn+1])+(rs=fn[Vn+6]),fo=Nn-rs,aa=(vi=fn[Vn+2])+(Sr=fn[Vn+5]),u_=vi-Sr,xs=(ir=fn[Vn+3])+(pr=fn[Vn+4]),SC=ir-pr,ja=Gu+xs,ug=Gu-xs,Jy=cg+aa,za=cg-aa;fn[Vn]=ja+Jy,fn[Vn+4]=ja-Jy;var rr=.707106781*(za+ug);fn[Vn+2]=ug+rr,fn[Vn+6]=ug-rr;var Es=.382683433*((ja=SC+u_)-(za=fo+hs)),IC=.5411961*ja+Es,ou=1.306562965*za+Es,d_=.707106781*(Jy=u_+fo),h_=hs+d_,Li=hs-d_;fn[Vn+5]=Li+IC,fn[Vn+3]=Li-IC,fn[Vn+1]=h_+ou,fn[Vn+7]=h_-ou,Vn+=8}for(Vn=0,qi=0;qi<8;++qi){var dg=(Hn=fn[Vn])+(eo=fn[Vn+56]),A_=Hn-eo,vh=(Nn=fn[Vn+8])+(rs=fn[Vn+48]),ac=Nn-rs,Ql=(vi=fn[Vn+16])+(Sr=fn[Vn+40]),kA=vi-Sr,yE=(ir=fn[Vn+24])+(pr=fn[Vn+32]),Xy=ir-pr,hg=dg+yE,Ag=dg-yE,fg=vh+Ql,f_=vh-Ql;fn[Vn]=hg+fg,fn[Vn+32]=hg-fg;var Hf=.707106781*(f_+Ag);fn[Vn+16]=Ag+Hf,fn[Vn+48]=Ag-Hf;var p_=.382683433*((hg=Xy+kA)-(f_=ac+A_)),DC=.5411961*hg+p_,vE=1.306562965*f_+p_,wE=.707106781*(fg=kA+ac),bE=A_+wE,CE=A_-wE;fn[Vn+40]=CE+DC,fn[Vn+24]=CE-DC,fn[Vn+8]=bE+vE,fn[Vn+56]=bE-vE,Vn++}for(qi=0;qi<64;++qi)B[qi]=(Fr=fn[qi]*Dn[qi])>0?Fr+.5|0:Fr-.5|0;return B}(X,ve),An=0;An<64;++An)U[Ke[An]]=_n[An];var qn=U[0]-we;we=U[0],0==qn?Xe(Ve[0]):(Xe(Ve[F[lt=32767+qn]]),Xe(b[lt]));for(var Xn=63;Xn>0&&0==U[Xn];)Xn--;if(0==Xn)return Xe(yt),we;for(var Ui,Ut=1;Ut<=Xn;){for(var Ee=Ut;0==U[Ut]&&Ut<=Xn;)++Ut;var ar=Ut-Ee;if(ar>=16){Ui=ar>>4;for(var ci=1;ci<=Ui;++ci)Xe(_t);ar&=15}Xe(et[(ar<<4)+F[lt=32767+U[Ut]]]),Xe(b[lt]),Ut++}return 63!=Xn&&Xe(yt),we}function wn(X){X=Math.min(Math.max(X,1),100),o!=X&&(function(ve){for(var we=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ve=0;Ve<64;Ve++){var et=a((we[Ve]*ve+50)/100);et=Math.min(Math.max(et,1),255),u[Ke[Ve]]=et}for(var lt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],yt=0;yt<64;yt++){var _t=a((lt[yt]*ve+50)/100);_t=Math.min(Math.max(_t,1),255),h[Ke[yt]]=_t}for(var _n=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],An=0,qn=0;qn<8;qn++)for(var Xn=0;Xn<8;Xn++)f[An]=1/(u[Ke[An]]*_n[qn]*_n[Xn]*8),_[An]=1/(h[Ke[An]]*_n[qn]*_n[Xn]*8),An++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),o=X)}this.encode=function(X,ve){var Nn,vi;ve&&wn(ve),H=new Array,Z=0,z=7,mt(65496),mt(65504),mt(16),He(74),He(70),He(73),He(70),He(0),He(1),He(1),He(0),mt(1),mt(1),He(0),He(0),function(){mt(65499),mt(132),He(0);for(var Nn=0;Nn<64;Nn++)He(u[Nn]);He(1);for(var vi=0;vi<64;vi++)He(h[vi])}(),Nn=X.width,vi=X.height,mt(65472),mt(17),He(8),mt(vi),mt(Nn),He(3),He(1),He(17),He(0),He(2),He(17),He(1),He(3),He(17),He(1),function(){mt(65476),mt(418),He(0);for(var Nn=0;Nn<16;Nn++)He(xe[Nn+1]);for(var vi=0;vi<=11;vi++)He(Lt[vi]);He(16);for(var ir=0;ir<16;ir++)He(Rt[ir+1]);for(var pr=0;pr<=161;pr++)He(pe[pr]);He(1);for(var Sr=0;Sr<16;Sr++)He(Ae[Sr+1]);for(var rs=0;rs<=11;rs++)He(Me[rs]);He(17);for(var eo=0;eo<16;eo++)He(Te[eo+1]);for(var qi=0;qi<=161;qi++)He(Tt[qi])}(),mt(65498),mt(12),He(3),He(1),He(0),He(2),He(17),He(3),He(17),He(0),He(63),He(0);var we=0,Ve=0,et=0;Z=0,z=7,this.encode.displayName="_encode_";for(var lt,yt,_t,_n,An,qn,Xn,Ui,Ut,Ee=X.data,ci=X.height,fn=4*X.width,Dn=0;Dn<ci;){for(lt=0;lt<fn;){for(An=fn*Dn+lt,Xn=-1,Ui=0,Ut=0;Ut<64;Ut++)qn=An+(Ui=Ut>>3)*fn+(Xn=4*(7&Ut)),Dn+Ui>=ci&&(qn-=fn*(Dn+1+Ui-ci)),lt+Xn>=fn&&(qn-=lt+Xn-fn+4),yt=Ee[qn++],_t=Ee[qn++],_n=Ee[qn++],W[Ut]=(ct[yt]+ct[_t+256>>0]+ct[_n+512>>0]>>16)-128,fe[Ut]=(ct[yt+768>>0]+ct[_t+1024>>0]+ct[_n+1280>>0]>>16)-128,De[Ut]=(ct[yt+1280>>0]+ct[_t+1536>>0]+ct[_n+1792>>0]>>16)-128;we=Ct(W,f,we,t,i),Ve=Ct(fe,_,Ve,e,r),et=Ct(De,_,et,e,r),lt+=32}Dn+=8}if(z>=0){var Hn=[];Hn[1]=z+1,Hn[0]=(1<<z+1)-1,Xe(Hn)}return mt(65497),new Uint8Array(H)},n=n||50,function(){for(var X=String.fromCharCode,ve=0;ve<256;ve++)Ye[ve]=X(ve)}(),t=Pe(xe,Lt),e=Pe(Ae,Me),i=Pe(Rt,pe),r=Pe(Te,Tt),function(){for(var X=1,ve=2,we=1;we<=15;we++){for(var Ve=X;Ve<ve;Ve++)F[32767+Ve]=we,b[32767+Ve]=[],b[32767+Ve][1]=we,b[32767+Ve][0]=Ve;for(var et=-(ve-1);et<=-X;et++)F[32767+et]=we,b[32767+et]=[],b[32767+et][1]=we,b[32767+et][0]=ve-1+et;X<<=1,ve<<=1}}(),function(){for(var X=0;X<256;X++)ct[X]=19595*X,ct[X+256>>0]=38470*X,ct[X+512>>0]=7471*X+32768,ct[X+768>>0]=-11059*X,ct[X+1024>>0]=-21709*X,ct[X+1280>>0]=32768*X+8421375,ct[X+1536>>0]=-27439*X,ct[X+1792>>0]=-5329*X}(),wn(n)}function ag(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function UK(n){function t(xe){if(!xe)throw Error("assert :P")}function e(xe,Lt,Rt){for(var pe=0;4>pe;pe++)if(xe[Lt+pe]!=Rt.charCodeAt(pe))return!0;return!1}function i(xe,Lt,Rt,pe,Ae){for(var Me=0;Me<Ae;Me++)xe[Lt+Me]=Rt[pe+Me]}function r(xe,Lt,Rt,pe){for(var Ae=0;Ae<pe;Ae++)xe[Lt+Ae]=Rt}function o(xe){return new Int32Array(xe)}function a(xe,Lt){for(var Rt=[],pe=0;pe<xe;pe++)Rt.push(new Lt);return Rt}function u(xe,Lt){var Rt=[];return function pe(Ae,Me,Te){for(var Tt=Te[Me],Pe=0;Pe<Tt&&(Ae.push(Te.length>Me+1?[]:new Lt),!(Te.length<Me+1));Pe++)pe(Ae[Pe],Me+1,Te)}(Rt,0,xe),Rt}var h=function(){var xe=this;function Lt(y,I){for(var O=1<<I-1>>>0;y&O;)O>>>=1;return O?(y&O-1)+O:y}function Rt(y,I,O,V,$){t(!(V%O));do{y[I+(V-=O)]=$}while(0<V)}function pe(y,I,O,V,$){if(t(2328>=$),512>=$)var te=o(512);else if(null==(te=o($)))return 0;return function(ne,se,oe,ge,Ue,At){var ft,Je,jt=se,Bt=1<<oe,Ge=o(16),Ze=o(16);for(t(0!=Ue),t(null!=ge),t(null!=ne),t(0<oe),Je=0;Je<Ue;++Je){if(15<ge[Je])return 0;++Ge[ge[Je]]}if(Ge[0]==Ue)return 0;for(Ze[1]=0,ft=1;15>ft;++ft){if(Ge[ft]>1<<ft)return 0;Ze[ft+1]=Ze[ft]+Ge[ft]}for(Je=0;Je<Ue;++Je)ft=ge[Je],0<ge[Je]&&(At[Ze[ft]++]=Je);if(1==Ze[15])return(ge=new Ae).g=0,ge.value=At[0],Rt(ne,jt,1,Bt,ge),Bt;var Vt,Xt=-1,Gt=Bt-1,Yn=0,Tn=1,Di=1,On=1<<oe;for(Je=0,ft=1,Ue=2;ft<=oe;++ft,Ue<<=1){if(Tn+=Di<<=1,0>(Di-=Ge[ft]))return 0;for(;0<Ge[ft];--Ge[ft])(ge=new Ae).g=ft,ge.value=At[Je++],Rt(ne,jt+Yn,Ue,On,ge),Yn=Lt(Yn,ft)}for(ft=oe+1,Ue=2;15>=ft;++ft,Ue<<=1){if(Tn+=Di<<=1,0>(Di-=Ge[ft]))return 0;for(;0<Ge[ft];--Ge[ft]){if(ge=new Ae,(Yn&Gt)!=Xt){for(jt+=On,Vt=1<<(Xt=ft)-oe;15>Xt&&!(0>=(Vt-=Ge[Xt]));)++Xt,Vt<<=1;Bt+=On=1<<(Vt=Xt-oe),ne[se+(Xt=Yn&Gt)].g=Vt+oe,ne[se+Xt].value=jt-se-Xt}ge.g=ft-oe,ge.value=At[Je++],Rt(ne,jt+(Yn>>oe),Ue,On,ge),Yn=Lt(Yn,ft)}}return Tn!=2*Ze[15]-1?0:Bt}(y,I,O,V,$,te)}function Ae(){this.value=this.g=0}function Me(){this.value=this.g=0}function Te(){this.G=a(5,Ae),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(bh,Me)}function Tt(y,I,O,V){t(null!=y),t(null!=I),t(2147483648>V),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=I,y.pa=O,y.Jd=I,y.Yc=O+V,y.Zc=4<=V?O+V-4+1:O,lt(y)}function Pe(y,I){for(var O=0;0<I--;)O|=_t(y,128)<<I;return O}function Xe(y,I){var O=Pe(y,I);return yt(y)?-O:O}function He(y,I,O,V){var $,te=0;for(t(null!=y),t(null!=I),t(4294967288>V),y.Sb=V,y.Ra=0,y.u=0,y.h=0,4<V&&(V=4),$=0;$<V;++$)te+=I[O+$]<<8*$;y.Ra=te,y.bb=V,y.oa=I,y.pa=O}function mt(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<PE-8>>>0,++y.bb,y.u-=8;we(y)&&(y.h=1,y.u=0)}function Ct(y,I){if(t(0<=I),!y.h&&I<=NE){var O=ve(y)&LE[I];return y.u+=I,mt(y),O}return y.h=1,y.u=0}function wn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ve(y){return y.Ra>>>(y.u&PE-1)>>>0}function we(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>PE}function Ve(y,I){y.u=I,y.h=we(y)}function et(y){y.u>=aT&&(t(y.u>=aT),mt(y))}function lt(y){t(null!=y&&null!=y.oa),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(null!=y&&null!=y.oa),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function yt(y){return Pe(y,1)}function _t(y,I){var O=y.Ca;0>y.b&&lt(y);var V=y.b,$=O*I>>>8,te=(y.I>>>V>$)+0;for(te?(O-=$,y.I-=$+1<<V>>>0):O=$+1,V=O,$=0;256<=V;)$+=8,V>>=8;return y.b-=V=7^$+Ch[V],y.Ca=(O<<V)-1,te}function _n(y,I,O){y[I+0]=O>>24&255,y[I+1]=O>>16&255,y[I+2]=O>>8&255,y[I+3]=O>>0&255}function An(y,I){return y[I+0]<<0|y[I+1]<<8}function qn(y,I){return An(y,I)|y[I+2]<<16}function Xn(y,I){return An(y,I)|An(y,I+2)<<16}function Ui(y,I){var O=1<<I;return t(null!=y),t(0<I),y.X=o(O),null==y.X?0:(y.Mb=32-I,y.Xa=I,1)}function Ut(y,I){t(null!=y),t(null!=I),t(y.Xa==I.Xa),i(I.X,0,y.X,0,1<<I.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function ar(y,I,O,V){t(null!=O),t(null!=V);var $=O[0],te=V[0];return 0==$&&($=(y*te+I/2)/I),0==te&&(te=(I*$+y/2)/y),0>=$||0>=te?0:(O[0]=$,V[0]=te,1)}function ci(y,I){return y+(1<<I)-1>>>I}function fn(y,I){return((4278255360&y)+(4278255360&I)>>>0&4278255360)+((16711935&y)+(16711935&I)>>>0&16711935)>>>0}function Dn(y,I){xe[I]=function(O,V,$,te,ne,se,oe){var ge;for(ge=0;ge<ne;++ge){var Ue=xe[y](se[oe+ge-1],$,te+ge);se[oe+ge]=fn(O[V+ge],Ue)}}}function Hn(){this.ud=this.hd=this.jd=0}function Nn(y,I){return((4278124286&(y^I))>>>1)+(y&I)>>>0}function vi(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function ir(y,I){return vi(y+(y-I+.5>>1))}function pr(y,I,O){return Math.abs(I-O)-Math.abs(y-O)}function Sr(y,I,O,V,$,te,ne){for(V=te[ne-1],O=0;O<$;++O)te[ne+O]=V=fn(y[I+O],V)}function rs(y,I,O,V,$){var te;for(te=0;te<O;++te){var ne=y[I+te],se=ne>>8&255,oe=16711935&(oe=(oe=16711935&ne)+((se<<16)+se));V[$+te]=(4278255360&ne)+oe>>>0}}function eo(y,I){I.jd=y>>0&255,I.hd=y>>8&255,I.ud=y>>16&255}function qi(y,I,O,V,$,te){var ne;for(ne=0;ne<V;++ne){var se=I[O+ne],oe=se>>>8,ge=se,Ue=255&(Ue=(Ue=se>>>16)+((y.jd<<24>>24)*(oe<<24>>24)>>>5));ge=255&(ge=(ge+=(y.hd<<24>>24)*(oe<<24>>24)>>>5)+((y.ud<<24>>24)*(Ue<<24>>24)>>>5)),$[te+ne]=(4278255360&se)+(Ue<<16)+ge}}function Fr(y,I,O,V,$){xe[I]=function(te,ne,se,oe,ge,Ue,At,ft,Je){for(oe=At;oe<ft;++oe)for(At=0;At<Je;++At)ge[Ue++]=$(se[V(te[ne++])])},xe[y]=function(te,ne,se,oe,ge,Ue,At){var ft=8>>te.b,Je=te.Ea,jt=te.K[0],Bt=te.w;if(8>ft)for(te=(1<<te.b)-1,Bt=(1<<ft)-1;ne<se;++ne){var Ge,Ze=0;for(Ge=0;Ge<Je;++Ge)Ge&te||(Ze=V(oe[ge++])),Ue[At++]=$(jt[Ze&Bt]),Ze>>=ft}else xe["VP8LMapColor"+O](oe,ge,jt,Bt,Ue,At,ne,se,Je)}}function Vn(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255}}function Gu(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>16&255,V[$++]=te>>8&255,V[$++]=te>>0&255,V[$++]=te>>24&255}}function hs(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;V[$++]=te,V[$++]=ne}}function cg(y,I,O,V,$){for(O=I+O;I<O;){var te=(ne=y[I++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;V[$++]=te,V[$++]=ne}}function fo(y,I,O,V,$){for(O=I+O;I<O;){var te=y[I++];V[$++]=te>>0&255,V[$++]=te>>8&255,V[$++]=te>>16&255}}function aa(y,I,O,V,$,te){if(0==te)for(O=I+O;I<O;)_n(V,((te=y[I++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),$+=32;else i(V,$,y,I,O)}function u_(y,I){xe[I][0]=xe[y+"0"],xe[I][1]=xe[y+"1"],xe[I][2]=xe[y+"2"],xe[I][3]=xe[y+"3"],xe[I][4]=xe[y+"4"],xe[I][5]=xe[y+"5"],xe[I][6]=xe[y+"6"],xe[I][7]=xe[y+"7"],xe[I][8]=xe[y+"8"],xe[I][9]=xe[y+"9"],xe[I][10]=xe[y+"10"],xe[I][11]=xe[y+"11"],xe[I][12]=xe[y+"12"],xe[I][13]=xe[y+"13"],xe[I][14]=xe[y+"0"],xe[I][15]=xe[y+"0"]}function xs(y){return y==lQ||y==cQ||y==NO||y==uQ}function SC(){this.eb=[],this.size=this.A=this.fb=0}function ja(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ug(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new SC,this.f.kb=new ja,this.sd=null}function Jy(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function za(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function rr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Es(y,I){var O=y.T,V=I.ba.f.RGBA,$=V.eb,te=V.fb+y.ka*V.A,ne=zf[I.ba.S],se=y.y,oe=y.O,ge=y.f,Ue=y.N,At=y.ea,ft=y.W,Je=I.cc,jt=I.dc,Bt=I.Mc,Ge=I.Nc,Ze=y.ka,Vt=y.ka+y.T,Xt=y.U,Gt=Xt+1>>1;for(0==Ze?ne(se,oe,null,null,ge,Ue,At,ft,ge,Ue,At,ft,$,te,null,null,Xt):(ne(I.ec,I.fc,se,oe,Je,jt,Bt,Ge,ge,Ue,At,ft,$,te-V.A,$,te,Xt),++O);Ze+2<Vt;Ze+=2)ne(se,(oe+=2*y.fa)-y.fa,se,oe,Je=ge,jt=Ue,Bt=At,Ge=ft,ge,Ue+=y.Rc,At,ft+=y.Rc,$,(te+=2*V.A)-V.A,$,te,Xt);return oe+=y.fa,y.j+Vt<y.o?(i(I.ec,I.fc,se,oe,Xt),i(I.cc,I.dc,ge,Ue,Gt),i(I.Mc,I.Nc,At,ft,Gt),O--):1&Vt||ne(se,oe,null,null,ge,Ue,At,ft,ge,Ue,At,ft,$,te+V.A,null,null,Xt),O}function IC(y,I,O){var V=y.F,$=[y.J];if(null!=V){var te=y.U,ne=I.ba.S,se=ne==LO||ne==NO;I=I.ba.f.RGBA;var oe=[0],ge=y.ka;oe[0]=y.T,y.Kb&&(0==ge?--oe[0]:(--ge,$[0]-=y.width),y.j+y.ka+y.T==y.o&&(oe[0]=y.o-y.j-ge));var Ue=I.eb;y=FO(V,$[0],y.width,te,oe,Ue,(ge=I.fb+ge*I.A)+(se?0:3),I.A),t(O==oe),y&&xs(ne)&&dw(Ue,ge,se,te,oe,I.A)}return 0}function ou(y){var I=y.ma,O=I.ba.S,V=11>O,$=O==RO||O==OO||O==LO||O==aQ||12==O||xs(O);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!sT(I.Oa,y,$?11:12))return 0;if($&&xs(O)&&an(),y.da)alert("todo:use_scaling");else{if(V){if(I.Ib=rr,y.Kb){if(I.memory=o(y.U+2*(O=y.U+1>>1)),null==I.memory)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+y.U,I.Mc=I.cc,I.Nc=I.dc+O,I.Ib=Es,an()}}else alert("todo:EmitYUV");$&&(I.Jb=IC,V&&rt())}if(V&&!m$){for(y=0;256>y;++y)jwe[y]=89858*(y-128)+UO>>PO,Kwe[y]=-22014*(y-128)+UO,qwe[y]=-45773*(y-128),zwe[y]=113618*(y-128)+UO>>PO;for(y=AT;y<AQ;++y)Zwe[y-AT]=RA(I=76283*(y-16)+UO>>PO,255),$we[y-AT]=RA(I+8>>4,15);m$=1}return 1}function d_(y){var I=y.ma,O=y.U,V=y.T;return t(!(1&y.ka)),0>=O||0>=V?0:(O=I.Ib(y,I),null!=I.Jb&&I.Jb(y,I,O),I.Dc+=O,1)}function h_(y){y.ma.memory=null}function Li(y,I,O,V){return 47!=Ct(y,8)?0:(I[0]=Ct(y,14)+1,O[0]=Ct(y,14)+1,V[0]=Ct(y,1),0!=Ct(y,3)?0:!y.h)}function dg(y,I){if(4>y)return y+1;var O=y-2>>1;return(2+(1&y)<<O)+Ct(I,O)+1}function A_(y,I){return 120<I?I-120:1<=(O=((O=Bwe[I-1])>>4)*y+(8-(15&O)))?O:1;var O}function vh(y,I,O){var V=ve(O),$=y[I+=255&V].g-8;return 0<$&&(Ve(O,O.u+8),V=ve(O),I+=y[I].value,I+=V&(1<<$)-1),Ve(O,O.u+y[I].g),y[I].value}function ac(y,I,O){return O.g+=y.g,O.value+=y.value<<I>>>0,t(8>=O.g),y.g}function Ql(y,I,O){var V=y.xc;return t((I=0==V?0:y.vc[y.md*(O>>V)+(I>>V)])<y.Wb),y.Ya[I]}function kA(y,I,O,V){var $=y.ab,te=y.c*I,ne=y.C;I=ne+I;var se=O,oe=V;for(V=y.Ta,O=y.Ua;0<$--;){var ge=y.gc[$],Ue=ne,At=I,ft=se,Je=oe,jt=(oe=V,se=O,ge.Ea);switch(t(Ue<At),t(At<=ge.nc),ge.hc){case 2:BO(ft,Je,(At-Ue)*jt,oe,se);break;case 0:var Bt=Ue,Ge=At,Ze=oe,Vt=se,Xt=(On=ge).Ea;0==Bt&&(iQ(ft,Je,null,null,1,Ze,Vt),Sr(ft,Je+1,0,0,Xt-1,Ze,Vt+1),Je+=Xt,Vt+=Xt,++Bt);for(var Gt=1<<On.b,Yn=Gt-1,Tn=ci(Xt,On.b),Di=On.K,On=On.w+(Bt>>On.b)*Tn;Bt<Ge;){var _s=Di,Ns=On,ss=1;for(lT(ft,Je,Ze,Vt-Xt,1,Ze,Vt);ss<Xt;){var Vr=(ss&~Yn)+Gt;Vr>Xt&&(Vr=Xt),(0,aw[_s[Ns++]>>8&15])(ft,Je+ +ss,Ze,Vt+ss-Xt,Vr-ss,Ze,Vt+ss),ss=Vr}Je+=Xt,Vt+=Xt,++Bt&Yn||(On+=Tn)}At!=ge.nc&&i(oe,se-jt,oe,se+(At-Ue-1)*jt,jt);break;case 1:for(jt=ft,Ge=Je,Xt=(ft=ge.Ea)-(Vt=ft&~(Ze=(Je=1<<ge.b)-1)),Bt=ci(ft,ge.b),Gt=ge.K,ge=ge.w+(Ue>>ge.b)*Bt;Ue<At;){for(Yn=Gt,Tn=ge,Di=new Hn,On=Ge+Vt,_s=Ge+ft;Ge<On;)eo(Yn[Tn++],Di),Vf(Di,jt,Ge,Je,oe,se),Ge+=Je,se+=Je;Ge<_s&&(eo(Yn[Tn++],Di),Vf(Di,jt,Ge,Xt,oe,se),Ge+=Xt,se+=Xt),++Ue&Ze||(ge+=Bt)}break;case 3:if(ft==oe&&Je==se&&0<ge.b){for(Ge=oe,ft=jt=se+(At-Ue)*jt-(Vt=(At-Ue)*ci(ge.Ea,ge.b)),Je=oe,Ze=se,Bt=[],Vt=(Xt=Vt)-1;0<=Vt;--Vt)Bt[Vt]=Je[Ze+Vt];for(Vt=Xt-1;0<=Vt;--Vt)Ge[ft+Vt]=Bt[Vt];_g(ge,Ue,At,oe,jt,oe,se)}else _g(ge,Ue,At,ft,Je,oe,se)}se=V,oe=O}oe!=O&&i(V,O,se,oe,te)}function yE(y,I){var O=y.V,V=y.Ba+y.c*y.C,$=I-y.C;if(t(I<=y.l.o),t(16>=$),0<$){var te=y.l,ne=y.Ta,se=y.Ua,oe=te.width;if(kA(y,$,O,V),$=se=[se],t((O=y.C)<(V=I)),t(te.v<te.va),V>te.o&&(V=te.o),O<te.j){var ge=te.j-O;O=te.j,$[0]+=ge*oe}if(O>=V?O=0:($[0]+=4*te.v,te.ka=O-te.j,te.U=te.va-te.v,te.T=V-O,O=1),O){if(se=se[0],11>(O=y.ca).S){var Ue=O.f.RGBA,At=(V=O.S,$=te.U,te=te.T,ge=Ue.eb,Ue.A),ft=te;for(Ue=Ue.fb+y.Ma*Ue.A;0<ft--;){var Je=ne,jt=se,Bt=$,Ge=ge,Ze=Ue;switch(V){case kO:yg(Je,jt,Bt,Ge,Ze);break;case RO:lw(Je,jt,Bt,Ge,Ze);break;case lQ:lw(Je,jt,Bt,Ge,Ze),dw(Ge,Ze,0,Bt,1,0);break;case a$:UE(Je,jt,Bt,Ge,Ze);break;case OO:aa(Je,jt,Bt,Ge,Ze,1);break;case cQ:aa(Je,jt,Bt,Ge,Ze,1),dw(Ge,Ze,0,Bt,1,0);break;case LO:aa(Je,jt,Bt,Ge,Ze,0);break;case NO:aa(Je,jt,Bt,Ge,Ze,0),dw(Ge,Ze,1,Bt,1,0);break;case aQ:m_(Je,jt,Bt,Ge,Ze);break;case uQ:m_(Je,jt,Bt,Ge,Ze),VE(Ge,Ze,Bt,1,0);break;case l$:iv(Je,jt,Bt,Ge,Ze);break;default:t(0)}se+=oe,Ue+=At}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=O.height)}}y.C=I,t(y.C<=y.i)}function Xy(y){var I;if(0<y.ua)return 0;for(I=0;I<y.Wb;++I){var O=y.Ya[I].G,V=y.Ya[I].H;if(0<O[1][V[1]+0].g||0<O[2][V[2]+0].g||0<O[3][V[3]+0].g)return 0}return 1}function hg(y,I,O,V,$,te){if(0!=y.Z){var ne=y.qd,se=y.rd;for(t(null!=Aw[y.Z]);I<O;++I)Aw[y.Z](ne,se,V,$,V,$,te),ne=V,se=$,$+=te;y.qd=ne,y.rd=se}}function Ag(y,I){var O=y.l.ma,V=0==O.Z||1==O.Z?y.l.j:y.C;if(V=y.C<V?V:y.C,t(I<=y.l.o),I>V){var $=y.l.width,te=O.ca,ne=O.tb+$*V,se=y.V,oe=y.Ba+y.c*V,ge=y.gc;t(1==y.ab),t(3==ge[0].hc),rQ(ge[0],V,I,se,oe,te,ne),hg(O,V,I,te,ne,$)}y.C=y.Ma=I}function fg(y,I,O,V,$,te,ne){var se=y.$/V,oe=y.$%V,ge=y.m,Ue=y.s,At=O+y.$,ft=At;$=O+V*$;var Je=O+V*te,jt=280+Ue.ua,Bt=y.Pb?se:16777216,Ge=0<Ue.ua?Ue.Wa:null,Ze=Ue.wc,Vt=At<Je?Ql(Ue,oe,se):null;t(y.C<te),t(Je<=$);var Xt=!1;e:for(;;){for(;Xt||At<Je;){var Gt=0;if(se>=Bt){var Yn=At-O;t((Bt=y).Pb),Bt.wd=Bt.m,Bt.xd=Yn,0<Bt.s.ua&&Ut(Bt.s.Wa,Bt.s.vb),Bt=se+Mwe}if(oe&Ze||(Vt=Ql(Ue,oe,se)),t(null!=Vt),Vt.Qb&&(I[At]=Vt.qb,Xt=!0),!Xt)if(et(ge),Vt.jc){Yn=I;var Tn=At,Di=Vt.pd[ve(Gt=ge)&bh-1];t(Vt.jc),256>Di.g?(Ve(Gt,Gt.u+Di.g),Yn[Tn]=Di.value,Gt=0):(Ve(Gt,Gt.u+Di.g-256),t(256<=Di.value),Gt=Di.value),0==Gt&&(Xt=!0)}else Gt=vh(Vt.G[0],Vt.H[0],ge);if(ge.h)break;if(Xt||256>Gt){if(!Xt)if(Vt.nd)I[At]=(Vt.qb|Gt<<8)>>>0;else{if(et(ge),Xt=vh(Vt.G[1],Vt.H[1],ge),et(ge),Yn=vh(Vt.G[2],Vt.H[2],ge),Tn=vh(Vt.G[3],Vt.H[3],ge),ge.h)break;I[At]=(Tn<<24|Xt<<16|Gt<<8|Yn)>>>0}if(Xt=!1,++At,++oe>=V&&(oe=0,++se,null!=ne&&se<=te&&!(se%16)&&ne(y,se),null!=Ge))for(;ft<At;)Gt=I[ft++],Ge.X[(506832829*Gt&4294967295)>>>Ge.Mb]=Gt}else if(280>Gt){if(Gt=dg(Gt-256,ge),Yn=vh(Vt.G[4],Vt.H[4],ge),et(ge),Yn=A_(V,Yn=dg(Yn,ge)),ge.h)break;if(At-O<Yn||$-At<Gt)break e;for(Tn=0;Tn<Gt;++Tn)I[At+Tn]=I[At+Tn-Yn];for(At+=Gt,oe+=Gt;oe>=V;)oe-=V,++se,null!=ne&&se<=te&&!(se%16)&&ne(y,se);if(t(At<=$),oe&Ze&&(Vt=Ql(Ue,oe,se)),null!=Ge)for(;ft<At;)Gt=I[ft++],Ge.X[(506832829*Gt&4294967295)>>>Ge.Mb]=Gt}else{if(!(Gt<jt))break e;for(Xt=Gt-280,t(null!=Ge);ft<At;)Gt=I[ft++],Ge.X[(506832829*Gt&4294967295)>>>Ge.Mb]=Gt;Gt=At,t(!(Xt>>>(Yn=Ge).Xa)),I[Gt]=Yn.X[Xt],Xt=!0}Xt||t(ge.h==we(ge))}if(y.Pb&&ge.h&&At<$)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ut(y.s.vb,y.s.Wa);else{if(ge.h)break e;ne?.(y,se>te?te:se),y.a=0,y.$=At-O}return 1}return y.a=3,0}function f_(y){t(null!=y),y.vc=null,y.yc=null,y.Ya=null;var I=y.Wa;null!=I&&(I.X=null),y.vb=null,t(null!=y)}function Hf(){var y=new nQ;return null==y?null:(y.a=0,y.xb=d$,u_("Predictor","VP8LPredictors"),u_("Predictor","VP8LPredictors_C"),u_("PredictorAdd","VP8LPredictorsAdd"),u_("PredictorAdd","VP8LPredictorsAdd_C"),BO=rs,Vf=qi,yg=Vn,lw=Gu,m_=hs,iv=cg,UE=fo,xe.VP8LMapColor32b=cT,xe.VP8LMapColor8b=sQ,y)}function p_(y,I,O,V,$){var te=1,ne=[y],se=[I],oe=V.m,ge=V.s,Ue=null,At=0;e:for(;;){if(O)for(;te&&Ct(oe,1);){var ft=ne,Je=se,jt=V,Bt=1,Ge=jt.m,Ze=jt.gc[jt.ab],Vt=Ct(Ge,2);if(jt.Oc&1<<Vt)te=0;else{switch(jt.Oc|=1<<Vt,Ze.hc=Vt,Ze.Ea=ft[0],Ze.nc=Je[0],Ze.K=[null],++jt.ab,t(4>=jt.ab),Vt){case 0:case 1:Ze.b=Ct(Ge,3)+2,Bt=p_(ci(Ze.Ea,Ze.b),ci(Ze.nc,Ze.b),0,jt,Ze.K),Ze.K=Ze.K[0];break;case 3:var Xt,Gt=Ct(Ge,8)+1,Yn=16<Gt?0:4<Gt?1:2<Gt?2:3;if(ft[0]=ci(Ze.Ea,Yn),Ze.b=Yn,Xt=Bt=p_(Gt,1,0,jt,Ze.K)){var Tn,Di=Gt,On=Ze,_s=1<<(8>>On.b),Ns=o(_s);if(null==Ns)Xt=0;else{var ss=On.K[0],Vr=On.w;for(Ns[0]=On.K[0][0],Tn=1;Tn<1*Di;++Tn)Ns[Tn]=fn(ss[Vr+Tn],Ns[Tn-1]);for(;Tn<4*_s;++Tn)Ns[Tn]=0;On.K[0]=null,On.K[0]=Ns,Xt=1}}Bt=Xt;break;case 2:break;default:t(0)}te=Bt}}if(ne=ne[0],se=se[0],te&&Ct(oe,1)&&!(te=1<=(At=Ct(oe,4))&&11>=At)){V.a=3;break e}var po;if(po=te)t:{var to,Ar,Vl,xh=V,Gl=ne,Eh=se,Ps=At,LA=O,NA=xh.m,Lc=xh.s,au=[null],Td=1,qf=0,__=Fwe[Ps];n:for(;;){if(LA&&Ct(NA,1)){var Nc=Ct(NA,3)+2,lv=ci(Gl,Nc),OC=ci(Eh,Nc),GE=lv*OC;if(!p_(lv,OC,0,xh,au))break n;for(au=au[0],Lc.xc=Nc,to=0;to<GE;++to){var fw=au[to]>>8&65535;au[to]=fw,fw>=Td&&(Td=fw+1)}}if(NA.h)break n;for(Ar=0;5>Ar;++Ar){var Ka=c$[Ar];!Ar&&0<Ps&&(Ka+=1<<Ps),qf<Ka&&(qf=Ka)}var fQ=a(Td*__,Ae),v$=Td,w$=a(v$,Te);if(null==w$)var HO=null;else t(65536>=v$),HO=w$;var fT=o(qf);if(null==HO||null==fT||null==fQ){xh.a=1;break n}var VO=fQ;for(to=Vl=0;to<Td;++to){var Cg=HO[to],jE=Cg.G,zE=Cg.H,b$=0,GO=1,C$=0;for(Ar=0;5>Ar;++Ar){Ka=c$[Ar],jE[Ar]=VO,zE[Ar]=Vl,!Ar&&0<Ps&&(Ka+=1<<Ps);r:{var jO,pQ=Ka,zO=xh,pT=fT,Jwe=VO,Xwe=Vl,gQ=0,pw=zO.m,ebe=Ct(pw,1);if(r(pT,0,0,pQ),ebe){var tbe=Ct(pw,1)+1,nbe=Ct(pw,1),x$=Ct(pw,0==nbe?1:8);pT[x$]=1,2==tbe&&(pT[x$=Ct(pw,8)]=1);var qO=1}else{var E$=o(19),S$=Ct(pw,4)+4;if(19<S$){zO.a=3;var KO=0;break r}for(jO=0;jO<S$;++jO)E$[Twe[jO]]=Ct(pw,3);var mQ=void 0,gT=void 0,I$=zO,ibe=E$,ZO=pQ,D$=pT,_Q=0,gw=I$.m,T$=8,B$=a(128,Ae);i:for(;pe(B$,0,7,ibe,19);){if(Ct(gw,1)){var rbe=2+2*Ct(gw,3);if((mQ=2+Ct(gw,rbe))>ZO)break i}else mQ=ZO;for(gT=0;gT<ZO&&mQ--;){et(gw);var F$=B$[0+(127&ve(gw))];Ve(gw,gw.u+F$.g);var qE=F$.value;if(16>qE)D$[gT++]=qE,0!=qE&&(T$=qE);else{var sbe=16==qE,M$=qE-16,obe=Iwe[M$],k$=Ct(gw,Swe[M$])+obe;if(gT+k$>ZO)break i;for(var abe=sbe?T$:0;0<k$--;)D$[gT++]=abe}}_Q=1;break i}_Q||(I$.a=3),qO=_Q}(qO=qO&&!pw.h)&&(gQ=pe(Jwe,Xwe,8,pT,pQ)),qO&&0!=gQ?KO=gQ:(zO.a=3,KO=0)}if(0==KO)break n;if(GO&&1==Dwe[Ar]&&(GO=0==VO[Vl].g),b$+=VO[Vl].g,Vl+=KO,3>=Ar){var mT,yQ=fT[0];for(mT=1;mT<Ka;++mT)fT[mT]>yQ&&(yQ=fT[mT]);C$+=yQ}}if(Cg.nd=GO,Cg.Qb=0,GO&&(Cg.qb=(jE[3][zE[3]+0].value<<24|jE[1][zE[1]+0].value<<16|jE[2][zE[2]+0].value)>>>0,0==b$&&256>jE[0][zE[0]+0].value&&(Cg.Qb=1,Cg.qb+=jE[0][zE[0]+0].value<<8)),Cg.jc=!Cg.Qb&&6>C$,Cg.jc){var $O,cv=Cg;for($O=0;$O<bh;++$O){var mw=$O,_w=cv.pd[mw],YO=cv.G[0][cv.H[0]+mw];256<=YO.value?(_w.g=YO.g+256,_w.value=YO.value):(_w.g=0,_w.value=0,mw>>=ac(YO,8,_w),mw>>=ac(cv.G[1][cv.H[1]+mw],16,_w),mw>>=ac(cv.G[2][cv.H[2]+mw],0,_w),ac(cv.G[3][cv.H[3]+mw],24,_w))}}}Lc.vc=au,Lc.Wb=Td,Lc.Ya=HO,Lc.yc=fQ,po=1;break t}po=0}if(!(te=po)){V.a=3;break e}if(0<At){if(ge.ua=1<<At,!Ui(ge.Wa,At)){V.a=1,te=0;break e}}else ge.ua=0;var vQ=V,R$=ne,lbe=se,wQ=vQ.s,bQ=wQ.xc;if(vQ.c=R$,vQ.i=lbe,wQ.md=ci(R$,bQ),wQ.wc=0==bQ?-1:(1<<bQ)-1,O){V.xb=Uwe;break e}if(null==(Ue=o(ne*se))){V.a=1,te=0;break e}te=(te=fg(V,Ue,0,ne,se,se,null))&&!oe.h;break e}return te?(null!=$?$[0]=Ue:(t(null==Ue),t(O)),V.$=0,O||f_(ge)):f_(ge),te}function DC(y,I){var O=y.c*y.i,V=O+I+16*I;return t(y.c<=I),y.V=o(V),null==y.V?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+O+I,1)}function vE(y,I){var O=y.C,V=I-O,$=y.V,te=y.Ba+y.c*O;for(t(I<=y.l.o);0<V;){var ne=16<V?16:V,se=y.l.ma,oe=y.l.width,ge=oe*ne,Ue=se.ca,At=se.tb+oe*O,ft=y.Ta,Je=y.Ua;kA(y,ne,$,te),t$(ft,Je,Ue,At,ge),hg(se,O,O+ne,Ue,At,oe),V-=ne,$+=ne*y.c,O+=ne}t(O==I),y.C=y.Ma=I}function wE(){this.ub=this.yd=this.td=this.Rb=0}function bE(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function CE(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function uO(){var y;this.Yb=(function I(O,V,$){for(var te=$[V],ne=0;ne<te&&(O.push($.length>V+1?[]:0),!($.length<V+1));ne++)I(O[ne],V+1,$)}(y=[],0,[3,11]),y)}function k6(){this.jb=o(3),this.Wc=u([4,8],uO),this.Xc=u([4,17],uO)}function R6(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function xE(){this.ld=this.La=this.dd=this.tc=0}function dO(){this.Na=this.la=0}function O6(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function GD(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function L6(){this.uc=this.M=this.Nb=0,this.wa=Array(new xE),this.Y=0,this.ya=Array(new GD),this.aa=0,this.l=new EE}function hO(){this.y=o(16),this.f=o(8),this.ea=o(8)}function N6(){this.cb=this.a=0,this.sc="",this.m=new wn,this.Od=new wE,this.Kc=new bE,this.ed=new R6,this.Qa=new CE,this.Ic=this.$c=this.Aa=0,this.D=new L6,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,wn),this.ia=0,this.pb=a(4,O6),this.Pa=new k6,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hO),this.Hd=0,this.rb=Array(new dO),this.sb=0,this.wa=Array(new xE),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new GD),this.L=this.aa=0,this.gd=u([4,2],xE),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function EE(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function P6(){var y=new N6;return null!=y&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,hT||(hT=pO)),y}function gl(y,I,O){return 0==y.a&&(y.a=I,y.sc=O,y.cb=0),0}function AO(y,I,O){return 3<=O&&157==y[I+0]&&1==y[I+1]&&42==y[I+2]}function fO(y,I){if(null==y)return 0;if(y.a=0,y.sc="OK",null==I)return gl(y,2,"null VP8Io passed to VP8GetHeaders()");var O=I.data,V=I.w,$=I.ha;if(4>$)return gl(y,7,"Truncated header.");var te=O[V+0]|O[V+1]<<8|O[V+2]<<16,ne=y.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return gl(y,3,"Incorrect keyframe parameters.");if(!ne.yd)return gl(y,4,"Frame not displayable.");V+=3,$-=3;var se=y.Kc;if(ne.Rb){if(7>$)return gl(y,7,"cannot parse picture header");if(!AO(O,V,$))return gl(y,3,"Bad code word");se.c=16383&(O[V+4]<<8|O[V+3]),se.Td=O[V+4]>>6,se.i=16383&(O[V+6]<<8|O[V+5]),se.Ud=O[V+6]>>6,V+=7,$-=7,y.za=se.c+15>>4,y.Ub=se.i+15>>4,I.width=se.c,I.height=se.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,r((te=y.Pa).jb,0,255,te.jb.length),t(null!=(te=y.Qa)),te.Cb=0,te.Bb=0,te.Fb=1,r(te.Zb,0,0,te.Zb.length),r(te.Lb,0,0,te.Lb)}if(ne.ub>$)return gl(y,7,"bad partition length");Tt(te=y.m,O,V,ne.ub),V+=ne.ub,$-=ne.ub,ne.Rb&&(se.Ld=yt(te),se.Kd=yt(te)),se=y.Qa;var oe,ge=y.Pa;if(t(null!=te),t(null!=se),se.Cb=yt(te),se.Cb){if(se.Bb=yt(te),yt(te)){for(se.Fb=yt(te),oe=0;4>oe;++oe)se.Zb[oe]=yt(te)?Xe(te,7):0;for(oe=0;4>oe;++oe)se.Lb[oe]=yt(te)?Xe(te,6):0}if(se.Bb)for(oe=0;3>oe;++oe)ge.jb[oe]=yt(te)?Pe(te,8):255}else se.Bb=0;if(te.Ka)return gl(y,3,"cannot parse segment header");if((se=y.ed).zd=yt(te),se.Tb=Pe(te,6),se.wb=Pe(te,3),se.Pc=yt(te),se.Pc&&yt(te)){for(ge=0;4>ge;++ge)yt(te)&&(se.vd[ge]=Xe(te,6));for(ge=0;4>ge;++ge)yt(te)&&(se.od[ge]=Xe(te,6))}if(y.L=0==se.Tb?0:se.zd?1:2,te.Ka)return gl(y,3,"cannot parse filter header");var Ue=$;if($=oe=V,V=oe+Ue,se=Ue,y.Xb=(1<<Pe(y.m,2))-1,Ue<3*(ge=y.Xb))O=7;else{for(oe+=3*ge,se-=3*ge,Ue=0;Ue<ge;++Ue){var At=O[$+0]|O[$+1]<<8|O[$+2]<<16;At>se&&(At=se),Tt(y.Jc[+Ue],O,oe,At),oe+=At,se-=At,$+=3}Tt(y.Jc[+ge],O,oe,se),O=oe<V?0:5}if(0!=O)return gl(y,O,"cannot parse partitions");for(O=Pe(oe=y.m,7),$=yt(oe)?Xe(oe,4):0,V=yt(oe)?Xe(oe,4):0,se=yt(oe)?Xe(oe,4):0,ge=yt(oe)?Xe(oe,4):0,oe=yt(oe)?Xe(oe,4):0,Ue=y.Qa,At=0;4>At;++At){if(Ue.Cb){var ft=Ue.Zb[At];Ue.Fb||(ft+=O)}else{if(0<At){y.pb[At]=y.pb[0];continue}ft=O}var Je=y.pb[At];Je.Sc[0]=dQ[RA(ft+$,127)],Je.Sc[1]=hQ[RA(ft+0,127)],Je.Eb[0]=2*dQ[RA(ft+V,127)],Je.Eb[1]=101581*hQ[RA(ft+se,127)]>>16,8>Je.Eb[1]&&(Je.Eb[1]=8),Je.Qc[0]=dQ[RA(ft+ge,117)],Je.Qc[1]=hQ[RA(ft+oe,127)],Je.lc=ft+oe}if(!ne.Rb)return gl(y,4,"Not a key frame.");for(yt(te),ne=y.Pa,O=0;4>O;++O){for($=0;8>$;++$)for(V=0;3>V;++V)for(se=0;11>se;++se)ge=_t(te,Nwe[O][$][V][se])?Pe(te,8):Owe[O][$][V][se],ne.Wc[O][$].Yb[V][se]=ge;for($=0;17>$;++$)ne.Xc[O][$]=ne.Wc[O][Pwe[$]]}return y.kc=yt(te),y.kc&&(y.Bd=Pe(te,8)),y.cb=1}function pO(y,I,O,V,$,te,ne){var se=I[$].Yb[O];for(O=0;16>$;++$){if(!_t(y,se[O+0]))return $;for(;!_t(y,se[O+1]);)if(se=I[++$].Yb[0],O=0,16==$)return 16;var oe=I[$+1].Yb;if(_t(y,se[O+2])){var ge=y,Ue=0;if(_t(ge,(ft=se)[(At=O)+3]))if(_t(ge,ft[At+6])){for(se=0,At=2*(Ue=_t(ge,ft[At+8]))+(ft=_t(ge,ft[At+9+Ue])),Ue=0,ft=kwe[At];ft[se];++se)Ue+=Ue+_t(ge,ft[se]);Ue+=3+(8<<At)}else _t(ge,ft[At+7])?(Ue=7+2*_t(ge,165),Ue+=_t(ge,145)):Ue=5+_t(ge,159);else Ue=_t(ge,ft[At+4])?3+_t(ge,ft[At+5]):2;se=oe[2]}else Ue=1,se=oe[1];oe=ne+Rwe[$],0>(ge=y).b&&lt(ge);var At,ft=ge.b,Je=(At=ge.Ca>>1)-(ge.I>>ft)>>31;--ge.b,ge.Ca+=Je,ge.Ca|=1,ge.I-=(At+1&Je)<<ft,te[oe]=((Ue^Je)-Je)*V[(0<$)+0]}return 16}function jD(y){var I=y.rb[y.sb-1];I.la=0,I.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function pg(y,I,O,V,$){y[I+O+32*V]=-256&($=y[I+O+32*V]+($>>3))?0>$?0:255:$}function SE(y,I,O,V,$,te){pg(y,I,0,O,V+$),pg(y,I,1,O,V+te),pg(y,I,2,O,V-te),pg(y,I,3,O,V-$)}function wh(y){return(20091*y>>16)+y}function zD(y,I,O,V){var $,te=0,ne=o(16);for($=0;4>$;++$){var se=y[I+0]+y[I+8],oe=y[I+0]-y[I+8],ge=(35468*y[I+4]>>16)-wh(y[I+12]),Ue=wh(y[I+4])+(35468*y[I+12]>>16);ne[te+0]=se+Ue,ne[te+1]=oe+ge,ne[te+2]=oe-ge,ne[te+3]=se-Ue,te+=4,I++}for($=te=0;4>$;++$)se=(y=ne[te+0]+4)+ne[te+8],oe=y-ne[te+8],ge=(35468*ne[te+4]>>16)-wh(ne[te+12]),pg(O,V,0,0,se+(Ue=wh(ne[te+4])+(35468*ne[te+12]>>16))),pg(O,V,1,0,oe+ge),pg(O,V,2,0,oe-ge),pg(O,V,3,0,se-Ue),te++,V+=32}function gO(y,I,O,V){var $=y[I+0]+4,te=35468*y[I+4]>>16,ne=wh(y[I+4]),se=35468*y[I+1]>>16;SE(O,V,0,$+ne,y=wh(y[I+1]),se),SE(O,V,1,$+te,y,se),SE(O,V,2,$-te,y,se),SE(O,V,3,$-ne,y,se)}function Q6(y,I,O,V,$){zD(y,I,O,V),$&&zD(y,I+16,O,V+4)}function mO(y,I,O,V){QE(y,I+0,O,V,1),QE(y,I+32,O,V+128,1)}function H6(y,I,O,V){var $;for(y=y[I+0]+4,$=0;4>$;++$)for(I=0;4>I;++I)pg(O,V,I,$,y)}function _O(y,I,O,V){y[I+0]&&wg(y,I+0,O,V),y[I+16]&&wg(y,I+16,O,V+4),y[I+32]&&wg(y,I+32,O,V+128),y[I+48]&&wg(y,I+48,O,V+128+4)}function V6(y,I,O,V){var $,te=o(16);for($=0;4>$;++$){var ne=y[I+0+$]+y[I+12+$],se=y[I+4+$]+y[I+8+$],oe=y[I+4+$]-y[I+8+$],ge=y[I+0+$]-y[I+12+$];te[0+$]=ne+se,te[8+$]=ne-se,te[4+$]=ge+oe,te[12+$]=ge-oe}for($=0;4>$;++$)ne=(y=te[0+4*$]+3)+te[3+4*$],oe=te[1+4*$]-te[2+4*$],ge=y-te[3+4*$],O[V+0]=ne+(se=te[1+4*$]+te[2+4*$])>>3,O[V+16]=ge+oe>>3,O[V+32]=ne-se>>3,O[V+48]=ge-oe>>3,V+=64}function qD(y,I,O){var V,$=I-32,te=OA,ne=255-y[$-1];for(V=0;V<O;++V){var se,oe=te,ge=ne+y[I-1];for(se=0;se<O;++se)y[I+se]=oe[ge+y[$+se]];I+=32}}function G6(y,I){qD(y,I,4)}function j6(y,I){qD(y,I,8)}function z6(y,I){qD(y,I,16)}function ev(y,I){var O;for(O=0;16>O;++O)i(y,I+32*O,y,I-32,16)}function IE(y,I){var O;for(O=16;0<O;--O)r(y,I,y[I-1],16),I+=32}function DE(y,I,O){var V;for(V=0;16>V;++V)r(I,O+32*V,y,16)}function yO(y,I){var O,V=16;for(O=0;16>O;++O)V+=y[I-1+32*O]+y[I+O-32];DE(V>>5,y,I)}function ju(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I-1+32*O];DE(V>>4,y,I)}function q6(y,I){var O,V=8;for(O=0;16>O;++O)V+=y[I+O-32];DE(V>>4,y,I)}function vO(y,I){DE(128,y,I)}function Xi(y,I,O){return y+2*I+O+2>>2}function K6(y,I){var O,V=I-32;for(V=new Uint8Array([Xi(y[V-1],y[V+0],y[V+1]),Xi(y[V+0],y[V+1],y[V+2]),Xi(y[V+1],y[V+2],y[V+3]),Xi(y[V+2],y[V+3],y[V+4])]),O=0;4>O;++O)i(y,I+32*O,V,0,V.length)}function Z6(y,I){var O=y[I-1],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];_n(y,I+0,16843009*Xi(y[I-1-32],O,V)),_n(y,I+32,16843009*Xi(O,V,$)),_n(y,I+64,16843009*Xi(V,$,te)),_n(y,I+96,16843009*Xi($,te,te))}function g_(y,I){var O,V=4;for(O=0;4>O;++O)V+=y[I+O-32]+y[I-1+32*O];for(V>>=3,O=0;4>O;++O)r(y,I+32*O,V,4)}function wO(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],se=y[I+1-32],oe=y[I+2-32],ge=y[I+3-32];y[I+0+96]=Xi(V,$,y[I-1+96]),y[I+1+96]=y[I+0+64]=Xi(O,V,$),y[I+2+96]=y[I+1+64]=y[I+0+32]=Xi(te,O,V),y[I+3+96]=y[I+2+64]=y[I+1+32]=y[I+0+0]=Xi(ne,te,O),y[I+3+64]=y[I+2+32]=y[I+1+0]=Xi(se,ne,te),y[I+3+32]=y[I+2+0]=Xi(oe,se,ne),y[I+3+0]=Xi(ge,oe,se)}function bO(y,I){var O=y[I+1-32],V=y[I+2-32],$=y[I+3-32],te=y[I+4-32],ne=y[I+5-32],se=y[I+6-32],oe=y[I+7-32];y[I+0+0]=Xi(y[I+0-32],O,V),y[I+1+0]=y[I+0+32]=Xi(O,V,$),y[I+2+0]=y[I+1+32]=y[I+0+64]=Xi(V,$,te),y[I+3+0]=y[I+2+32]=y[I+1+64]=y[I+0+96]=Xi($,te,ne),y[I+3+32]=y[I+2+64]=y[I+1+96]=Xi(te,ne,se),y[I+3+64]=y[I+2+96]=Xi(ne,se,oe),y[I+3+96]=Xi(se,oe,oe)}function TE(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1-32],ne=y[I+0-32],se=y[I+1-32],oe=y[I+2-32],ge=y[I+3-32];y[I+0+0]=y[I+1+64]=te+ne+1>>1,y[I+1+0]=y[I+2+64]=ne+se+1>>1,y[I+2+0]=y[I+3+64]=se+oe+1>>1,y[I+3+0]=oe+ge+1>>1,y[I+0+96]=Xi($,V,O),y[I+0+64]=Xi(V,O,te),y[I+0+32]=y[I+1+96]=Xi(O,te,ne),y[I+1+32]=y[I+2+96]=Xi(te,ne,se),y[I+2+32]=y[I+3+96]=Xi(ne,se,oe),y[I+3+32]=Xi(se,oe,ge)}function KD(y,I){var O=y[I+0-32],V=y[I+1-32],$=y[I+2-32],te=y[I+3-32],ne=y[I+4-32],se=y[I+5-32],oe=y[I+6-32],ge=y[I+7-32];y[I+0+0]=O+V+1>>1,y[I+1+0]=y[I+0+64]=V+$+1>>1,y[I+2+0]=y[I+1+64]=$+te+1>>1,y[I+3+0]=y[I+2+64]=te+ne+1>>1,y[I+0+32]=Xi(O,V,$),y[I+1+32]=y[I+0+96]=Xi(V,$,te),y[I+2+32]=y[I+1+96]=Xi($,te,ne),y[I+3+32]=y[I+2+96]=Xi(te,ne,se),y[I+3+64]=Xi(ne,se,oe),y[I+3+96]=Xi(se,oe,ge)}function $6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96];y[I+0+0]=O+V+1>>1,y[I+2+0]=y[I+0+32]=V+$+1>>1,y[I+2+32]=y[I+0+64]=$+te+1>>1,y[I+1+0]=Xi(O,V,$),y[I+3+0]=y[I+1+32]=Xi(V,$,te),y[I+3+32]=y[I+1+64]=Xi($,te,te),y[I+3+64]=y[I+2+64]=y[I+0+96]=y[I+1+96]=y[I+2+96]=y[I+3+96]=te}function Y6(y,I){var O=y[I-1+0],V=y[I-1+32],$=y[I-1+64],te=y[I-1+96],ne=y[I-1-32],se=y[I+0-32],oe=y[I+1-32],ge=y[I+2-32];y[I+0+0]=y[I+2+32]=O+ne+1>>1,y[I+0+32]=y[I+2+64]=V+O+1>>1,y[I+0+64]=y[I+2+96]=$+V+1>>1,y[I+0+96]=te+$+1>>1,y[I+3+0]=Xi(se,oe,ge),y[I+2+0]=Xi(ne,se,oe),y[I+1+0]=y[I+3+32]=Xi(O,ne,se),y[I+1+32]=y[I+3+64]=Xi(V,O,ne),y[I+1+64]=y[I+3+96]=Xi($,V,O),y[I+1+96]=Xi(te,$,V)}function W6(y,I){var O;for(O=0;8>O;++O)i(y,I+32*O,y,I-32,8)}function ZD(y,I){var O;for(O=0;8>O;++O)r(y,I,y[I-1],8),I+=32}function TC(y,I,O){var V;for(V=0;8>V;++V)r(I,O+32*V,y,8)}function iw(y,I){var O,V=8;for(O=0;8>O;++O)V+=y[I+O-32]+y[I-1+32*O];TC(V>>4,y,I)}function J6(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I+O-32];TC(V>>3,y,I)}function BC(y,I){var O,V=4;for(O=0;8>O;++O)V+=y[I-1+32*O];TC(V>>3,y,I)}function $D(y,I){TC(128,y,I)}function BE(y,I,O){var V=y[I-O],$=y[I+0],te=3*($-V)+oQ[1020+y[I-2*O]-y[I+O]],ne=MO[112+(te+4>>3)];y[I-O]=OA[255+V+MO[112+(te+3>>3)]],y[I+0]=OA[255+$-ne]}function CO(y,I,O,V){return jf[255+y[I-2*O]-y[I-O]]>V||jf[255+y[I+O]-y[I+0]]>V}function xO(y,I,O,V){return 4*jf[255+y[I-O]-y[I+0]]+jf[255+y[I-2*O]-y[I+O]]<=V}function EO(y,I,O,V,$){var te=y[I-3*O],ne=y[I-2*O],se=y[I-O],oe=y[I+0],ge=y[I+O],Ue=y[I+2*O];return 4*jf[255+se-oe]+jf[255+ne-ge]>V?0:jf[255+y[I-4*O]-te]<=$&&jf[255+te-ne]<=$&&jf[255+ne-se]<=$&&jf[255+y[I+3*O]-Ue]<=$&&jf[255+Ue-ge]<=$&&jf[255+ge-oe]<=$}function SO(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)xO(y,I+V,O,$)&&BE(y,I+V,O)}function tv(y,I,O,V){var $=2*V+1;for(V=0;16>V;++V)xO(y,I+V*O,1,$)&&BE(y,I+V*O,1)}function rw(y,I,O,V){var $;for($=3;0<$;--$)SO(y,I+=4*O,O,V)}function X6(y,I,O,V){var $;for($=3;0<$;--$)tv(y,I+=4,O,V)}function sw(y,I,O,V,$,te,ne,se){for(te=2*te+1;0<$--;){if(EO(y,I,O,te,ne))if(CO(y,I,O,se))BE(y,I,O);else{var oe=y,ge=I,Ue=O,At=oe[ge-2*Ue],ft=oe[ge-Ue],Je=oe[ge+0],jt=oe[ge+Ue],Bt=oe[ge+2*Ue],Ge=27*(Vt=oQ[1020+3*(Je-ft)+oQ[1020+At-jt]])+63>>7,Ze=18*Vt+63>>7,Vt=9*Vt+63>>7;oe[ge-3*Ue]=OA[255+oe[ge-3*Ue]+Vt],oe[ge-2*Ue]=OA[255+At+Ze],oe[ge-Ue]=OA[255+ft+Ge],oe[ge+0]=OA[255+Je-Ge],oe[ge+Ue]=OA[255+jt-Ze],oe[ge+2*Ue]=OA[255+Bt-Vt]}I+=V}}function gg(y,I,O,V,$,te,ne,se){for(te=2*te+1;0<$--;){if(EO(y,I,O,te,ne))if(CO(y,I,O,se))BE(y,I,O);else{var oe=y,ge=I,Ue=O,At=oe[ge-Ue],ft=oe[ge+0],Je=oe[ge+Ue],jt=MO[112+(4+(Bt=3*(ft-At))>>3)],Bt=MO[112+(Bt+3>>3)],Ge=jt+1>>1;oe[ge-2*Ue]=OA[255+oe[ge-2*Ue]+Ge],oe[ge-Ue]=OA[255+At+Bt],oe[ge+0]=OA[255+ft-jt],oe[ge+Ue]=OA[255+Je-Ge]}I+=V}}function YD(y,I,O,V,$,te){sw(y,I,O,1,16,V,$,te)}function FC(y,I,O,V,$,te){sw(y,I,1,O,16,V,$,te)}function eQ(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)gg(y,I+=4*O,O,1,16,V,$,te)}function FE(y,I,O,V,$,te){var ne;for(ne=3;0<ne;--ne)gg(y,I+=4,1,O,16,V,$,te)}function tQ(y,I,O,V,$,te,ne,se){sw(y,I,$,1,8,te,ne,se),sw(O,V,$,1,8,te,ne,se)}function WD(y,I,O,V,$,te,ne,se){sw(y,I,1,$,8,te,ne,se),sw(O,V,1,$,8,te,ne,se)}function JD(y,I,O,V,$,te,ne,se){gg(y,I+4*$,$,1,8,te,ne,se),gg(O,V+4*$,$,1,8,te,ne,se)}function IO(y,I,O,V,$,te,ne,se){gg(y,I+4,1,$,8,te,ne,se),gg(O,V+4,1,$,8,te,ne,se)}function ME(){this.ba=new ug,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new za,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function XD(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function eT(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function DO(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new Ae}function nQ(){this.xb=this.a=0,this.l=new EE,this.ca=new ug,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new DO,this.ab=0,this.gc=a(4,eT),this.Oc=0}function kE(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new EE,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function MC(y,I,O,V,$,te,ne){for(y=null==y?0:y[I+0],I=0;I<ne;++I)$[te+I]=y+O[V+I]&255,y=$[te+I]}function tT(y,I,O,V,$,te,ne){var se;if(null==y)MC(null,null,O,V,$,te,ne);else for(se=0;se<ne;++se)$[te+se]=y[I+se]+O[V+se]&255}function ow(y,I,O,V,$,te,ne){if(null==y)MC(null,null,O,V,$,te,ne);else{var se,oe=y[I+0],ge=oe,Ue=oe;for(se=0;se<ne;++se)ge=Ue+(oe=y[I+se])-ge,Ue=O[V+se]+(-256&ge?0>ge?0:255:ge)&255,ge=oe,$[te+se]=Ue}}function nT(y,I,O,V){var $=I.width,te=I.o;if(t(null!=y&&null!=I),0>O||0>=V||O+V>te)return null;if(!y.Cc){if(null==y.ga){var ne;if(y.ga=new kE,(ne=null==y.ga)||(ne=I.width*I.o,t(0==y.Gb.length),y.Gb=o(ne),y.Uc=0,null==y.Gb?ne=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ne=1),ne=!ne),!ne){var se=y.Fa,oe=y.P,ge=y.qc,Ue=y.mb,At=y.nb,ft=oe+1,Je=ge-1,jt=(ne=y.ga).l;if(t(null!=se&&null!=Ue&&null!=I),Aw[0]=null,Aw[1]=MC,Aw[2]=tT,Aw[3]=ow,ne.ca=Ue,ne.tb=At,ne.c=I.width,ne.i=I.height,t(0<ne.c&&0<ne.i),1>=ge)I=0;else if(ne.$a=se[oe+0]>>0&3,ne.Z=se[oe+0]>>2&3,ne.Lc=se[oe+0]>>4&3,oe=se[oe+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||oe)I=0;else if(jt.put=d_,jt.ac=ou,jt.bc=h_,jt.ma=ne,jt.width=I.width,jt.height=I.height,jt.Da=I.Da,jt.v=I.v,jt.va=I.va,jt.j=I.j,jt.o=I.o,ne.$a)e:{t(1==ne.$a),I=Hf();t:for(;;){if(null==I){I=0;break e}if(t(null!=ne),ne.mc=I,I.c=ne.c,I.i=ne.i,I.l=ne.l,I.l.ma=ne,I.l.width=ne.c,I.l.height=ne.i,I.a=0,He(I.m,se,ft,Je),!p_(ne.c,ne.i,1,I,null)||(1==I.ab&&3==I.gc[0].hc&&Xy(I.s)?(ne.ic=1,se=I.c*I.i,I.Ta=null,I.Ua=0,I.V=o(se),I.Ba=0,null==I.V?(I.a=1,I=0):I=1):(ne.ic=0,I=DC(I,ne.c)),!I))break t;I=1;break e}ne.mc=null,I=0}else I=Je>=ne.c*ne.i;ne=!I}if(ne)return null;1!=y.ga.Lc?y.Ga=0:V=te-O}t(null!=y.ga),t(O+V<=te);e:{if(I=(se=y.ga).c,te=se.l.o,0==se.$a){if(ft=y.rc,Je=y.Vc,jt=y.Fa,ge=y.mb,Ue=y.nb+O*I,t((oe=y.P+1+O*I)<=y.P+y.qc),0!=se.Z)for(t(null!=Aw[se.Z]),ne=0;ne<V;++ne)Aw[se.Z](ft,Je,jt,oe,ge,Ue,I),ft=ge,Je=Ue,Ue+=I,oe+=I;else for(ne=0;ne<V;++ne)i(ge,Ue,jt,oe,I),ft=ge,Je=Ue,Ue+=I,oe+=I;y.rc=ft,y.Vc=Je}else{if(t(null!=se.mc),I=O+V,t(null!=(ne=se.mc)),t(I<=ne.i),ne.C>=I)I=1;else if(se.ic||rt(),se.ic){se=ne.V,ft=ne.Ba;var Bt=ne.i,Ge=(jt=1,oe=ne.$/(Je=ne.c),ge=ne.$%Je,Ue=ne.m,At=ne.s,ne.$),Ze=Je*Bt,Vt=Je*I,Xt=At.wc,Gt=Ge<Vt?Ql(At,ge,oe):null;t(Ge<=Ze),t(I<=Bt),t(Xy(At));t:for(;;){for(;!Ue.h&&Ge<Vt;){if(ge&Xt||(Gt=Ql(At,ge,oe)),t(null!=Gt),et(Ue),256>(Bt=vh(Gt.G[0],Gt.H[0],Ue)))se[ft+Ge]=Bt,++Ge,++ge>=Je&&(ge=0,++oe<=I&&!(oe%16)&&Ag(ne,oe));else{if(!(280>Bt)){jt=0;break t}Bt=dg(Bt-256,Ue);var Yn,Tn=vh(Gt.G[4],Gt.H[4],Ue);if(et(Ue),!(Ge>=(Tn=A_(Je,Tn=dg(Tn,Ue)))&&Ze-Ge>=Bt)){jt=0;break t}for(Yn=0;Yn<Bt;++Yn)se[ft+Ge+Yn]=se[ft+Ge+Yn-Tn];for(Ge+=Bt,ge+=Bt;ge>=Je;)ge-=Je,++oe<=I&&!(oe%16)&&Ag(ne,oe);Ge<Vt&&ge&Xt&&(Gt=Ql(At,ge,oe))}t(Ue.h==we(Ue))}Ag(ne,oe>I?I:oe);break t}!jt||Ue.h&&Ge<Ze?(jt=0,ne.a=Ue.h?5:3):ne.$=Ge,I=jt}else I=fg(ne,ne.V,ne.Ba,ne.c,ne.i,I,vE);if(!I){V=0;break e}}O+V>=te&&(y.Cc=1),V=1}if(!V)return null;if(y.Cc&&(null!=(V=y.ga)&&(V.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+O*$}function M(y,I,O,V,$,te){for(;0<$--;){var ne,se=y,oe=I+(O?1:0),ge=y,Ue=I+(O?0:3);for(ne=0;ne<V;++ne){var At=ge[Ue+4*ne];255!=At&&(se[oe+4*ne+0]=se[oe+4*ne+0]*(At*=32897)>>23,se[oe+4*ne+1]=se[oe+4*ne+1]*At>>23,se[oe+4*ne+2]=se[oe+4*ne+2]*At>>23)}I+=te}}function Y(y,I,O,V,$){for(;0<V--;){var te;for(te=0;te<O;++te){var ne=y[I+2*te+0],se=15&(ge=y[I+2*te+1]),oe=4369*se,ge=(240&ge|ge>>4)*oe>>16;y[I+2*te+0]=(240&ne|ne>>4)*oe>>16&240|(15&ne|ne<<4)*oe>>16>>4&15,y[I+2*te+1]=240&ge|se}I+=$}}function be(y,I,O,V,$,te,ne,se){var oe,ge,Ue=255;for(ge=0;ge<$;++ge){for(oe=0;oe<V;++oe){var At=y[I+oe];te[ne+4*oe]=At,Ue&=At}I+=O,ne+=se}return 255!=Ue}function ke(y,I,O,V,$){var te;for(te=0;te<$;++te)O[V+te]=y[I+te]>>8}function rt(){dw=M,VE=Y,FO=be,t$=ke}function Nt(y,I,O){xe[y]=function(V,$,te,ne,se,oe,ge,Ue,At,ft,Je,jt,Bt,Ge,Ze,Vt,Xt){var Gt,Yn=Xt-1>>1,Tn=se[oe+0]|ge[Ue+0]<<16,Di=At[ft+0]|Je[jt+0]<<16;t(null!=V);var On=3*Tn+Di+131074>>2;for(I(V[$+0],255&On,On>>16,Bt,Ge),null!=te&&I(te[ne+0],255&(On=3*Di+Tn+131074>>2),On>>16,Ze,Vt),Gt=1;Gt<=Yn;++Gt){var _s=se[oe+Gt]|ge[Ue+Gt]<<16,Ns=At[ft+Gt]|Je[jt+Gt]<<16,ss=Tn+_s+Di+Ns+524296,Vr=ss+2*(_s+Di)>>3;On=Vr+Tn>>1,Tn=(ss=ss+2*(Tn+Ns)>>3)+_s>>1,I(V[$+2*Gt-1],255&On,On>>16,Bt,Ge+(2*Gt-1)*O),I(V[$+2*Gt-0],255&Tn,Tn>>16,Bt,Ge+(2*Gt-0)*O),null!=te&&(Tn=Vr+Ns>>1,I(te[ne+2*Gt-1],255&(On=ss+Di>>1),On>>16,Ze,Vt+(2*Gt-1)*O),I(te[ne+2*Gt+0],255&Tn,Tn>>16,Ze,Vt+(2*Gt+0)*O)),Tn=_s,Di=Ns}1&Xt||(I(V[$+Xt-1],255&(On=3*Tn+Di+131074>>2),On>>16,Bt,Ge+(Xt-1)*O),null!=te&&I(te[ne+Xt-1],255&(On=3*Di+Tn+131074>>2),On>>16,Ze,Vt+(Xt-1)*O))}}function an(){zf[kO]=Qwe,zf[RO]=h$,zf[a$]=Hwe,zf[OO]=A$,zf[LO]=f$,zf[aQ]=p$,zf[l$]=Vwe,zf[lQ]=h$,zf[cQ]=A$,zf[NO]=f$,zf[uQ]=p$}function Kn(y){return y&~Gwe?0>y?0:255:y>>g$}function Ci(y,I){return Kn((19077*y>>8)+(26149*I>>8)-14234)}function lr(y,I,O){return Kn((19077*y>>8)-(6419*I>>8)-(13320*O>>8)+8708)}function mr(y,I){return Kn((19077*y>>8)+(33050*I>>8)-17685)}function es(y,I,O,V,$){V[$+0]=Ci(y,O),V[$+1]=lr(y,I,O),V[$+2]=mr(y,I)}function _a(y,I,O,V,$){V[$+0]=mr(y,I),V[$+1]=lr(y,I,O),V[$+2]=Ci(y,O)}function qa(y,I,O,V,$){var te=lr(y,I,O);I=te<<3&224|mr(y,I)>>3,V[$+0]=248&Ci(y,O)|te>>5,V[$+1]=I}function Hl(y,I,O,V,$){var te=240&mr(y,I)|15;V[$+0]=240&Ci(y,O)|lr(y,I,O)>>4,V[$+1]=te}function zu(y,I,O,V,$){V[$+0]=255,es(y,I,O,V,$+1)}function Oc(y,I,O,V,$){_a(y,I,O,V,$),V[$+3]=255}function mg(y,I,O,V,$){es(y,I,O,V,$),V[$+3]=255}function RA(y,I){return 0>y?0:y>I?I:y}function nv(y,I,O){xe[y]=function(V,$,te,ne,se,oe,ge,Ue,At){for(var ft=Ue+(-2&At)*O;Ue!=ft;)I(V[$+0],te[ne+0],se[oe+0],ge,Ue),I(V[$+1],te[ne+0],se[oe+0],ge,Ue+O),$+=2,++ne,++oe,Ue+=2*O;1&At&&I(V[$+0],te[ne+0],se[oe+0],ge,Ue)}}function TO(y,I,O){return 0==O?0==y?0==I?6:5:0==I?4:0:O}function iT(y,I,O,V,$){switch(y>>>30){case 3:QE(I,O,V,$,0);break;case 2:uT(I,O,V,$);break;case 1:wg(I,O,V,$)}}function rT(y,I){var O,V,$=I.M,te=I.Nb,ne=y.oc,se=y.pc+40,oe=y.oc,ge=y.pc+584,Ue=y.oc,At=y.pc+600;for(O=0;16>O;++O)ne[se+32*O-1]=129;for(O=0;8>O;++O)oe[ge+32*O-1]=129,Ue[At+32*O-1]=129;for(0<$?ne[se-1-32]=oe[ge-1-32]=Ue[At-1-32]=129:(r(ne,se-32-1,127,21),r(oe,ge-32-1,127,9),r(Ue,At-32-1,127,9)),V=0;V<y.za;++V){var ft=I.ya[I.aa+V];if(0<V){for(O=-1;16>O;++O)i(ne,se+32*O-4,ne,se+32*O+12,4);for(O=-1;8>O;++O)i(oe,ge+32*O-4,oe,ge+32*O+4,4),i(Ue,At+32*O-4,Ue,At+32*O+4,4)}var Je=y.Gd,jt=y.Hd+V,Bt=ft.ad,Ge=ft.Hc;if(0<$&&(i(ne,se-32,Je[jt].y,0,16),i(oe,ge-32,Je[jt].f,0,8),i(Ue,At-32,Je[jt].ea,0,8)),ft.Za){var Ze=ne,Vt=se-32+16;for(0<$&&(V>=y.za-1?r(Ze,Vt,Je[jt].y[15],4):i(Ze,Vt,Je[jt+1].y,0,4)),O=0;4>O;O++)Ze[Vt+128+O]=Ze[Vt+256+O]=Ze[Vt+384+O]=Ze[Vt+0+O];for(O=0;16>O;++O,Ge<<=2)bg[ft.Ob[O]](Ze=ne,Vt=se+_$[O]),iT(Ge,Bt,16*+O,Ze,Vt)}else if(Ze=TO(V,$,ft.Ob[0]),hw[Ze](ne,se),0!=Ge)for(O=0;16>O;++O,Ge<<=2)iT(Ge,Bt,16*+O,ne,se+_$[O]);for(O=ft.Gc,Ze=TO(V,$,ft.Dd),av[Ze](oe,ge),av[Ze](Ue,At),Ge=Bt,Ze=oe,Vt=ge,255&(ft=O>>0)&&(170&ft?cw(Ge,256,Ze,Vt):rv(Ge,256,Ze,Vt)),ft=Ue,Ge=At,255&(O>>=8)&&(170&O?cw(Bt,320,ft,Ge):rv(Bt,320,ft,Ge)),$<y.Ub-1&&(i(Je[jt].y,0,ne,se+480,16),i(Je[jt].f,0,oe,ge+224,8),i(Je[jt].ea,0,Ue,At+224,8)),Je=y.sa,jt=y.ta+16*V+16*te*y.R,Bt=y.qa,ft=y.ra+8*V+(O=8*te*y.B),Ge=y.Ha,Ze=y.Ia+8*V+O,O=0;16>O;++O)i(Je,jt+O*y.R,ne,se+32*O,16);for(O=0;8>O;++O)i(Bt,ft+O*y.B,oe,ge+32*O,8),i(Ge,Ze+O*y.B,Ue,At+32*O,8)}}function RE(y,I,O,V,$,te,ne,se,oe){var ge=[0],Ue=[0],At=0,ft=null!=oe?oe.kd:0,Je=oe??new XD;if(null==y||12>O)return 7;Je.data=y,Je.w=I,Je.ha=O,I=[I],O=[O],Je.gb=[Je.gb];e:{var jt=I,Bt=O,Ge=Je.gb;if(t(null!=y),t(null!=Bt),t(null!=Ge),Ge[0]=0,12<=Bt[0]&&!e(y,jt[0],"RIFF")){if(e(y,jt[0]+8,"WEBP")){Ge=3;break e}var Ze=Xn(y,jt[0]+4);if(12>Ze||4294967286<Ze){Ge=3;break e}if(ft&&Ze>Bt[0]-8){Ge=7;break e}Ge[0]=Ze,jt[0]+=12,Bt[0]-=12}Ge=0}if(0!=Ge)return Ge;for(Ze=0<Je.gb[0],O=O[0];;){e:{var Vt=y;Bt=I,Ge=O;var Xt=ge,Gt=Ue,Yn=jt=[0];if((On=At=[At])[0]=0,8>Ge[0])Ge=7;else{if(!e(Vt,Bt[0],"VP8X")){if(10!=Xn(Vt,Bt[0]+4)){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var Tn=Xn(Vt,Bt[0]+8),Di=1+qn(Vt,Bt[0]+12);if(2147483648<=Di*(Vt=1+qn(Vt,Bt[0]+15))){Ge=3;break e}null!=Yn&&(Yn[0]=Tn),null!=Xt&&(Xt[0]=Di),null!=Gt&&(Gt[0]=Vt),Bt[0]+=18,Ge[0]-=18,On[0]=1}Ge=0}}if(At=At[0],0!=Ge)return Ge;if(Bt=!!(2&(jt=jt[0])),!Ze&&At)return 3;if(null!=te&&(te[0]=!!(16&jt)),null!=ne&&(ne[0]=Bt),null!=se&&(se[0]=0),ne=ge[0],jt=Ue[0],At&&Bt&&null==oe){Ge=0;break}if(4>O){Ge=7;break}if(Ze&&At||!Ze&&!At&&!e(y,I[0],"ALPH")){O=[O],Je.na=[Je.na],Je.P=[Je.P],Je.Sa=[Je.Sa];e:{Ge=I,Ze=O;var On=Je.gb;Xt=Je.na,Gt=Je.P,Yn=Je.Sa,Di=22,t(null!=(Tn=y)),t(null!=Ze),Vt=Ge[0];var _s=Ze[0];for(t(null!=Xt),t(null!=Yn),Xt[0]=null,Gt[0]=null,Yn[0]=0;;){if(Ge[0]=Vt,Ze[0]=_s,8>_s){Ge=7;break e}var Ns=Xn(Tn,Vt+4);if(4294967286<Ns){Ge=3;break e}var ss=8+Ns+1&-2;if(Di+=ss,0<On&&Di>On){Ge=3;break e}if(!e(Tn,Vt,"VP8 ")||!e(Tn,Vt,"VP8L")){Ge=0;break e}if(_s[0]<ss){Ge=7;break e}e(Tn,Vt,"ALPH")||(Xt[0]=Tn,Gt[0]=Vt+8,Yn[0]=Ns),Vt+=ss,_s-=ss}}if(O=O[0],Je.na=Je.na[0],Je.P=Je.P[0],Je.Sa=Je.Sa[0],0!=Ge)break}O=[O],Je.Ja=[Je.Ja],Je.xa=[Je.xa];e:if(On=y,Ge=I,Ze=O,Xt=Je.gb[0],Gt=Je.Ja,Yn=Je.xa,Tn=Ge[0],Vt=!e(On,Tn,"VP8 "),Di=!e(On,Tn,"VP8L"),t(null!=On),t(null!=Ze),t(null!=Gt),t(null!=Yn),8>Ze[0])Ge=7;else{if(Vt||Di){if(On=Xn(On,Tn+4),12<=Xt&&On>Xt-12){Ge=3;break e}if(ft&&On>Ze[0]-8){Ge=7;break e}Gt[0]=On,Ge[0]+=8,Ze[0]-=8,Yn[0]=Di}else Yn[0]=5<=Ze[0]&&47==On[Tn+0]&&!(On[Tn+4]>>5),Gt[0]=Ze[0];Ge=0}if(O=O[0],Je.Ja=Je.Ja[0],Je.xa=Je.xa[0],I=I[0],0!=Ge)break;if(4294967286<Je.Ja)return 3;if(null==se||Bt||(se[0]=Je.xa?2:1),ne=[ne],jt=[jt],Je.xa){if(5>O){Ge=7;break}se=ne,ft=jt,Bt=te,null==y||5>O?y=0:5<=O&&47==y[I+0]&&!(y[I+4]>>5)?(Ze=[0],On=[0],Xt=[0],He(Gt=new X,y,I,O),Li(Gt,Ze,On,Xt)?(null!=se&&(se[0]=Ze[0]),null!=ft&&(ft[0]=On[0]),null!=Bt&&(Bt[0]=Xt[0]),y=1):y=0):y=0}else{if(10>O){Ge=7;break}se=jt,null==y||10>O||!AO(y,I+3,O-3)?y=0:(ft=y[I+0]|y[I+1]<<8|y[I+2]<<16,Bt=16383&(y[I+7]<<8|y[I+6]),y=16383&(y[I+9]<<8|y[I+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=Je.Ja||!Bt||!y?y=0:(ne&&(ne[0]=Bt),se&&(se[0]=y),y=1))}if(!y||(ne=ne[0],jt=jt[0],At&&(ge[0]!=ne||Ue[0]!=jt)))return 3;null!=oe&&(oe[0]=Je,oe.offset=I-oe.w,t(4294967286>I-oe.w),t(oe.offset==oe.ha-O));break}return 0==Ge||7==Ge&&At&&null==oe?(null!=te&&(te[0]|=null!=Je.na&&0<Je.na.length),null!=V&&(V[0]=ne),null!=$&&($[0]=jt),0):Ge}function sT(y,I,O){var V=I.width,$=I.height,te=0,ne=0,se=V,oe=$;if(I.Da=null!=y&&0<y.Da,I.Da&&(se=y.cd,oe=y.bd,te=y.v,ne=y.j,11>O||(te&=-2,ne&=-2),0>te||0>ne||0>=se||0>=oe||te+se>V||ne+oe>$))return 0;if(I.v=te,I.j=ne,I.va=te+se,I.o=ne+oe,I.U=se,I.T=oe,I.da=null!=y&&0<y.da,I.da){if(!ar(se,oe,O=[y.ib],te=[y.hb]))return 0;I.ib=O[0],I.hb=te[0]}return I.ob=null!=y&&y.ob,I.Kb=null==y||!y.Sd,I.da&&(I.ob=I.ib<3*V/4&&I.hb<3*$/4,I.Kb=0),1}function oT(y){if(null==y)return 2;if(11>y.S){var I=y.f.RGBA;I.fb+=(y.height-1)*I.A,I.A=-I.A}else(I=y.f.kb).O+=((y=y.height)-1)*I.fa,I.fa=-I.fa,I.N+=(y-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(y-1>>1)*I.Db,I.Db=-I.Db,null!=I.F&&(I.J+=(y-1)*I.lb,I.lb=-I.lb);return 0}function OE(y,I,O,V){if(null==V||0>=y||0>=I)return 2;if(null!=O){if(O.Da){var $=O.cd,te=O.bd,ne=-2&O.v,se=-2&O.j;if(0>ne||0>se||0>=$||0>=te||ne+$>y||se+te>I)return 2;y=$,I=te}if(O.da){if(!ar(y,I,$=[O.ib],te=[O.hb]))return 2;y=$[0],I=te[0]}}V.width=y,V.height=I;e:{var oe=V.width,ge=V.height;if(y=V.S,0>=oe||0>=ge||!(y>=kO&&13>y))y=2;else{if(0>=V.Rd&&null==V.sd){ne=te=$=I=0;var Ue=(se=oe*y$[y])*ge;if(11>y||(te=(ge+1)/2*(I=(oe+1)/2),12==y&&(ne=($=oe)*ge)),null==(ge=o(Ue+2*te+ne))){y=1;break e}V.sd=ge,11>y?((oe=V.f.RGBA).eb=ge,oe.fb=0,oe.A=se,oe.size=Ue):((oe=V.f.kb).y=ge,oe.O=0,oe.fa=se,oe.Fd=Ue,oe.f=ge,oe.N=0+Ue,oe.Ab=I,oe.Cd=te,oe.ea=ge,oe.W=0+Ue+te,oe.Db=I,oe.Ed=te,12==y&&(oe.F=ge,oe.J=0+Ue+2*te),oe.Tc=ne,oe.lb=$)}if(I=1,te=V.width,ne=V.height,($=V.S)>=kO&&13>$)if(11>$)y=V.f.RGBA,I&=(se=Math.abs(y.A))*(ne-1)+te<=y.size,I&=se>=te*y$[$],I&=null!=y.eb;else{y=V.f.kb,se=(te+1)/2,Ue=(ne+1)/2,oe=Math.abs(y.fa),ge=Math.abs(y.Ab);var At=Math.abs(y.Db),ft=Math.abs(y.lb);I&=oe*(ne-1)+te<=y.Fd,I&=ge*(Ue-1)+se<=y.Cd,I=(I&=At*(Ue-1)+se<=y.Ed)&oe>=te&ge>=se&At>=se,I&=null!=y.y,I&=null!=y.f,I&=null!=y.ea,12==$&&(I&=ft>=te,I&=ft*(ne-1)+te<=y.Tc,I&=null!=y.F)}else I=0;y=I?0:2}}return 0!=y||null!=O&&O.fd&&(y=oT(V)),y}var bh=64,LE=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],NE=24,PE=32,aT=8,Ch=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dn("Predictor0","PredictorAdd0"),xe.Predictor0=function(){return 4278190080},xe.Predictor1=function(y){return y},xe.Predictor2=function(y,I,O){return I[O+0]},xe.Predictor3=function(y,I,O){return I[O+1]},xe.Predictor4=function(y,I,O){return I[O-1]},xe.Predictor5=function(y,I,O){return Nn(Nn(y,I[O+1]),I[O+0])},xe.Predictor6=function(y,I,O){return Nn(y,I[O-1])},xe.Predictor7=function(y,I,O){return Nn(y,I[O+0])},xe.Predictor8=function(y,I,O){return Nn(I[O-1],I[O+0])},xe.Predictor9=function(y,I,O){return Nn(I[O+0],I[O+1])},xe.Predictor10=function(y,I,O){return Nn(Nn(y,I[O-1]),Nn(I[O+0],I[O+1]))},xe.Predictor11=function(y,I,O){var V=I[O+0];return 0>=pr(V>>24&255,y>>24&255,(I=I[O-1])>>24&255)+pr(V>>16&255,y>>16&255,I>>16&255)+pr(V>>8&255,y>>8&255,I>>8&255)+pr(255&V,255&y,255&I)?V:y},xe.Predictor12=function(y,I,O){var V=I[O+0];return(vi((y>>24&255)+(V>>24&255)-((I=I[O-1])>>24&255))<<24|vi((y>>16&255)+(V>>16&255)-(I>>16&255))<<16|vi((y>>8&255)+(V>>8&255)-(I>>8&255))<<8|vi((255&y)+(255&V)-(255&I)))>>>0},xe.Predictor13=function(y,I,O){var V=I[O-1];return(ir((y=Nn(y,I[O+0]))>>24&255,V>>24&255)<<24|ir(y>>16&255,V>>16&255)<<16|ir(y>>8&255,V>>8&255)<<8|ir(y>>0&255,V>>0&255))>>>0};var iQ=xe.PredictorAdd0;xe.PredictorAdd1=Sr,Dn("Predictor2","PredictorAdd2"),Dn("Predictor3","PredictorAdd3"),Dn("Predictor4","PredictorAdd4"),Dn("Predictor5","PredictorAdd5"),Dn("Predictor6","PredictorAdd6"),Dn("Predictor7","PredictorAdd7"),Dn("Predictor8","PredictorAdd8"),Dn("Predictor9","PredictorAdd9"),Dn("Predictor10","PredictorAdd10"),Dn("Predictor11","PredictorAdd11"),Dn("Predictor12","PredictorAdd12"),Dn("Predictor13","PredictorAdd13");var lT=xe.PredictorAdd2;Fr("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Fr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var BO,_g=xe.ColorIndexInverseTransform,cT=xe.MapARGB,rQ=xe.VP8LColorIndexInverseTransformAlpha,sQ=xe.MapAlpha,aw=xe.VP8LPredictorsAdd=[];aw.length=16,(xe.VP8LPredictors=[]).length=16,(xe.VP8LPredictorsAdd_C=[]).length=16,(xe.VP8LPredictors_C=[]).length=16;var Vf,yg,lw,m_,iv,UE,vg,QE,uT,cw,wg,rv,kC,HE,RC,uw,dT,Gf,sv,Fo,Mo,ml,lc,ov,dw,VE,FO,t$,n$=o(511),i$=o(2041),r$=o(225),s$=o(767),o$=0,oQ=i$,MO=r$,OA=s$,jf=n$,kO=0,RO=1,a$=2,OO=3,LO=4,aQ=5,l$=6,lQ=7,cQ=8,NO=9,uQ=10,Swe=[2,3,7],Iwe=[3,3,11],c$=[280,256,256,256,40],Dwe=[0,1,1,1,0],Twe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bwe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fwe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mwe=8,dQ=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hQ=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hT=null,kwe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rwe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],u$=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Owe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Lwe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Nwe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pwe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hw=[],bg=[],av=[],Uwe=1,d$=2,Aw=[],zf=[];Nt("UpsampleRgbLinePair",es,3),Nt("UpsampleBgrLinePair",_a,3),Nt("UpsampleRgbaLinePair",mg,4),Nt("UpsampleBgraLinePair",Oc,4),Nt("UpsampleArgbLinePair",zu,4),Nt("UpsampleRgba4444LinePair",Hl,2),Nt("UpsampleRgb565LinePair",qa,2);var Qwe=xe.UpsampleRgbLinePair,Hwe=xe.UpsampleBgrLinePair,h$=xe.UpsampleRgbaLinePair,A$=xe.UpsampleBgraLinePair,f$=xe.UpsampleArgbLinePair,p$=xe.UpsampleRgba4444LinePair,Vwe=xe.UpsampleRgb565LinePair,PO=16,UO=1<<PO-1,AT=-227,AQ=482,g$=6,Gwe=(256<<g$)-1,m$=0,jwe=o(256),zwe=o(256),qwe=o(256),Kwe=o(256),Zwe=o(AQ-AT),$we=o(AQ-AT);nv("YuvToRgbRow",es,3),nv("YuvToBgrRow",_a,3),nv("YuvToRgbaRow",mg,4),nv("YuvToBgraRow",Oc,4),nv("YuvToArgbRow",zu,4),nv("YuvToRgba4444Row",Hl,2),nv("YuvToRgb565Row",qa,2);var _$=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],QO=[0,2,8],Ywe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(y,I,O,V,$){var te=RO,ne=new ME,se=new ug;ne.ba=se,se.S=te,se.width=[se.width],se.height=[se.height];var oe=se.width,ge=se.height,Ue=new Jy;if(null==Ue||null==y)var At=2;else t(null!=Ue),At=RE(y,I,O,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(0!=At?oe=0:(null!=oe&&(oe[0]=Ue.width[0]),null!=ge&&(ge[0]=Ue.height[0]),oe=1),oe){se.width=se.width[0],se.height=se.height[0],null!=V&&(V[0]=se.width),null!=$&&($[0]=se.height);e:{if(V=new EE,($=new XD).data=y,$.w=I,$.ha=O,$.kd=1,I=[0],t(null!=$),(0==(y=RE($.data,$.w,$.ha,null,null,null,I,null,$))||7==y)&&I[0]&&(y=4),0==(I=y)){if(t(null!=ne),V.data=$.data,V.w=$.w+$.offset,V.ha=$.ha-$.offset,V.put=d_,V.ac=ou,V.bc=h_,V.ma=ne,$.xa){if(null==(y=Hf())){ne=1;break e}if(function(ft,Je){var jt=[0],Bt=[0],Ge=[0];t:for(;;){if(null==ft)return 0;if(null==Je)return ft.a=2,0;if(ft.l=Je,ft.a=0,He(ft.m,Je.data,Je.w,Je.ha),!Li(ft.m,jt,Bt,Ge)){ft.a=3;break t}if(ft.xb=d$,Je.width=jt[0],Je.height=Bt[0],!p_(jt[0],Bt[0],1,ft,null))break t;return 1}return t(0!=ft.a),0}(y,V)){if(V=0==(I=OE(V.width,V.height,ne.Oa,ne.ba))){t:{V=y;n:for(;;){if(null==V){V=0;break t}if(t(null!=V.s.yc),t(null!=V.s.Ya),t(0<V.s.Wb),t(null!=(O=V.l)),t(null!=($=O.ma)),0!=V.xb){if(V.ca=$.ba,V.tb=$.tb,t(null!=V.ca),!sT($.Oa,O,OO)){V.a=2;break n}if(!DC(V,O.width)||O.da)break n;if((O.da||xs(V.ca.S))&&rt(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=V.ca.f.kb.F&&rt()),V.Pb&&0<V.s.ua&&null==V.s.vb.X&&!Ui(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!fg(V,V.V,V.Ba,V.c,V.i,O.o,yE))break n;$.Dc=V.Ma,V=1;break t}t(0!=V.a),V=0}V=!V}V&&(I=y.a)}else I=y.a}else{if(null==(y=new P6)){ne=1;break e}if(y.Fa=$.na,y.P=$.P,y.qc=$.Sa,fO(y,V)){if(0==(I=OE(V.width,V.height,ne.Oa,ne.ba))){if(y.Aa=0,O=ne.Oa,t(null!=($=y)),null!=O){if(0<(oe=0>(oe=O.Md)?0:100<oe?255:255*oe/100)){for(ge=Ue=0;4>ge;++ge)12>(At=$.pb[ge]).lc&&(At.ia=oe*Ywe[0>At.lc?0:At.lc]>>3),Ue|=At.ia;Ue&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=O.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function U6(y,I){if(null==y)return 0;if(null==I)return gl(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!fO(y,I))return 0;if(t(y.cb),null==I.ac||I.ac(I)){I.ob&&(y.L=0);var O=QO[y.L];if(2==y.L?(y.yb=0,y.zb=0):(y.yb=I.v-O>>4,y.zb=I.j-O>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=I.o+15+O>>4,y.Hb=I.va+15+O>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var V=y.ed;for(O=0;4>O;++O){var $;if(y.Qa.Cb){var te=y.Qa.Lb[O];y.Qa.Fb||(te+=V.Tb)}else te=V.Tb;for($=0;1>=$;++$){var ne=y.gd[O][$],se=te;if(V.Pc&&(se+=V.vd[0],$&&(se+=V.od[0])),0<(se=0>se?0:63<se?63:se)){var oe=se;0<V.wb&&(oe=4<V.wb?oe>>2:oe>>1)>9-V.wb&&(oe=9-V.wb),1>oe&&(oe=1),ne.dd=oe,ne.tc=2*se+oe,ne.ld=40<=se?2:15<=se?1:0}else ne.tc=0;ne.La=$}}}O=0}else gl(y,6,"Frame setup failed"),O=y.a;if(O=0==O){if(O){y.$c=0,0<y.Aa||(y.Ic=1);e:{V=4*(oe=y.za);var ge=32*oe,Ue=oe+1,At=0<y.L?oe*(0<y.Aa?2:1):0,ft=(2==y.Aa?2:1)*oe;if((ne=V+832+($=3*(16*(O=y.Ic)+QO[y.L])/2*ge)+(te=null!=y.Fa&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ne)O=0;else{if(ne>y.Vb){if(y.Vb=0,y.Ec=o(ne),y.Fc=0,null==y.Ec){O=gl(y,1,"no memory during frame initialization.");break e}y.Vb=ne}se=y.Fc,y.Ac=ne=y.Ec,y.Bc=se,se+=V,y.Gd=a(ge,hO),y.Hd=0,y.rb=a(Ue+1,dO),y.sb=1,y.wa=At?a(At,xE):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=oe),t(!0),y.oc=ne,y.pc=se,se+=832,y.ya=a(ft,GD),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,2==y.Aa&&(y.D.aa+=oe),y.R=16*oe,y.B=8*oe,oe=(ge=QO[y.L])*y.R,ge=ge/2*y.B,y.sa=ne,y.ta=se+oe,y.qa=y.sa,y.ra=y.ta+16*O*y.R+ge,y.Ha=y.qa,y.Ia=y.ra+8*O*y.B+ge,y.$c=0,se+=$,y.mb=te?ne:null,y.nb=te?se:null,t(se+te<=y.Fc+y.Vb),jD(y),r(y.Ac,y.Bc,0,V),O=1}}if(O){if(I.ka=0,I.y=y.sa,I.O=y.ta,I.f=y.qa,I.N=y.ra,I.ea=y.Ha,I.Vd=y.Ia,I.fa=y.R,I.Rc=y.B,I.F=null,I.J=0,!o$){for(O=-255;255>=O;++O)n$[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)i$[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)r$[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)s$[255+O]=0>O?0:255<O?255:O;o$=1}vg=V6,QE=Q6,cw=mO,wg=H6,rv=_O,uT=gO,kC=YD,HE=FC,RC=tQ,uw=WD,dT=eQ,Gf=FE,sv=JD,Fo=IO,Mo=SO,ml=tv,lc=rw,ov=X6,bg[0]=g_,bg[1]=G6,bg[2]=K6,bg[3]=Z6,bg[4]=wO,bg[5]=TE,bg[6]=bO,bg[7]=KD,bg[8]=Y6,bg[9]=$6,hw[0]=yO,hw[1]=z6,hw[2]=ev,hw[3]=IE,hw[4]=ju,hw[5]=q6,hw[6]=vO,av[0]=iw,av[1]=j6,av[2]=W6,av[3]=ZD,av[4]=BC,av[5]=J6,av[6]=$D,O=1}else O=0}O&&(O=function(Je,jt){for(Je.M=0;Je.M<Je.Va;++Je.M){var Bt,Ge=Je.Jc[Je.M&Je.Xb],Ze=Je.m,Vt=Je;for(Bt=0;Bt<Vt.za;++Bt){var Xt=Ze,Gt=Vt,Yn=Gt.Ac,Tn=Gt.Bc+4*Bt,Di=Gt.zc,On=Gt.ya[Gt.aa+Bt];if(On.$b=Gt.Qa.Bb?_t(Xt,Gt.Pa.jb[0])?2+_t(Xt,Gt.Pa.jb[2]):_t(Xt,Gt.Pa.jb[1]):0,Gt.kc&&(On.Ad=_t(Xt,Gt.Bd)),On.Za=!_t(Xt,145)+0,On.Za){var _s=On.Ob,Ns=0;for(Gt=0;4>Gt;++Gt){var ss,Vr=Di[0+Gt];for(ss=0;4>ss;++ss){for(var po=u$[_t(Xt,(Vr=Lwe[Yn[Tn+ss]][Vr])[0])];0<po;)po=u$[2*po+_t(Xt,Vr[po])];Yn[Tn+ss]=Vr=-po}i(_s,Ns,Yn,Tn,4),Ns+=4,Di[0+Gt]=Vr}}else Vr=_t(Xt,156)?_t(Xt,128)?1:3:_t(Xt,163)?2:0,On.Ob[0]=Vr,r(Yn,Tn,Vr,4),r(Di,0,Vr,4);On.Dd=_t(Xt,142)?_t(Xt,114)?_t(Xt,183)?1:3:2:0}if(Vt.m.Ka)return gl(Je,7,"Premature end-of-partition0 encountered.");for(;Je.ja<Je.za;++Je.ja){if(Vt=Ge,Xt=(Ze=Je).rb[Ze.sb-1],Yn=Ze.rb[Ze.sb+Ze.ja],Bt=Ze.ya[Ze.aa+Ze.ja],Tn=Ze.kc?Bt.Ad:0)Xt.la=Yn.la=0,Bt.Za||(Xt.Na=Yn.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var to,Ar;if(Xt=Yn,Yn=Vt,Tn=Ze.Pa.Xc,On=Ze.pb[(Di=Ze.ya[Ze.aa+Ze.ja]).$b],Ns=Ze.rb[Ze.sb-1],Vr=ss=0,r(Gt=Di.ad,_s=0,0,384),Di.Za)var Vl=0,xh=Tn[3];else{po=o(16);var Gl=Xt.Na+Ns.Na;if(Gl=hT(Yn,Tn[1],Gl,On.Eb,0,po,0),Xt.Na=Ns.Na=(0<Gl)+0,1<Gl)vg(po,0,Gt,_s);else{var Eh=po[0]+3>>3;for(po=0;256>po;po+=16)Gt[_s+po]=Eh}Vl=1,xh=Tn[0]}var Ps=15&Xt.la,LA=15&Ns.la;for(po=0;4>po;++po){var NA=1&LA;for(Eh=Ar=0;4>Eh;++Eh)Ps=Ps>>1|(NA=(Gl=hT(Yn,xh,Gl=NA+(1&Ps),On.Sc,Vl,Gt,_s))>Vl)<<7,Ar=Ar<<2|(3<Gl?3:1<Gl?2:0!=Gt[_s+0]),_s+=16;Ps>>=4,LA=LA>>1|NA<<7,ss=(ss<<8|Ar)>>>0}for(xh=Ps,Vl=LA>>4,to=0;4>to;to+=2){for(Ar=0,Ps=Xt.la>>4+to,LA=Ns.la>>4+to,po=0;2>po;++po){for(NA=1&LA,Eh=0;2>Eh;++Eh)Ps=Ps>>1|(NA=0<(Gl=hT(Yn,Tn[2],Gl=NA+(1&Ps),On.Qc,0,Gt,_s)))<<3,Ar=Ar<<2|(3<Gl?3:1<Gl?2:0!=Gt[_s+0]),_s+=16;Ps>>=2,LA=LA>>1|NA<<5}Vr|=Ar<<4*to,xh|=Ps<<4<<to,Vl|=(240&LA)<<to}Xt.la=xh,Ns.la=Vl,Di.Hc=ss,Di.Gc=Vr,Di.ia=43690&Vr?0:On.ia,Tn=!(ss|Vr)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[Bt.$b][Bt.Za],Ze.wa[Ze.Y+Ze.ja].La|=!Tn),Vt.Ka)return gl(Je,7,"Premature end-of-file encountered.")}if(jD(Je),Ze=jt,Vt=1,Bt=(Ge=Je).D,Xt=0<Ge.L&&Ge.M>=Ge.zb&&Ge.M<=Ge.Va,0==Ge.Aa)e:{if(Bt.M=Ge.M,Bt.uc=Xt,rT(Ge,Bt),Vt=1,Bt=(Ar=Ge.D).Nb,Xt=(Vr=QO[Ge.L])*Ge.R,Tn=Ge.sa,Di=Ge.ta-Xt+(po=16*Bt*Ge.R),On=Ge.qa,Gt=Ge.ra-(Yn=Vr/2*Ge.B)+(Eh=8*Bt*Ge.B),_s=Ge.Ha,Ns=Ge.Ia-Yn+Eh,LA=0==(Ps=Ar.M),ss=Ps>=Ge.Va-1,2==Ge.Aa&&rT(Ge,Ar),Ar.uc)for(NA=(Gl=Ge).D.M,t(Gl.D.uc),Ar=Gl.yb;Ar<Gl.Hb;++Ar){xh=NA;var Lc=(au=(Ka=Gl).D).Nb,au=au.wa[au.Y+(Vl=Ar)],Td=Ka.sa,qf=Ka.ta+16*Lc*(to=Ka.R)+16*Vl,__=au.dd,Nc=au.tc;if(0!=Nc)if(t(3<=Nc),1==Ka.L)0<Vl&&ml(Td,qf,to,Nc+4),au.La&&ov(Td,qf,to,Nc),0<xh&&Mo(Td,qf,to,Nc+4),au.La&&lc(Td,qf,to,Nc);else{var lv=Ka.B,OC=Ka.qa,GE=Ka.ra+8*Lc*lv+8*Vl,fw=Ka.Ha,Ka=Ka.Ia+8*Lc*lv+8*Vl;Lc=au.ld,0<Vl&&(HE(Td,qf,to,Nc+4,__,Lc),uw(OC,GE,fw,Ka,lv,Nc+4,__,Lc)),au.La&&(Gf(Td,qf,to,Nc,__,Lc),Fo(OC,GE,fw,Ka,lv,Nc,__,Lc)),0<xh&&(kC(Td,qf,to,Nc+4,__,Lc),RC(OC,GE,fw,Ka,lv,Nc+4,__,Lc)),au.La&&(dT(Td,qf,to,Nc,__,Lc),sv(OC,GE,fw,Ka,lv,Nc,__,Lc))}}if(Ge.ia&&alert("todo:DitherRow"),null!=Ze.put){if(Ar=16*Ps,Ps=16*(Ps+1),LA?(Ze.y=Ge.sa,Ze.O=Ge.ta+po,Ze.f=Ge.qa,Ze.N=Ge.ra+Eh,Ze.ea=Ge.Ha,Ze.W=Ge.Ia+Eh):(Ar-=Vr,Ze.y=Tn,Ze.O=Di,Ze.f=On,Ze.N=Gt,Ze.ea=_s,Ze.W=Ns),ss||(Ps-=Vr),Ps>Ze.o&&(Ps=Ze.o),Ze.F=null,Ze.J=null,null!=Ge.Fa&&0<Ge.Fa.length&&Ar<Ps&&(Ze.J=nT(Ge,Ze,Ar,Ps-Ar),Ze.F=Ge.mb,null==Ze.F&&0==Ze.F.length)){Vt=gl(Ge,3,"Could not decode alpha data.");break e}Ar<Ze.j&&(Vr=Ze.j-Ar,Ar=Ze.j,t(!(1&Vr)),Ze.O+=Ge.R*Vr,Ze.N+=Ge.B*(Vr>>1),Ze.W+=Ge.B*(Vr>>1),null!=Ze.F&&(Ze.J+=Ze.width*Vr)),Ar<Ps&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,null!=Ze.F&&(Ze.J+=Ze.v),Ze.ka=Ar-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Ps-Ar,Vt=Ze.put(Ze))}Bt+1!=Ge.Ic||ss||(i(Ge.sa,Ge.ta-Xt,Tn,Di+16*Ge.R,Xt),i(Ge.qa,Ge.ra-Yn,On,Gt+8*Ge.B,Yn),i(Ge.Ha,Ge.Ia-Yn,_s,Ns+8*Ge.B,Yn))}if(!Vt)return gl(Je,6,"Output aborted.")}return 1}(y,I)),null!=I.bc&&I.bc(I),O&=1}return O?(y.cb=0,O):0})(y,V)||(I=y.a)}}else I=y.a}0==I&&null!=ne.Oa&&ne.Oa.fd&&(I=oT(ne.ba))}ne=I}te=0!=ne?null:11>te?se.f.RGBA.eb:se.f.kb.y}else te=null;return te};var y$=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(xe,Lt){for(var Rt="",pe=0;pe<4;pe++)Rt+=String.fromCharCode(xe[Lt++]);return Rt}function _(xe,Lt){return(xe[Lt+0]<<0|xe[Lt+1]<<8|xe[Lt+2]<<16)>>>0}function b(xe,Lt){return(xe[Lt+0]<<0|xe[Lt+1]<<8|xe[Lt+2]<<16|xe[Lt+3]<<24)>>>0}new h;var F=[0],B=[0],U=[],H=new h,Z=n,z=function(xe,Lt){var Rt={},pe=0,Ae=!1,Me=0,Te=0;if(Rt.frames=[],!function(ve,we,Ve,et){for(var lt=0;lt<4;lt++)if(ve[we+lt]!="RIFF".charCodeAt(lt))return!0;return!1}(xe,Lt)){var Tt,Pe;for(b(xe,Lt+=4),Lt+=8;Lt<xe.length;){var Xe=f(xe,Lt),He=b(xe,Lt+=4);Lt+=4;var mt=He+(1&He);switch(Xe){case"VP8 ":case"VP8L":void 0===Rt.frames[pe]&&(Rt.frames[pe]={}),(X=Rt.frames[pe]).src_off=Ae?Te:Lt-8,X.src_size=Me+He+8,pe++,Ae&&(Ae=!1,Me=0,Te=0);break;case"VP8X":(X=Rt.header={}).feature_flags=xe[Lt];var Ct=Lt+4;X.canvas_width=1+_(xe,Ct),X.canvas_height=1+_(xe,Ct+=3),Ct+=3;break;case"ALPH":Ae=!0,Me=mt+8,Te=Lt-8;break;case"ANIM":(X=Rt.header).bgcolor=b(xe,Lt),X.loop_count=(Tt=xe)[(Pe=Ct=Lt+4)+0]<<0|Tt[Pe+1]<<8,Ct+=2;break;case"ANMF":var wn,X;(X=Rt.frames[pe]={}).offset_x=2*_(xe,Lt),X.offset_y=2*_(xe,Lt+=3),X.width=1+_(xe,Lt+=3),X.height=1+_(xe,Lt+=3),X.duration=_(xe,Lt+=3),Lt+=3,wn=xe[Lt++],X.dispose=1&wn,X.blend=wn>>1&1}"ANMF"!=Xe&&(Lt+=mt)}return Rt}}(Z,0);z.response=Z,z.rgbaoutput=!0,z.dataurl=!1;var W=z.header?z.header:null,fe=z.frames?z.frames:null;if(W){W.loop_counter=W.loop_count,F=[W.canvas_height],B=[W.canvas_width];for(var De=0;De<fe.length&&0!=fe[De].blend;De++);}var Ye=fe[0],ct=H.WebPDecodeRGBA(Z,Ye.src_off,Ye.src_size,B,F);Ye.rgba=ct,Ye.imgwidth=B[0],Ye.imgheight=F[0];for(var Ke=0;Ke<B[0]*F[0]*4;Ke++)U[Ke]=ct[Ke];return this.width=B,this.height=F,this.data=U,this}(function(n){var e=function(F,B,U,H){var Z=4,z=a;switch(H){case n.image_compression.FAST:Z=1,z=o;break;case n.image_compression.MEDIUM:Z=6,z=u;break;case n.image_compression.SLOW:Z=9,z=h}var W=LD(F=i(F,B,U,z),{level:Z});return n.__addimage__.arrayBufferToBinaryString(W)},i=function(F,B,U,H){for(var Z,z,W,fe=F.length/B,De=new Uint8Array(F.length+fe),Ye=_(),ct=0;ct<fe;ct+=1){if(Z=F.subarray(W=ct*B,W+B),H)De.set(H(Z,U,z),W+ct);else{for(var Ke,xe=Ye.length,Lt=[];Ke<xe;Ke+=1)Lt[Ke]=Ye[Ke](Z,U,z);var Rt=b(Lt.concat());De.set(Lt[Rt],W+ct)}z=Z}return De},r=function(F){var B=Array.apply([],F);return B.unshift(0),B},o=function(F,B){var H=[],Z=F.length;H[0]=1;for(var z=0;z<Z;z+=1)H[z+1]=F[z]-(F[z-B]||0)+256&255;return H},a=function(F,B,U){var Z=[],z=F.length;Z[0]=2;for(var W=0;W<z;W+=1)Z[W+1]=F[W]-(U&&U[W]||0)+256&255;return Z},u=function(F,B,U){var z=[],W=F.length;z[0]=3;for(var fe=0;fe<W;fe+=1)z[fe+1]=F[fe]+256-((F[fe-B]||0)+(U&&U[fe]||0)>>>1)&255;return z},h=function(F,B,U){var W,fe=[],De=F.length;fe[0]=4;for(var Ye=0;Ye<De;Ye+=1)W=f(F[Ye-B]||0,U&&U[Ye]||0,U&&U[Ye-B]||0),fe[Ye+1]=F[Ye]-W+256&255;return fe},f=function(F,B,U){if(F===B&&B===U)return F;var H=Math.abs(B-U),Z=Math.abs(F-U),z=Math.abs(F+B-U-U);return H<=Z&&H<=z?F:Z<=z?B:U},_=function(){return[r,o,a,u,h]},b=function(F){var B=F.map(function(U){return U.reduce(function(H,Z){return H+Math.abs(Z)},0)});return B.indexOf(Math.min.apply(null,B))};n.processPNG=function(F,B,U,H){var Z,z,W,fe,De,Ye,ct,Ke,xe,Lt,Rt,pe,Ae,Me,Te,Tt=this.decode.FLATE_DECODE,Pe="";if(this.__addimage__.isArrayBuffer(F)&&(F=new Uint8Array(F)),this.__addimage__.isArrayBufferView(F)){if(F=(W=new hge(F)).imgData,z=W.bits,Z=W.colorSpace,De=W.colors,-1!==[4,6].indexOf(W.colorType)){if(8===W.bits){xe=(Ke=32==W.pixelBitlength?new Uint32Array(W.decodePixels().buffer):16==W.pixelBitlength?new Uint16Array(W.decodePixels().buffer):new Uint8Array(W.decodePixels().buffer)).length,Rt=new Uint8Array(xe*W.colors),Lt=new Uint8Array(xe);var Xe,He=W.pixelBitlength-W.bits;for(Me=0,Te=0;Me<xe;Me++){for(Ae=Ke[Me],Xe=0;Xe<He;)Rt[Te++]=Ae>>>Xe&255,Xe+=W.bits;Lt[Me]=Ae>>>Xe&255}}if(16===W.bits){xe=(Ke=new Uint32Array(W.decodePixels().buffer)).length,Rt=new Uint8Array(xe*(32/W.pixelBitlength)*W.colors),Lt=new Uint8Array(xe*(32/W.pixelBitlength)),pe=W.colors>1,Me=0,Te=0;for(var mt=0;Me<xe;)Ae=Ke[Me++],Rt[Te++]=Ae>>>0&255,pe&&(Rt[Te++]=Ae>>>16&255,Ae=Ke[Me++],Rt[Te++]=Ae>>>0&255),Lt[mt++]=Ae>>>16&255;z=8}H!==n.image_compression.NONE?(F=e(Rt,W.width*W.colors,W.colors,H),ct=e(Lt,W.width,1,H)):(F=Rt,ct=Lt,Tt=void 0)}if(3===W.colorType&&(Z=this.color_spaces.INDEXED,Ye=W.palette,W.transparency.indexed)){var Ct=W.transparency.indexed,wn=0;for(Me=0,xe=Ct.length;Me<xe;++Me)wn+=Ct[Me];if((wn/=255)==xe-1&&-1!==Ct.indexOf(0))fe=[Ct.indexOf(0)];else if(wn!==xe){for(Ke=W.decodePixels(),Lt=new Uint8Array(Ke.length),Me=0,xe=Ke.length;Me<xe;Me++)Lt[Me]=Ct[Ke[Me]];ct=e(Lt,W.width,1)}}var X=function(ve){var we;switch(ve){case n.image_compression.FAST:we=11;break;case n.image_compression.MEDIUM:we=13;break;case n.image_compression.SLOW:we=14;break;default:we=12}return we}(H);return Tt===this.decode.FLATE_DECODE&&(Pe="/Predictor "+X+" "),Pe+="/Colors "+De+" /BitsPerComponent "+z+" /Columns "+W.width,(this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),(ct&&this.__addimage__.isArrayBuffer(ct)||this.__addimage__.isArrayBufferView(ct))&&(ct=this.__addimage__.arrayBufferToBinaryString(ct)),{alias:U,data:F,index:B,filter:Tt,decodeParameters:Pe,transparency:fe,palette:Ye,sMask:ct,predictor:X,width:W.width,height:W.height,bitsPerComponent:z,colorSpace:Z}}}})(Oi.API),function(n){n.processGIF89A=function(t,e,i,r){var o=new Age(t),a=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:a,height:u},_=new J3(100).encode(f,100);return n.processJPEG.call(this,_,e,i,r)},n.processGIF87A=n.processGIF89A}(Oi.API),ag.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ag.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){Ao.log("bit decode error:"+e)}},ag.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[a+4*u]=h.blue,this.data[a+4*u+1]=h.green,this.data[a+4*u+2]=h.red,this.data[a+4*u+3]=255}0!==e&&(this.pos+=4-e)}},ag.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,h=15&o,f=this.palette[o>>4];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*r+1>=this.width)break;this.data[a+4]=(f=this.palette[h]).blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},ag.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==n&&(this.pos+=4-n)}},ag.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,f=o>>15?255:0,_=i*this.width*4+4*r;this.data[_]=(o>>10&t)/t*255|0,this.data[_+1]=u,this.data[_+2]=a,this.data[_+3]=f}this.pos+=n}},ag.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,h=(a>>5&e)/e*255|0,_=r*this.width*4+4*o;this.data[_]=(a>>11)/t*255|0,this.data[_+1]=h,this.data[_+2]=u,this.data[_+3]=255}this.pos+=n}},ag.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},ag.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=a}},ag.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var o=new ag(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new J3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(Oi.API),UK.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var o=new UK(t,!1),a=o.width,u=o.height,h={data:o.getData(),width:a,height:u},f=new J3(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(Oi.API),Oi.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),a=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var b=i[f+1],F=i[f+2],B=i[f+3];o[u++]=i[f],o[u++]=b,o[u++]=F,a[h++]=B}var U=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:U,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Oi.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zR=(mE=Oi.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,_=f.fof?f.fof:1,b=!1!==t.doKerning,F=0,B=n.length,U=0,H=u[0]||h,Z=[];for(e=0;e<B;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?Z.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/o)||0)/1e3):(F=b&&"object"===Ls(f[i])&&!isNaN(parseInt(f[i][U],10))?f[i][U]/_:0,Z.push((u[i]||H)/h+F)),U=i;return Z},OK=mE.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return mE.processArabic&&(n=mE.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:zR.apply(this,arguments).reduce(function(o,a){return o+a},0)},LK=function(n,t,e,i){for(var r=[],o=0,a=n.length,u=0;o!==a&&u+t[o]<e;)u+=t[o],o++;r.push(n.slice(0,o));var h=o;for(u=0;o!==a;)u+t[o]>i&&(r.push(n.slice(h,o)),u=0,h=o),u+=t[o],o++;return h!==o&&r.push(n.slice(h,o)),r},NK=function(n,t,e){e||(e={});var i,r,o,a,u,h,_=[],b=[_],F=e.textIndent||0,B=0,U=0,H=n.split(" "),Z=zR.apply(this,[" ",e])[0];if(h=-1===e.lineIndent?H[0].length+2:e.lineIndent||0){var z=Array(h).join(" "),W=[];H.map(function(De){(De=De.split(/\s*\n/)).length>1?W=W.concat(De.map(function(Ye,ct){return(ct&&Ye.length?"\n":"")+Ye})):W.push(De[0])}),H=W,h=OK.apply(this,[z,e])}for(o=0,a=H.length;o<a;o++){var fe=0;if(i=H[o],h&&"\n"==i[0]&&(i=i.substr(1),fe=1),F+B+(U=(r=zR.apply(this,[i,e])).reduce(function(De,Ye){return De+Ye},0))>t||fe){if(U>t){for(u=LK.apply(this,[i,r,t-(F+B),t]),_.push(u.shift()),_=[u.pop()];u.length;)b.push([u.shift()]);U=r.slice(i.length-(_[0]?_[0].length:0)).reduce(function(De,Ye){return De+Ye},0)}else _=[i];b.push(_),F=U+h,B=Z}else _.push(i),F+=B+U,B=Z}return b.map(h?function(De,Ye){return(Ye?z:"")+De.join(" ")}:function(De){return De.join(" ")})},mE.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var b=this.internal.getFont(_.fontName,_.fontStyle);return b.metadata.Unicode?{widths:b.metadata.Unicode.widths||{0:1},kerning:b.metadata.Unicode.kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(NK.apply(this,[i[u],a,o]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var o=function(b){return"0x"+parseInt(b,10).toString(16)},a=n.__fontmetrics__.compress=function(b){var F,B,U,H,Z=["{"];for(var z in b){if(F=b[z],isNaN(parseInt(z,10))?B="'"+z+"'":(z=parseInt(z,10),B=(B=o(z).slice(2)).slice(0,-1)+i[B.slice(-1)]),"number"==typeof F)F<0?(U=o(F).slice(3),H="-"):(U=o(F).slice(2),H=""),U=H+U.slice(0,-1)+i[U.slice(-1)];else{if("object"!==Ls(F))throw new Error("Don't know what to do with value type "+Ls(F)+".");U=a(F)}Z.push(B+U)}return Z.push("}"),Z.join("")},u=n.__fontmetrics__.uncompress=function(b){if("string"!=typeof b)throw new Error("Invalid argument passed to uncompress.");for(var F,B,U,H,Z={},z=1,W=Z,fe=[],De="",Ye="",ct=b.length-1,Ke=1;Ke<ct;Ke+=1)"'"==(H=b[Ke])?F?(U=F.join(""),F=void 0):F=[]:F?F.push(H):"{"==H?(fe.push([W,U]),W={},U=void 0):"}"==H?((B=fe.pop())[0][B[1]]=W,U=void 0,W=B[0]):"-"==H?z=-1:void 0===U?e.hasOwnProperty(H)?(De+=e[H],U=parseInt(De,16)*z,z=1,De=""):De+=H:e.hasOwnProperty(H)?(Ye+=e[H],W[U]=parseInt(Ye,16)*z,z=1,U=void 0,Ye=""):Ye+=H;return Z},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},_={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(b){var F=b.font,B=_.Unicode[F.postScriptName];B&&(F.metadata.Unicode={},F.metadata.Unicode.widths=B.widths,F.metadata.Unicode.kerning=B.kerning);var U=f.Unicode[F.postScriptName];U&&(F.metadata.Unicode.encoding=U,F.encoding=U.codePages[0])}])}(Oi.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};n.API.events.push(["addFont",function(e){var a,u,i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(r.postScriptName)?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");a=r,u=/^\x00\x01\x00\x00/.test(u=i)?t(u):t(ND(u)),a.metadata=n.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]}}])}(Oi),function(n){function t(){return(Pi.canvg?Promise.resolve(Pi.canvg):ie.e(489).then(ie.bind(ie,6489))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Oi.API.addSvgAsImage=function(e,i,r,o,a,u,h,f){if(isNaN(i)||isNaN(r))throw Ao.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Ao.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _=document.createElement("canvas");_.width=o,_.height=a;var b=_.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,_.width,_.height);var F={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},B=this;return t().then(function(U){return U.fromString(b,e,F)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(F)}).then(function(){B.addImage(_.toDataURL("image/jpeg",1),i,r,o,a,h,f)})}}(),Oi.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Oi.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),h=[],f=0,_=0,b=0;function F(U,H){var Z,z=!1;for(Z=0;Z<U.length;Z+=1)U[Z]===H&&(z=!0);return z}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var B=u.length;for(b=0;b<B;b+=1)e[u[b]].value=e[u[b]].defaultValue,e[u[b]].explicitSet=!1}if("object"===Ls(n))for(r in n)if(o=n[r],F(u,r)&&void 0!==o){if("boolean"===e[r].type&&"boolean"==typeof o)e[r].value=o;else if("name"===e[r].type&&F(e[r].valueSet,o))e[r].value=o;else if("integer"===e[r].type&&Number.isInteger(o))e[r].value=o;else if("array"===e[r].type){for(f=0;f<o.length;f+=1)if(i=!0,1===o[f].length&&"number"==typeof o[f][0])h.push(String(o[f]-1));else if(o[f].length>1){for(_=0;_<o[f].length;_+=1)"number"!=typeof o[f][_]&&(i=!1);!0===i&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var U,H=[];for(U in e)!0===e[U].explicitSet&&H.push("name"===e[U].type?"/"+U+" /"+e[U].value:"/"+U+" "+e[U].value);0!==H.length&&this.internal.write("/ViewerPreferences\n<<\n"+H.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+a.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+a+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Oi.API),function(n){var t=n.API,e=t.pdfEscape16=function(o,a){for(var u,h=a.metadata.Unicode.widths,f=["","0","00","000","0000"],_=[""],b=0,F=o.length;b<F;++b){if(u=a.metadata.characterToGlyph(o.charCodeAt(b)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=o.charCodeAt(b),-1==h.indexOf(u)&&(h.push(u),h.push([parseInt(a.metadata.widthOfGlyph(u),10)])),"0"==u)return _.join("");u=u.toString(16),_.push(f[4-u.length],u)}return _.join("")},i=function(o){var a,u,h,f,_,b,F;for(_="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",h=[],b=0,F=(u=Object.keys(o).sort(function(B,U){return B-U})).length;b<F;b++)a=u[b],h.length>=100&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar",h=[]),null!=o[a]&&"function"==typeof o[a].toString&&(f=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),h.push("<"+a+"><"+f+">"));return h.length&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar\n"),_+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"Identity-H"===u.encoding){for(var b=u.metadata.Unicode.widths,F=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),B="",U=0;U<F.length;U++)B+=String.fromCharCode(F[U]);var H=f();_({data:B,addLength1:!0,objectId:H}),h("endobj");var Z=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:Z}),h("endobj");var z=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+uE(u.fontName)),h("/FontFile2 "+H+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var W=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+uE(u.fontName)),h("/FontDescriptor "+z+" 0 R"),h("/W "+n.API.PDFObject.convert(b)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+Z+" 0 R"),h("/BaseFont /"+uE(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+W+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]),t.events.push(["putFont",function(o){!function(a){var u=a.font,h=a.out,f=a.newObject,_=a.putStream;if(u.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===u.encoding){for(var b=u.metadata.rawData,F="",B=0;B<b.length;B++)F+=String.fromCharCode(b[B]);var U=f();_({data:F,addLength1:!0,objectId:U}),h("endobj");var H=f();_({data:i(u.metadata.toUnicode),addLength1:!0,objectId:H}),h("endobj");var Z=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+U+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+uE(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var z=0;z<u.metadata.hmtx.widths.length;z++)u.metadata.hmtx.widths[z]=parseInt(u.metadata.hmtx.widths[z]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+uE(u.fontName)+"/FontDescriptor "+Z+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}}(o)}]);var r=function(o){var a,u=o.text||"",h=o.x,f=o.y,_=o.options||{},b=o.mutex||{},F=b.pdfEscape,B=b.activeFontKey,U=b.fonts,H=B,Z="",z=0,W="",fe=U[H].encoding;if("Identity-H"!==U[H].encoding)return{text:u,x:h,y:f,options:_,mutex:b};for(W=u,H=B,Array.isArray(u)&&(W=u[0]),z=0;z<W.length;z+=1)U[H].metadata.hasOwnProperty("cmap")&&(a=U[H].metadata.cmap.unicode.codeMap[W[z].charCodeAt(0)]),a||W[z].charCodeAt(0)<256&&U[H].metadata.hasOwnProperty("Unicode")?Z+=W[z]:Z+="";var De="";return parseInt(H.slice(1))<14||"WinAnsiEncoding"===fe?De=F(Z,H).split("").map(function(Ye){return Ye.charCodeAt(0).toString(16)}).join(""):"Identity-H"===fe&&(De=e(Z,U[H])),b.isHex=!0,{text:De,x:h,y:f,options:_,mutex:b}};t.events.push(["postProcessText",function(o){var a=o.text||"",u=[],h={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&3===a[f].length?u.push([r(Object.assign({},h,{text:a[f][0]})).text,a[f][1],a[f][2]]):u.push(r(Object.assign({},h,{text:a[f]})).text);o.text=u}else o.text=r(Object.assign({},h,{text:a})).text}])}(Oi),function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Oi.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,a,u,h,f,_,b=t,F=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],B=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Z=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],z=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,fe=0;this.__bidiEngine__={};var De=function(pe){var Ae=pe.charCodeAt(),Me=Ae>>8,Te=H[Me];return void 0!==Te?b[256*Te+(255&Ae)]:252===Me||253===Me?"AL":z.test(Me)?"L":8===Me?"R":"N"},Ye=function(pe){for(var Ae,Me=0;Me<pe.length;Me++){if("L"===(Ae=De(pe.charAt(Me))))return!1;if("R"===Ae)return!0}return!1},ct=function(pe,Ae,Me,Te){var Tt,Pe,Xe,He,mt=Ae[Te];switch(mt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(mt="AN");break;case"AL":W=!0,mt="R";break;case"WS":case"BN":mt="N";break;case"CS":Te<1||Te+1>=Ae.length||"EN"!==(Tt=Me[Te-1])&&"AN"!==Tt||"EN"!==(Pe=Ae[Te+1])&&"AN"!==Pe?mt="N":W&&(Pe="AN"),mt=Pe===Tt?Pe:"N";break;case"ES":mt="EN"===(Tt=Te>0?Me[Te-1]:"B")&&Te+1<Ae.length&&"EN"===Ae[Te+1]?"EN":"N";break;case"ET":if(Te>0&&"EN"===Me[Te-1]){mt="EN";break}if(W){mt="N";break}for(Xe=Te+1,He=Ae.length;Xe<He&&"ET"===Ae[Xe];)Xe++;mt=Xe<He&&"EN"===Ae[Xe]?"EN":"N";break;case"NSM":if(a&&!u){for(He=Ae.length,Xe=Te+1;Xe<He&&"NSM"===Ae[Xe];)Xe++;if(Xe<He){var Ct=pe[Te];if(Tt=Ae[Xe],(Ct>=1425&&Ct<=2303||64286===Ct)&&("R"===Tt||"AL"===Tt)){mt="R";break}}}mt=Te<1||"B"===(Tt=Ae[Te-1])?"N":Me[Te-1];break;case"B":W=!1,r=!0,mt=fe;break;case"S":o=!0,mt="N"}return mt},Ke=function(pe,Ae,Me){var Te=pe.split("");return Me&&xe(Te,Me,{hiLevel:fe}),Te.reverse(),Ae&&Ae.reverse(),Te.join("")},xe=function(pe,Ae,Me){var Te,Tt,Pe,Xe,He,mt=-1,Ct=pe.length,wn=0,X=[],ve=fe?B:F,we=[];for(W=!1,r=!1,o=!1,Tt=0;Tt<Ct;Tt++)we[Tt]=De(pe[Tt]);for(Pe=0;Pe<Ct;Pe++){if(He=wn,X[Pe]=ct(pe,we,X,Pe),Te=240&(wn=ve[He][U[X[Pe]]]),Ae[Pe]=Xe=ve[wn&=15][5],Te>0)if(16===Te){for(Tt=mt;Tt<Pe;Tt++)Ae[Tt]=1;mt=-1}else mt=-1;if(ve[wn][6])-1===mt&&(mt=Pe);else if(mt>-1){for(Tt=mt;Tt<Pe;Tt++)Ae[Tt]=Xe;mt=-1}"B"===we[Pe]&&(Ae[Pe]=0),Me.hiLevel|=Xe}o&&function(Ve,et,lt){for(var yt=0;yt<lt;yt++)if("S"===Ve[yt]){et[yt]=fe;for(var _t=yt-1;_t>=0&&"WS"===Ve[_t];_t--)et[_t]=fe}}(we,Ae,Ct)},Lt=function(pe,Ae,Me,Te,Tt){if(!(Tt.hiLevel<pe)){if(1===pe&&1===fe&&!r)return Ae.reverse(),void(Me&&Me.reverse());for(var Pe,Xe,He,mt,Ct=Ae.length,wn=0;wn<Ct;){if(Te[wn]>=pe){for(He=wn+1;He<Ct&&Te[He]>=pe;)He++;for(mt=wn,Xe=He-1;mt<Xe;mt++,Xe--)Pe=Ae[mt],Ae[mt]=Ae[Xe],Ae[Xe]=Pe,Me&&(Pe=Me[mt],Me[mt]=Me[Xe],Me[Xe]=Pe);wn=He}wn++}}},Rt=function(pe,Ae,Me){var Te=pe.split(""),Tt={hiLevel:fe};return Me||(Me=[]),xe(Te,Me,Tt),function(Pe,Xe,He){if(0!==He.hiLevel&&_)for(var mt,Ct=0;Ct<Pe.length;Ct++)1===Xe[Ct]&&(mt=Z.indexOf(Pe[Ct]))>=0&&(Pe[Ct]=Z[mt+1])}(Te,Me,Tt),Lt(2,Te,Ae,Me,Tt),Lt(1,Te,Ae,Me,Tt),Te.join("")};return this.__bidiEngine__.doBidiReorder=function(pe,Ae,Me){if(function(Tt,Pe){if(Pe)for(var Xe=0;Xe<Tt.length;Xe++)Pe[Xe]=Xe;void 0===u&&(u=Ye(Tt)),void 0===f&&(f=Ye(Tt))}(pe,Ae),a||!h||f)if(a&&h&&u^f)fe=u?1:0,pe=Ke(pe,Ae,Me);else if(!a&&h&&f)fe=u?1:0,pe=Rt(pe,Ae,Me),pe=Ke(pe,Ae);else if(!a||u||h||f){if(a&&!h&&u^f)pe=Ke(pe,Ae),u?(fe=0,pe=Rt(pe,Ae,Me)):(fe=1,pe=Rt(pe,Ae,Me),pe=Ke(pe,Ae));else if(a&&u&&!h&&f)fe=1,pe=Rt(pe,Ae,Me),pe=Ke(pe,Ae);else if(!a&&!h&&u^f){var Te=_;u?(fe=1,pe=Rt(pe,Ae,Me),fe=0,_=!1,pe=Rt(pe,Ae,Me),_=Te):(fe=0,pe=Rt(pe,Ae,Me),pe=Ke(pe,Ae),fe=1,_=!1,pe=Rt(pe,Ae,Me),_=Te,pe=Ke(pe,Ae))}}else fe=0,pe=Rt(pe,Ae,Me);else fe=u?1:0,pe=Rt(pe,Ae,Me);return pe},this.__bidiEngine__.setOptions=function(pe){pe&&(a=pe.isInputVisual,h=pe.isOutputVisual,u=pe.isInputRtl,f=pe.isOutputRtl,_=pe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,o=i.options||{},a=[];if(o.isInputVisual="boolean"!=typeof o.isInputVisual||o.isInputVisual,e.setOptions(o),"[object Array]"===Object.prototype.toString.call(r)){var u=0;for(a=[],u=0;u<r.length;u+=1)"[object Array]"===Object.prototype.toString.call(r[u])?a.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):a.push([e.doBidiReorder(r[u])]);i.text=a}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Oi),Oi.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new ew(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Dge(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new fge(this.contents),this.head=new gge(this),this.name=new wge(this),this.cmap=new HK(this),this.toUnicode={},this.hhea=new mge(this),this.maxp=new bge(this),this.hmtx=new Cge(this),this.post=new yge(this),this.os2=new _ge(this),this.loca=new Ige(this),this.glyf=new xge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,u,h,f;for(f=[],a=0,u=(h=this.bbox).length;a<u;a++)f.push(Math.round(h[a]*this.scaleFactor));return f}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(o=this.familyClass)||2===o||3===o||4===o||5===o||7===o,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,o,a,u;for(a=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)r=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return a*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var lg,ew=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,o,a,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^a)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*a+256*u+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,o;for(o=[],i=0,r=t.length;i<r;i++)o.push(this.writeByte(t[i]));return o},n}(),fge=function(){var n;function t(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,u,h,f,_,b,F,B,U,H;for(H in B=Object.keys(e).length,h=Math.log(2),b=16*Math.floor(Math.log(B)/h),a=Math.floor(b/h),_=16*B-b,(r=new ew).writeInt(this.scalarType),r.writeShort(B),r.writeShort(b),r.writeShort(a),r.writeShort(_),f=r.pos+16*B,u=null,U=[],e)for(F=e[H],r.writeString(H),r.writeInt(n(F)),r.writeInt(f),r.writeInt(F.length),U=U.concat(F),"head"===H&&(u=f),f+=F.length;f%4;)U.push(0),f++;return r.write(U),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,o,a;for(e=VK.call(e);e.length%4;)e.push(0);for(o=new ew(e),r=0,i=0,a=e.length;i<a;i=i+=4)r+=o.readUInt32();return 4294967295&r},t}(),pge={}.hasOwnProperty,a_=function(n,t){for(var e in t)pge.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};lg=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var gge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new ew).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),QK=function(){function n(t,e){var i,r,o,a,u,h,f,_,b,F,B,U,H,Z,z,W,fe;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(B=t.readUInt16(),F=B/2,t.pos+=6,o=function(){var De,Ye;for(Ye=[],h=De=0;0<=F?De<F:De>F;h=0<=F?++De:--De)Ye.push(t.readUInt16());return Ye}(),t.pos+=2,H=function(){var De,Ye;for(Ye=[],h=De=0;0<=F?De<F:De>F;h=0<=F?++De:--De)Ye.push(t.readUInt16());return Ye}(),f=function(){var De,Ye;for(Ye=[],h=De=0;0<=F?De<F:De>F;h=0<=F?++De:--De)Ye.push(t.readUInt16());return Ye}(),_=function(){var De,Ye;for(Ye=[],h=De=0;0<=F?De<F:De>F;h=0<=F?++De:--De)Ye.push(t.readUInt16());return Ye}(),r=(this.length-t.pos+this.offset)/2,u=function(){var De,Ye;for(Ye=[],h=De=0;0<=r?De<r:De>r;h=0<=r?++De:--De)Ye.push(t.readUInt16());return Ye}(),h=z=0,fe=o.length;z<fe;h=++z)for(Z=o[h],i=W=U=H[h];U<=Z?W<=Z:W>=Z;i=U<=Z?++W:--W)0===_[h]?a=i+f[h]:0!==(a=u[_[h]/2+(i-U)-(F-h)]||0)&&(a+=f[h]),this.codeMap[i]=65535&a}t.pos=b}return n.encode=function(t,e){var i,r,o,a,u,h,f,_,b,F,B,U,H,Z,z,W,fe,Ye,ct,Ke,xe,Lt,Rt,pe,Ae,Me,Te,Tt,Pe,Xe,He,mt,Ct,wn,X,ve,we,Ve,et,lt,yt,_t,_n,An,qn;switch(Te=new ew,a=Object.keys(t).sort(function(Xn,Ui){return Xn-Ui}),e){case"macroman":for(H=0,Z=function(){var Xn=[];for(U=0;U<256;++U)Xn.push(0);return Xn}(),W={0:0},o={},Tt=0,mt=a.length;Tt<mt;Tt++)null==W[_t=t[r=a[Tt]]]&&(W[_t]=++H),o[r]={old:t[r],new:W[t[r]]},Z[r]=W[t[r]];return Te.writeUInt16(1),Te.writeUInt16(0),Te.writeUInt32(12),Te.writeUInt16(0),Te.writeUInt16(262),Te.writeUInt16(0),Te.write(Z),{charMap:o,subtable:Te.data,maxGlyphID:H+1};case"unicode":for(Ae=[],b=[],fe=0,W={},i={},z=f=null,Pe=0,Ct=a.length;Pe<Ct;Pe++)null==W[Ye=t[r=a[Pe]]]&&(W[Ye]=++fe),i[r]={old:Ye,new:W[Ye]},u=W[Ye]-r,null!=z&&u===f||(z&&b.push(z),Ae.push(r),f=u),z=r;for(z&&b.push(z),b.push(65535),Ae.push(65535),Rt=2*(Lt=Ae.length),xe=2*Math.pow(Math.log(Lt)/Math.LN2,2),F=Math.log(xe/2)/Math.LN2,Ke=2*Lt-xe,h=[],ct=[],B=[],U=Xe=0,wn=Ae.length;Xe<wn;U=++Xe){if(_=b[U],65535===(pe=Ae[U])){h.push(0),ct.push(0);break}if(pe-(Me=i[pe].new)>=32768)for(h.push(0),ct.push(2*(B.length+Lt-U)),r=He=pe;pe<=_?He<=_:He>=_;r=pe<=_?++He:--He)B.push(i[r].new);else h.push(Me-pe),ct.push(0)}for(Te.writeUInt16(3),Te.writeUInt16(1),Te.writeUInt32(12),Te.writeUInt16(4),Te.writeUInt16(16+8*Lt+2*B.length),Te.writeUInt16(0),Te.writeUInt16(Rt),Te.writeUInt16(xe),Te.writeUInt16(F),Te.writeUInt16(Ke),lt=0,X=b.length;lt<X;lt++)Te.writeUInt16(r=b[lt]);for(Te.writeUInt16(0),yt=0,ve=Ae.length;yt<ve;yt++)Te.writeUInt16(r=Ae[yt]);for(_n=0,we=h.length;_n<we;_n++)Te.writeUInt16(u=h[_n]);for(An=0,Ve=ct.length;An<Ve;An++)Te.writeUInt16(ct[An]);for(qn=0,et=B.length;qn<et;qn++)Te.writeUInt16(H=B[qn]);return{charMap:i,subtable:Te.data,maxGlyphID:fe+1}}},n}(),HK=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)i=new QK(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,o;return null==i&&(i="macroman"),r=QK.encode(e,i),(o=new ew).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},t}(),mge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),_ge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),yge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)i=e.readByte(),o.push(this.names.push(e.readString(i)));return o;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var u,h,f;for(f=[],a=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;a=0<=h?++u:--u)f.push(e.readUInt32());return f}.call(this)}},t}(),vge=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},wge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,o,a,u,h,f,_,b,F,B;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},a=b=0,F=r.length;b<F;a=++b)e.pos=(o=r[a]).offset,_=e.readString(o.length),u=new vge(_,o),null==f[B=o.nameID]&&(f[B]=[]),f[o.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),bge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Cge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,o,u,h,f;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _,b;for(b=[],i=_=0;0<=o?_<o:_>o;i=0<=o?++_:--_)b.push(e.readInt16());return b}(),this.widths=function(){var _,b,F,B;for(B=[],_=0,b=(F=this.metrics).length;_<b;_++)B.push(F[_].advance);return B}.call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=o?u<o:u>o;i=0<=o?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),VK=[].slice,xge=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,o,a,u,h,f,_,b,F;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(a=this.file.loca).indexOf(e),0===(o=a.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,u=(h=new ew(i.read(o))).readShort(),_=h.readShort(),F=h.readShort(),f=h.readShort(),b=h.readShort(),this.cache[e]=-1===u?new Sge(h,_,F,f,b):new Ege(h,u,_,F,f,b),this.cache[e]))},t.prototype.encode=function(e,i,r){var o,a,u,h,f;for(u=[],a=[],h=0,f=i.length;h<f;h++)o=e[i[h]],a.push(u.length),o&&(u=u.concat(o.encode(r)));return a.push(u.length),{table:u,offsets:a}},t}(),Ege=function(){function n(t,e,i,r,o,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Sge=function(){function n(t,e,i,r,o){var a,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new ew(VK.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Ige=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return a_(t,lg),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),o=0,a=0,u=0;u<r.length;++u)if(r[u]=o,a<i.length&&i[a]==u){++a,r[u]=o;var f=this.offsets[u+1]-this.offsets[u];f>0&&(o+=f)}for(var _=new Array(4*r.length),b=0;b<r.length;++b)_[4*b+3]=255&r[b],_[4*b+2]=(65280&r[b])>>8,_[4*b+1]=(16711680&r[b])>>16,_[4*b]=(4278190080&r[b])>>24;return _},t}(),Dge=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,o;for(e in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)t[e]=r[o[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,o,a,u,h;for(r={},a=0,u=t.length;a<u;a++)r[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],r)null!=(i=r[o])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in h=this.glyphsFor(e))r[o]=i=h[o];return r},n.prototype.encode=function(t,e){var i,r,o,a,h,f,_,b,F,B,U,H,Z,z;for(r in i=HK.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),B={0:0},z=i.charMap)B[(h=z[r]).old]=h.new;for(U in F=i.maxGlyphID,a)U in B||(B[U]=F++);return _=function(W){var fe,De;for(fe in De={},W)De[W[fe]]=fe;return De}(B),b=Object.keys(_).sort(function(W,fe){return W-fe}),H=function(){var W,fe,De;for(De=[],W=0,fe=b.length;W<fe;W++)De.push(_[b[W]]);return De}(),o=this.font.glyf.encode(a,H,B),f=this.font.loca.encode(o.offsets,H),Z={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(Z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Z)},n}();Oi.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,o;if(Array.isArray(e))return"["+function(){var u,h,f;for(f=[],u=0,h=e.length;u<h;u++)f.push(t.convert(e[u]));return f}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in o=["<<"],e)o.push("/"+r+" "+t.convert(e[r]));return o.push(">>"),o.join("\n")}return""+e},t}();const Tge=Oi;var Bge=ie(4159),GK=ie.n(Bge);function Fge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," collections_bookmark "),s.qZA())}function Mge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," music_note "),s.qZA())}function kge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," receipt_long "),s.qZA())}function Rge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," school "),s.qZA())}function Oge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," auto_fix "),s.qZA())}function Lge(n,t){1&n&&(s.TgZ(0,"span",10),s._uU(1," swords "),s.qZA())}function Nge(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Fge,2,0,"span",20),s.YNc(2,Mge,2,0,"span",20),s.YNc(3,kge,2,0,"span",20),s.YNc(4,Rge,2,0,"span",20),s.YNc(5,Oge,2,0,"span",20),s.YNc(6,Lge,2,0,"span",20),s.TgZ(7,"span",7),s._uU(8),s.qZA(),s._uU(9),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome," "),s.xp6(1),s.Oqu(e.value)}}function Pge(n,t){1&n&&(s.TgZ(0,"div",21)(1,"b"),s._uU(2,"Scarica il pdf per avere tutte le info aggiuntive"),s.qZA()())}function Uge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Qge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",24),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,Uge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function Hge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Vge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",25),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",26),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,Hge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function Gge(n,t){if(1&n&&(s.TgZ(0,"div",22),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",6),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,Qge,5,1,"div",23),s.YNc(8,Vge,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function jge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function zge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",33),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function qge(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",31)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,jge,7,1,"div",23),s._UZ(7,"br"),s.TgZ(8,"b"),s._uU(9,"Procedura:"),s.qZA(),s._UZ(10,"br"),s.YNc(11,zge,3,1,"ul",12),s._UZ(12,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(5),s.Q6J("ngForOf",e.procedura)}}function Kge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",28),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div",29)(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,qge,13,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function Zge(n,t){if(1&n&&(s.TgZ(0,"div",27),s._UZ(1,"br"),s.YNc(2,Kge,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}function $ge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Yge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b",36),s._uU(2,"Spells:"),s.qZA(),s.TgZ(3,"ul"),s.YNc(4,$ge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",null==e.spellsChierico?null:e.spellsChierico.spell)}}function Wge(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function Jge(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Aura:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.TgZ(6,"b",36),s._uU(7,"Spells:"),s.qZA(),s.TgZ(8,"ul"),s.YNc(9,Wge,2,1,"li",12),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.hij(" ",e.spellsPaladino.aura,""),s.xp6(6),s.Q6J("ngForOf",null==e.spellsPaladino?null:e.spellsPaladino.spell)}}function Xge(n,t){if(1&n&&(s.TgZ(0,"div",34),s._UZ(1,"br"),s.TgZ(2,"div")(3,"div",35),s._uU(4,"Info aggiuntive chierico/paladino"),s.qZA(),s._UZ(5,"br")(6,"br"),s.YNc(7,Yge,5,1,"div",23),s.YNc(8,Jge,10,2,"div",23),s.qZA()()),2&n){const e=s.oxw();s.xp6(7),s.Q6J("ngIf","Chierico"===e.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngIf","Paladino"===e.schedaPg.classe.nome)}}function eme(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s.TgZ(3,"span",32),s._uU(4),s.qZA(),s._UZ(5,"br")(6,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.hij(" ",e.info,"")}}function tme(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function nme(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li")(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,eme,7,1,"div",23),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s._UZ(9,"br"),s.YNc(10,tme,3,1,"ul",12),s._UZ(11,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(4),s.Q6J("ngForOf",e.procedura)}}function ime(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",35),s._uU(2,"Info Skills"),s.qZA(),s._UZ(3,"br")(4,"br"),s.TgZ(5,"div")(6,"b"),s._uU(7,"Classe: "),s.qZA(),s.TgZ(8,"b",30),s._uU(9),s.qZA()(),s.YNc(10,nme,12,3,"ul",12),s.qZA()),2&n){const e=s.oxw(2);s.xp6(9),s.Oqu(e.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",e.infoSkills)}}function rme(n,t){if(1&n&&(s.TgZ(0,"div",37),s._UZ(1,"br"),s.YNc(2,ime,11,2,"div",23),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.infoSkills.length>0)}}let sme=(()=>{class n{constructor(e,i,r,o,a,u,h){this.dialogRef=e,this.cdr=i,this.renderer=r,this.service=o,this.data=a,this.userService=u,this._utils=h,this.schedaPg=new Rx,this.guid="",this.spellsPaladino=new bU,this.spellsChierico=new CU,this.infoSkills=new Array,this.schedaPg=a.pg,this.guid=a.guid,this.infoSkills=a.infoSkills}ngOnInit(){this.schedaPg.skills=this.schedaPg.skills.sort(e=>e.idTipologiaSkill),this.getInfoAggiuntive(),this.userService.openSnackBar("infoAggiuntive","bottom","center")}getInfoAggiuntive(){switch(this.schedaPg.classe.nome){case"Paladino":this.service.getSpellPaladinoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsPaladino=e[0]);break;case"Chierico":this.service.getSpellChiericoFromDivinita(this.schedaPg.religione.nome).subscribe(e=>this.spellsChierico=e[0])}}exportAsPDF(){let e=document.getElementById("MyPdf"),i=(this.spellsChierico.spell.length>0||this.spellsPaladino.spell.length>0)&&this.isRotinrim()?document.getElementById("MyPdf2"):null,r=this.infoSkills.length>0&&this.isRotinrim()?document.getElementById("MyPdf3"):null;null!=e&&GK()(e).then(o=>{const a=o.toDataURL("image/png");let u=new Tge("p","cm","a4");u.addImage(a,"PNG",5.5,1,11,15.5),null!=i&&null==r?this.canvas(i,u).subscribe(h=>{u=h,this.pdfSave(u)}):null!=r&&null==i?this.canvas(r,u).subscribe(h=>{u=h,this.pdfSave(u)}):r&&i?this.canvas(i,u).subscribe(h=>{u=h,this.canvas(r,u).subscribe(f=>{u=f,this.pdfSave(u)})}):this.pdfSave(u)})}canvas(e,i){let r=new sn.x;return GK()(e).then(o=>{i.addPage();const a=i.getImageProperties(o),u=i.internal.pageSize.getWidth(),h=a.height*u/a.width,f=o.toDataURL("image/png");i.addImage(f,"PNG",.1,.5,u-1.1,h),r.next(i)}),r.asObservable()}pdfSave(e){e.save("RT "+this.schedaPg.nome+" schedaPersonaggio.pdf")}isLoggedIn(){return this.userService.isLoggedIn}isSmartphone(){return this._utils.isSmartphone()}isRotinrim(){return this.userService.isRotinrim}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(Uy),s.Y36(Hy),s.Y36(IA),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-finish-wizard"]],decls:92,vars:22,consts:[["fxLayoutAlign","","fxLayout","column",1,"external"],["fxFlex","2","mat-dialog-title","",1,"title"],["fxFlex",""],["fxLayout","row wrap","fxLayoutAlign","space-around  stretch","fxFlex","100","id","MyPdf"],["fxLayout","column","fxFlex","40",1,"generic","yBar"],["fxFlex","25"],[1,"subtitle"],[1,"nome"],["fxFlex","15"],["fxFlex","30",1,"stats"],[1,"material-symbols-outlined"],["fxLayout","column","fxFlex","60",1,"generic"],[4,"ngFor","ngForOf"],["fxFlex","10","style","text-align:center",4,"ngIf"],["fxLayoutAlign","space-around center","fxFlex","10"],["mat-raised-button","","color","primary","matTooltip","Download pdf",3,"click"],["id","MyPdf2","style","font-size:20px; position: absolute; bottom:1000px; width: 50%;",4,"ngIf"],["id","MyPdf3","style","font-size:25px; position: absolute; bottom:900px;",4,"ngIf"],["id","MyPdf2","style"," position: absolute; bottom:1000px; width:200%; height:1000px",4,"ngIf"],["id","MyPdf3","style"," position: absolute; bottom:2000px; width:200%; height:2000px",4,"ngIf"],["class","material-symbols-outlined",4,"ngIf"],["fxFlex","10",2,"text-align","center"],["id","MyPdf2",2,"font-size","20px","position","absolute","bottom","1000px","width","50%"],[4,"ngIf"],[2,"text-align","center","font-size","17px"],[1,"classe"],[1,"classe",2,"text-align","center","font-size","17px"],["id","MyPdf3",2,"font-size","25px","position","absolute","bottom","900px"],[1,"subtitle",2,"font-size","30px"],[2,"font-size","27px"],[1,"blue"],[1,"li","skill"],[2,"line-height","1"],[1,"li"],["id","MyPdf2",2,"position","absolute","bottom","1000px","width","200%","height","1000px"],[1,"titleSmartphone"],[2,"text-align","center"],["id","MyPdf3",2,"position","absolute","bottom","2000px","width","200%","height","2000px"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Scheda Personaggio "),s._UZ(3,"mat-divider"),s.qZA(),s.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),s._uU(9,"Info generiche "),s._UZ(10,"br"),s.qZA(),s.TgZ(11,"div")(12,"span",7),s._uU(13,"Nome: "),s.qZA(),s._uU(14),s.qZA(),s.TgZ(15,"div")(16,"span",7),s._uU(17,"Razza: "),s.qZA(),s._uU(18),s.qZA(),s.TgZ(19,"div")(20,"span",7),s._uU(21,"Classe: "),s.qZA(),s._uU(22),s.qZA(),s.TgZ(23,"div")(24,"span",7),s._uU(25,"Divinit\xe0: "),s.qZA(),s._uU(26),s.qZA()(),s.TgZ(27,"div",8)(28,"div",6),s._uU(29,"Guid"),s.qZA(),s._uU(30),s.qZA(),s.TgZ(31,"div",9)(32,"div",6),s._uU(33,"Stats "),s._UZ(34,"br"),s.qZA(),s.TgZ(35,"div")(36,"span",10),s._uU(37," fitness_center "),s.qZA(),s.TgZ(38,"span",7),s._uU(39,"Forza: "),s.qZA(),s._uU(40),s.qZA(),s.TgZ(41,"div")(42,"span",10),s._uU(43," sprint "),s.qZA(),s.TgZ(44,"span",7),s._uU(45,"Destrezza: "),s.qZA(),s._uU(46),s.qZA(),s.TgZ(47,"div")(48,"span",10),s._uU(49," psychology "),s.qZA(),s.TgZ(50,"span",7),s._uU(51,"Intelligenza: "),s.qZA(),s._uU(52),s.qZA()(),s.TgZ(53,"div",9)(54,"div",6),s._uU(55,"Info "),s._UZ(56,"br"),s.qZA(),s.TgZ(57,"div")(58,"span",10),s._uU(59," favorite "),s.qZA(),s.TgZ(60,"span",7),s._uU(61,"HP: "),s.qZA(),s._uU(62,"?"),s.qZA(),s.TgZ(63,"div")(64,"span",10),s._uU(65," bolt "),s.qZA(),s.TgZ(66,"span",7),s._uU(67,"Stamina: "),s.qZA(),s._uU(68),s.ALo(69,"number"),s.qZA(),s.TgZ(70,"div")(71,"span",10),s._uU(72," backpack "),s.qZA(),s.TgZ(73,"span",7),s._uU(74,"Stone: "),s.qZA(),s._uU(75),s.ALo(76,"number"),s.qZA()()(),s.TgZ(77,"div",11)(78,"div",2)(79,"div",6),s._uU(80,"Skills"),s.qZA(),s.YNc(81,Nge,10,8,"div",12),s.qZA(),s.YNc(82,Pge,3,0,"div",13),s.qZA()()(),s._UZ(83,"mat-divider"),s.TgZ(84,"div",14)(85,"button",15),s.NdJ("click",function(){return i.exportAsPDF()}),s.TgZ(86,"span",10),s._uU(87," download "),s.qZA()()()(),s.YNc(88,Gge,9,2,"div",16),s.YNc(89,Zge,3,1,"div",17),s.YNc(90,Xge,9,2,"div",18),s.YNc(91,rme,3,1,"div",19)),2&e&&(s.xp6(14),s.Oqu(i.schedaPg.nome),s.xp6(4),s.Oqu(i.schedaPg.razza.nome),s.xp6(4),s.Oqu(i.schedaPg.classe.nome),s.xp6(4),s.Oqu(i.schedaPg.religione.nome),s.xp6(4),s.hij(" ",i.guid," "),s.xp6(10),s.Oqu(i.schedaPg.stats.forza),s.xp6(6),s.Oqu(i.schedaPg.stats.destrezza),s.xp6(6),s.Oqu(i.schedaPg.stats.intelligenza),s.xp6(16),s.Oqu(s.xi3(69,16,.75*i.schedaPg.stats.destrezza+.25*i.schedaPg.stats.forza,"1.0-0")),s.xp6(7),s.Oqu(s.xi3(76,19,40+3.5*i.schedaPg.stats.forza,"1.0-0")),s.xp6(6),s.Q6J("ngForOf",i.schedaPg.skills),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()&&i.isRotinrim()),s.xp6(6),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",!i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()),s.xp6(1),s.Q6J("ngIf",i.isSmartphone()))},dependencies:[ns,Ei,hD,Sd,su,_h,Ul,AC,Wj,Zf],styles:[".generic[_ngcontent-%COMP%]{overflow:auto}.yBar[_ngcontent-%COMP%]{border-right:2px solid #004a9f}.stats[_ngcontent-%COMP%]{height:100%}.external[_ngcontent-%COMP%]{height:calc(100vh - 100px);width:calc(100vh - 300px);border:3px solid #004a9f;border-radius:10px;margin:0;padding:0;overflow-y:auto}.subtitle[_ngcontent-%COMP%]{color:#004a9f;font-weight:700;font-family:Playfair Display,serif;text-align:center;width:100%;padding-bottom:3%}mat-divider[_ngcontent-%COMP%]{border-top-color:#004a9f;border-top-width:2px}.nome[_ngcontent-%COMP%]{font-size:medium;font-weight:700;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#000;padding:2%}.title[_ngcontent-%COMP%]{text-align:center;color:#000;font-family:Playfair Display,serif;font-weight:700}.classe[_ngcontent-%COMP%]{font-size:15px}.skill[_ngcontent-%COMP%]{font-size:30px}li[_ngcontent-%COMP%]{padding:10px;line-height:1}.titleSmartphone[_ngcontent-%COMP%]{font-size:15px;color:#004a9f;text-align:center;font-weight:700}element.style[_ngcontent-%COMP%]{overflow:unset}"]}),n})();function ome(n,t){if(1&n&&(s.TgZ(0,"li"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}let ame=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.service=r,this.spellChierico=new CU,this.religione="",null!=i&&""!==i&&(this.religione=i)}ngOnInit(){this.getSpells()}getSpells(){this.spellChierico.religione="",null!=this.religione&&""!=this.religione&&this.service.getSpellChiericoFromDivinita(this.religione).subscribe(e=>{e.length>0&&(this.spellChierico=e[0])})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy),s.Y36(Hy),s.Y36(Uy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modale-chierico"]],decls:14,vars:2,consts:[["fxFlex","100","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[1,"li"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b",2),s._uU(3,"Info Spell Chierico"),s.qZA()(),s.TgZ(4,"ul")(5,"li",3)(6,"b"),s._uU(7,"Religione:"),s.qZA(),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"b"),s._uU(11,"Spells:"),s.qZA(),s.TgZ(12,"ul"),s.YNc(13,ome,2,1,"li",4),s.qZA()()()),2&e&&(s.xp6(8),s.hij(" ",i.spellChierico.religione,""),s.xp6(5),s.Q6J("ngForOf",null==i.spellChierico?null:i.spellChierico.spell))},dependencies:[ns,su,Ul,ig],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function lme(n,t){if(1&n&&(s.TgZ(0,"div")(1,"b"),s._uU(2,"Info:"),s.qZA(),s._uU(3),s._UZ(4,"br")(5,"br"),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.hij(" ",e.info," ")}}function cme(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij(" ",e,"")}}function ume(n,t){if(1&n&&(s.TgZ(0,"ul")(1,"li",4)(2,"b"),s._uU(3,"Skill:"),s.qZA(),s._uU(4),s.qZA(),s._UZ(5,"br"),s.YNc(6,lme,6,1,"div",5),s.TgZ(7,"b"),s._uU(8,"Procedura:"),s.qZA(),s.YNc(9,cme,3,1,"ul",3),s._UZ(10,"br")(11,"mat-divider"),s.qZA()),2&n){const e=t.$implicit;s.xp6(4),s.hij(" ",e.nome,""),s.xp6(2),s.Q6J("ngIf",e.info.length>0),s.xp6(3),s.Q6J("ngForOf",e.procedura)}}let dme=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.infoSkills=new Array,this.infoSkills=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qy),s.Y36(Hy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-info-skills"]],decls:7,vars:2,consts:[["fxFlex","","fxLayout","column",1,"home"],[1,"title"],[1,"blue"],[4,"ngFor","ngForOf"],[1,"li"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1)(2,"b"),s._uU(3,"Classe: "),s.qZA(),s.TgZ(4,"b",2),s._uU(5),s.qZA()(),s.YNc(6,ume,12,3,"ul",3),s.qZA()),2&e&&(s.xp6(5),s.Oqu(i.infoSkills[0].classe),s.xp6(1),s.Q6J("ngForOf",i.infoSkills))},dependencies:[ns,Ei,hD,su,Ul,ig],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:3px;margin:3%}mat-card-title[_ngcontent-%COMP%]{color:#004a9f}.blue[_ngcontent-%COMP%]{color:#004a9f}.title[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),hme=0;const X3=new s.OlP("CdkAccordion");let Ame=(()=>{class n{constructor(){this._stateChanges=new sn.x,this._openCloseAllActions=new sn.x,this.id="cdk-accordion-"+hme++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=di(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[s._Bn([{provide:X3,useExisting:n}]),s.TTD]}),n})(),fme=0,pme=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Co.w0.EMPTY,this.closed=new s.vpe,this.opened=new s.vpe,this.destroyed=new s.vpe,this.expandedChange=new s.vpe,this.id="cdk-accordion-child-"+fme++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=di(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(X3,12),s.Y36(s.sBO),s.Y36(Z9))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[s._Bn([{provide:X3,useValue:void 0}])]}),n})(),gme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const mme=["body"];function _me(n,t){}const yme=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],vme=["mat-expansion-panel-header","*","mat-action-row"];function wme(n,t){if(1&n&&s._UZ(0,"span",2),2&n){const e=s.oxw();s.Q6J("@indicatorRotate",e._getExpandedState())}}const bme=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Cme=["mat-panel-title","mat-panel-description","*"],e6=new s.OlP("MAT_ACCORDION"),jK="225ms cubic-bezier(0.4,0.0,0.2,1)",zK={indicatorRotate:iu("indicatorRotate",[Xr("collapsed, void",Ii({transform:"rotate(0deg)"})),Xr("expanded",Ii({transform:"rotate(180deg)"})),Do("expanded <=> collapsed, void => collapsed",ra(jK))]),bodyExpansion:iu("bodyExpansion",[Xr("collapsed, void",Ii({height:"0px",visibility:"hidden"})),Xr("expanded",Ii({height:"*",visibility:"visible"})),Do("expanded <=> collapsed, void => collapsed",ra(jK))])},qK=new s.OlP("MAT_EXPANSION_PANEL");let xme=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(qK,8))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Eme=0;const KK=new s.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ZK=(()=>{class n extends pme{constructor(e,i,r,o,a,u,h){super(e,i,r),this._viewContainerRef=o,this._animationMode=u,this._hideToggle=!1,this.afterExpand=new s.vpe,this.afterCollapse=new s.vpe,this._inputChanges=new sn.x,this._headerId="mat-expansion-panel-header-"+Eme++,this._bodyAnimationDone=new sn.x,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(zb((f,_)=>f.fromState===_.fromState&&f.toState===_.toState)).subscribe(f=>{"void"!==f.fromState&&("expanded"===f.toState?this.afterExpand.emit():"collapsed"===f.toState&&this.afterCollapse.emit())}),h&&(this.hideToggle=h.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=di(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ks(null),yi(()=>this.expanded&&!this._portal),(0,Jr.q)(1)).subscribe(()=>{this._portal=new Ix(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(e6,12),s.Y36(s.sBO),s.Y36(Z9),s.Y36(s.s_b),s.Y36(Oe),s.Y36(s.QbO,8),s.Y36(KK,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xme,5),2&e){let o;s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(mme,5),2&e){let r;s.iGM(r=s.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[s._Bn([{provide:e6,useValue:void 0},{provide:qK,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:vme,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(yme),s.Hsn(0),s.TgZ(1,"div",0,1),s.NdJ("@bodyExpansion.done",function(o){return i._bodyAnimationDone.next(o)}),s.TgZ(3,"div",2),s.Hsn(4,1),s.YNc(5,_me,0,0,"ng-template",3),s.qZA(),s.Hsn(6,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),s.uIk("aria-labelledby",i._headerId),s.xp6(4),s.Q6J("cdkPortalOutlet",i._portal))},dependencies:[Yb],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[zK.bodyExpansion]},changeDetection:0}),n})();class Sme{}const Ime=zM(Sme);let $K=(()=>{class n extends Ime{constructor(e,i,r,o,a,u,h){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=u,this._parentChangeSubscription=Co.w0.EMPTY;const f=e.accordion?e.accordion._stateChanges.pipe(yi(_=>!(!_.hideToggle&&!_.togglePosition))):yc.E;this.tabIndex=parseInt(h||"")||0,this._parentChangeSubscription=(0,tu.T)(e.opened,e.closed,f,e._inputChanges.pipe(yi(_=>!!(_.hideToggle||_.disabled||_.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(yi(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Wp(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ZK,1),s.Y36(s.SBq),s.Y36(Bf),s.Y36(s.sBO),s.Y36(KK,8),s.Y36(s.QbO,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._toggle()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),s.Udp("height",i._getHeaderHeight()),s.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[s.qOj],ngContentSelectors:Cme,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(s.F$t(bme),s.TgZ(0,"span",0),s.Hsn(1),s.Hsn(2,1),s.Hsn(3,2),s.qZA(),s.YNc(4,wme,1,1,"span",1)),2&e&&(s.ekj("mat-content-hide-toggle",!i._showToggle()),s.xp6(4),s.Q6J("ngIf",i._showToggle()))},dependencies:[Ei],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[zK.indicatorRotate]},changeDetection:0}),n})(),Dme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Tme=(()=>{class n extends Ame{constructor(){super(...arguments),this._ownHeaders=new s.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=di(e)}ngAfterContentInit(){this._headers.changes.pipe(Ks(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new V8(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,$K,5),2&e){let o;s.iGM(o=s.CRH())&&(i._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[s._Bn([{provide:e6,useExisting:n}]),s.qOj]}),n})(),Bme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yo,hr,gme,Wb]}),n})();function Fme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function Mme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function kme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function Rme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function Ome(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function Lme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function Nme(n,t){if(1&n&&(s.TgZ(0,"div",13),s.YNc(1,Fme,2,0,"span",14),s.YNc(2,Mme,2,0,"span",14),s.YNc(3,kme,2,0,"span",14),s.YNc(4,Rme,2,0,"span",14),s.YNc(5,Ome,2,0,"span",14),s.YNc(6,Lme,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}const Pme=function(n,t,e){return{"":n,selected:t,notSelected:e}};function Ume(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion",9)(1,"mat-expansion-panel",10),s.NdJ("opened",function(){const r=s.CHM(e),o=r.$implicit,a=r.index,u=s.oxw(2);return s.KtG(u.select(o,a))}),s.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5,"Nome:\xa0"),s.qZA(),s._uU(6),s.TgZ(7,"b"),s._uU(8,"Classe:\xa0"),s.qZA(),s._uU(9),s.TgZ(10,"span",11),s._uU(11," fitness_center "),s.qZA(),s._uU(12,"\xa0"),s.TgZ(13,"b"),s._uU(14),s.TgZ(15,"b"),s._uU(16,"\xa0 "),s.TgZ(17,"span",11),s._uU(18," sprint "),s.qZA(),s._uU(19," \xa0"),s.qZA(),s._uU(20),s.qZA(),s._uU(21,"\xa0 "),s.TgZ(22,"span",11),s._uU(23," psychology "),s.qZA(),s._uU(24,"\xa0"),s.TgZ(25,"b"),s._uU(26),s.qZA(),s._uU(27," \xa0\xa0\xa0\xa0 Utilizzata \xa0"),s.TgZ(28,"b"),s._uU(29),s.qZA(),s._uU(30,"\xa0 volta/e "),s.qZA()(),s.YNc(31,Nme,11,8,"div",12),s._UZ(32,"br"),s.qZA(),s._UZ(33,"mat-divider")(34,"div"),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.xp6(1),s.Q6J("ngClass",s.kEZ(9,Pme,-1==r.selezionato,r.selezionato===i,r.selezionato!==i&&-1!==r.selezionato))("expanded",r.selezionato==i),s.xp6(5),s.hij("",e.nome," \xa0\xa0\xa0\xa0 "),s.xp6(3),s.hij("",e.classe.nome," \xa0\xa0\xa0\xa0 "),s.xp6(5),s.hij("",e.stats.forza,"\xa0"),s.xp6(6),s.hij("",e.stats.destrezza,"\xa0"),s.xp6(6),s.Oqu(e.stats.intelligenza),s.xp6(3),s.Oqu(e.utilizzatoNVolte),s.xp6(2),s.Q6J("ngForOf",e.skills)}}const Qme=function(){return[5]};function Hme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"div",3)(2,"u")(3,"b"),s._uU(4,"Seleziona un template cliccando su una scheda personaggio"),s.qZA()()(),s.TgZ(5,"div",4),s.YNc(6,Ume,35,13,"mat-accordion",5),s.TgZ(7,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()(),s.TgZ(8,"div",7)(9,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectTemplate())}),s._uU(10,"Seleziona il Template "),s.TgZ(11,"mat-icon"),s._uU(12,"done"),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(5,Qme)),s.xp6(2),s.Q6J("disabled",-1==e.selezionato)}}function Vme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," collections_bookmark "),s.qZA())}function Gme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," music_note "),s.qZA())}function jme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," receipt_long "),s.qZA())}function zme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," school "),s.qZA())}function qme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," auto_fix "),s.qZA())}function Kme(n,t){1&n&&(s.TgZ(0,"span",11),s._uU(1," swords "),s.qZA())}function Zme(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,Vme,2,0,"span",14),s.YNc(2,Gme,2,0,"span",14),s.YNc(3,jme,2,0,"span",14),s.YNc(4,zme,2,0,"span",14),s.YNc(5,qme,2,0,"span",14),s.YNc(6,Kme,2,0,"span",14),s.TgZ(7,"span"),s._uU(8),s.TgZ(9,"b"),s._uU(10),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf",4==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",5==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",0==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",3==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",2==e.idTipologiaSkill),s.xp6(1),s.Q6J("ngIf",1==e.idTipologiaSkill),s.xp6(2),s.hij("",e.nome,": "),s.xp6(2),s.Oqu(e.value)}}function $me(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"b"),s._uU(5),s.qZA(),s._UZ(6,"br"),s.qZA()(),s.TgZ(7,"b"),s._uU(8,"F:"),s.qZA(),s._uU(9),s.TgZ(10,"b"),s._uU(11,"D:"),s.qZA(),s._uU(12),s.TgZ(13,"b"),s._uU(14,"I:"),s.qZA(),s._uU(15),s._UZ(16,"br")(17,"br"),s._uU(18," Utilizzata "),s.TgZ(19,"b"),s._uU(20),s.qZA(),s._uU(21," volta/e "),s._UZ(22,"br")(23,"br"),s.YNc(24,Zme,11,8,"div",16),s._UZ(25,"br"),s.TgZ(26,"div",17)(27,"button",18),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.selectTemplate(o))}),s._uU(28,"Seleziona il Template "),s.TgZ(29,"mat-icon"),s._uU(30,"done"),s.qZA()()()(),s._UZ(31,"mat-divider")(32,"div"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(5),s.Oqu(e.nome),s.xp6(4),s.hij("",e.stats.forza," - "),s.xp6(3),s.hij(" ",e.stats.destrezza," - "),s.xp6(3),s.hij(" ",e.stats.intelligenza,""),s.xp6(5),s.Oqu(e.utilizzatoNVolte),s.xp6(4),s.Q6J("ngForOf",e.skills)}}const Yme=function(){return[5,10]};function Wme(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15)(1,"div"),s.YNc(2,$me,33,6,"mat-accordion",16),s.TgZ(3,"mat-paginator",6),s.NdJ("page",function(r){s.CHM(e);const o=s.oxw();return o.pageEvent=r,s.KtG(o.onPaginateChange(r))}),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.pgPaginati),s.xp6(1),s.Q6J("length",e.schedePg.length)("pageSize",e.pageSize)("pageSizeOptions",s.DdM(4,Yme))}}let Jme=(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialogRef=i,this.data=r,this.utils=o,this.pgToSave=new Rx,this.schedePg=new Array,this.pgPaginati=new Array,this.pageEvent=new Kde,this.pageSize=5,this.isSmartphone=!1,this.isOpened=!0,this.selezionato=-1,this.classe=new R2,r&&(this.selezionato=r.Selezionato,this.classe=r.Classe)}ngOnInit(){this.isSmartphone=this.utils.isSmartphone(),null!=this.classe.nome&&this.service.getSchedePgByClasse(this.classe.nome).subscribe(e=>{var i;void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)&&this.elabSkills(e)})}elabSkills(e){this.schedePg=new Array,e.forEach(i=>{null!=i.guid&&this.service.getSkillsPg(i.guid).subscribe(r=>{i.utilizzatoNVolte>0&&this.schedePg.push(wU.Convert(i,r))})}),this.getPaginate()}getPaginate(){setTimeout(()=>{this.schedePg=[...new Map(this.schedePg.map(e=>[e.guid,e])).values()],this.pgPaginati=this.schedePg.slice(0,this.pageSize),this.pgPaginati=this.pgPaginati.sort(e=>e.utilizzatoNVolte).reverse(),this.pgPaginati.forEach(e=>{e.skills=e.skills.sort(function(i,r){return i.idTipologiaSkill>r.idTipologiaSkill?1:-1})})},500)}onPaginateChange(e){this.pgPaginati=this.schedePg.slice(e.pageIndex*e.pageSize,e.pageIndex*e.pageSize+e.pageSize)}selectTemplate(e=new Rx){this.dialogRef.close(e.nome?{Pg:e,Selezionato:this.selezionato}:{Pg:this.pgToSave,Selezionato:this.selezionato})}select(e,i){this.selezionato=i,this.pgToSave=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uy),s.Y36(Qy),s.Y36(Hy),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-template-stat-skills"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","row","class","containerSmart",4,"ngIf"],[1,"row"],[2,"padding-bottom","3vh","text-align","center"],[1,"container"],["multi","false",4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["fxLayout","column","fxLayoutAlign","space-around start",2,"padding-top","3vh"],["mat-raised-button","","color","primary","fxLayout","row","fxFlex","",3,"disabled","click"],["multi","false"],[3,"ngClass","expanded","opened"],[1,"material-symbols-outlined"],["fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row"],["class","material-symbols-outlined",4,"ngIf"],[1,"containerSmart"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",2,"padding-top","3vh"],["mat-raised-button","","fxLayout","row","fxFlex","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.YNc(0,Hme,13,6,"div",0),s.YNc(1,Wme,4,5,"div",1)),2&e&&(s.Q6J("ngIf",!i.isSmartphone),s.xp6(1),s.Q6J("ngIf",i.isSmartphone))},dependencies:[vs,ns,Ei,Of,hD,Sd,su,_h,Ul,wR,Tme,ZK,$K,Dme,h3],styles:[".selected[_ngcontent-%COMP%]{border:3px outset #004a9f}.notSelected[_ngcontent-%COMP%]{border:2px outset red}.container[_ngcontent-%COMP%]{max-height:80vh}.containerSmart[_ngcontent-%COMP%]{max-height:60vh}"]}),n})();function Xme(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi il nome del PG "),s.qZA())}function e_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Nome troppo breve "),s.qZA())}function t_e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",39),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.changeRazza="changed",r.getReligioni(),s.KtG(r.getClassi())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function n_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una razza "),s.qZA())}function i_e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-option",40),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.getReligioni(),r.autoSetStat(),r.getInfoSkill(),s.KtG(r.enableButtonTemplate())}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("disabled",i.classi.length<1)("value",e.nome),s.xp6(1),s.Oqu(e.nome)}}function r_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una classe "),s.qZA())}function s_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona prima una razza "),s.qZA())}function o_e(n,t){if(1&n&&(s.TgZ(0,"mat-option",41),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("value",e.nome)("disabled",void 0===i.schedaPg.classe.nome||0==i.religioni.length),s.xp6(1),s.Oqu(e.nome)}}function a_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Seleziona una religione "),s.qZA())}function l_e(n,t){1&n&&(s.TgZ(0,"mat-hint"),s._uU(1," Seleziona prima una razza e una classe "),s.qZA())}function c_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la forza del pg "),s.qZA())}function u_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi la destrezza del pg "),s.qZA())}function d_e(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Aggiungi l'intelligenza del pg "),s.qZA())}function h_e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",38),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Scegli skills "),s.TgZ(2,"mat-icon"),s._uU(3,"assignment"),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("disabled",void 0===e.schedaPg.classe.nome)}}function A_e(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",42),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.selectSkills())}),s._uU(1,"Skills selezionate "),s.TgZ(2,"mat-icon"),s._uU(3,"done"),s.qZA()()}}const f_e=function(n){return{color:n}},m_e=[{path:"test",component:Nz},{path:"help",component:Dde},{path:"credits",component:oce},{path:"develop",component:bde},{path:"schedaPersonaggio",component:(()=>{class n{constructor(e,i,r,o){this.service=e,this.dialog=i,this.userService=r,this.utils=o,this.nomeForm=new Os,this.classeForm=new Os,this.razzaForm=new Os,this.religioneForm=new Os,this.forzaForm=new Os,this.destrezzaForm=new Os,this.intelligenzaForm=new Os,this.statsChecked=!1,this.colorBar="primary",this.schedaPg=new Rx,this.classi=new Array,this.razze=new Array,this.religioni=new Array,this.skills=new Array,this.skillConsigliate=new Array,this.changeRazza="",this.isDruido=!1,this.infoSkills=new Array,this.totaleStat=0,this.fromTemplate=!1,this.buttonTemplate=!1,this.selezionato=-1}ngOnInit(){this.resetFormControl(),this.service.getAllRazze().subscribe(e=>this.razze=e)}getReligioni(){if("Druido"==this.schedaPg.classe.nome)return this.service.getAllReligioni("Druidi").subscribe(e=>this.religioni=e),void(this.isDruido=!0);if("Druido"!==this.schedaPg.classe.nome&&("changed"==this.changeRazza||""==this.changeRazza)||this.isDruido){switch(this.schedaPg.razza.nome){case"Quenya":case"Telero":case"Sindar":this.service.getAllReligioni("Elfico").subscribe(e=>this.religioni=e);break;case"Umano comune":this.service.getAllReligioni("Umano").subscribe(e=>this.religioni=e);break;case"Nordico":this.service.getAllReligioni("Nordico").subscribe(e=>this.religioni=e);break;case"Nano":this.service.getAllReligioni("Nanico").subscribe(e=>this.religioni=e);break;case"Tremecciano":this.service.getAllReligioni("Tremecciano").subscribe(e=>this.religioni=e);break;case"Qwaylar":this.service.getAllReligioni("Qwaylar").subscribe(e=>this.religioni=e);break;case"Mezz'elfo":this.service.getAllReligioni().subscribe(e=>this.religioni=e)}this.isDruido=!1,this.changeRazza="notChanged"}}selectSkills(){this.dialog.open(kpe,{width:this.utils.isSmartphone()?"80%":"40%",data:this.schedaPg}).afterClosed().subscribe(i=>{void 0!==i?.data&&(this.schedaPg.skills=i?.data)})}filterClassi(e){return e.filter(r=>null==r?.notRazze||!r.notRazze.includes(this.schedaPg.razza.nome))}getClassi(){this.service.getAllClass().subscribe(e=>this.classi=this.filterClassi(e))}getInfoSkill(){this.service.getInfoSkill(this.schedaPg.classe.nome).subscribe(e=>{this.infoSkills=e.length>0?e:new Array})}openInfoSkills(){this.dialog.open(dme,{data:this.infoSkills,height:this.utils.isSmartphone()?"60%":""})}checkForza(){this.schedaPg.stats.forza>120&&(this.schedaPg.stats.forza=120),this.schedaPg.stats.forza<0&&(this.schedaPg.stats.forza=1),this.totStat()}checkDestrezza(){this.schedaPg.stats.destrezza>120&&(this.schedaPg.stats.destrezza=120),this.schedaPg.stats.destrezza<0&&(this.schedaPg.stats.destrezza=1),this.totStat()}checkIntelligenza(){this.schedaPg.stats.intelligenza>120&&(this.schedaPg.stats.intelligenza=120),this.schedaPg.stats.intelligenza<0&&(this.schedaPg.stats.intelligenza=1),this.totStat()}autoSetStat(){if(this.statsChecked)switch(this.schedaPg.classe.nome){case"Guerriero":case"Berserker":this.schedaPg.stats.forza=120,this.schedaPg.stats.destrezza=79,this.schedaPg.stats.intelligenza=1;break;case"Mago":case"Chierico":this.schedaPg.stats.forza=70,this.schedaPg.stats.destrezza=10,this.schedaPg.stats.intelligenza=120;break;case"Paladino":this.schedaPg.stats.forza=100,this.schedaPg.stats.destrezza=70,this.schedaPg.stats.intelligenza=30;break;case"Ranger":case"Geniere":this.schedaPg.stats.forza=79,this.schedaPg.stats.destrezza=120,this.schedaPg.stats.intelligenza=1;break;case"Bardo":this.schedaPg.stats.forza=99,this.schedaPg.stats.destrezza=100,this.schedaPg.stats.intelligenza=1;break;default:this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0}else this.schedaPg.stats.forza=0,this.schedaPg.stats.intelligenza=0,this.schedaPg.stats.destrezza=0;this.totStat()}totStat(){this.totaleStat=this.schedaPg.stats.forza+this.schedaPg.stats.destrezza+this.schedaPg.stats.intelligenza,this.colorBar=this.totaleStat>200&&this.totaleStat<215?"accent":this.totaleStat>215?"warn":"primary"}openPaladino(){this.dialog.open(Ope,{data:this.schedaPg.religione.nome})}openChierico(){this.dialog.open(ame,{data:this.schedaPg.religione.nome})}checkSalva(){const e=this.schedaPg.stats;return 0!==e.forza&&0!==e.destrezza&&0!==e.intelligenza&&this.nomeForm.valid&&""!==this.schedaPg.religione.nome&&this.classeForm.valid&&this.razzaForm.valid&&this.schedaPg.skills.length>0}savePg(){let e=crypto.randomUUID();if(this.fromTemplate)this.checkSalva(),this.service.updateSchedaPg(this.schedaPg.guid,this.schedaPg.utilizzatoNVolte+1);else{var i=confirm("Vuoi salvare la scheda pg come template stat-skills di nuove schede?");this.service.AddPg(this.schedaPg,e,i),this.schedaPg.skills.forEach(r=>{this.service.addSkillsPg(r,e)})}this.openFinishWizard(e),this.reset()}reset(){this.totaleStat=0,this.schedaPg=new Rx,this.resetFormControl()}openFinishWizard(e){this.dialog.open(sme,{data:{pg:this.schedaPg,guid:e,infoSkills:this.infoSkills}}).afterOpened().subscribe(r=>this.infoSkills=new Array)}resetFormControl(){this.nomeForm=new Os("",[wr.required,wr.minLength(3)]),this.classeForm=new Os(null,[wr.required]),this.razzaForm=new Os(null,[wr.required]),this.religioneForm=new Os(null,[wr.required]),this.forzaForm=new Os(0,[wr.required,wr.minLength(1),wr.maxLength(3)]),this.destrezzaForm=new Os(0,[wr.required,wr.minLength(1),wr.maxLength(3)]),this.intelligenzaForm=new Os(0,[wr.required,wr.minLength(1),wr.maxLength(3)])}recuperaScheda(){let e=prompt("Inserisci il guid per recuperare una scheda gi\xe0 compilata");36==e?.length?(this.getClassi(),this.service.getPg(e).subscribe(i=>{var r;void 0!==(null===(r=i[0])||void 0===r?void 0:r.nome)&&(e?this.service.getSkillsPg(e).subscribe(o=>{this.schedaPg=wU.Convert(i[0],o)}):alert("Nessuna scheda pg presente col guid inserito."))})):e&&alert("Formato guid non valido"),setTimeout(()=>{this.getReligioni()},500)}compareWith(e){return e===this.schedaPg.religione.nome}isChierico(){return"Chierico"===this.schedaPg.classe.nome}isLogged(){return this.userService.isLoggedIn}isRotinrim(){return this.userService.isRotinrim}spazioSmartphone(){return{margin:this.utils.isSmartphone()?"4%":"1%"}}openTemplate(){this.dialog.open(Jme,{width:this.utils.isSmartphone()?"100%":"50%",data:{Classe:this.schedaPg.classe,Selezionato:this.selezionato}}).afterClosed().subscribe(i=>{null!=i.Pg&&(this.selezionato=i.Selezionato,this.setTemplate(i.Pg))})}setTemplate(e){this.schedaPg.skills=e.skills,this.schedaPg.stats=e.stats,this.schedaPg.guid=e.guid,this.schedaPg.utilizzatoNVolte=e.utilizzatoNVolte,this.fromTemplate=!0,this.totStat()}enableButtonTemplate(){this.service.getSchedePgByClasse(this.schedaPg.classe.nome).subscribe(e=>{var i;if(void 0!==(null===(i=e[0])||void 0===i?void 0:i.nome)){var r=e.filter(o=>o.utilizzatoNVolte>0&&null!=o.utilizzatoNVolte);this.buttonTemplate=r.length>0}else this.buttonTemplate=!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Uy),s.Y36(Vy),s.Y36(IA),s.Y36(Df))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-scheda-personaggio"]],decls:94,vars:48,consts:[["fxLayout","column","fxFlex",""],["fxLayout","row","fxLayoutAlign","center center",1,"title"],["mat-icon-button","","matTooltip","Recupera una scheda gi\xe0 compilata",3,"click"],[1,"material-symbols-outlined",2,"color","green"],["fxLayout","row","fxLayoutAlign","space-around center",2,"text-align","center","margin-bottom","10px"],["fxLayout","row",2,"border-top-color","#004a9f"],[2,"padding","8px"],["fxLayout","column","fxFlex","100",1,"firstForm"],["fxLayout","row","fxLayoutAlign","end center"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[2,"color","green"],["mat-icon-button","","color","primary","matTooltip","Info macraggio skills",3,"click"],[2,"color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center","fxFlex",""],["fxFlex.xs","100","fxFlex.sm","60","fxFlex.md","70","fxFlex.lg","100","fxFlex.xl","100"],["type","text","matInput","","placeholder","Nome pg","fxFlex","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["color","primary","fxFlex","",3,"ngModel","formControl","ngModelChange"],["color","primary",3,"value","click",4,"ngFor","ngForOf"],["color","primary",3,"disabled","value","click",4,"ngFor","ngForOf"],["color","primary",3,"value","disabled",4,"ngFor","ngForOf"],[3,"ngStyle"],["fxLayout","column","fxFlex","100",1,"firstForm",2,"margin-top","2%"],["mat-icon-button","","matTooltip","Seleziona un template stat/skills predefinito",1,"bottoneTemplate",3,"disabled","click"],[2,"color","#004a9f",3,"ngStyle"],["fxFlex","","fxlayout","column",1,"example-section",2,"padding-bottom","2%"],["color","primary",1,"example-margin",3,"ngModel","ngModelChange","change"],["type","number","matInput","","placeholder","Forza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Destrezza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],["type","number","matInput","","placeholder","Intelligenza","fxFlex","",3,"ngModel","formControl","ngModelChange","keyup"],[3,"color","value","ngStyle"],["div","","fxLayout","row wrap","fxLayoutAlign","center center"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","green",3,"click",4,"ngIf"],["fxLayout","row",2,"margin","5px","border-top-color","#004a9f"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxFlex",""],[2,"margin-top","1%"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","primary",3,"value","click"],["color","primary",3,"disabled","value","click"],["color","primary",3,"value","disabled"],["mat-raised-button","",1,"green",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2," Scheda Personaggio "),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.recuperaScheda()}),s.TgZ(4,"span",3),s._uU(5," downloading "),s.qZA()()(),s.TgZ(6,"div",4)(7,"b"),s._uU(8,"Compila il form e scarica il pdf con tutte le caratteristiche del tuo pg!"),s.qZA()(),s._UZ(9,"mat-divider",5)(10,"div",6),s.TgZ(11,"mat-card",7)(12,"mat-card-header")(13,"mat-card-title"),s._uU(14," Info generiche "),s.qZA()(),s.TgZ(15,"div",8)(16,"button",9),s.NdJ("click",function(){return i.isChierico()?i.openChierico():i.openPaladino()}),s.TgZ(17,"mat-icon",10),s._uU(18,"info"),s.qZA()(),s.TgZ(19,"button",11),s.NdJ("click",function(){return i.openInfoSkills()}),s.TgZ(20,"mat-icon",12),s._uU(21,"info"),s.qZA()()(),s.TgZ(22,"div",13)(23,"div")(24,"mat-form-field",14)(25,"input",15),s.NdJ("ngModelChange",function(o){return i.schedaPg.nome=o}),s.qZA(),s.YNc(26,Xme,2,0,"mat-error",16),s.YNc(27,e_e,2,0,"mat-error",16),s.qZA()(),s.TgZ(28,"div")(29,"mat-form-field",14)(30,"mat-label"),s._uU(31,"Razza"),s.qZA(),s.TgZ(32,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.razza.nome=o}),s.YNc(33,t_e,2,2,"mat-option",18),s.qZA(),s.YNc(34,n_e,2,0,"mat-error",16),s.qZA()()(),s.TgZ(35,"div",13)(36,"div")(37,"mat-form-field",14)(38,"mat-label"),s._uU(39,"Classe"),s.qZA(),s.TgZ(40,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.classe.nome=o}),s.YNc(41,i_e,2,3,"mat-option",19),s.qZA(),s.YNc(42,r_e,2,0,"mat-error",16),s.YNc(43,s_e,2,0,"mat-error",16),s.qZA()(),s.TgZ(44,"div")(45,"mat-form-field",14)(46,"mat-label"),s._uU(47,"Religione"),s.qZA(),s.TgZ(48,"mat-select",17),s.NdJ("ngModelChange",function(o){return i.schedaPg.religione.nome=o}),s.YNc(49,o_e,2,3,"mat-option",20),s.qZA(),s.YNc(50,a_e,2,0,"mat-error",16),s.YNc(51,l_e,2,0,"mat-hint",16),s.qZA()()(),s._UZ(52,"div",21),s.qZA(),s.TgZ(53,"mat-card",22)(54,"mat-card-title"),s._uU(55," Stats"),s.TgZ(56,"button",23),s.NdJ("click",function(){return i.openTemplate()}),s.TgZ(57,"mat-icon",24),s._uU(58,"search"),s.qZA()()(),s.TgZ(59,"div")(60,"section",25)(61,"mat-checkbox",26),s.NdJ("ngModelChange",function(o){return i.statsChecked=o})("change",function(){return i.autoSetStat()}),s._uU(62,"Applica stats consigliate"),s.qZA()()(),s.TgZ(63,"div",13)(64,"div")(65,"mat-form-field",14)(66,"input",27),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.forza=o})("keyup",function(){return i.checkForza()}),s.qZA(),s.YNc(67,c_e,2,0,"mat-error",16),s.qZA()(),s.TgZ(68,"div")(69,"mat-form-field",14)(70,"input",28),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.destrezza=o})("keyup",function(){return i.checkDestrezza()}),s.qZA(),s.YNc(71,u_e,2,0,"mat-error",16),s.qZA()(),s.TgZ(72,"div")(73,"mat-form-field",14)(74,"input",29),s.NdJ("ngModelChange",function(o){return i.schedaPg.stats.intelligenza=o})("keyup",function(){return i.checkIntelligenza()}),s.qZA(),s.YNc(75,d_e,2,0,"mat-error",16),s.qZA()(),s._UZ(76,"mat-progress-bar",30),s.qZA()(),s.TgZ(77,"div",31)(78,"div",21),s.YNc(79,h_e,4,1,"button",32),s.YNc(80,A_e,4,0,"button",33),s.qZA()(),s._UZ(81,"mat-divider",34),s.TgZ(82,"div",35)(83,"div",36)(84,"button",37),s.NdJ("click",function(){return i.reset()}),s._uU(85,"Reset "),s.TgZ(86,"mat-icon"),s._uU(87,"undo"),s.qZA()()(),s.TgZ(88,"div",36)(89,"button",38),s.NdJ("click",function(){return i.savePg()}),s._uU(90,"Salva "),s.TgZ(91,"mat-icon"),s._uU(92,"done"),s.qZA()()()(),s._UZ(93,"div",21),s.qZA()),2&e&&(s.xp6(16),s.Udp("visibility","Paladino"!==i.schedaPg.classe.nome&&"Chierico"!==i.schedaPg.classe.nome||""===i.schedaPg.religione.nome||!i.isRotinrim()?"hidden":"visible"),s.Q6J("matTooltip",i.isChierico()?"Info spell chierico":"Info spell paladino"),s.xp6(3),s.Udp("visibility",i.infoSkills.length>0&&i.isRotinrim()?"visible":"hidden"),s.xp6(6),s.Q6J("ngModel",i.schedaPg.nome)("formControl",i.nomeForm),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("required")),s.xp6(1),s.Q6J("ngIf",i.nomeForm.hasError("minlength")),s.xp6(5),s.Q6J("ngModel",i.schedaPg.razza.nome)("formControl",i.razzaForm),s.xp6(1),s.Q6J("ngForOf",i.razze),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.razza),s.xp6(6),s.Q6J("ngModel",i.schedaPg.classe.nome)("formControl",i.classeForm),s.xp6(1),s.Q6J("ngForOf",i.classi),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.classe),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&""==i.schedaPg.razza.nome),s.xp6(5),s.Q6J("ngModel",i.schedaPg.religione.nome)("formControl",i.religioneForm),s.xp6(1),s.Q6J("ngForOf",i.religioni),s.xp6(1),s.Q6J("ngIf",i.classeForm.hasError("required")&&null==i.schedaPg.religione.nome),s.xp6(1),s.Q6J("ngIf",void 0===i.schedaPg.classe.nome||void 0===i.schedaPg.classe.nome),s.xp6(1),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(4),s.Q6J("disabled",null==i.schedaPg.classe.nome||0==i.buttonTemplate),s.xp6(1),s.Q6J("ngStyle",s.VKq(46,f_e,null==i.schedaPg.classe.nome||0==i.buttonTemplate?"grey":"#004a9f")),s.xp6(3),s.Udp("visibility",void 0===i.schedaPg.classe.nome?"hidden":"visible"),s.xp6(1),s.Q6J("ngModel",i.statsChecked),s.xp6(5),s.Q6J("ngModel",i.schedaPg.stats.forza)("formControl",i.forzaForm),s.xp6(1),s.Q6J("ngIf",i.forzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.destrezza)("formControl",i.destrezzaForm),s.xp6(1),s.Q6J("ngIf",i.destrezzaForm.hasError("required")),s.xp6(3),s.Q6J("ngModel",i.schedaPg.stats.intelligenza)("formControl",i.intelligenzaForm),s.xp6(1),s.Q6J("ngIf",i.intelligenzaForm.hasError("required")),s.xp6(1),s.Q6J("color",i.colorBar)("value",i.totaleStat/2)("ngStyle",i.spazioSmartphone()),s.xp6(2),s.Q6J("ngStyle",i.spazioSmartphone()),s.xp6(1),s.Q6J("ngIf",0==i.schedaPg.skills.length),s.xp6(1),s.Q6J("ngIf",i.schedaPg.skills.length>0),s.xp6(9),s.Q6J("disabled",!i.checkSalva()),s.xp6(4),s.Q6J("ngStyle",i.spazioSmartphone()))},dependencies:[ns,Ei,Zo,rg,xD,i_,ED,Of,hD,Sd,su,_h,Ul,bR,AC,j0,iR,q0,Cue,z0,mC,T0,K0,DD,ig,_D,mD,Nq],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 130px);border-radius:10px;margin:16px 16px 16px 32px;padding:4px;overflow:auto}.home[_ngcontent-%COMP%]{border:2px solid black}.title[_ngcontent-%COMP%]{padding:5px;font-size:x-large;font-weight:700;font-family:Playfair Display,serif;color:#004a9f}.form[_ngcontent-%COMP%]{padding:10px;margin:10px}.firstForm[_ngcontent-%COMP%]{border:2px solid #004a9f;border-radius:10px;padding-left:3%;padding-right:3%;padding-bottom:3%;margin-right:15%;margin-left:15%}.green[_ngcontent-%COMP%]{background-color:#388e3c;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.bottoneTemplate[_ngcontent-%COMP%]{position:relative;bottom:2px}']}),n})()},{path:"bacheca",component:Nde},{path:"macro",component:fpe},{path:"",component:Tde}];let __e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[DT.forRoot(m_e),DT]}),n})();function WK(n){return new s.vHH(3e3,!1)}function X_e(){return typeof window<"u"&&typeof window.document<"u"}function t6(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tw(n){switch(n.length){case 0:return new M2;case 1:return n[0];default:return new m7(n)}}function JK(n,t,e,i,r=new Map,o=new Map){const a=[],u=[];let h=-1,f=null;if(i.forEach(_=>{const b=_.get("offset"),F=b==h,B=F&&f||new Map;_.forEach((U,H)=>{let Z=H,z=U;if("offset"!==H)switch(Z=t.normalizePropertyName(Z,a),z){case"!":z=r.get(H);break;case Ly:z=o.get(H);break;default:z=t.normalizeStyleValue(H,Z,z,a)}B.set(Z,z)}),F||u.push(B),f=B,h=b}),a.length)throw function H_e(n){return new s.vHH(3502,!1)}();return u}function n6(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&i6(e,"start",n)));break;case"done":n.onDone(()=>i(e&&i6(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&i6(e,"destroy",n)))}}function i6(n,t,e){const o=r6(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function r6(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function BA(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function XK(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let s6=(n,t)=>!1,eZ=(n,t,e)=>[],tZ=null;function o6(n){const t=n.parentNode||n.host;return t===tZ?null:t}(t6()||typeof Element<"u")&&(X_e()?(tZ=(()=>document.documentElement)(),s6=(n,t)=>{for(;t;){if(t===n)return!0;t=o6(t)}return!1}):s6=(n,t)=>n.contains(t),eZ=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let CC=null,nZ=!1;const iZ=s6,rZ=eZ;let sZ=(()=>{class n{validateStyleProperty(e){return function tye(n){CC||(CC=function nye(){return typeof document<"u"?document.body:null}()||{},nZ=!!CC.style&&"WebkitAppearance"in CC.style);let t=!0;return CC.style&&!function eye(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in CC.style,!t&&nZ&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in CC.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return iZ(e,i)}getParentElement(e){return o6(e)}query(e,i,r){return rZ(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,u=[],h){return new M2(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),a6=(()=>{class n{}return n.NOOP=new sZ,n})();const l6="ng-enter",qR="ng-leave",KR="ng-trigger",ZR=".ng-trigger",aZ="ng-animating",c6=".ng-animating";function Yy(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:u6(parseFloat(t[1]),t[2])}function u6(n,t){return"s"===t?1e3*n:n}function $R(n,t,e){return n.hasOwnProperty("duration")?n:function sye(n,t,e){let r,o=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(WK()),{duration:0,delay:0,easing:""};r=u6(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(o=u6(parseFloat(h),u[4]));const f=u[5];f&&(a=f)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function y_e(){return new s.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function v_e(){return new s.vHH(3101,!1)}()),u=!0),u&&t.splice(h,0,WK())}return{duration:r,delay:o,easing:a}}(n,t,e)}function PD(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function lZ(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function nw(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function uZ(n,t,e){return e?t+":"+e+";":""}function dZ(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uZ(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uZ(0,cye(e),n.style[e]));n.setAttribute("style",t)}function l_(n,t,e){n.style&&(t.forEach((i,r)=>{const o=h6(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),t6()&&dZ(n))}function xC(n,t){n.style&&(t.forEach((e,i)=>{const r=h6(i);n.style[r]=""}),t6()&&dZ(n))}function UD(n){return Array.isArray(n)?1==n.length?n[0]:p7(n):n}const d6=new RegExp("{{\\s*(.+?)\\s*}}","g");function hZ(n){let t=[];if("string"==typeof n){let e;for(;e=d6.exec(n);)t.push(e[1]);d6.lastIndex=0}return t}function QD(n,t,e){const i=n.toString(),r=i.replace(d6,(o,a)=>{let u=t[a];return null==u&&(e.push(function b_e(n){return new s.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function YR(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lye=/-+([a-z0-9])/g;function h6(n){return n.replace(lye,(...t)=>t[1].toUpperCase())}function cye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function FA(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function C_e(n){return new s.vHH(3004,!1)}()}}function AZ(n,t){return window.getComputedStyle(n)[t]}function pye(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gye(n,t,e){if(":"==n[0]){const h=function mye(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function N_e(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function L_e(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(fZ(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(fZ(a,r))}(i,e,t)):e.push(n),e}const eO=new Set(["true","1"]),tO=new Set(["false","0"]);function fZ(n,t){const e=eO.has(n)||tO.has(n),i=eO.has(t)||tO.has(t);return(r,o)=>{let a="*"==n||n==r,u="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?eO.has(n):tO.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?eO.has(t):tO.has(t)),a&&u}}const _ye=new RegExp("s*:selfs*,?","g");function A6(n,t,e,i){return new yye(n).build(t,e,i)}class yye{constructor(t){this._driver=t}build(t,e,i){const r=new bye(e);return this._resetContextStyleTimingState(r),FA(this,UD(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function E_e(){return new s.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,f=h.name;f.toString().split(/\s*,\s*/).forEach(_=>{h.name=_,o.push(this.visitState(h,e))}),h.name=f}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function S_e(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(h=>{hZ(h).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&(YR(o.values()),e.errors.push(function I_e(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=FA(this,UD(t.animation),e);return{type:1,matchers:pye(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:EC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>FA(this,i,e)),options:EC(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const u=FA(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:EC(t.options)}}visitAnimate(t,e){const i=function xye(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return f6($R(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=f6(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=$R(e,t);return f6(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ii({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,u=!1;if(!a){u=!0;const f={};i.easing&&(f.easing=i.easing),a=Ii(f)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Ly?i.push(u):e.errors.push(new s.vHH(3002,!1)):i.push(lZ(u));let o=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!o))for(let h of u.values())if(h.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{const f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(h);let b=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(function T_e(n,t,e,i,r){return new s.vHH(3010,!1)}()),b=!1),o=_.startTime),b&&f.set(h,{startTime:o,endTime:r}),e.options&&function aye(n,t,e){const i=t.params||{},r=hZ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function w_e(n){return new s.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function B_e(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let u=!1,h=!1,f=0;const _=t.steps.map(z=>{const W=this._makeStyleAst(z,e);let fe=null!=W.offset?W.offset:function Cye(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(W.styles),De=0;return null!=fe&&(o++,De=W.offset=fe),h=h||De<0||De>1,u=u||De<f,f=De,a.push(De),W});h&&e.errors.push(function F_e(){return new s.vHH(3012,!1)}()),u&&e.errors.push(function M_e(){return new s.vHH(3200,!1)}());const b=t.steps.length;let F=0;o>0&&o<b?e.errors.push(function k_e(){return new s.vHH(3202,!1)}()):0==o&&(F=1/(b-1));const B=b-1,U=e.currentTime,H=e.currentAnimateTimings,Z=H.duration;return _.forEach((z,W)=>{const fe=F>0?W==B?1:F*W:a[W],De=fe*Z;e.currentTime=U+H.delay+De,H.duration=De,this._validateStyleAst(z,e),z.offset=fe,i.styles.push(z)}),i}visitReference(t,e){return{type:8,animation:FA(this,UD(t.animation),e),options:EC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:EC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:EC(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function vye(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_ye,"")),n=n.replace(/@\*/g,ZR).replace(/@\w+/g,e=>ZR+"-"+e.slice(1)).replace(/:animating/g,c6),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,BA(e.collectedStyles,e.currentQuerySelector,new Map);const u=FA(this,UD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:EC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function R_e(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:$R(t.timings,e.errors,!0);return{type:12,animation:FA(this,UD(t.animation),e),timings:i,options:null}}}class bye{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function EC(n){return n?(n=PD(n)).params&&(n.params=function wye(n){return n?PD(n):null}(n.params)):n={},n}function f6(n,t,e){return{duration:n,delay:t,easing:e}}function p6(n,t,e,i,r,o,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:u}}class nO{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Iye=new RegExp(":enter","g"),Tye=new RegExp(":leave","g");function g6(n,t,e,i,r,o=new Map,a=new Map,u,h,f=[]){return(new Bye).buildKeyframes(n,t,e,i,r,o,a,u,h,f)}class Bye{buildKeyframes(t,e,i,r,o,a,u,h,f,_=[]){f=f||new nO;const b=new m6(t,e,f,r,o,_,[]);b.options=h;const F=h.delay?Yy(h.delay):0;b.currentTimeline.delayNextStep(F),b.currentTimeline.setStyles([a],null,b.errors,h),FA(this,i,b);const B=b.timelines.filter(U=>U.containsAnimation());if(B.length&&u.size){let U;for(let H=B.length-1;H>=0;H--){const Z=B[H];if(Z.element===e){U=Z;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([u],null,b.errors,h)}return B.length?B.map(U=>U.buildKeyframes()):[p6(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:Yy(QD(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Yy(i.duration):null,u=null!=i.delay?Yy(i.delay):null;return 0!==a&&t.forEach(h=>{const f=e.appendInstructionToTimeline(h,a,u);o=Math.max(o,f.duration+f.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),FA(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iO);const a=Yy(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>FA(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yy(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),FA(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return $R(e.params?QD(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*o),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yy(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iO);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((f,_)=>{e.currentQueryIndex=_;const b=e.createSubContext(t.options,f);o&&b.delayNextStep(o),f===e.element&&(h=b.currentTimeline),FA(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,b.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const _=e.currentTimeline;h&&_.delayNextStep(h);const b=_.currentTime;FA(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-b+(r.startTime-i.currentTimeline.startTime)}}const iO={};class m6{constructor(t,e,i,r,o,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new rO(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yy(i.duration)),null!=i.delay&&(r.delay=Yy(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=QD(o[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new m6(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=iO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Fye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(Iye,"."+this._enterClassName)).replace(Tye,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),u.push(...f)}return!o&&0==u.length&&a.push(function O_e(n){return new s.vHH(3014,!1)}()),u}}class rO{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ly),this._currentKeyframe.set(e,Ly);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function Mye(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ly)}else nw(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,h]of a){const f=QD(h,o,i);this._pendingStyles.set(u,f),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Ly),this._updateStyle(u,f)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const f=nw(u,new Map,this._backFill);f.forEach((_,b)=>{"!"===_?t.add(b):_===Ly&&e.add(b)}),i||f.set("offset",h/this.duration),r.push(f)});const o=t.size?YR(t.values()):[],a=e.size?YR(e.values()):[];if(i){const u=r[0],h=new Map(u);u.set("offset",0),h.set("offset",1),r=[u,h]}return p6(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class Fye extends rO{constructor(t,e,i,r,o,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,u=e/a,h=nw(t[0]);h.set("offset",0),o.push(h);const f=nw(t[0]);f.set("offset",mZ(u)),o.push(f);const _=t.length-1;for(let b=1;b<=_;b++){let F=nw(t[b]);const B=F.get("offset");F.set("offset",mZ((e+B*i)/a)),o.push(F)}i=a,e=0,r="",t=o}return p6(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function mZ(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class _6{}const kye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rye extends _6{normalizePropertyName(t,e){return h6(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(kye.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function x_e(n,t){return new s.vHH(3005,!1)}())}return a+o}}function _Z(n,t,e,i,r,o,a,u,h,f,_,b,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:f,postStyleProps:_,totalTime:b,errors:F}}const y6={};class yZ{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Oye(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,u,h,f,_){const b=[],F=this.ast.options&&this.ast.options.params||y6,U=this.buildStyles(i,u&&u.params||y6,b),H=h&&h.params||y6,Z=this.buildStyles(r,H,b),z=new Set,W=new Map,fe=new Map,De="void"===r,Ye={params:Lye(H,F),delay:this.ast.options?.delay},ct=_?[]:g6(t,e,this.ast.animation,o,a,U,Z,Ye,f,b);let Ke=0;if(ct.forEach(Lt=>{Ke=Math.max(Lt.duration+Lt.delay,Ke)}),b.length)return _Z(e,this._triggerName,i,r,De,U,Z,[],[],W,fe,Ke,b);ct.forEach(Lt=>{const Rt=Lt.element,pe=BA(W,Rt,new Set);Lt.preStyleProps.forEach(Me=>pe.add(Me));const Ae=BA(fe,Rt,new Set);Lt.postStyleProps.forEach(Me=>Ae.add(Me)),Rt!==e&&z.add(Rt)});const xe=YR(z.values());return _Z(e,this._triggerName,i,r,De,U,Z,ct,xe,W,fe,Ke)}}function Lye(n,t){const e=PD(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Nye{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=PD(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{a&&(a=QD(a,r,e));const h=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,h,a,e),i.set(h,a)})}),i}}class Uye{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Nye(r.style,r.options&&r.options.params||{},i))}),vZ(this.states,"true","1"),vZ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new yZ(t,r,this.states))}),this.fallbackTransition=function Qye(n,t,e){return new yZ(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function vZ(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Hye=new nO;class Vye{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=A6(this._driver,e,i,[]);if(i.length)throw function V_e(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=JK(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const u=new Map;if(o?(a=g6(this._driver,e,o,l6,qR,new Map,new Map,i,Hye,r),a.forEach(_=>{const b=BA(u,_.element,new Map);_.postStyleProps.forEach(F=>b.set(F,null))})):(r.push(function G_e(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function j_e(n){return new s.vHH(3504,!1)}();u.forEach((_,b)=>{_.forEach((F,B)=>{_.set(B,this._driver.computeStyle(b,B,Ly))})});const f=tw(a.map(_=>{const b=u.get(_.element);return this._buildPlayer(_,new Map,b)}));return this._playersById.set(t,f),f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function z_e(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=r6(e,"","","");return n6(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wZ="ng-animate-queued",v6="ng-animate-disabled",Kye=[],bZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uf="__ng_removed";class w6{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Jye(n){return n??null}(i?t.value:t),i){const o=PD(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const HD="void",b6=new w6(HD);class $ye{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qf(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function q_e(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function K_e(n){return new s.vHH(3303,!1)}();if(!function Xye(n){return"start"==n||"done"==n}(i))throw function Z_e(n,t){return new s.vHH(3400,!1)}();const o=BA(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const u=BA(this._engine.statesByElement,t,new Map);return u.has(e)||(Qf(t,KR),Qf(t,KR+"-"+e),u.set(e,b6)),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $_e(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new C6(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Qf(t,KR),Qf(t,KR+"-"+e),this._engine.statesByElement.set(t,u=new Map));let h=u.get(e);const f=new w6(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&f.absorbOptions(h.options),u.set(e,f),h||(h=b6),f.value!==HD&&h.value===f.value){if(!function nve(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(h.params,f.params)){const H=[],Z=o.matchStyles(h.value,h.params,H),z=o.matchStyles(f.value,f.params,H);H.length?this._engine.reportError(H):this._engine.afterFlush(()=>{xC(t,Z),l_(t,z)})}return}const F=BA(this._engine.playersByElement,t,[]);F.forEach(H=>{H.namespaceId==this.id&&H.triggerName==e&&H.queued&&H.destroy()});let B=o.matchTransition(h.value,f.value,t,f.params),U=!1;if(!B){if(!r)return;B=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:h,toState:f,player:a,isFallbackTransition:U}),U||(Qf(t,wZ),a.onStart(()=>{_E(t,wZ)})),a.onDone(()=>{let H=this.players.indexOf(a);H>=0&&this.players.splice(H,1);const Z=this._engine.playersByElement.get(t);if(Z){let z=Z.indexOf(a);z>=0&&Z.splice(z,1)}}),this.players.push(a),F.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ZR,!0);i.forEach(r=>{if(r[Uf])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const u=[];if(o.forEach((h,f)=>{if(a.set(f,h.value),this._triggers.has(f)){const _=this.trigger(t,f,HD,r);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&tw(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,f=i.get(a)||b6,_=new w6(HD),b=new C6(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:f,toState:_,player:b,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Uf];(!o||o===bZ)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Qf(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=r6(o,i.triggerName,i.fromState.value,i.toState.value);h._data=t,n6(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Yye{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new $ye(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const f=i.indexOf(h);i.splice(f+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(sO(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sO(e))return;const o=e[Uf];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qf(t,v6)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_E(t,v6))}removeNode(t,e,i,r){if(sO(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Uf]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return sO(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ZR,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,c6,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return tw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Uf];if(e&&e.setForRemoval){if(t[Uf]=bZ,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(v6)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Qf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tw(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Y_e(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new nO,r=[],o=new Map,a=[],u=new Map,h=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(Pe=>{_.add(Pe);const Xe=this.driver.query(Pe,".ng-animate-queued",!0);for(let He=0;He<Xe.length;He++)_.add(Xe[He])});const b=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=EZ(F,this.collectedEnterElements),U=new Map;let H=0;B.forEach((Pe,Xe)=>{const He=l6+H++;U.set(Xe,He),Pe.forEach(mt=>Qf(mt,He))});const Z=[],z=new Set,W=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const Xe=this.collectedLeaveElements[Pe],He=Xe[Uf];He&&He.setForRemoval&&(Z.push(Xe),z.add(Xe),He.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(mt=>z.add(mt)):W.add(Xe))}const fe=new Map,De=EZ(F,Array.from(z));De.forEach((Pe,Xe)=>{const He=qR+H++;fe.set(Xe,He),Pe.forEach(mt=>Qf(mt,He))}),t.push(()=>{B.forEach((Pe,Xe)=>{const He=U.get(Xe);Pe.forEach(mt=>_E(mt,He))}),De.forEach((Pe,Xe)=>{const He=fe.get(Xe);Pe.forEach(mt=>_E(mt,He))}),Z.forEach(Pe=>{this.processLeaveNode(Pe)})});const Ye=[],ct=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(He=>{const mt=He.player,Ct=He.element;if(Ye.push(mt),this.collectedEnterElements.length){const lt=Ct[Uf];if(lt&&lt.setForMove){if(lt.previousTriggersValues&&lt.previousTriggersValues.has(He.triggerName)){const yt=lt.previousTriggersValues.get(He.triggerName),_t=this.statesByElement.get(He.element);if(_t&&_t.has(He.triggerName)){const _n=_t.get(He.triggerName);_n.value=yt,_t.set(He.triggerName,_n)}}return void mt.destroy()}}const wn=!b||!this.driver.containsElement(b,Ct),X=fe.get(Ct),ve=U.get(Ct),we=this._buildInstruction(He,i,ve,X,wn);if(we.errors&&we.errors.length)return void ct.push(we);if(wn)return mt.onStart(()=>xC(Ct,we.fromStyles)),mt.onDestroy(()=>l_(Ct,we.toStyles)),void r.push(mt);if(He.isFallbackTransition)return mt.onStart(()=>xC(Ct,we.fromStyles)),mt.onDestroy(()=>l_(Ct,we.toStyles)),void r.push(mt);const Ve=[];we.timelines.forEach(lt=>{lt.stretchStartingKeyframe=!0,this.disabledNodes.has(lt.element)||Ve.push(lt)}),we.timelines=Ve,i.append(Ct,we.timelines),a.push({instruction:we,player:mt,element:Ct}),we.queriedElements.forEach(lt=>BA(u,lt,[]).push(mt)),we.preStyleProps.forEach((lt,yt)=>{if(lt.size){let _t=h.get(yt);_t||h.set(yt,_t=new Set),lt.forEach((_n,An)=>_t.add(An))}}),we.postStyleProps.forEach((lt,yt)=>{let _t=f.get(yt);_t||f.set(yt,_t=new Set),lt.forEach((_n,An)=>_t.add(An))})});if(ct.length){const Pe=[];ct.forEach(Xe=>{Pe.push(function W_e(n,t){return new s.vHH(3505,!1)}())}),Ye.forEach(Xe=>Xe.destroy()),this.reportError(Pe)}const Ke=new Map,xe=new Map;a.forEach(Pe=>{const Xe=Pe.element;i.has(Xe)&&(xe.set(Xe,Xe),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,Ke))}),r.forEach(Pe=>{const Xe=Pe.element;this._getPreviousPlayers(Xe,!1,Pe.namespaceId,Pe.triggerName,null).forEach(mt=>{BA(Ke,Xe,[]).push(mt),mt.destroy()})});const Lt=Z.filter(Pe=>IZ(Pe,h,f)),Rt=new Map;xZ(Rt,this.driver,W,f,Ly).forEach(Pe=>{IZ(Pe,h,f)&&Lt.push(Pe)});const Ae=new Map;B.forEach((Pe,Xe)=>{xZ(Ae,this.driver,new Set(Pe),h,"!")}),Lt.forEach(Pe=>{const Xe=Rt.get(Pe),He=Ae.get(Pe);Rt.set(Pe,new Map([...Array.from(Xe?.entries()??[]),...Array.from(He?.entries()??[])]))});const Me=[],Te=[],Tt={};a.forEach(Pe=>{const{element:Xe,player:He,instruction:mt}=Pe;if(i.has(Xe)){if(_.has(Xe))return He.onDestroy(()=>l_(Xe,mt.toStyles)),He.disabled=!0,He.overrideTotalTime(mt.totalTime),void r.push(He);let Ct=Tt;if(xe.size>1){let X=Xe;const ve=[];for(;X=X.parentNode;){const we=xe.get(X);if(we){Ct=we;break}ve.push(X)}ve.forEach(we=>xe.set(we,Ct))}const wn=this._buildAnimation(He.namespaceId,mt,Ke,o,Ae,Rt);if(He.setRealPlayer(wn),Ct===Tt)Me.push(He);else{const X=this.playersByElement.get(Ct);X&&X.length&&(He.parentPlayer=tw(X)),r.push(He)}}else xC(Xe,mt.fromStyles),He.onDestroy(()=>l_(Xe,mt.toStyles)),Te.push(He),_.has(Xe)&&r.push(He)}),Te.forEach(Pe=>{const Xe=o.get(Pe.element);if(Xe&&Xe.length){const He=tw(Xe);Pe.setRealPlayer(He)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<Z.length;Pe++){const Xe=Z[Pe],He=Xe[Uf];if(_E(Xe,qR),He&&He.hasAnimation)continue;let mt=[];if(u.size){let wn=u.get(Xe);wn&&wn.length&&mt.push(...wn);let X=this.driver.query(Xe,c6,!0);for(let ve=0;ve<X.length;ve++){let we=u.get(X[ve]);we&&we.length&&mt.push(...we)}}const Ct=mt.filter(wn=>!wn.destroyed);Ct.length?eve(this,Xe,Ct):this.processLeaveNode(Xe)}return Z.length=0,Me.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const Xe=this.players.indexOf(Pe);this.players.splice(Xe,1)}),Pe.play()}),Me}elementContainsData(t,e){let i=!1;const r=e[Uf];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!o||o==HD;u.forEach(f=>{f.queued||!h&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const f=h.element,_=f!==o,b=BA(i,f,[]);this._getPreviousPlayers(f,_,a,u,e.toState).forEach(B=>{const U=B.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),B.destroy(),b.push(B)})}xC(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const u=e.triggerName,h=e.element,f=[],_=new Set,b=new Set,F=e.timelines.map(U=>{const H=U.element;_.add(H);const Z=H[Uf];if(Z&&Z.removedBeforeQueried)return new M2(U.duration,U.delay);const z=H!==h,W=function tve(n){const t=[];return SZ(n,t),t}((i.get(H)||Kye).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===H),fe=o.get(H),De=a.get(H),Ye=JK(0,this._normalizer,0,U.keyframes,fe,De),ct=this._buildPlayer(U,Ye,W);if(U.subTimeline&&r&&b.add(H),z){const Ke=new C6(t,u,H);Ke.setRealPlayer(ct),f.push(Ke)}return ct});f.forEach(U=>{BA(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function Wye(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),_.forEach(U=>Qf(U,aZ));const B=tw(F);return B.onDestroy(()=>{_.forEach(U=>_E(U,aZ)),l_(h,e.toStyles)}),b.forEach(U=>{BA(r,U,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new M2(t.duration,t.delay)}}class C6{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new M2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>n6(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){BA(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sO(n){return n&&1===n.nodeType}function CZ(n,t){const e=n.style.display;return n.style.display=t??"none",e}function xZ(n,t,e,i,r){const o=[];e.forEach(h=>o.push(CZ(h)));const a=[];i.forEach((h,f)=>{const _=new Map;h.forEach(b=>{const F=t.computeStyle(f,b,r);_.set(b,F),(!F||0==F.length)&&(f[Uf]=Zye,a.push(f))}),n.set(f,_)});let u=0;return e.forEach(h=>CZ(h,o[u++])),a}function EZ(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(u){if(!u)return 1;let h=o.get(u);if(h)return h;const f=u.parentNode;return h=e.has(f)?f:r.has(f)?1:a(f),o.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Qf(n,t){n.classList?.add(t)}function _E(n,t){n.classList?.remove(t)}function eve(n,t,e){tw(e).onDone(()=>n.processLeaveNode(t))}function SZ(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof m7?SZ(i.players,t):t.push(i)}}function IZ(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class oO{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Yye(t,e,i),this._timelineEngine=new Vye(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],_=A6(this._driver,o,h,[]);if(h.length)throw function Q_e(n,t){return new s.vHH(3404,!1)}();u=function Pye(n,t,e){return new Uye(n,t,e)}(r,_,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=XK(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,u]=XK(i);return this._timelineEngine.listen(a,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rve=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&l_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(l_(this._element,this._initialStyles),this._endStyles&&(l_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xC(this._element,this._endStyles),this._endStyles=null),l_(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function x6(n){let t=null;return n.forEach((e,i)=>{(function sve(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class DZ{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:AZ(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ove{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return iZ(t,e)}getParentElement(t){return o6(t)}query(t,e,i){return rZ(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(h.easing=o);const f=new Map,_=a.filter(B=>B instanceof DZ);(function uye(n,t){return 0===n||0===t})(i,r)&&_.forEach(B=>{B.currentSnapshot.forEach((U,H)=>f.set(H,U))});let b=function oye(n){return n.length?n[0]instanceof Map?n:n.map(t=>lZ(t)):[]}(e).map(B=>nw(B));b=function dye(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(u=>a.set(u,AZ(n,u)))}}return t}(t,b,f);const F=function ive(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=x6(t[0]),t.length>1&&(i=x6(t[t.length-1]))):t instanceof Map&&(e=x6(t)),e||i?new rve(n,e,i):null}(t,b);return new DZ(t,b,h,F)}}let ave=(()=>{class n extends A7{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?p7(e):e;return TZ(this._renderer,null,i,"register",[r]),new lve(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Oe))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class lve extends Bte{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cve(this._id,t,e||{},this._renderer)}}class cve{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return TZ(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function TZ(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const BZ="@.disabled";let uve=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(o);return _||(_=new FZ("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,_)),_}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=_=>{Array.isArray(_)?_.forEach(h):this.engine.registerTrigger(a,u,e,_.name,_)};return i.data.animation.forEach(h),new dve(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(oO),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class FZ{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==BZ?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dve extends FZ{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BZ?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function hve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function Ave(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let fve=(()=>{class n extends oO{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oe),s.LFG(a6),s.LFG(_6),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const MZ=[{provide:A7,useClass:ave},{provide:_6,useFactory:function pve(){return new Rye}},{provide:oO,useClass:fve},{provide:s.FYo,useFactory:function gve(n,t,e){return new uve(n,t,e)},deps:[wu,oO,s.R0b]}],E6=[{provide:a6,useFactory:()=>new ove},{provide:s.QbO,useValue:"BrowserAnimations"},...MZ],kZ=[{provide:a6,useClass:sZ},{provide:s.QbO,useValue:"NoopAnimations"},...MZ];let mve=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?kZ:E6}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:E6,imports:[Wl]}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Bve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[RZ,B2,hr,PM,RZ,hr]}),n})(),VZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[N4]}),n})(),J0e=(()=>{class n{constructor(e,i){va(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:ng,useValue:{...P4,...e}},{provide:U4,useValue:i,multi:!0},{provide:Zx,useValue:!0}]:[{provide:ng,useValue:{...P4,...e}},{provide:U4,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zx),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fz,Rq,VZ,Fz,Rq,VZ]}),n})();const GZ_firebaseConfig={apiKey:"AIzaSyBNWbqdAaq44dWHELm2m1jU0xY6graA9uo",authDomain:"rotiniel-35c5b.firebaseapp.com",projectId:"rotiniel-35c5b",storageBucket:"rotiniel-35c5b.appspot.com",messagingSenderId:"546264380520",appId:"1:546264380520:web:b09f4bc5e62c611818f7dd",measurementId:"G-VXQ0LYQVDB"},{isArray:X0e}=Array;function jZ(n,t){return t?e=>Ja(t.pipe((0,Jr.q)(1),function iwe(){return(0,Wr.e)((n,t)=>{n.subscribe(new Pr.Q(t,oU.Z))})}()),e.pipe(jZ(n))):(0,xo.z)((e,i)=>n(e,i).pipe((0,Jr.q)(1),cd(e)))}function S6(n,t=jb.z){const e=m8(n,t);return jZ(()=>e)}const rwe=(0,Vh.d)(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function owe(n){throw new rwe(n)}class zZ{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}}class qZ{}class I6{}let awe=(()=>{class n extends I6{now(){return Date.now()}new(){return new Date}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class KZ{}class D6{}let lwe=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class T6{constructor(t){this.type=t}}class MA extends T6{constructor(t,e=null){super(t),this.info=e}}class Wy extends T6{constructor(t,e=null){super(t),this.info=e}}class pl extends T6{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}}function ZZ(n){const t=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function B6(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class lO{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}}class VD{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}class $Z{}let YZ=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),0!==i.indexOf("#"))return{};const r=i.indexOf("?");return i=i.substr(r>-1?r+1:1),this.parseQueryString(i)}parseQueryString(e){const i={};let r,o,a,u,h,f,_;if(null===e)return i;r=e.split("&");for(let b=0;b<r.length;b++)o=r[b],a=o.indexOf("="),-1===a?(u=o,h=null):(u=o.substr(0,a),h=o.substr(a+1)),f=decodeURIComponent(u),_=decodeURIComponent(h),"/"===f.substr(0,1)&&(f=f.substr(1)),i[f]=_;return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const uwe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function F6(n,t,e,i,r){let o,a,u,h,f,_,b,F,B,U,H,Z,z;for(;r>=64;){for(o=t[0],a=t[1],u=t[2],h=t[3],f=t[4],_=t[5],b=t[6],F=t[7],U=0;U<16;U++)H=i+4*U,n[U]=(255&e[H])<<24|(255&e[H+1])<<16|(255&e[H+2])<<8|255&e[H+3];for(U=16;U<64;U++)B=n[U-2],Z=(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10,B=n[U-15],z=(B>>>7|B<<25)^(B>>>18|B<<14)^B>>>3,n[U]=(Z+n[U-7]|0)+(z+n[U-16]|0);for(U=0;U<64;U++)Z=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&_^~f&b)|0)+(F+(uwe[U]+n[U]|0)|0)|0,z=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0,F=b,b=_,_=f,f=h+Z|0,h=u,u=a,a=o,o=Z+z|0;t[0]+=o,t[1]+=a,t[2]+=u,t[3]+=h,t[4]+=f,t[5]+=_,t[6]+=b,t[7]+=F,i+=64,r-=64}return i}class cO{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;64===this.bufferLength&&(F6(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=F6(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){const e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,o=e<<3,a=e%64<56?64:128;this.buffer[i]=128;for(let u=i+1;u<a-8;u++)this.buffer[u]=0;this.buffer[a-8]=r>>>24&255,this.buffer[a-7]=r>>>16&255,this.buffer[a-6]=r>>>8&255,this.buffer[a-5]=r>>>0&255,this.buffer[a-4]=o>>>24&255,this.buffer[a-3]=o>>>16&255,this.buffer[a-2]=o>>>8&255,this.buffer[a-1]=o>>>0&255,F6(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let e=0;e<8;e++)t[4*e+0]=this.state[e]>>>24&255,t[4*e+1]=this.state[e]>>>16&255,t[4*e+2]=this.state[e]>>>8&255,t[4*e+3]=this.state[e]>>>0&255;return this}digest(){const t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class JZ{}let mwe=(()=>{class n{calcHash(e,i){return(0,It.Z)(function*(){return function gwe(n){var t,e=[];for(t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function dwe(n){const t=(new cO).update(n),e=t.digest();return t.clean(),e}(function pwe(n){if("string"!=typeof n)throw new TypeError("expected string");var t,e=n,i=new Uint8Array(e.length);for(t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e)))})()}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){const i=new Uint8Array(e);let r="";for(let o of i)r+=String.fromCharCode(o);return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),XZ=(()=>{class n extends lO{constructor(e,i,r,o,a,u,h,f,_,b){super(),this.ngZone=e,this.http=i,this.config=a,this.urlHelper=u,this.logger=h,this.crypto=f,this.dateTimeService=b,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new sn.x,this.discoveryDocumentLoadedSubject=new sn.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=_,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{r?this.setStorage(r):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(F){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",F)}if(this.checkLocalStorageAccessable()){const F=window?.navigator?.userAgent;(F?.includes("MSIE ")||F?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const e="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(e,e),localStorage.removeItem(e),0))}catch{return!1}}configure(e){Object.assign(this,new lO,e),this.config=Object.assign({},new lO,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(yi(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,Cr.b)(a=>{"token_received"===a.type?o=!0:"logout"===a.type&&(o=!1)}),yi(a=>"token_expires"===a.type&&(null==i||"any"===i||a.info===i)),I2(1e3)).subscribe(a=>{o&&this.refreshInternal(e,r).catch(u=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(e,i):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(i=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e=e||{}).then(i=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof e.state?e.state:""),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(this.logger,e)}validateUrlFromDiscoveryDocument(e){const i=[],r=this.validateUrlForHttps(e),o=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),o||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;const i=e.toLowerCase();return!(!1!==this.requireHttps&&(!i.match(/^http:\/\/localhost($|[:\/])/)&&!i.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(yi(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=pn(new Wy("token_expires","access_token")).pipe(S6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=pn(new Wy("token_expires","id_token")).pipe(S6(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){const r=this.dateTimeService.now(),a=Math.max(0,(i-e)*this.timeoutFactor-(r-e)),u=2147483647;return a>u?u:a}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(o=>{if(!this.validateDiscoveryDocument(o))return this.eventsSubject.next(new pl("discovery_document_validation_error",null)),void r("discovery_document_validation_error");this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{const h=new MA("discovery_document_loaded",{discoveryDocument:o,jwks:a});this.eventsSubject.next(h),i(h)}).catch(a=>{this.eventsSubject.next(new pl("discovery_document_load_error",a)),r(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new pl("discovery_document_load_error",o)),r(o)}):r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new pl("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return this.skipIssuerCheck||e.issuer===this.issuer?(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new oc){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{const r=(new oc).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body);const u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||a.sub!==u.sub))return void i("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");a=Object.assign({},u,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new MA("user_profile_loaded")),e({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new MA("user_profile_loaded")),e(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new pl("user_profile_load_error",o)),i(o)})})}fetchTokenUsingPasswordFlow(e,i,r=new oc){return this.fetchTokenUsingGrant("password",{username:e,password:i},r)}fetchTokenUsingGrant(e,i,r=new oc){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new SA({encoder:new VD}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(const a of Object.keys(i))o=o.set(a,i[a]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,u)=>{this.http.post(this.tokenEndpoint,o,{headers:r}).subscribe(h=>{this.debug("tokenResponse",h),this.storeAccessTokenResponse(h.access_token,h.refresh_token,h.expires_in||this.fallbackAccessTokenExpirationTimeInSec,h.scope,this.extractRecognizedCustomParameters(h)),this.oidc&&h.id_token&&this.processIdToken(h.id_token,h.access_token).then(f=>{this.storeIdToken(f),a(h)}),this.eventsSubject.next(new MA("token_received")),a(h)},h=>{this.logger.error("Error performing ${grantType} flow",h),this.eventsSubject.next(new pl("token_error",h)),u(h)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new SA({encoder:new VD}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=(new oc).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const a of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,r,{headers:o}).pipe(fs(a=>this.oidc&&a.id_token?(0,zn.D)(this.processIdToken(a.id_token,a.access_token,!0)).pipe((0,Cr.b)(u=>this.storeIdToken(u)),(0,cn.U)(u=>a)):pn(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new MA("token_received")),this.eventsSubject.next(new MA("token_refreshed")),e(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new pl("token_refresh_error",a)),i(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){const r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=r.sub;const a=this.document.createElement("iframe");return a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,i,e).then(b=>{a.setAttribute("src",b),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)}),function twe(...n){return 1===(n=function ewe(n){return 1===n.length&&X0e(n[0])?n[0]:n}(n)).length?(0,Fa.Xf)(n[0]):new gr.y(function nwe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Fa.Xf)(n[i]).subscribe(new Pr.Q(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}([this.events.pipe(yi(b=>b instanceof pl),No()),this.events.pipe(yi(b=>"token_received"===b.type),No()),pn(new pl("silent_refresh_timeout",null)).pipe(S6(this.silentRefreshTimeout))]).pipe((0,cn.U)(b=>{if(b instanceof pl)throw"silent_refresh_timeout"===b.type||(b=new pl("silent_refresh_error",b)),this.eventsSubject.next(b),b;return"token_received"===b.type&&(b=new MA("silently_refreshed"),this.eventsSubject.next(b)),b})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,o)=>{let h,u=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(u=e.windowRef,u.location.href=i):u=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));const f=U=>{this.tryLogin({customHashFragment:U,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{b(),r(!0)},H=>{b(),o(H)})};u?h=window.setInterval(()=>{(!u||u.closed)&&(b(),o(new pl("popup_closed",{})))},500):o(new pl("popup_blocked",{}));const b=()=>{window.clearInterval(h),window.removeEventListener("storage",B),window.removeEventListener("message",F),null!==u&&u.close(),u=null},F=U=>{const H=this.processMessageEventMessage(U);H&&null!==H?(window.removeEventListener("storage",B),f(H)):console.log("false event firing")},B=U=>{"auth_hash"===U.key&&(window.removeEventListener("message",F),f(U.newValue))};window.addEventListener("message",F),window.addEventListener("storage",B)}))}calculatePopupFeatures(e){const i=e.height||470,r=e.width||500,o=window.screenLeft+(window.outerWidth-r)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${window.screenTop+(window.outerHeight-i)/2},left=${o}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const r=e.data;return r.startsWith(i)?"#"+r.substr(i.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),r.startsWith(i)){switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)}else this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Wy("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Wy("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Wy("session_terminated")),this.logOut(!0)):this.refreshToken().then(e=>{this.debug("token refresh after session change worked")}).catch(e=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Wy("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe(yi(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),No()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Wy("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Wy("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);const i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),i.setAttribute("src",this.sessionCheckIFrameUrl),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const i=this.getSessionState();i||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+i,this.issuer)}createLoginUrl(e="",i="",r="",o=!1,a={}){var u=this;return(0,It.Z)(function*(){const h=u;let f;f=r||u.redirectUri;const _=yield u.createAndSaveNonce();if(e=e?_+u.config.nonceStateSeparator+encodeURIComponent(e):_,!u.requestAccessToken&&!u.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");u.responseType=u.config.responseType?u.config.responseType:u.oidc&&u.requestAccessToken?"id_token token":u.oidc&&!u.requestAccessToken?"id_token":"token";const b=h.loginUrl.indexOf("?")>-1?"&":"?";let F=h.scope;u.oidc&&!F.match(/(^|\s)openid($|\s)/)&&(F="openid "+F);let B=h.loginUrl+b+"response_type="+encodeURIComponent(h.responseType)+"&client_id="+encodeURIComponent(h.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(f)+"&scope="+encodeURIComponent(F);if(u.responseType.includes("code")&&!u.disablePKCE){const[U,H]=yield u.createChallangeVerifierPairForPKCE();u.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",H):u._storage.setItem("PKCE_verifier",H),B+="&code_challenge="+U,B+="&code_challenge_method=S256"}i&&(B+="&login_hint="+encodeURIComponent(i)),h.resource&&(B+="&resource="+encodeURIComponent(h.resource)),h.oidc&&(B+="&nonce="+encodeURIComponent(_)),o&&(B+="&prompt=none");for(const U of Object.keys(a))B+="&"+encodeURIComponent(U)+"="+encodeURIComponent(a[U]);if(u.customQueryParams)for(const U of Object.getOwnPropertyNames(u.customQueryParams))B+="&"+U+"="+encodeURIComponent(u.customQueryParams[U]);return B})()}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,i):this.events.pipe(yi(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const i=this;if(e.onTokenReceived){const r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,o,a){if(this._storage.setItem("access_token",e),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){const u=1e3*r,f=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+f)}i&&this._storage.setItem("refresh_token",i),a&&a.forEach((u,h)=>{this._storage.setItem(h,u)})}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(e).then(i=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(e=null){var i=this;return(0,It.Z)(function*(){const r=(e=e||{}).customHashFragment?e.customHashFragment.substring(1):window.location.search,o=i.getCodePartsFromUrl(r),a=o.code,u=o.state,h=o.session_state;if(!e.preventClearHashAfterLogin){const b=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,b)}let[f,_]=i.parseState(u);if(i.state=_,o.error){i.debug("error trying to login"),i.handleLoginError(e,o);const b=new pl("code_error",{},o);return i.eventsSubject.next(b),Promise.reject(b)}if(!e.disableNonceCheck){if(!f)return i.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!i.validateNonce(f)){const F=new pl("invalid_nonce_in_state",null);return i.eventsSubject.next(F),Promise.reject(F)}}return i.storeSessionState(h),a&&(yield i.getTokenFromCode(a,e),i.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(e,i){let r=new SA({encoder:new VD}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;o=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),o?r=r.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=(new oc).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,i.disableNonceCheck).then(h=>{this.storeIdToken(h),this.eventsSubject.next(new MA("token_received")),this.eventsSubject.next(new MA("token_refreshed")),o(u)}).catch(h=>{this.eventsSubject.next(new pl("token_validation_error",h)),console.error("Error validating tokens"),console.error(h),a(h)}):(this.eventsSubject.next(new MA("token_received")),this.eventsSubject.next(new MA("token_refreshed")),o(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new pl("token_refresh_error",u)),a(u)})})}tryLoginImplicitFlow(e=null){let i;i=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);const r=i.state;let[o,a]=this.parseState(r);if(this.state=a,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);const b=new pl("token_error",{},i);return this.eventsSubject.next(b),Promise.reject(b)}const u=i.access_token,h=i.id_token,f=i.session_state,_=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!h)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!f&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(o)){const F=new pl("invalid_nonce_in_state",null);return this.eventsSubject.next(F),Promise.reject(F)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,_),this.oidc?this.processIdToken(h,u,e.disableNonceCheck).then(b=>e.validationHandler?e.validationHandler({accessToken:u,idClaims:b.idTokenClaims,idToken:b.idToken,state:r}).then(F=>b):b).then(b=>(this.storeIdToken(b),this.storeSessionState(f),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new MA("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(b=>(this.eventsSubject.next(new pl("token_validation_error",b)),this.logger.error("Error validating tokens"),this.logger.error(b),Promise.reject(b))):(this.eventsSubject.next(new MA("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){const o=e.indexOf(this.config.nonceStateSeparator);o>-1&&(i=e.substr(0,o),r=e.substr(o+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return i=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),i===e||(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:e}processIdToken(e,i,r=!1){const o=e.split("."),u=ZZ(this.padBase64(o[0])),h=JSON.parse(u),_=ZZ(this.padBase64(o[1])),b=JSON.parse(_);let F;if(F=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(b.aud)){if(b.aud.every(W=>W!==this.clientId)){const W="Wrong audience: "+b.aud.join(",");return this.logger.warn(W),Promise.reject(W)}}else if(b.aud!==this.clientId){const W="Wrong audience: "+b.aud;return this.logger.warn(W),Promise.reject(W)}if(!b.sub){const W="No sub claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==b.sub){const W=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${b.sub}`;return this.logger.warn(W),Promise.reject(W)}if(!b.iat){const W="No iat claim in id_token";return this.logger.warn(W),Promise.reject(W)}if(!this.skipIssuerCheck&&b.iss!==this.issuer){const W="Wrong issuer: "+b.iss;return this.logger.warn(W),Promise.reject(W)}if(!r&&b.nonce!==F){const W="Wrong nonce: "+b.nonce;return this.logger.warn(W),Promise.reject(W)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!b.at_hash){const W="An at_hash is needed!";return this.logger.warn(W),Promise.reject(W)}const B=this.dateTimeService.now(),U=1e3*b.iat,H=1e3*b.exp,Z=this.getClockSkewInMsec();if(U-Z>=B||H+Z-this.decreaseExpirationBySec<=B){const W="Token has expired";return console.error(W),console.error({now:B,issuedAtMSec:U,expiresAtMSec:H}),Promise.reject(W)}const z={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:b,idTokenHeader:h,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(z).then(W=>({idToken:e,idTokenClaims:b,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H})):this.checkAtHash(z).then(W=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!W){const fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}return this.checkSignature(z).then(fe=>{const Ye={idToken:e,idTokenClaims:b,idTokenClaimsJson:_,idTokenHeader:h,idTokenHeaderJson:u,idTokenExpiresAt:H};return this.disableAtHashCheck?Ye:this.checkAtHash(z).then(ct=>{if(this.requestAccessToken&&!ct){const Ke="Wrong at_hash";return this.logger.warn(Ke),Promise.reject(Ke)}return Ye})})})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&null!==this._storage.getItem(e)?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;"boolean"==typeof e&&(r=e,e={});const o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new Wy("logout")),!this.logoutUrl||r)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new SA({encoder:new VD});o&&(u=u.set("id_token_hint",o));const h=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";h&&(u=u.set("post_logout_redirect_uri",h),i&&(u=u.set("state",i)));for(let f in e)u=u.set(f,e[f]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(a)}createAndSaveNonce(){const e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let r=45,o="";const a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let u=new Uint8Array(r);a.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(h=>i.charCodeAt(h%i.length)),o=String.fromCharCode.apply(null,u)}else for(;0<r--;)o+=i[Math.random()*i.length|0];e(B6(o))})}checkAtHash(e){var i=this;return(0,It.Z)(function*(){return i.tokenValidationHandler?i.tokenValidationHandler.validateAtHash(e):(i.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return"code"===this.responseType?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){""!==this.loginUrl?this.initCodeFlowInternal(e,i):this.events.pipe(yi(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){var e=this;return(0,It.Z)(function*(){if(!e.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const i=yield e.createNonce();return[B6(yield e.crypto.calcHash(i,"sha-256")),i]})()}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let u=new SA({encoder:new VD}),h=(new oc).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const f=btoa(`${this.clientId}:${this.dummyClientSecret}`);h=h.set("Authorization","Basic "+f)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const f of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(f,this.customQueryParams[f]);return new Promise((f,_)=>{let b,F;if(o){let B=u.set("token",o).set("token_type_hint","access_token");b=this.http.post(r,B,{headers:h})}else b=pn(null);if(a){let B=u.set("token",a).set("token_type_hint","refresh_token");F=this.http.post(r,B,{headers:h})}else F=pn(null);i&&(b=b.pipe(Po(B=>0===B.status?pn(null):so(B))),F=F.pipe(Po(B=>0===B.status?pn(null):so(B)))),Wa([b,F]).subscribe(B=>{this.logOut(e),f(B),this.logger.info("Token successfully revoked")},B=>{this.logger.error("Error revoking token",B),this.eventsSubject.next(new pl("token_revoke_error",B)),_(B)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(_x),s.LFG(D6,8),s.LFG($Z,8),s.LFG(lO,8),s.LFG(YZ),s.LFG(KZ),s.LFG(JZ,8),s.LFG(Oe),s.LFG(I6))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class e${}class _we{handleError(t){return so(t)}}let ywe=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase()))}intercept(e,i){const r=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(r)?this.moduleConfig.resourceServer.sendAccessToken?(0,tu.T)(pn(this.oAuthService.getAccessToken()).pipe(yi(a=>!!a)),this.oAuthService.events.pipe(yi(a=>"token_received"===a.type),function swe(n,t){const{first:e,each:i,with:r=owe,scheduler:o=t??jb.z,meta:a=null}=g8(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return(0,Wr.e)((u,h)=>{let f,_,b=null,F=0;const B=U=>{_=(0,xu.f)(h,o,()=>{try{f.unsubscribe(),(0,Fa.Xf)(r({meta:a,lastValue:b,seen:F})).subscribe(h)}catch(H){h.error(H)}},U)};f=u.subscribe(new Pr.Q(h,U=>{_?.unsubscribe(),F++,h.next(b=U),i>0&&B(i)},void 0,void 0,()=>{_?.closed||_?.unsubscribe(),b=null})),B(null!=e?"number"==typeof e?e:+e-o.now():i)})}(this.oAuthService.waitForTokenInMsec||0),Po(a=>pn(null)),(0,cn.U)(a=>this.oAuthService.getAccessToken()))).pipe((0,Jr.q)(1),(0,xo.z)(a=>{if(a){const h=e.headers.set("Authorization","Bearer "+a);e=e.clone({headers:h})}return i.handle(e).pipe(Po(u=>this.errorHandler.handleError(u)))})):i.handle(e).pipe(Po(a=>this.errorHandler.handleError(a))):i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XZ),s.LFG(e$),s.LFG(qZ,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function vwe(){return console}function wwe(){return typeof sessionStorage<"u"?sessionStorage:new lwe}function bwe(n=null,t=zZ){return(0,s.MR2)([XZ,YZ,{provide:KZ,useFactory:vwe},{provide:D6,useFactory:wwe},{provide:$Z,useClass:t},{provide:JZ,useClass:mwe},{provide:e$,useClass:_we},{provide:qZ,useValue:n},{provide:oV,useClass:ywe,multi:!0},{provide:I6,useClass:awe}])}let Cwe=(()=>{class n{static forRoot(e=null,i=zZ){return{ngModule:n,providers:[bwe(e,i)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yo]}),n})();new s.OlP("AUTH_CONFIG");class c_{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=Kl(this.platformId)}static getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),c_.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=c_.getCookieRegExp(t).exec(this.document.cookie);return i[1]?c_.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;return e.cookie&&""!==e.cookie&&e.cookie.split(";").forEach(i=>{const[r,o]=i.split("=");t[c_.safeDecodeURIComponent(r.replace(/^ /,""))]=c_.safeDecodeURIComponent(o)}),t}set(t,e,i,r,o,a,u){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||r||o||a||u)return void this.set(t,e,{expires:i,path:r,domain:o,secure:a,sameSite:u||"Lax"});let h=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";const f=i||{};f.expires&&(h+="number"==typeof f.expires?"expires="+new Date((new Date).getTime()+1e3*f.expires*60*60*24).toUTCString()+";":"expires="+f.expires.toUTCString()+";"),f.path&&(h+="path="+f.path+";"),f.domain&&(h+="domain="+f.domain+";"),!1===f.secure&&"None"===f.sameSite&&(f.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),f.secure&&(h+="secure;"),f.sameSite||(f.sameSite="Lax"),h+="sameSite="+f.sameSite+";",this.document.cookie=h}delete(t,e,i,r,o="Lax"){if(!this.documentIsAccessible)return;const a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:a,path:e,domain:i,secure:r,sameSite:o})}deleteAll(t,e,i,r="Lax"){if(!this.documentIsAccessible)return;const o=this.getAll();for(const a in o)o.hasOwnProperty(a)&&this.delete(a,t,e,i,r)}static#e=this.\u0275fac=function(e){return new(e||c_)(s.LFG(Oe),s.LFG(s.Lbi))};static#t=this.\u0275prov=s.Yz7({token:c_,factory:c_.\u0275fac,providedIn:"root"})}let Ewe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Nz]}),n.\u0275inj=s.cJS({providers:[pD,Vy,_x,c_,{provide:D6,useValue:localStorage}],imports:[Wl,__e,mve,Bve,fte,O9,Jj,sz,Jj,Zoe,$oe,qM,Lz,Bx,Lz,J0e,lJ,Oz,Cd.hO.initializeApp(GZ_firebaseConfig),mX,EX,iue,X9,tde,fde,sce,woe,Bme,wpe,y7,pAe,sR,Wde,ahe,Ohe,Cwe.forRoot({resourceServer:{allowedUrls:["https://discord.com/api"],sendAccessToken:!0}}),aJ]}),n})();(0,s.G48)(),sp().bootstrapModule(Ewe).catch(n=>console.error(n))},2011:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Dh:()=>Fe,GT:()=>ut,cc:()=>qe,hO:()=>We,on:()=>ae,pX:()=>nt,xv:()=>at});var s=ie(4650),Se=ie(9260),re=ie(4976);Fn=ie.hmd(Fn);const tt=["ngOnDestroy"],nt=(xt,Et,zt,Wt={})=>new Proxy(xt,{get:(ti,rn)=>zt.runOutsideAngular(()=>{var Bn;if(xt[rn])return!(null===(Bn=Wt?.spy)||void 0===Bn)&&Bn.get&&Wt.spy.get(rn,xt[rn]),xt[rn];if(tt.indexOf(rn)>-1)return()=>{};const ln=Et.toPromise().then(Zn=>{const st=Zn&&Zn[rn];return"function"==typeof st?st.bind(Zn):st&&st.then?st.then(Mt=>zt.run(()=>Mt)):zt.run(()=>st)});return new Proxy(()=>{},{get:(Zn,st)=>ln[st],apply:(Zn,st,Mt)=>ln.then(gt=>{var Kt;const Qt=gt&&gt(...Mt);return!(null===(Kt=Wt?.spy)||void 0===Kt)&&Kt.apply&&Wt.spy.apply(rn,Mt,Qt),Qt})})})}),ut=(xt,Et)=>{Et.forEach(zt=>{Object.getOwnPropertyNames(zt.prototype||zt).forEach(Wt=>{Object.defineProperty(xt.prototype,Wt,Object.getOwnPropertyDescriptor(zt.prototype||zt,Wt))})})};class Oe{constructor(Et){return Et}}const Fe=new s.OlP("angularfire2.app.options"),at=new s.OlP("angularfire2.app.name");function ae(xt,Et,zt){const ti="object"==typeof zt&&zt||{};ti.name=ti.name||"string"==typeof zt&&zt||"[DEFAULT]";const Bn=Se.Z.apps.filter(ln=>ln&&ln.name===ti.name)[0]||Et.runOutsideAngular(()=>Se.Z.initializeApp(xt,ti));try{JSON.stringify(xt)!==JSON.stringify(Bn.options)&&le("error",`${Bn.name} Firebase App already initialized with different options${Fn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(Bn)}const le=(xt,...Et)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xt](...Et)},me={provide:Oe,useFactory:ae,deps:[Fe,s.R0b,[new s.FiY,at]]};let We=(()=>{class xt{constructor(zt){Se.Z.registerVersion("angularfire",re.q4.full,"core"),Se.Z.registerVersion("angularfire",re.q4.full,"app-compat"),Se.Z.registerVersion("angular",s.q4F.full,zt.toString())}static initializeApp(zt,Wt){return{ngModule:xt,providers:[{provide:Fe,useValue:zt},{provide:at,useValue:Wt}]}}}return xt.\u0275fac=function(zt){return new(zt||xt)(s.LFG(s.Lbi))},xt.\u0275mod=s.oAB({type:xt}),xt.\u0275inj=s.cJS({providers:[me]}),xt})();function qe(xt,Et,zt,Wt,ti){const[,rn,Bn]=globalThis.\u0275AngularfireInstanceCache.find(ln=>ln[0]===xt)||[];if(rn)return function nn(xt,Et){try{return xt.toString()===Et.toString()}catch{return xt===Et}}(ti,Bn)||(pt("error",`${Et} was already initialized on the ${zt} Firebase App with different settings.${gn?" You may need to reload as Firebase is not HMR aware.":""}`),pt("warn",{is:ti,was:Bn})),rn;{const ln=Wt();return globalThis.\u0275AngularfireInstanceCache.push([xt,ln,ti]),ln}}const gn=!!Fn.hot,pt=(xt,...Et)=>{(0,s.X6Q)()&&typeof console<"u"&&console[xt](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{q4:()=>Zg,iC:()=>Tu,HU:()=>Iu,vb:()=>Jd,JM:()=>cd});var s=ie(4650),Se=ie(259),re=ie(5861),tt=ie(6881),nt=ie(2090),ut=ie(4859),Oe=ie(1877);let at,ae;const We=new WeakMap,qe=new WeakMap,nn=new WeakMap,gn=new WeakMap,pt=new WeakMap;let zt={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return qe.get(k);if("objectStoreNames"===N)return k.objectStoreNames||nn.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Bn(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function rn(k){return"function"==typeof k?function ti(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(ln(this),N),Bn(We.get(this))}:function(...N){return Bn(k.apply(ln(this),N))}:function(N,...K){const he=k.call(ln(this),N,...K);return nn.set(he,N.sort?N.sort():[N]),Bn(he)}}(k):(k instanceof IDBTransaction&&function Et(k){if(qe.has(k))return;const N=new Promise((K,he)=>{const Be=()=>{k.removeEventListener("complete",$e),k.removeEventListener("error",vt),k.removeEventListener("abort",vt)},$e=()=>{K(),Be()},vt=()=>{he(k.error||new DOMException("AbortError","AbortError")),Be()};k.addEventListener("complete",$e),k.addEventListener("error",vt),k.addEventListener("abort",vt)});qe.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function le(){return at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,zt):k)}function Bn(k){if(k instanceof IDBRequest)return function xt(k){const N=new Promise((K,he)=>{const Be=()=>{k.removeEventListener("success",$e),k.removeEventListener("error",vt)},$e=()=>{K(Bn(k.result)),Be()},vt=()=>{he(k.error),Be()};k.addEventListener("success",$e),k.addEventListener("error",vt)});return N.then(K=>{K instanceof IDBCursor&&We.set(K,k)}).catch(()=>{}),pt.set(N,k),N}(k);if(gn.has(k))return gn.get(k);const N=rn(k);return N!==k&&(gn.set(k,N),pt.set(N,k)),N}const ln=k=>pt.get(k),Mt=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],Kt=new Map;function Qt(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Kt.get(N))return Kt.get(N);const K=N.replace(/FromIndex$/,""),he=N!==K,Be=gt.includes(K);if(!(K in(he?IDBIndex:IDBObjectStore).prototype)||!Be&&!Mt.includes(K))return;const $e=function(){var vt=(0,re.Z)(function*(vn,...un){const Mn=this.transaction(vn,Be?"readwrite":"readonly");let kn=Mn.store;return he&&(kn=kn.index(un.shift())),(yield Promise.all([kn[K](...un),Be&&Mn.done]))[0]});return function(un){return vt.apply(this,arguments)}}();return Kt.set(N,$e),$e}!function Wt(k){zt=k(zt)}(k=>({...k,get:(N,K,he)=>Qt(N,K)||k.get(N,K,he),has:(N,K)=>!!Qt(N,K)||k.has(N,K)}));const yn="@firebase/installations",no="w:0.6.4",ki="FIS_v2",go=new nt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cr(k){return k instanceof nt.ZR&&k.code.includes("request-failed")}function jl({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function yl(k){return{token:k.token,requestStatus:2,expiresIn:wl(k.expiresIn),creationTime:Date.now()}}function vl(k,N){return lu.apply(this,arguments)}function lu(){return(lu=(0,re.Z)(function*(k,N){const he=(yield N.json()).error;return go.create("request-failed",{requestName:k,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function os({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function As(k,{refreshToken:N}){const K=os(k);return K.append("Authorization",function Zt(k){return`${ki} ${k}`}(N)),K}function cc(k){return Us.apply(this,arguments)}function Us(){return(Us=(0,re.Z)(function*(k){const N=yield k();return N.status>=500&&N.status<600?k():N})).apply(this,arguments)}function wl(k){return Number(k.replace("s","000"))}function kr(k,N){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,re.Z)(function*({appConfig:k,heartbeatServiceProvider:N},{fid:K}){const he=jl(k),Be=os(k),$e=N.getImmediate({optional:!0});if($e){const Mn=yield $e.getHeartbeatsHeader();Mn&&Be.append("x-firebase-client",Mn)}const vn={method:"POST",headers:Be,body:JSON.stringify({fid:K,authVersion:ki,appId:k.appId,sdkVersion:no})},un=yield cc(()=>fetch(he,vn));if(un.ok){const Mn=yield un.json();return{fid:Mn.fid||K,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:yl(Mn.authToken)}}throw yield vl("Create Installation",un)})).apply(this,arguments)}function Wn(k){return new Promise(N=>{setTimeout(N,k)})}const Pc=/^[cdef][\w-]{21}$/;function dc(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const K=function zo(k){return function uc(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Pc.test(K)?K:""}catch{return""}}function oi(k){return`${k.appName}!${k.appId}`}const Gn=new Map;function wi(k,N){const K=oi(k);Ni(K,N),function Hs(k,N){const K=function qo(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=k=>{Ni(k.data.key,k.data.fid)}),Zr}();K&&K.postMessage({key:k,fid:N}),function Vi(){0===Gn.size&&Zr&&(Zr.close(),Zr=null)}()}(K,N)}function Ni(k,N){const K=Gn.get(k);if(K)for(const he of K)he(N)}let Zr=null;const mo="firebase-installations-store";let Ko=null;function Rr(){return Ko||(Ko=function Zn(k,N,{blocked:K,upgrade:he,blocking:Be,terminated:$e}={}){const vt=indexedDB.open(k,N),vn=Bn(vt);return he&&vt.addEventListener("upgradeneeded",un=>{he(Bn(vt.result),un.oldVersion,un.newVersion,Bn(vt.transaction))}),K&&vt.addEventListener("blocked",()=>K()),vn.then(un=>{$e&&un.addEventListener("close",()=>$e()),Be&&un.addEventListener("versionchange",()=>Be())}).catch(()=>{}),vn}("firebase-installations-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(mo)}})),Ko}function _o(k,N){return la.apply(this,arguments)}function la(){return(la=(0,re.Z)(function*(k,N){const K=oi(k),Be=(yield Rr()).transaction(mo,"readwrite"),$e=Be.objectStore(mo),vt=yield $e.get(K);return yield $e.put(N,K),yield Be.done,(!vt||vt.fid!==N.fid)&&wi(k,N.fid),N})).apply(this,arguments)}function ca(k){return Za.apply(this,arguments)}function Za(){return(Za=(0,re.Z)(function*(k){const N=oi(k),he=(yield Rr()).transaction(mo,"readwrite");yield he.objectStore(mo).delete(N),yield he.done})).apply(this,arguments)}function Is(k,N){return ua.apply(this,arguments)}function ua(){return(ua=(0,re.Z)(function*(k,N){const K=oi(k),Be=(yield Rr()).transaction(mo,"readwrite"),$e=Be.objectStore(mo),vt=yield $e.get(K),vn=N(vt);return void 0===vn?yield $e.delete(K):yield $e.put(vn,K),yield Be.done,vn&&(!vt||vt.fid!==vn.fid)&&wi(k,vn.fid),vn})).apply(this,arguments)}function Ie(k){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,re.Z)(function*(k){let N;const K=yield Is(k.appConfig,he=>{const Be=Le(he),$e=St(k,Be);return N=$e.registrationPromise,$e.installationEntry});return""===K.fid?{installationEntry:yield N}:{installationEntry:K,registrationPromise:N}})).apply(this,arguments)}function Le(k){return ts(k||{fid:dc(),registrationStatus:0})}function St(k,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(go.create("app-offline"))};const K={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},he=function je(k,N){return Ln.apply(this,arguments)}(k,K);return{installationEntry:K,registrationPromise:he}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:jn(k)}:{installationEntry:N}}function Ln(){return(Ln=(0,re.Z)(function*(k,N){try{const K=yield kr(k,N);return _o(k.appConfig,K)}catch(K){throw cr(K)&&409===K.customData.serverCode?yield ca(k.appConfig):yield _o(k.appConfig,{fid:N.fid,registrationStatus:0}),K}})).apply(this,arguments)}function jn(k){return bi.apply(this,arguments)}function bi(){return(bi=(0,re.Z)(function*(k){let N=yield pi(k.appConfig);for(;1===N.registrationStatus;)yield Wn(100),N=yield pi(k.appConfig);if(0===N.registrationStatus){const{installationEntry:K,registrationPromise:he}=yield Ie(k);return he||K}return N})).apply(this,arguments)}function pi(k){return Is(k,N=>{if(!N)throw go.create("installation-not-found");return ts(N)})}function ts(k){return function Vs(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function ji(k,N){return io.apply(this,arguments)}function io(){return(io=(0,re.Z)(function*({appConfig:k,heartbeatServiceProvider:N},K){const he=yo(k,K),Be=As(k,K),$e=N.getImmediate({optional:!0});if($e){const Mn=yield $e.getHeartbeatsHeader();Mn&&Be.append("x-firebase-client",Mn)}const vn={method:"POST",headers:Be,body:JSON.stringify({installation:{sdkVersion:no,appId:k.appId}})},un=yield cc(()=>fetch(he,vn));if(un.ok)return yl(yield un.json());throw yield vl("Generate Auth Token",un)})).apply(this,arguments)}function yo(k,{fid:N}){return`${jl(k)}/${N}/authTokens:generate`}function da(k){return qu.apply(this,arguments)}function qu(){return(qu=(0,re.Z)(function*(k,N=!1){let K;const he=yield Is(k.appConfig,$e=>{if(!xi($e))throw go.create("not-registered");const vt=$e.authToken;if(!N&&br(vt))return $e;if(1===vt.requestStatus)return K=bt(k,N),$e;{if(!navigator.onLine)throw go.create("app-offline");const vn=ys($e);return K=$n(k,vn),vn}});return K?yield K:he.authToken})).apply(this,arguments)}function bt(k,N){return dt.apply(this,arguments)}function dt(){return(dt=(0,re.Z)(function*(k,N){let K=yield $t(k.appConfig);for(;1===K.authToken.requestStatus;)yield Wn(100),K=yield $t(k.appConfig);const he=K.authToken;return 0===he.requestStatus?da(k,N):he})).apply(this,arguments)}function $t(k){return Is(k,N=>{if(!xi(N))throw go.create("not-registered");return function _i(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function $n(k,N){return ii.apply(this,arguments)}function ii(){return(ii=(0,re.Z)(function*(k,N){try{const K=yield ji(k,N),he=Object.assign(Object.assign({},N),{authToken:K});return yield _o(k.appConfig,he),K}catch(K){if(!cr(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const he=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield _o(k.appConfig,he)}else yield ca(k.appConfig);throw K}})).apply(this,arguments)}function xi(k){return void 0!==k&&2===k.registrationStatus}function br(k){return 2===k.requestStatus&&!function fr(k){const N=Date.now();return N<k.creationTime||k.creationTime+k.expiresIn<N+36e5}(k)}function ys(k){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:N})}function $r(){return($r=(0,re.Z)(function*(k){const N=k,{installationEntry:K,registrationPromise:he}=yield Ie(N);return he?he.catch(console.error):da(N).catch(console.error),K.fid})).apply(this,arguments)}function Ro(){return(Ro=(0,re.Z)(function*(k,N=!1){const K=k;return yield vs(K),(yield da(K,N)).token})).apply(this,arguments)}function vs(k){return bn.apply(this,arguments)}function bn(){return(bn=(0,re.Z)(function*(k){const{registrationPromise:N}=yield Ie(k);N&&(yield N)})).apply(this,arguments)}function uu(k){return go.create("missing-app-config-values",{valueName:k})}const Bi="installations",hc=k=>{const N=k.getProvider("app").getImmediate(),K=function Oo(k){if(!k||!k.options)throw uu("App Configuration");if(!k.name)throw uu("App Name");const N=["projectId","apiKey","appId"];for(const K of N)if(!k.options[K])throw uu(K);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(N);return{app:N,appConfig:K,heartbeatServiceProvider:(0,tt._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Fd=k=>{const N=k.getProvider("app").getImmediate(),K=(0,tt._getProvider)(N,Bi).getImmediate();return{getId:()=>function Or(k){return $r.apply(this,arguments)}(K),getToken:Be=>function Bd(k){return Ro.apply(this,arguments)}(K,Be)}};(function Md(){(0,tt._registerComponent)(new ut.wA(Bi,hc,"PUBLIC")),(0,tt._registerComponent)(new ut.wA("installations-internal",Fd,"PRIVATE"))})(),(0,tt.registerVersion)(yn,"0.6.4"),(0,tt.registerVersion)(yn,"0.6.4","esm2017");const Ds="@firebase/remote-config",jr=new nt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Eg{constructor(N,K,he,Be){this.client=N,this.storage=K,this.storageCache=he,this.logger=Be}isCachedDataFresh(N,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-K,Be=he<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Be}.`),Be}fetch(N){var K=this;return(0,re.Z)(function*(){const[he,Be]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Be&&K.isCachedDataFresh(N.cacheMaxAgeMillis,he))return Be;N.eTag=Be&&Be.eTag;const $e=yield K.client.fetch(N),vt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$e.status&&vt.push(K.storage.setLastSuccessfulFetchResponse($e)),yield Promise.all(vt),$e})()}}function Zf(k=navigator){return k.languages&&k.languages[0]||k.language}class Sg{constructor(N,K,he,Be,$e,vt){this.firebaseInstallations=N,this.sdkVersion=K,this.namespace=he,this.projectId=Be,this.apiKey=$e,this.appId=vt}fetch(N){var K=this;return(0,re.Z)(function*(){const[he,Be]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},un={sdk_version:K.sdkVersion,app_instance_id:he,app_instance_id_token:Be,app_id:K.appId,language_code:Zf()},Mn={method:"POST",headers:vn,body:JSON.stringify(un)},kn=fetch(vt,Mn),Yt=new Promise((Ra,Bl)=>{N.signal.addEventListener(()=>{const qh=new Error("The operation was aborted.");qh.name="AbortError",Bl(qh)})});let So;try{yield Promise.race([kn,Yt]),So=yield kn}catch(Ra){let Bl="fetch-client-network";throw"AbortError"===Ra?.name&&(Bl="fetch-timeout"),jr.create(Bl,{originalErrorMessage:Ra?.message})}let $s=So.status;const el=So.headers.get("ETag")||void 0;let Ys,ka;if(200===So.status){let Ra;try{Ra=yield So.json()}catch(Bl){throw jr.create("fetch-client-parse",{originalErrorMessage:Bl?.message})}Ys=Ra.entries,ka=Ra.state}if("INSTANCE_STATE_UNSPECIFIED"===ka?$s=500:"NO_CHANGE"===ka?$s=304:("NO_TEMPLATE"===ka||"EMPTY_CONFIG"===ka)&&(Ys={}),304!==$s&&200!==$s)throw jr.create("fetch-status",{httpStatus:$s});return{status:$s,eTag:el,config:Ys}})()}}class QA{constructor(N,K){this.client=N,this.storage=K}fetch(N){var K=this;return(0,re.Z)(function*(){const he=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(N,he)})()}attemptFetch(N,{throttleEndTimeMillis:K,backoffCount:he}){var Be=this;return(0,re.Z)(function*(){yield function $f(k,N){return new Promise((K,he)=>{const Be=Math.max(N-Date.now(),0),$e=setTimeout(K,Be);k.addEventListener(()=>{clearTimeout($e),he(jr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,K);try{const $e=yield Be.client.fetch(N);return yield Be.storage.deleteThrottleMetadata(),$e}catch($e){if(!function Yf(k){if(!(k instanceof nt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}($e))throw $e;const vt={throttleEndTimeMillis:Date.now()+(0,nt.$s)(he),backoffCount:he+1};return yield Be.storage.setThrottleMetadata(vt),Be.attemptFetch(N,vt)}})()}}class Yo{constructor(N,K,he,Be,$e){this.app=N,this._client=K,this._storageCache=he,this._storage=Be,this._logger=$e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ql(k,N){const K=k.target.error||void 0;return jr.create(N,{originalErrorMessage:K&&K?.message})}const Ld="app_namespace_store";class va{constructor(N,K,he,Be=function Kl(){return new Promise((k,N)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=he=>{N(ql(he,"storage-open"))},K.onsuccess=he=>{k(he.target.result)},K.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Ld,{keyPath:"compositeKey"})}}catch(K){N(jr.create("storage-open",{originalErrorMessage:K?.message}))}})}()){this.appId=N,this.appName=K,this.namespace=he,this.openDbPromise=Be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var K=this;return(0,re.Z)(function*(){const he=yield K.openDbPromise;return new Promise((Be,$e)=>{const vn=he.transaction([Ld],"readonly").objectStore(Ld),un=K.createCompositeKey(N);try{const Mn=vn.get(un);Mn.onerror=kn=>{$e(ql(kn,"storage-get"))},Mn.onsuccess=kn=>{const Yt=kn.target.result;Be(Yt?Yt.value:void 0)}}catch(Mn){$e(jr.create("storage-get",{originalErrorMessage:Mn?.message}))}})})()}set(N,K){var he=this;return(0,re.Z)(function*(){const Be=yield he.openDbPromise;return new Promise(($e,vt)=>{const un=Be.transaction([Ld],"readwrite").objectStore(Ld),Mn=he.createCompositeKey(N);try{const kn=un.put({compositeKey:Mn,value:K});kn.onerror=Yt=>{vt(ql(Yt,"storage-set"))},kn.onsuccess=()=>{$e()}}catch(kn){vt(jr.create("storage-set",{originalErrorMessage:kn?.message}))}})})()}delete(N){var K=this;return(0,re.Z)(function*(){const he=yield K.openDbPromise;return new Promise((Be,$e)=>{const vn=he.transaction([Ld],"readwrite").objectStore(Ld),un=K.createCompositeKey(N);try{const Mn=vn.delete(un);Mn.onerror=kn=>{$e(ql(kn,"storage-delete"))},Mn.onsuccess=()=>{Be()}}catch(Mn){$e(jr.create("storage-delete",{originalErrorMessage:Mn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class HA{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,re.Z)(function*(){const K=N.storage.getLastFetchStatus(),he=N.storage.getLastSuccessfulFetchTimestampMillis(),Be=N.storage.getActiveConfig(),$e=yield K;$e&&(N.lastFetchStatus=$e);const vt=yield he;vt&&(N.lastSuccessfulFetchTimestampMillis=vt);const vn=yield Be;vn&&(N.activeConfig=vn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Nd(){return du.apply(this,arguments)}function du(){return(du=(0,re.Z)(function*(){if(!(0,nt.hl)())return!1;try{return yield(0,nt.eu)()}catch{return!1}})).apply(this,arguments)}let Th,Zl;!function uv(){(0,tt._registerComponent)(new ut.wA("remote-config",function k(N,{instanceIdentifier:K}){const he=N.getProvider("app").getImmediate(),Be=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!(0,nt.hl)())throw jr.create("indexed-db-unavailable");const{projectId:$e,apiKey:vt,appId:vn}=he.options;if(!$e)throw jr.create("registration-project-id");if(!vt)throw jr.create("registration-api-key");if(!vn)throw jr.create("registration-app-id");const un=new va(vn,he.name,K=K||"firebase"),Mn=new HA(un),kn=new Oe.Yd(Ds);kn.logLevel=Oe.in.ERROR;const Yt=new Sg(Be,tt.SDK_VERSION,K,$e,vt,vn),So=new QA(Yt,un),$s=new Eg(So,un,Mn,kn),el=new Yo(he,$s,Mn,un,kn);return function ur(k){const N=(0,nt.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(el),el},"PUBLIC").setMultipleInstances(!0)),(0,tt.registerVersion)(Ds,"0.4.4"),(0,tt.registerVersion)(Ds,"0.4.4","esm2017")}();const Ac=new WeakMap,Bh=new WeakMap,jA=new WeakMap,wa=new WeakMap,hu=new WeakMap;let Pd={get(k,N,K){if(k instanceof IDBTransaction){if("done"===N)return Bh.get(k);if("objectStoreNames"===N)return k.objectStoreNames||jA.get(k);if("store"===N)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return fu(k[N])},set:(k,N,K)=>(k[N]=K,!0),has:(k,N)=>k instanceof IDBTransaction&&("done"===N||"store"===N)||N in k};function $u(k){return"function"==typeof k?function vo(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GA(){return Zl||(Zl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...N){return k.apply(Ud(this),N),fu(Ac.get(this))}:function(...N){return fu(k.apply(Ud(this),N))}:function(N,...K){const he=k.call(Ud(this),N,...K);return jA.set(he,N.sort?N.sort():[N]),fu(he)}}(k):(k instanceof IDBTransaction&&function Au(k){if(Bh.has(k))return;const N=new Promise((K,he)=>{const Be=()=>{k.removeEventListener("complete",$e),k.removeEventListener("error",vt),k.removeEventListener("abort",vt)},$e=()=>{K(),Be()},vt=()=>{he(k.error||new DOMException("AbortError","AbortError")),Be()};k.addEventListener("complete",$e),k.addEventListener("error",vt),k.addEventListener("abort",vt)});Bh.set(k,N)}(k),((k,N)=>N.some(K=>k instanceof K))(k,function Wf(){return Th||(Th=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Pd):k)}function fu(k){if(k instanceof IDBRequest)return function w_(k){const N=new Promise((K,he)=>{const Be=()=>{k.removeEventListener("success",$e),k.removeEventListener("error",vt)},$e=()=>{K(fu(k.result)),Be()},vt=()=>{he(k.error),Be()};k.addEventListener("success",$e),k.addEventListener("error",vt)});return N.then(K=>{K instanceof IDBCursor&&Ac.set(K,k)}).catch(()=>{}),hu.set(N,k),N}(k);if(wa.has(k))return wa.get(k);const N=$u(k);return N!==k&&(wa.set(k,N),hu.set(N,k)),N}const Ud=k=>hu.get(k);function wo(k,N,{blocked:K,upgrade:he,blocking:Be,terminated:$e}={}){const vt=indexedDB.open(k,N),vn=fu(vt);return he&&vt.addEventListener("upgradeneeded",un=>{he(fu(vt.result),un.oldVersion,un.newVersion,fu(vt.transaction))}),K&&vt.addEventListener("blocked",()=>K()),vn.then(un=>{$e&&un.addEventListener("close",()=>$e()),Be&&un.addEventListener("versionchange",()=>Be())}).catch(()=>{}),vn}function b_(k,{blocked:N}={}){const K=indexedDB.deleteDatabase(k);return N&&K.addEventListener("blocked",()=>N()),fu(K).then(()=>{})}const zA=["get","getKey","getAll","getAllKeys","count"],Jo=["put","add","delete","clear"],Ts=new Map;function pu(k,N){if(!(k instanceof IDBDatabase)||N in k||"string"!=typeof N)return;if(Ts.get(N))return Ts.get(N);const K=N.replace(/FromIndex$/,""),he=N!==K,Be=Jo.includes(K);if(!(K in(he?IDBIndex:IDBObjectStore).prototype)||!Be&&!zA.includes(K))return;const $e=function(){var vt=(0,re.Z)(function*(vn,...un){const Mn=this.transaction(vn,Be?"readwrite":"readonly");let kn=Mn.store;return he&&(kn=kn.index(un.shift())),(yield Promise.all([kn[K](...un),Be&&Mn.done]))[0]});return function(un){return vt.apply(this,arguments)}}();return Ts.set(N,$e),$e}!function hv(k){Pd=k(Pd)}(k=>({...k,get:(N,K,he)=>pu(N,K)||k.get(N,K,he),has:(N,K)=>!!pu(N,K)||k.has(N,K)}));const gu="/firebase-messaging-sw.js",Yu="/firebase-cloud-messaging-push-scope",Wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$l="google.c.a.c_id",Si="google.c.a.c_l",fc="google.c.a.ts",Lr="google.c.a.e";var ba=(()=>{return(k=ba||(ba={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",ba;var k})();function Ki(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jf(k){const K=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(K),Be=new Uint8Array(he.length);for(let $e=0;$e<he.length;++$e)Be[$e]=he.charCodeAt($e);return Be}const bo="fcm_token_details_db",Pt="fcm_token_object_Store";function Zi(k){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,re.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($e=>$e.name).includes(bo))return null;let N=null;return(yield wo(bo,5,{upgrade:(he=(0,re.Z)(function*(Be,$e,vt,vn){var un;if($e<2||!Be.objectStoreNames.contains(Pt))return;const Mn=vn.objectStore(Pt),kn=yield Mn.index("fcmSenderId").get(k);if(yield Mn.clear(),kn)if(2===$e){const Yt=kn;if(!Yt.auth||!Yt.p256dh||!Yt.endpoint)return;N={token:Yt.fcmToken,createTime:null!==(un=Yt.createTime)&&void 0!==un?un:Date.now(),subscriptionOptions:{auth:Yt.auth,p256dh:Yt.p256dh,endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:"string"==typeof Yt.vapidKey?Yt.vapidKey:Ki(Yt.vapidKey)}}}else if(3===$e){const Yt=kn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:Ki(Yt.auth),p256dh:Ki(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:Ki(Yt.vapidKey)}}}else if(4===$e){const Yt=kn;N={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:Ki(Yt.auth),p256dh:Ki(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:Ki(Yt.vapidKey)}}}}),function($e,vt,vn,un){return he.apply(this,arguments)})})).close(),yield b_(bo),yield b_("fcm_vapid_details_db"),yield b_("undefined"),Mg(N)?N:null;var he}),Tr.apply(this,arguments)}function Mg(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Ca="firebase-messaging-store";let js=null;function El(){return js||(js=wo("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(Ca)}})),js}function Mh(k){return xa.apply(this,arguments)}function xa(){return(xa=(0,re.Z)(function*(k){const N=Dl(k),he=yield(yield El()).transaction(Ca).objectStore(Ca).get(N);if(he)return he;{const Be=yield Zi(k.appConfig.senderId);if(Be)return yield Sl(k,Be),Be}})).apply(this,arguments)}function Sl(k,N){return Il.apply(this,arguments)}function Il(){return(Il=(0,re.Z)(function*(k,N){const K=Dl(k),Be=(yield El()).transaction(Ca,"readwrite");return yield Be.objectStore(Ca).put(N,K),yield Be.done,N})).apply(this,arguments)}function ws(k){return zr.apply(this,arguments)}function zr(){return(zr=(0,re.Z)(function*(k){const N=Dl(k),he=(yield El()).transaction(Ca,"readwrite");yield he.objectStore(Ca).delete(N),yield he.done})).apply(this,arguments)}function Dl({appConfig:k}){return k.appId}const as=new nt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yl(k,N){return kg.apply(this,arguments)}function kg(){return(kg=(0,re.Z)(function*(k,N){const K=yield Ju(k),he=Rg(N),Be={method:"POST",headers:K,body:JSON.stringify(he)};let $e;try{$e=yield(yield fetch(Hc(k.appConfig),Be)).json()}catch(vt){throw as.create("token-subscribe-failed",{errorInfo:vt?.toString()})}if($e.error)throw as.create("token-subscribe-failed",{errorInfo:$e.error.message});if(!$e.token)throw as.create("token-subscribe-no-token");return $e.token})).apply(this,arguments)}function Wu(k,N){return pc.apply(this,arguments)}function pc(){return(pc=(0,re.Z)(function*(k,N){const K=yield Ju(k),he=Rg(N.subscriptionOptions),Be={method:"PATCH",headers:K,body:JSON.stringify(he)};let $e;try{$e=yield(yield fetch(`${Hc(k.appConfig)}/${N.token}`,Be)).json()}catch(vt){throw as.create("token-update-failed",{errorInfo:vt?.toString()})}if($e.error)throw as.create("token-update-failed",{errorInfo:$e.error.message});if(!$e.token)throw as.create("token-update-no-token");return $e.token})).apply(this,arguments)}function Xf(k,N){return mu.apply(this,arguments)}function mu(){return(mu=(0,re.Z)(function*(k,N){const he={method:"DELETE",headers:yield Ju(k)};try{const $e=yield(yield fetch(`${Hc(k.appConfig)}/${N}`,he)).json();if($e.error)throw as.create("token-unsubscribe-failed",{errorInfo:$e.error.message})}catch(Be){throw as.create("token-unsubscribe-failed",{errorInfo:Be?.toString()})}})).apply(this,arguments)}function Hc({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Ju(k){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,re.Z)(function*({appConfig:k,installations:N}){const K=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function Rg({p256dh:k,auth:N,endpoint:K,vapidKey:he}){const Be={web:{endpoint:K,auth:N,p256dh:k}};return he!==Wi&&(Be.web.applicationPubKey=he),Be}const Ea=6048e5;function ep(k){return kh.apply(this,arguments)}function kh(){return(kh=(0,re.Z)(function*(k){const N=yield Xo(k.swRegistration,k.vapidKey),K={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:Ki(N.getKey("auth")),p256dh:Ki(N.getKey("p256dh"))},he=yield Mh(k.firebaseDependencies);if(he){if(Nr(he.subscriptionOptions,K))return Date.now()>=he.createTime+Ea?Lg(k,{token:he.token,createTime:Date.now(),subscriptionOptions:K}):he.token;try{yield Xf(k.firebaseDependencies,he.token)}catch(Be){console.warn(Be)}return Ng(k.firebaseDependencies,K)}return Ng(k.firebaseDependencies,K)})).apply(this,arguments)}function Og(k){return _u.apply(this,arguments)}function _u(){return(_u=(0,re.Z)(function*(k){const N=yield Mh(k.firebaseDependencies);N&&(yield Xf(k.firebaseDependencies,N.token),yield ws(k.firebaseDependencies));const K=yield k.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function Lg(k,N){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,re.Z)(function*(k,N){try{const K=yield Wu(k.firebaseDependencies,N),he=Object.assign(Object.assign({},N),{token:K,createTime:Date.now()});return yield Sl(k.firebaseDependencies,he),K}catch(K){throw yield Og(k),K}})).apply(this,arguments)}function Ng(k,N){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,re.Z)(function*(k,N){const he={token:yield Yl(k,N),createTime:Date.now(),subscriptionOptions:N};return yield Sl(k,he),he.token})).apply(this,arguments)}function Xo(k,N){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,re.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jf(N)})})).apply(this,arguments)}function Nr(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function ZA(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ed(k,N){if(!N.notification)return;k.notification={};const K=N.notification.title;K&&(k.notification.title=K);const he=N.notification.body;he&&(k.notification.body=he);const Be=N.notification.image;Be&&(k.notification.image=Be);const $e=N.notification.icon;$e&&(k.notification.icon=$e)}(N,k),function Pg(k,N){!N.data||(k.data=N.data)}(N,k),function Oh(k,N){var K,he,Be,$e,vt;if(!(N.fcmOptions||null!==(K=N.notification)&&void 0!==K&&K.click_action))return;k.fcmOptions={};const vn=null!==(Be=null===(he=N.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Be?Be:null===($e=N.notification)||void 0===$e?void 0:$e.click_action;vn&&(k.fcmOptions.link=vn);const un=null===(vt=N.fcmOptions)||void 0===vt?void 0:vt.analytics_label;un&&(k.fcmOptions.analyticsLabel=un)}(N,k),N}function tp(k){return"object"==typeof k&&!!k&&$l in k}function Ug(k,N){const K=[];for(let he=0;he<k.length;he++)K.push(k.charAt(he)),he<N.length&&K.push(N.charAt(he));return K.join("")}function Qd(k){return as.create("missing-app-config-values",{valueName:k})}Ug("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ug("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gc{constructor(N,K,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Be=function yu(k){if(!k||!k.options)throw Qd("App Configuration Object");if(!k.name)throw Qd("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:K}=k;for(const he of N)if(!K[he])throw Qd(he);return{appName:k.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Be,installations:K,analyticsProvider:he}}_delete(){return Promise.resolve()}}function td(k){return nd.apply(this,arguments)}function nd(){return(nd=(0,re.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(gu,{scope:Yu}),k.swRegistration.update().catch(()=>{})}catch(N){throw as.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Qg(k,N){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,re.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield td(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw as.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function Hd(k,N){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,re.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=Wi)})).apply(this,arguments)}function vu(){return(vu=(0,re.Z)(function*(k,N){if(!navigator)throw as.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw as.create("permission-blocked");return yield Hd(k,N?.vapidKey),yield Qg(k,N?.serviceWorkerRegistration),ep(k)})).apply(this,arguments)}function id(k,N,K){return np.apply(this,arguments)}function np(){return(np=(0,re.Z)(function*(k,N,K){const he=Hg(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:K[$l],message_name:K[Si],message_time:K[fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hg(k){switch(k){case ba.NOTIFICATION_CLICKED:return"notification_open";case ba.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gg(){return(Gg=(0,re.Z)(function*(k,N){const K=N.data;if(!K.isFirebaseMessaging)return;k.onMessageHandler&&K.messageType===ba.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ZA(K)):k.onMessageHandler.next(ZA(K)));const he=K.data;tp(he)&&"1"===he[Lr]&&(yield id(k,K.messageType,he))})).apply(this,arguments)}const ha="@firebase/messaging",C_=k=>{const N=new gc(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function Vg(k,N){return Gg.apply(this,arguments)}(N,K)),N},wu=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:he=>function $A(k,N){return vu.apply(this,arguments)}(N,he)}};function Vd(){return rd.apply(this,arguments)}function rd(){return(rd=(0,re.Z)(function*(){try{yield(0,nt.eu)()}catch{return!1}return typeof window<"u"&&(0,nt.hl)()&&(0,nt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function YA(){(0,tt._registerComponent)(new ut.wA("messaging",C_,"PUBLIC")),(0,tt._registerComponent)(new ut.wA("messaging-internal",wu,"PRIVATE")),(0,tt.registerVersion)(ha,"0.12.4"),(0,tt.registerVersion)(ha,"0.12.4","esm2017")}();const Da="analytics",jg="firebase_id",E_="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ph="https://www.googletagmanager.com/gtag/js",ls=new Oe.Yd("@firebase/analytics"),Lo=new nt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sp(k){if(!k.startsWith(Ph)){const N=Lo.create("invalid-gtag-resource",{gtagURL:k});return ls.warn(N.message),""}return k}function zd(k){return Promise.all(k.map(N=>N.catch(K=>K)))}function WA(k,N){const K=function Uh(k,N){let K;return window.trustedTypes&&(K=window.trustedTypes.createPolicy(k,N)),K}("firebase-js-sdk-policy",{createScriptURL:sp}),he=document.createElement("script"),Be=`${Ph}?l=${k}&id=${N}`;he.src=K?K?.createScriptURL(Be):Be,he.async=!0,document.head.appendChild(he)}function qd(k,N,K,he,Be,$e){return op.apply(this,arguments)}function op(){return(op=(0,re.Z)(function*(k,N,K,he,Be,$e){const vt=he[Be];try{if(vt)yield N[vt];else{const un=(yield zd(K)).find(Mn=>Mn.measurementId===Be);un&&(yield N[un.appId])}}catch(vn){ls.error(vn)}k("config",Be,$e)})).apply(this,arguments)}function S_(k,N,K,he,Be){return JA.apply(this,arguments)}function JA(){return(JA=(0,re.Z)(function*(k,N,K,he,Be){try{let $e=[];if(Be&&Be.send_to){let vt=Be.send_to;Array.isArray(vt)||(vt=[vt]);const vn=yield zd(K);for(const un of vt){const Mn=vn.find(Yt=>Yt.measurementId===un),kn=Mn&&N[Mn.appId];if(!kn){$e=[];break}$e.push(kn)}}0===$e.length&&($e=Object.values(N)),yield Promise.all($e),k("event",he,Be||{})}catch($e){ls.error($e)}})).apply(this,arguments)}function ef(k){const N=window.document.getElementsByTagName("script");for(const K of Object.values(N))if(K.src&&K.src.includes(Ph)&&K.src.includes(k))return K;return null}const Aa=new class ap{constructor(N={},K=1e3){this.throttleMetadata=N,this.intervalMillis=K}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,K){this.throttleMetadata[N]=K}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Zd(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function is(k){return mc.apply(this,arguments)}function mc(){return(mc=(0,re.Z)(function*(k){var N;const{appId:K,apiKey:he}=k,Be={method:"GET",headers:Zd(he)},$e=E_.replace("{app-id}",K),vt=yield fetch($e,Be);if(200!==vt.status&&304!==vt.status){let vn="";try{const un=yield vt.json();null!==(N=un.error)&&void 0!==N&&N.message&&(vn=un.error.message)}catch{}throw Lo.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:vn})}return vt.json()})).apply(this,arguments)}function Qh(k){return tf.apply(this,arguments)}function tf(){return(tf=(0,re.Z)(function*(k,N=Aa,K){const{appId:he,apiKey:Be,measurementId:$e}=k.options;if(!he)throw Lo.create("no-app-id");if(!Be){if($e)return{measurementId:$e,appId:he};throw Lo.create("no-api-key")}const vt=N.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new ww;return setTimeout((0,re.Z)(function*(){vn.abort()}),void 0!==K?K:6e4),bu({appId:he,apiKey:Be,measurementId:$e},vt,vn,N)})).apply(this,arguments)}function bu(k,N,K){return I_.apply(this,arguments)}function I_(){return(I_=(0,re.Z)(function*(k,{throttleEndTimeMillis:N,backoffCount:K},he,Be=Aa){var $e;const{appId:vt,measurementId:vn}=k;try{yield D_(he,N)}catch(un){if(vn)return ls.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:vt,measurementId:vn};throw un}try{const un=yield is(k);return Be.deleteThrottleMetadata(vt),un}catch(un){const Mn=un;if(!qr(Mn)){if(Be.deleteThrottleMetadata(vt),vn)return ls.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:vt,measurementId:vn};throw un}const kn=503===Number(null===($e=Mn?.customData)||void 0===$e?void 0:$e.httpStatus)?(0,nt.$s)(K,Be.intervalMillis,30):(0,nt.$s)(K,Be.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+kn,backoffCount:K+1};return Be.setThrottleMetadata(vt,Yt),ls.debug(`Calling attemptFetch again in ${kn} millis`),bu(k,Yt,he,Be)}})).apply(this,arguments)}function D_(k,N){return new Promise((K,he)=>{const Be=Math.max(N-Date.now(),0),$e=setTimeout(K,Be);k.addEventListener(()=>{clearTimeout($e),he(Lo.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function qr(k){if(!(k instanceof nt.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ww{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let nf,M_;function _c(){return(_c=(0,re.Z)(function*(k,N,K,he,Be){if(Be&&Be.global)k("event",K,he);else{const $e=yield N;k("event",K,Object.assign(Object.assign({},he),{send_to:$e}))}})).apply(this,arguments)}function zn(k){M_=k}function Ta(k){nf=k}function pn(){return sn.apply(this,arguments)}function sn(){return(sn=(0,re.Z)(function*(){if(!(0,nt.hl)())return ls.warn(Lo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,nt.eu)()}catch(k){return ls.warn(Lo.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function Vh(){return(Vh=(0,re.Z)(function*(k,N,K,he,Be,$e,vt){var vn;const un=Qh(k);un.then($s=>{K[$s.measurementId]=$s.appId,k.options.measurementId&&$s.measurementId!==k.options.measurementId&&ls.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${$s.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($s=>ls.error($s)),N.push(un);const Mn=pn().then($s=>{if($s)return he.getId()}),[kn,Yt]=yield Promise.all([un,Mn]);ef($e)||WA($e,kn.measurementId),M_&&(Be("consent","default",M_),zn(void 0)),Be("js",new Date);const So=null!==(vn=vt?.config)&&void 0!==vn?vn:{};return So.origin="firebase",So.update=!0,null!=Yt&&(So[jg]=Yt),Be("config",kn.measurementId,So),nf&&(Be("set",nf),Ta(void 0)),kn.measurementId})).apply(this,arguments)}class Cu{constructor(N){this.app=N}_delete(){return delete gr[this.app.options.appId],Promise.resolve()}}let gr={},k_=[];const R_={};let Gh,ea,od="dataLayer",Cn=!1;function up(k,N,K){!function qg(){const k=[];if((0,nt.ru)()&&k.push("This is a browser extension environment."),(0,nt.zI)()||k.push("Cookies are not available."),k.length>0){const N=k.map((he,Be)=>`(${Be+1}) ${he}`).join(" "),K=Lo.create("invalid-analytics-context",{errorInfo:N});ls.warn(K.message)}}();const he=k.options.appId;if(!he)throw Lo.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Lo.create("no-api-key");ls.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gr[he])throw Lo.create("already-exists",{id:he});if(!Cn){!function Wl(k){let N=[];Array.isArray(window[k])?N=window[k]:window[k]=N}(od);const{wrappedGtag:$e,gtagCore:vt}=function XA(k,N,K,he,Be){let $e=function(...vt){window[he].push(arguments)};return window[Be]&&"function"==typeof window[Be]&&($e=window[Be]),window[Be]=function Kd(k,N,K,he){function $e(){return($e=(0,re.Z)(function*(vt,...vn){try{if("event"===vt){const[un,Mn]=vn;yield S_(k,N,K,un,Mn)}else if("config"===vt){const[un,Mn]=vn;yield qd(k,N,K,he,un,Mn)}else if("consent"===vt){const[un]=vn;k("consent","update",un)}else if("get"===vt){const[un,Mn,kn]=vn;k("get",un,Mn,kn)}else if("set"===vt){const[un]=vn;k("set",un)}else k(vt,...vn)}catch(un){ls.error(un)}})).apply(this,arguments)}return function Be(vt){return $e.apply(this,arguments)}}($e,k,N,K),{gtagCore:$e,wrappedGtag:window[Be]}}(gr,k_,R_,od,"gtag");ea=$e,Gh=vt,Cn=!0}return gr[he]=function _r(k,N,K,he,Be,$e,vt){return Vh.apply(this,arguments)}(k,k_,R_,N,Gh,od,K),new Cu(k)}function Pr(){return xu.apply(this,arguments)}function xu(){return(xu=(0,re.Z)(function*(){if((0,nt.ru)()||!(0,nt.zI)()||!(0,nt.hl)())return!1;try{return yield(0,nt.eu)()}catch{return!1}})).apply(this,arguments)}const qs="@firebase/analytics";!function yc(){(0,tt._registerComponent)(new ut.wA(Da,(N,{options:K})=>up(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,tt._registerComponent)(new ut.wA("analytics-internal",function k(N){try{const K=N.getProvider(Da).getImmediate();return{logEvent:(he,Be,$e)=>function $d(k,N,K,he){k=(0,nt.m9)(k),function gv(k,N,K,he,Be){return _c.apply(this,arguments)}(ea,gr[k.app.options.appId],N,K,he).catch(Be=>ls.error(Be))}(K,he,Be,$e)}}catch(K){throw Lo.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,tt.registerVersion)(qs,"0.10.0"),(0,tt.registerVersion)(qs,"0.10.0","esm2017")}();var Co=ie(4408),ld=ie(7565);const fs=new class jh extends ld.v{}(class Wr extends Co.o{constructor(N,K){super(N,K),this.scheduler=N,this.work=K}schedule(N,K=0){return K>0?super.schedule(N,K):(this.delay=K,this.state=N,this.scheduler.flush(this),this)}execute(N,K){return K>0||this.closed?super.execute(N,K):this._execute(N,K)}requestAsyncId(N,K,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(N,K,he):N.flush(this)}});var Ks=ie(4986),yi=ie(8505),xo=ie(9468),Yd=ie(5363);const Zg=new s.GfV("7.5.0"),qc="__angularfire_symbol__analyticsIsSupportedValue",No="__angularfire_symbol__analyticsIsSupported",Xa="__angularfire_symbol__remoteConfigIsSupportedValue",Cr="__angularfire_symbol__remoteConfigIsSupported",Po="__angularfire_symbol__messagingIsSupportedValue",Wd="__angularfire_symbol__messagingIsSupported";function cd(k,N,K){if(N){if(1===N.length)return N[0];const $e=N.filter(vt=>vt.app===K);if(1===$e.length)return $e[0]}return K.container.getProvider(k).getImmediate({optional:!0})}globalThis[No]||(globalThis[No]=Pr().then(k=>globalThis[qc]=k).catch(()=>globalThis[qc]=!1)),globalThis[Wd]||(globalThis[Wd]=Vd().then(k=>globalThis[Po]=k).catch(()=>globalThis[Po]=!1)),globalThis[Cr]||(globalThis[Cr]=Nd().then(k=>globalThis[Xa]=k).catch(()=>globalThis[Xa]=!1));const Jd=(k,N)=>{const K=N?[N]:(0,Se.C6)(),he=[];return K.forEach(Be=>{Be.container.getProvider(k).instances.forEach(vt=>{he.includes(vt)||he.push(vt)})}),he};function gi(){}class Xd{constructor(N,K=fs){this.zone=N,this.delegate=K}now(){return this.delegate.now()}schedule(N,K,he){const Be=this.zone;return this.delegate.schedule(function(vt){Be.runGuarded(()=>{N.apply(this,[vt])})},K,he)}}class O_{constructor(N){this.zone=N,this.task=null}call(N,K){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gi,{},gi,gi)),K.pipe((0,yi.b)({next:he,complete:he,error:he})).subscribe(N).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Iu=(()=>{class k{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new Xd(Zone.current)),this.insideAngular=K.run(()=>new Xd(Zone.current,Ks.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(K){return new(K||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Du(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Tu(k){return Du(),function L_(k){return function(K){return(K=K.lift(new O_(k.ngZone))).pipe((0,xo.R)(k.outsideAngular),(0,Yd.Q)(k.insideAngular))}}(Du())(k)}},2090:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{$s:()=>ca,BH:()=>rn,DV:()=>wl,Dv:()=>Ni,G6:()=>no,GJ:()=>cc,L:()=>at,LL:()=>_l,Pz:()=>ti,Sg:()=>Bn,UG:()=>st,UI:()=>kr,US:()=>ut,Wj:()=>qo,Wl:()=>yl,Yr:()=>Ir,ZB:()=>me,ZR:()=>Ss,aH:()=>Wt,b$:()=>Kt,cI:()=>jl,dS:()=>cu,eu:()=>ko,g5:()=>re,gK:()=>Hs,gQ:()=>zo,h$:()=>Fe,hl:()=>ki,hu:()=>Se,jU:()=>Mt,lb:()=>Vi,m9:()=>ua,ne:()=>oi,p$:()=>le,pd:()=>dc,r3:()=>Us,ru:()=>gt,tV:()=>ae,uI:()=>Zn,ug:()=>Gi,vZ:()=>Qs,w1:()=>yn,w9:()=>As,xO:()=>Pc,xb:()=>Zt,z$:()=>ln,zI:()=>Mr,zd:()=>Kr});const Se=function(Ie,Ce){if(!Ie)throw re(Ce)},re=function(Ie){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ie)},tt=function(Ie){const Ce=[];let Le=0;for(let St=0;St<Ie.length;St++){let je=Ie.charCodeAt(St);je<128?Ce[Le++]=je:je<2048?(Ce[Le++]=je>>6|192,Ce[Le++]=63&je|128):55296==(64512&je)&&St+1<Ie.length&&56320==(64512&Ie.charCodeAt(St+1))?(je=65536+((1023&je)<<10)+(1023&Ie.charCodeAt(++St)),Ce[Le++]=je>>18|240,Ce[Le++]=je>>12&63|128,Ce[Le++]=je>>6&63|128,Ce[Le++]=63&je|128):(Ce[Le++]=je>>12|224,Ce[Le++]=je>>6&63|128,Ce[Le++]=63&je|128)}return Ce},ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,Ce){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Le=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,St=[];for(let je=0;je<Ie.length;je+=3){const Ln=Ie[je],jn=je+1<Ie.length,bi=jn?Ie[je+1]:0,pi=je+2<Ie.length,ts=pi?Ie[je+2]:0;let io=(15&bi)<<2|ts>>6,yo=63&ts;pi||(yo=64,jn||(io=64)),St.push(Le[Ln>>2],Le[(3&Ln)<<4|bi>>4],Le[io],Le[yo])}return St.join("")},encodeString(Ie,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Ie):this.encodeByteArray(tt(Ie),Ce)},decodeString(Ie,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Ie):function(Ie){const Ce=[];let Le=0,St=0;for(;Le<Ie.length;){const je=Ie[Le++];if(je<128)Ce[St++]=String.fromCharCode(je);else if(je>191&&je<224){const Ln=Ie[Le++];Ce[St++]=String.fromCharCode((31&je)<<6|63&Ln)}else if(je>239&&je<365){const pi=((7&je)<<18|(63&Ie[Le++])<<12|(63&Ie[Le++])<<6|63&Ie[Le++])-65536;Ce[St++]=String.fromCharCode(55296+(pi>>10)),Ce[St++]=String.fromCharCode(56320+(1023&pi))}else{const Ln=Ie[Le++],jn=Ie[Le++];Ce[St++]=String.fromCharCode((15&je)<<12|(63&Ln)<<6|63&jn)}}return Ce.join("")}(this.decodeStringToByteArray(Ie,Ce))},decodeStringToByteArray(Ie,Ce){this.init_();const Le=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,St=[];for(let je=0;je<Ie.length;){const Ln=Le[Ie.charAt(je++)],bi=je<Ie.length?Le[Ie.charAt(je)]:0;++je;const ts=je<Ie.length?Le[Ie.charAt(je)]:64;++je;const ji=je<Ie.length?Le[Ie.charAt(je)]:64;if(++je,null==Ln||null==bi||null==ts||null==ji)throw new Oe;St.push(Ln<<2|bi>>4),64!==ts&&(St.push(bi<<4&240|ts>>2),64!==ji&&St.push(ts<<6&192|ji))}return St},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(Ie){const Ce=tt(Ie);return ut.encodeByteArray(Ce,!0)},at=function(Ie){return Fe(Ie).replace(/\./g,"")},ae=function(Ie){try{return ut.decodeString(Ie,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function le(Ie){return me(void 0,Ie)}function me(Ie,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return Ce}for(const Le in Ce)!Ce.hasOwnProperty(Le)||!We(Le)||(Ie[Le]=me(Ie[Le],Ce[Le]));return Ie}function We(Ie){return"__proto__"!==Ie}const xt=()=>{try{return function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ce=Ie&&ae(Ie[1]);return Ce&&JSON.parse(Ce)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},Wt=()=>{var Ie;return null===(Ie=xt())||void 0===Ie?void 0:Ie.config},ti=Ie=>{var Ce;return null===(Ce=xt())||void 0===Ce?void 0:Ce[`_${Ie}`]};class rn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,Le)=>{this.resolve=Ce,this.reject=Le})}wrapCallback(Ce){return(Le,St)=>{Le?this.reject(Le):this.resolve(St),"function"==typeof Ce&&(this.promise.catch(()=>{}),1===Ce.length?Ce(Le):Ce(Le,St))}}}function Bn(Ie,Ce){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const St=Ce||"demo-project",je=Ie.iat||0,Ln=Ie.sub||Ie.user_id;if(!Ln)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jn=Object.assign({iss:`https://securetoken.google.com/${St}`,aud:St,iat:je,exp:je+3600,auth_time:je,sub:Ln,user_id:Ln,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(jn)),""].join(".")}function ln(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function st(){var Ie;const Ce=null===(Ie=xt())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===Ce)return!0;if("browser"===Ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function gt(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yn(){const Ie=ln();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function Ir(){return!1}function no(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ki(){try{return"object"==typeof indexedDB}catch{return!1}}function ko(){return new Promise((Ie,Ce)=>{try{let Le=!0;const St="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(St);je.onsuccess=()=>{je.result.close(),Le||self.indexedDB.deleteDatabase(St),Ie(!0)},je.onupgradeneeded=()=>{Le=!1},je.onerror=()=>{var Ln;Ce((null===(Ln=je.error)||void 0===Ln?void 0:Ln.message)||"")}}catch(Le){Ce(Le)}})}function Mr(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ss extends Error{constructor(Ce,Le,St){super(Le),this.code=Ce,this.customData=St,this.name="FirebaseError",Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(Ce,Le,St){this.service=Ce,this.serviceName=Le,this.errors=St}create(Ce,...Le){const St=Le[0]||{},je=`${this.service}/${Ce}`,Ln=this.errors[Ce],jn=Ln?function go(Ie,Ce){return Ie.replace(cr,(Le,St)=>{const je=Ce[St];return null!=je?String(je):`<${St}?>`})}(Ln,St):"Error";return new Ss(je,`${this.serviceName}: ${jn} (${je}).`,St)}}const cr=/\{\$([^}]+)}/g;function jl(Ie){return JSON.parse(Ie)}function yl(Ie){return JSON.stringify(Ie)}const vl=function(Ie){let Ce={},Le={},St={},je="";try{const Ln=Ie.split(".");Ce=jl(ae(Ln[0])||""),Le=jl(ae(Ln[1])||""),je=Ln[2],St=Le.d||{},delete Le.d}catch{}return{header:Ce,claims:Le,data:St,signature:je}},As=function(Ie){const Le=vl(Ie).claims;return!!Le&&"object"==typeof Le&&Le.hasOwnProperty("iat")},cc=function(Ie){const Ce=vl(Ie).claims;return"object"==typeof Ce&&!0===Ce.admin};function Us(Ie,Ce){return Object.prototype.hasOwnProperty.call(Ie,Ce)}function wl(Ie,Ce){if(Object.prototype.hasOwnProperty.call(Ie,Ce))return Ie[Ce]}function Zt(Ie){for(const Ce in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Ce))return!1;return!0}function kr(Ie,Ce,Le){const St={};for(const je in Ie)Object.prototype.hasOwnProperty.call(Ie,je)&&(St[je]=Ce.call(Le,Ie[je],je,Ie));return St}function Qs(Ie,Ce){if(Ie===Ce)return!0;const Le=Object.keys(Ie),St=Object.keys(Ce);for(const je of Le){if(!St.includes(je))return!1;const Ln=Ie[je],jn=Ce[je];if(Wn(Ln)&&Wn(jn)){if(!Qs(Ln,jn))return!1}else if(Ln!==jn)return!1}for(const je of St)if(!Le.includes(je))return!1;return!0}function Wn(Ie){return null!==Ie&&"object"==typeof Ie}function Pc(Ie){const Ce=[];for(const[Le,St]of Object.entries(Ie))Array.isArray(St)?St.forEach(je=>{Ce.push(encodeURIComponent(Le)+"="+encodeURIComponent(je))}):Ce.push(encodeURIComponent(Le)+"="+encodeURIComponent(St));return Ce.length?"&"+Ce.join("&"):""}function Kr(Ie){const Ce={};return Ie.replace(/^\?/,"").split("&").forEach(St=>{if(St){const[je,Ln]=St.split("=");Ce[decodeURIComponent(je)]=decodeURIComponent(Ln)}}),Ce}function dc(Ie){const Ce=Ie.indexOf("?");if(!Ce)return"";const Le=Ie.indexOf("#",Ce);return Ie.substring(Ce,Le>0?Le:void 0)}class zo{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ce=1;Ce<this.blockSize;++Ce)this.pad_[Ce]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ce,Le){Le||(Le=0);const St=this.W_;if("string"==typeof Ce)for(let ji=0;ji<16;ji++)St[ji]=Ce.charCodeAt(Le)<<24|Ce.charCodeAt(Le+1)<<16|Ce.charCodeAt(Le+2)<<8|Ce.charCodeAt(Le+3),Le+=4;else for(let ji=0;ji<16;ji++)St[ji]=Ce[Le]<<24|Ce[Le+1]<<16|Ce[Le+2]<<8|Ce[Le+3],Le+=4;for(let ji=16;ji<80;ji++){const io=St[ji-3]^St[ji-8]^St[ji-14]^St[ji-16];St[ji]=4294967295&(io<<1|io>>>31)}let ts,Vs,je=this.chain_[0],Ln=this.chain_[1],jn=this.chain_[2],bi=this.chain_[3],pi=this.chain_[4];for(let ji=0;ji<80;ji++){ji<40?ji<20?(ts=bi^Ln&(jn^bi),Vs=1518500249):(ts=Ln^jn^bi,Vs=1859775393):ji<60?(ts=Ln&jn|bi&(Ln|jn),Vs=2400959708):(ts=Ln^jn^bi,Vs=3395469782);const io=(je<<5|je>>>27)+ts+pi+Vs+St[ji]&4294967295;pi=bi,bi=jn,jn=4294967295&(Ln<<30|Ln>>>2),Ln=je,je=io}this.chain_[0]=this.chain_[0]+je&4294967295,this.chain_[1]=this.chain_[1]+Ln&4294967295,this.chain_[2]=this.chain_[2]+jn&4294967295,this.chain_[3]=this.chain_[3]+bi&4294967295,this.chain_[4]=this.chain_[4]+pi&4294967295}update(Ce,Le){if(null==Ce)return;void 0===Le&&(Le=Ce.length);const St=Le-this.blockSize;let je=0;const Ln=this.buf_;let jn=this.inbuf_;for(;je<Le;){if(0===jn)for(;je<=St;)this.compress_(Ce,je),je+=this.blockSize;if("string"==typeof Ce){for(;je<Le;)if(Ln[jn]=Ce.charCodeAt(je),++jn,++je,jn===this.blockSize){this.compress_(Ln),jn=0;break}}else for(;je<Le;)if(Ln[jn]=Ce[je],++jn,++je,jn===this.blockSize){this.compress_(Ln),jn=0;break}}this.inbuf_=jn,this.total_+=Le}digest(){const Ce=[];let Le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let je=this.blockSize-1;je>=56;je--)this.buf_[je]=255&Le,Le/=256;this.compress_(this.buf_);let St=0;for(let je=0;je<5;je++)for(let Ln=24;Ln>=0;Ln-=8)Ce[St]=this.chain_[je]>>Ln&255,++St;return Ce}}function oi(Ie,Ce){const Le=new Gn(Ie,Ce);return Le.subscribe.bind(Le)}class Gn{constructor(Ce,Le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Le,this.task.then(()=>{Ce(this)}).catch(St=>{this.error(St)})}next(Ce){this.forEachObserver(Le=>{Le.next(Ce)})}error(Ce){this.forEachObserver(Le=>{Le.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,Le,St){let je;if(void 0===Ce&&void 0===Le&&void 0===St)throw new Error("Missing Observer.");je=function bl(Ie,Ce){if("object"!=typeof Ie||null===Ie)return!1;for(const Le of Ce)if(Le in Ie&&"function"==typeof Ie[Le])return!0;return!1}(Ce,["next","error","complete"])?Ce:{next:Ce,error:Le,complete:St},void 0===je.next&&(je.next=fi),void 0===je.error&&(je.error=fi),void 0===je.complete&&(je.complete=fi);const Ln=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),Ln}unsubscribeOne(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let Le=0;Le<this.observers.length;Le++)this.sendOne(Le,Ce)}sendOne(Ce,Le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ce])try{Le(this.observers[Ce])}catch(St){typeof console<"u"&&console.error&&console.error(St)}})}close(Ce){this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const Ni=function(Ie,Ce,Le,St){let je;if(St<Ce?je="at least "+Ce:St>Le&&(je=0===Le?"none":"no more than "+Le),je)throw new Error(Ie+" failed: Was called with "+St+(1===St?" argument.":" arguments.")+" Expects "+je+".")};function Hs(Ie,Ce){return`${Ie} failed: ${Ce} argument `}function qo(Ie,Ce,Le,St){if((!St||Le)&&"function"!=typeof Le)throw new Error(Hs(Ie,Ce)+"must be a valid function.")}function Vi(Ie,Ce,Le,St){if((!St||Le)&&("object"!=typeof Le||null===Le))throw new Error(Hs(Ie,Ce)+"must be a valid context object.")}const cu=function(Ie){const Ce=[];let Le=0;for(let St=0;St<Ie.length;St++){let je=Ie.charCodeAt(St);if(je>=55296&&je<=56319){const Ln=je-55296;St++,Se(St<Ie.length,"Surrogate pair missing trail surrogate."),je=65536+(Ln<<10)+(Ie.charCodeAt(St)-56320)}je<128?Ce[Le++]=je:je<2048?(Ce[Le++]=je>>6|192,Ce[Le++]=63&je|128):je<65536?(Ce[Le++]=je>>12|224,Ce[Le++]=je>>6&63|128,Ce[Le++]=63&je|128):(Ce[Le++]=je>>18|240,Ce[Le++]=je>>12&63|128,Ce[Le++]=je>>6&63|128,Ce[Le++]=63&je|128)}return Ce},Gi=function(Ie){let Ce=0;for(let Le=0;Le<Ie.length;Le++){const St=Ie.charCodeAt(Le);St<128?Ce++:St<2048?Ce+=2:St>=55296&&St<=56319?(Ce+=4,Le++):Ce+=3}return Ce};function ca(Ie,Ce=1e3,Le=2){const St=Ce*Math.pow(Le,Ie),je=Math.round(.5*St*(Math.random()-.5)*2);return Math.min(144e5,St+je)}function ua(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},3018:Fn=>{var Ft={utf8:{stringToBytes:function(ie){return Ft.bin.stringToBytes(unescape(encodeURIComponent(ie)))},bytesToString:function(ie){return decodeURIComponent(escape(Ft.bin.bytesToString(ie)))}},bin:{stringToBytes:function(ie){for(var s=[],Se=0;Se<ie.length;Se++)s.push(255&ie.charCodeAt(Se));return s},bytesToString:function(ie){for(var s=[],Se=0;Se<ie.length;Se++)s.push(String.fromCharCode(ie[Se]));return s.join("")}}};Fn.exports=Ft},5585:Fn=>{var Ft,ie;Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn.exports=ie={rotl:function(s,Se){return s<<Se|s>>>32-Se},rotr:function(s,Se){return s<<32-Se|s>>>Se},endian:function(s){if(s.constructor==Number)return 16711935&ie.rotl(s,8)|4278255360&ie.rotl(s,24);for(var Se=0;Se<s.length;Se++)s[Se]=ie.endian(s[Se]);return s},randomBytes:function(s){for(var Se=[];s>0;s--)Se.push(Math.floor(256*Math.random()));return Se},bytesToWords:function(s){for(var Se=[],re=0,tt=0;re<s.length;re++,tt+=8)Se[tt>>>5]|=s[re]<<24-tt%32;return Se},wordsToBytes:function(s){for(var Se=[],re=0;re<32*s.length;re+=8)Se.push(s[re>>>5]>>>24-re%32&255);return Se},bytesToHex:function(s){for(var Se=[],re=0;re<s.length;re++)Se.push((s[re]>>>4).toString(16)),Se.push((15&s[re]).toString(16));return Se.join("")},hexToBytes:function(s){for(var Se=[],re=0;re<s.length;re+=2)Se.push(parseInt(s.substr(re,2),16));return Se},bytesToBase64:function(s){for(var Se=[],re=0;re<s.length;re+=3)for(var tt=s[re]<<16|s[re+1]<<8|s[re+2],nt=0;nt<4;nt++)Se.push(8*re+6*nt<=8*s.length?Ft.charAt(tt>>>6*(3-nt)&63):"=");return Se.join("")},base64ToBytes:function(s){s=s.replace(/[^A-Z0-9+\/]/gi,"");for(var Se=[],re=0,tt=0;re<s.length;tt=++re%4)0!=tt&&Se.push((Ft.indexOf(s.charAt(re-1))&Math.pow(2,-2*tt+8)-1)<<2*tt|Ft.indexOf(s.charAt(re))>>>6-2*tt);return Se}}},4159:function(Fn){Fn.exports=function(){"use strict";var Ft=function(C,w){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,E){S.__proto__=E}||function(S,E){for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(S[L]=E[L])})(C,w)};function ie(C,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=C}Ft(C,w),C.prototype=null===w?Object.create(w):(S.prototype=w.prototype,new S)}var s=function(){return s=Object.assign||function(w){for(var S,E=1,L=arguments.length;E<L;E++)for(var G in S=arguments[E])Object.prototype.hasOwnProperty.call(S,G)&&(w[G]=S[G]);return w},s.apply(this,arguments)};function Se(C,w,S,E){return new(S||(S=Promise))(function(G,J){function de(ze){try{Re(E.next(ze))}catch(it){J(it)}}function ue(ze){try{Re(E.throw(ze))}catch(it){J(it)}}function Re(ze){ze.done?G(ze.value):function L(G){return G instanceof S?G:new S(function(J){J(G)})}(ze.value).then(de,ue)}Re((E=E.apply(C,w||[])).next())})}function re(C,w){var E,L,G,J,S={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return J={next:de(0),throw:de(1),return:de(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J;function de(Re){return function(ze){return function ue(Re){if(E)throw new TypeError("Generator is already executing.");for(;S;)try{if(E=1,L&&(G=2&Re[0]?L.return:Re[0]?L.throw||((G=L.return)&&G.call(L),0):L.next)&&!(G=G.call(L,Re[1])).done)return G;switch(L=0,G&&(Re=[2&Re[0],G.value]),Re[0]){case 0:case 1:G=Re;break;case 4:return S.label++,{value:Re[1],done:!1};case 5:S.label++,L=Re[1],Re=[0];continue;case 7:Re=S.ops.pop(),S.trys.pop();continue;default:if(!(G=(G=S.trys).length>0&&G[G.length-1])&&(6===Re[0]||2===Re[0])){S=0;continue}if(3===Re[0]&&(!G||Re[1]>G[0]&&Re[1]<G[3])){S.label=Re[1];break}if(6===Re[0]&&S.label<G[1]){S.label=G[1],G=Re;break}if(G&&S.label<G[2]){S.label=G[2],S.ops.push(Re);break}G[2]&&S.ops.pop(),S.trys.pop();continue}Re=w.call(C,S)}catch(ze){Re=[6,ze],L=0}finally{E=G=0}if(5&Re[0])throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}([Re,ze])}}}function tt(C,w,S){if(S||2===arguments.length)for(var G,E=0,L=w.length;E<L;E++)(G||!(E in w))&&(G||(G=Array.prototype.slice.call(w,0,E)),G[E]=w[E]);return C.concat(G||w)}for(var nt=function(){function C(w,S,E,L){this.left=w,this.top=S,this.width=E,this.height=L}return C.prototype.add=function(w,S,E,L){return new C(this.left+w,this.top+S,this.width+E,this.height+L)},C.fromClientRect=function(w,S){return new C(S.left+w.windowBounds.left,S.top+w.windowBounds.top,S.width,S.height)},C.fromDOMRectList=function(w,S){var E=Array.from(S).find(function(L){return 0!==L.width});return E?new C(E.left+w.windowBounds.left,E.top+w.windowBounds.top,E.width,E.height):C.EMPTY},C.EMPTY=new C(0,0,0,0),C}(),ut=function(C,w){return nt.fromClientRect(C,w.getBoundingClientRect())},Fe=function(C){for(var w=[],S=0,E=C.length;S<E;){var L=C.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var G=C.charCodeAt(S++);56320==(64512&G)?w.push(((1023&L)<<10)+(1023&G)+65536):(w.push(L),S--)}else w.push(L)}return w},at=function(){for(var C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,C);var S=C.length;if(!S)return"";for(var E=[],L=-1,G="";++L<S;){var J=C[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",le=typeof Uint8Array>"u"?[]:new Uint8Array(256),me=0;me<ae.length;me++)le[ae.charCodeAt(me)]=me;for(var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=typeof Uint8Array>"u"?[]:new Uint8Array(256),nn=0;nn<We.length;nn++)qe[We.charCodeAt(nn)]=nn;for(var Ir=function(C,w,S){return C.slice?C.slice(w,S):new Uint16Array(Array.prototype.slice.call(C,w,S))},ko=function(){function C(w,S,E,L,G,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=G,this.data=J}return C.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},C}(),Mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ai=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ss=0;Ss<Mr.length;Ss++)Ai[Mr.charCodeAt(Ss)]=Ss;var S,E,L,J,de,Us=10,kr=13,Wn=15,Pc=17,Kr=18,dc=19,zo=20,oi=21,Gn=22,bl=24,fi=25,Ni=26,Hs=27,Zr=28,Vi=30,Gi=32,mo=33,Ko=34,Rr=35,la=37,ca=38,Za=39,Is=40,Ie=42,Le=[9001,65288],je="\xd7",jn=(S=function(C){var E,G,J,de,ue,w=.75*C.length,S=C.length,L=0;"="===C[C.length-1]&&(w--,"="===C[C.length-2]&&w--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),ze=Array.isArray(Re)?Re:new Uint8Array(Re);for(E=0;E<S;E+=4)G=qe[C.charCodeAt(E)],J=qe[C.charCodeAt(E+1)],de=qe[C.charCodeAt(E+2)],ue=qe[C.charCodeAt(E+3)],ze[L++]=G<<2|J>>4,ze[L++]=(15&J)<<4|de>>2,ze[L++]=(3&de)<<6|63&ue;return Re}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(S)?function(C){for(var w=C.length,S=[],E=0;E<w;E+=4)S.push(C[E+3]<<24|C[E+2]<<16|C[E+1]<<8|C[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(C){for(var w=C.length,S=[],E=0;E<w;E+=2)S.push(C[E+1]<<8|C[E]);return S}(S):new Uint16Array(S),J=Ir(L,12,E[4]/2),de=2===E[5]?Ir(L,(24+E[4])/2):function(C,w,S){return C.slice?C.slice(w,S):new Uint32Array(Array.prototype.slice.call(C,w,S))}(E,Math.ceil((24+E[4])/4)),new ko(E[0],E[1],E[2],E[3],J,de)),bi=[Vi,36],pi=[1,2,3,5],ts=[Us,8],Vs=[Hs,Ni],ji=pi.concat(ts),io=[ca,Za,Is,Ko,Rr],yo=[Wn,kr],qu=function(C,w,S,E){var L=E[S];if(Array.isArray(C)?-1!==C.indexOf(L):C===L)for(var G=S;G<=E.length;){if((J=E[++G])===w)return!0;if(J!==Us)break}if(L===Us)for(G=S;G>0;){var de=E[--G];if(Array.isArray(C)?-1!==C.indexOf(de):C===de)for(var ue=S;ue<=E.length;){var J;if((J=E[++ue])===w)return!0;if(J!==Us)break}if(de!==Us)break}return!1},bt=function(C,w){for(var S=C;S>=0;){var E=w[S];if(E!==Us)return E;S--}return 0},dt=function(C,w,S,E,L){if(0===S[E])return je;var G=E-1;if(Array.isArray(L)&&!0===L[G])return je;var J=G-1,de=G+1,ue=w[G],Re=J>=0?w[J]:0,ze=w[de];if(2===ue&&3===ze)return je;if(-1!==pi.indexOf(ue))return"!";if(-1!==pi.indexOf(ze)||-1!==ts.indexOf(ze))return je;if(8===bt(G,w))return"\xf7";if(11===jn.get(C[G])||(ue===Gi||ue===mo)&&11===jn.get(C[de])||7===ue||7===ze||9===ue||-1===[Us,kr,Wn].indexOf(ue)&&9===ze||-1!==[Pc,Kr,dc,bl,Zr].indexOf(ze)||bt(G,w)===Gn||qu(23,Gn,G,w)||qu([Pc,Kr],oi,G,w)||qu(12,12,G,w))return je;if(ue===Us)return"\xf7";if(23===ue||23===ze)return je;if(16===ze||16===ue)return"\xf7";if(-1!==[kr,Wn,oi].indexOf(ze)||14===ue||36===Re&&-1!==yo.indexOf(ue)||ue===Zr&&36===ze||ze===zo||-1!==bi.indexOf(ze)&&ue===fi||-1!==bi.indexOf(ue)&&ze===fi||ue===Hs&&-1!==[la,Gi,mo].indexOf(ze)||-1!==[la,Gi,mo].indexOf(ue)&&ze===Ni||-1!==bi.indexOf(ue)&&-1!==Vs.indexOf(ze)||-1!==Vs.indexOf(ue)&&-1!==bi.indexOf(ze)||-1!==[Hs,Ni].indexOf(ue)&&(ze===fi||-1!==[Gn,Wn].indexOf(ze)&&w[de+1]===fi)||-1!==[Gn,Wn].indexOf(ue)&&ze===fi||ue===fi&&-1!==[fi,Zr,bl].indexOf(ze))return je;if(-1!==[fi,Zr,bl,Pc,Kr].indexOf(ze))for(var it=G;it>=0;){if((kt=w[it])===fi)return je;if(-1===[Zr,bl].indexOf(kt))break;it--}if(-1!==[Hs,Ni].indexOf(ze))for(it=-1!==[Pc,Kr].indexOf(ue)?J:G;it>=0;){var kt;if((kt=w[it])===fi)return je;if(-1===[Zr,bl].indexOf(kt))break;it--}if(ca===ue&&-1!==[ca,Za,Ko,Rr].indexOf(ze)||-1!==[Za,Ko].indexOf(ue)&&-1!==[Za,Is].indexOf(ze)||-1!==[Is,Rr].indexOf(ue)&&ze===Is||-1!==io.indexOf(ue)&&-1!==[zo,Ni].indexOf(ze)||-1!==io.indexOf(ze)&&ue===Hs||-1!==bi.indexOf(ue)&&-1!==bi.indexOf(ze)||ue===bl&&-1!==bi.indexOf(ze)||-1!==bi.concat(fi).indexOf(ue)&&ze===Gn&&-1===Le.indexOf(C[de])||-1!==bi.concat(fi).indexOf(ze)&&ue===Kr)return je;if(41===ue&&41===ze){for(var Pn=S[G],hn=1;Pn>0&&41===w[--Pn];)hn++;if(hn%2!=0)return je}return ue===Gi&&ze===mo?je:"\xf7"},$t=function(C,w){w||(w={lineBreak:"normal",wordBreak:"normal"});var S=function(C,w){void 0===w&&(w="strict");var S=[],E=[],L=[];return C.forEach(function(G,J){var de=jn.get(G);if(de>50?(L.push(!0),de-=50):L.push(!1),-1!==["normal","auto","loose"].indexOf(w)&&-1!==[8208,8211,12316,12448].indexOf(G))return E.push(J),S.push(16);if(4===de||11===de){if(0===J)return E.push(J),S.push(Vi);var ue=S[J-1];return-1===ji.indexOf(ue)?(E.push(E[J-1]),S.push(ue)):(E.push(J),S.push(Vi))}return E.push(J),31===de?S.push("strict"===w?oi:la):de===Ie||29===de?S.push(Vi):43===de?S.push(G>=131072&&G<=196605||G>=196608&&G<=262141?la:Vi):void S.push(de)}),[E,S,L]}(C,w.lineBreak),E=S[0],L=S[1],G=S[2];return("break-all"===w.wordBreak||"break-word"===w.wordBreak)&&(L=L.map(function(de){return-1!==[fi,Vi,Ie].indexOf(de)?la:de})),[E,L,"keep-all"===w.wordBreak?G.map(function(de,ue){return de&&C[ue]>=19968&&C[ue]<=40959}):void 0]},$n=function(){function C(w,S,E,L){this.codePoints=w,this.required="!"===S,this.start=E,this.end=L}return C.prototype.slice=function(){return at.apply(void 0,this.codePoints.slice(this.start,this.end))},C}(),$o=function(C){return C>=48&&C<=57},ql=function(C){return $o(C)||C>=65&&C<=70||C>=97&&C<=102},va=function(C){return 10===C||9===C||32===C},HA=function(C){return function(C){return function(C){return C>=97&&C<=122}(C)||function(C){return C>=65&&C<=90}(C)}(C)||function(C){return C>=128}(C)||95===C},uv=function(C){return HA(C)||$o(C)||45===C},dv=function(C){return C>=0&&C<=8||11===C||C>=14&&C<=31||127===C},Wo=function(C,w){return 92===C&&10!==w},Nd=function(C,w,S){return 45===C?HA(w)||Wo(w,S):!!HA(C)||!(92!==C||!Wo(C,w))},du=function(C,w,S){return 43===C||45===C?!!$o(w)||46===w&&$o(S):$o(46===C?w:C)},VA=function(C){var w=0,S=1;(43===C[w]||45===C[w])&&(45===C[w]&&(S=-1),w++);for(var E=[];$o(C[w]);)E.push(C[w++]);var L=E.length?parseInt(at.apply(void 0,E),10):0;46===C[w]&&w++;for(var G=[];$o(C[w]);)G.push(C[w++]);var J=G.length,de=J?parseInt(at.apply(void 0,G),10):0;(69===C[w]||101===C[w])&&w++;var ue=1;(43===C[w]||45===C[w])&&(45===C[w]&&(ue=-1),w++);for(var Re=[];$o(C[w]);)Re.push(C[w++]);var ze=Re.length?parseInt(at.apply(void 0,Re),10):0;return S*(L+de*Math.pow(10,-J))*Math.pow(10,ue*ze)},Th={type:2},Zl={type:3},Wf={type:4},GA={type:13},Ac={type:8},Bh={type:21},jA={type:9},wa={type:10},hu={type:11},w_={type:12},Au={type:14},Pd={type:23},hv={type:1},vo={type:25},$u={type:24},fu={type:26},Ud={type:27},wo={type:28},b_={type:29},zA={type:31},Jo={type:32},Ts=function(){function C(){this._value=[]}return C.prototype.write=function(w){this._value=this._value.concat(Fe(w))},C.prototype.read=function(){for(var w=[],S=this.consumeToken();S!==Jo;)w.push(S),S=this.consumeToken();return w},C.prototype.consumeToken=function(){var w=this.consumeCodePoint();switch(w){case 34:return this.consumeStringToken(34);case 35:var S=this.peekCodePoint(0),E=this.peekCodePoint(1),L=this.peekCodePoint(2);if(uv(S)||Wo(E,L)){var G=Nd(S,E,L)?2:1;return{type:5,value:this.consumeName(),flags:G}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),GA;break;case 39:return this.consumeStringToken(39);case 40:return Th;case 41:return Zl;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Au;break;case 43:if(du(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 44:return Wf;case 45:var de=w,ue=this.peekCodePoint(0),Re=this.peekCodePoint(1);if(du(de,ue,Re))return this.reconsumeCodePoint(w),this.consumeNumericToken();if(Nd(de,ue,Re))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();if(45===ue&&62===Re)return this.consumeCodePoint(),this.consumeCodePoint(),$u;break;case 46:if(du(w,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(w),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var ze=this.consumeCodePoint();if(42===ze&&47===(ze=this.consumeCodePoint()))return this.consumeToken();if(-1===ze)return this.consumeToken()}break;case 58:return fu;case 59:return Ud;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),vo;break;case 64:var it=this.peekCodePoint(0),kt=this.peekCodePoint(1),Pn=this.peekCodePoint(2);if(Nd(it,kt,Pn))return{type:7,value:this.consumeName()};break;case 91:return wo;case 92:if(Wo(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),this.consumeIdentLikeToken();break;case 93:return b_;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ac;break;case 123:return hu;case 125:return w_;case 117:case 85:var hn=this.peekCodePoint(0),Sn=this.peekCodePoint(1);return 43===hn&&(ql(Sn)||63===Sn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(w),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),jA;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Bh;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),wa;break;case-1:return Jo}return va(w)?(this.consumeWhiteSpace(),zA):$o(w)?(this.reconsumeCodePoint(w),this.consumeNumericToken()):HA(w)?(this.reconsumeCodePoint(w),this.consumeIdentLikeToken()):{type:6,value:at(w)}},C.prototype.consumeCodePoint=function(){var w=this._value.shift();return typeof w>"u"?-1:w},C.prototype.reconsumeCodePoint=function(w){this._value.unshift(w)},C.prototype.peekCodePoint=function(w){return w>=this._value.length?-1:this._value[w]},C.prototype.consumeUnicodeRangeToken=function(){for(var w=[],S=this.consumeCodePoint();ql(S)&&w.length<6;)w.push(S),S=this.consumeCodePoint();for(var E=!1;63===S&&w.length<6;)w.push(S),S=this.consumeCodePoint(),E=!0;if(E)return{type:30,start:parseInt(at.apply(void 0,w.map(function(ue){return 63===ue?48:ue})),16),end:parseInt(at.apply(void 0,w.map(function(ue){return 63===ue?70:ue})),16)};var J=parseInt(at.apply(void 0,w),16);if(45===this.peekCodePoint(0)&&ql(this.peekCodePoint(1))){this.consumeCodePoint(),S=this.consumeCodePoint();for(var de=[];ql(S)&&de.length<6;)de.push(S),S=this.consumeCodePoint();return{type:30,start:J,end:parseInt(at.apply(void 0,de),16)}}return{type:30,start:J,end:J}},C.prototype.consumeIdentLikeToken=function(){var w=this.consumeName();return"url"===w.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:w}):{type:20,value:w}},C.prototype.consumeUrlToken=function(){var w=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var S=this.peekCodePoint(0);if(39===S||34===S){var E=this.consumeStringToken(this.consumeCodePoint());return 0===E.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:E.value}):(this.consumeBadUrlRemnants(),Pd)}for(;;){var L=this.consumeCodePoint();if(-1===L||41===L)return{type:22,value:at.apply(void 0,w)};if(va(L))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:at.apply(void 0,w)}):(this.consumeBadUrlRemnants(),Pd);if(34===L||39===L||40===L||dv(L))return this.consumeBadUrlRemnants(),Pd;if(92===L){if(!Wo(L,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Pd;w.push(this.consumeEscapedCodePoint())}else w.push(L)}},C.prototype.consumeWhiteSpace=function(){for(;va(this.peekCodePoint(0));)this.consumeCodePoint()},C.prototype.consumeBadUrlRemnants=function(){for(;;){var w=this.consumeCodePoint();if(41===w||-1===w)return;Wo(w,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},C.prototype.consumeStringSlice=function(w){for(var E="";w>0;){var L=Math.min(5e4,w);E+=at.apply(void 0,this._value.splice(0,L)),w-=L}return this._value.shift(),E},C.prototype.consumeStringToken=function(w){for(var S="",E=0;;){var L=this._value[E];if(-1===L||void 0===L||L===w)return{type:0,value:S+=this.consumeStringSlice(E)};if(10===L)return this._value.splice(0,E),hv;if(92===L){var G=this._value[E+1];-1!==G&&void 0!==G&&(10===G?(S+=this.consumeStringSlice(E),E=-1,this._value.shift()):Wo(L,G)&&(S+=this.consumeStringSlice(E),S+=at(this.consumeEscapedCodePoint()),E=-1))}E++}},C.prototype.consumeNumber=function(){var w=[],S=4,E=this.peekCodePoint(0);for((43===E||45===E)&&w.push(this.consumeCodePoint());$o(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0);var L=this.peekCodePoint(1);if(46===E&&$o(L))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;$o(this.peekCodePoint(0));)w.push(this.consumeCodePoint());E=this.peekCodePoint(0),L=this.peekCodePoint(1);var G=this.peekCodePoint(2);if((69===E||101===E)&&((43===L||45===L)&&$o(G)||$o(L)))for(w.push(this.consumeCodePoint(),this.consumeCodePoint()),S=8;$o(this.peekCodePoint(0));)w.push(this.consumeCodePoint());return[VA(w),S]},C.prototype.consumeNumericToken=function(){var w=this.consumeNumber(),S=w[0],E=w[1],L=this.peekCodePoint(0),G=this.peekCodePoint(1),J=this.peekCodePoint(2);return Nd(L,G,J)?{type:15,number:S,flags:E,unit:this.consumeName()}:37===L?(this.consumeCodePoint(),{type:16,number:S,flags:E}):{type:17,number:S,flags:E}},C.prototype.consumeEscapedCodePoint=function(){var w=this.consumeCodePoint();if(ql(w)){for(var S=at(w);ql(this.peekCodePoint(0))&&S.length<6;)S+=at(this.consumeCodePoint());va(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(S,16);return 0===E||function(C){return C>=55296&&C<=57343}(E)||E>1114111?65533:E}return-1===w?65533:w},C.prototype.consumeName=function(){for(var w="";;){var S=this.consumeCodePoint();if(uv(S))w+=at(S);else{if(!Wo(S,this.peekCodePoint(0)))return this.reconsumeCodePoint(S),w;w+=at(this.consumeEscapedCodePoint())}}},C}(),pu=function(){function C(w){this._tokens=w}return C.create=function(w){var S=new Ts;return S.write(w),new C(S.read())},C.parseValue=function(w){return C.create(w).parseComponentValue()},C.parseValues=function(w){return C.create(w).parseComponentValues()},C.prototype.parseComponentValue=function(){for(var w=this.consumeToken();31===w.type;)w=this.consumeToken();if(32===w.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(w);var S=this.consumeComponentValue();do{w=this.consumeToken()}while(31===w.type);if(32===w.type)return S;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},C.prototype.parseComponentValues=function(){for(var w=[];;){var S=this.consumeComponentValue();if(32===S.type)return w;w.push(S),w.push()}},C.prototype.consumeComponentValue=function(){var w=this.consumeToken();switch(w.type){case 11:case 28:case 2:return this.consumeSimpleBlock(w.type);case 19:return this.consumeFunction(w)}return w},C.prototype.consumeSimpleBlock=function(w){for(var S={type:w,values:[]},E=this.consumeToken();;){if(32===E.type||Fg(E,w))return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue()),E=this.consumeToken()}},C.prototype.consumeFunction=function(w){for(var S={name:w.value,values:[],type:18};;){var E=this.consumeToken();if(32===E.type||3===E.type)return S;this.reconsumeToken(E),S.values.push(this.consumeComponentValue())}},C.prototype.consumeToken=function(){var w=this._tokens.shift();return typeof w>"u"?Jo:w},C.prototype.reconsumeToken=function(w){this._tokens.unshift(w)},C}(),gu=function(C){return 15===C.type},Yu=function(C){return 17===C.type},Wi=function(C){return 20===C.type},Bg=function(C){return 0===C.type},$l=function(C,w){return Wi(C)&&C.value===w},Si=function(C){return 31!==C.type},fc=function(C){return 31!==C.type&&4!==C.type},Lr=function(C){var w=[],S=[];return C.forEach(function(E){if(4===E.type){if(0===S.length)throw new Error("Error parsing function args, zero tokens for arg");return w.push(S),void(S=[])}31!==E.type&&S.push(E)}),S.length&&w.push(S),w},Fg=function(C,w){return 11===w&&12===C.type||28===w&&29===C.type||2===w&&3===C.type},ba=function(C){return 17===C.type||15===C.type},Ki=function(C){return 16===C.type||ba(C)},Jf=function(C){return C.length>1?[C[0],C[1]]:[C[0]]},bo={type:17,number:0,flags:4},qA={type:16,number:50,flags:4},Pt={type:16,number:100,flags:4},Zi=function(C,w,S){var E=C[0],L=C[1];return[Tr(E,w),Tr(typeof L<"u"?L:E,S)]},Tr=function(C,w){if(16===C.type)return C.number/100*w;if(gu(C))switch(C.unit){case"rem":case"em":return 16*C.number;default:return C.number}return C.number},js_parse=function(C,w){if(15===w.type)switch(w.unit){case"deg":return Math.PI*w.number/180;case"grad":return Math.PI/200*w.number;case"rad":return w.number;case"turn":return 2*Math.PI*w.number}throw new Error("Unsupported angle type")},El=function(C){return 15===C.type&&("deg"===C.unit||"grad"===C.unit||"rad"===C.unit||"turn"===C.unit)},Mh=function(C){switch(C.filter(Wi).map(function(S){return S.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bo,bo];case"to top":case"bottom":return xa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bo,Pt];case"to right":case"left":return xa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Pt,Pt];case"to bottom":case"top":return xa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Pt,bo];case"to left":case"right":return xa(270)}return 0},xa=function(C){return Math.PI*C/180},Sl_parse=function(C,w){if(18===w.type){var S=kg[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported color function "'+w.name+'"');return S(C,w.values)}if(5===w.type){if(3===w.value.length){var E=w.value.substring(0,1),L=w.value.substring(1,2),G=w.value.substring(2,3);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(G+G,16),1)}if(4===w.value.length){E=w.value.substring(0,1),L=w.value.substring(1,2),G=w.value.substring(2,3);var J=w.value.substring(3,4);return zr(parseInt(E+E,16),parseInt(L+L,16),parseInt(G+G,16),parseInt(J+J,16)/255)}if(6===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),G=w.value.substring(4,6),zr(parseInt(E,16),parseInt(L,16),parseInt(G,16),1);if(8===w.value.length)return E=w.value.substring(0,2),L=w.value.substring(2,4),G=w.value.substring(4,6),J=w.value.substring(6,8),zr(parseInt(E,16),parseInt(L,16),parseInt(G,16),parseInt(J,16)/255)}if(20===w.type){var de=pc[w.value.toUpperCase()];if(typeof de<"u")return de}return pc.TRANSPARENT},Il=function(C){return 0==(255&C)},ws=function(C){var w=255&C,S=255&C>>8,E=255&C>>16,L=255&C>>24;return w<255?"rgba("+L+","+E+","+S+","+w/255+")":"rgb("+L+","+E+","+S+")"},zr=function(C,w,S,E){return(C<<24|w<<16|S<<8|Math.round(255*E)<<0)>>>0},Dl=function(C,w){if(17===C.type)return C.number;if(16===C.type){var S=3===w?1:255;return 3===w?C.number/100*S:Math.round(C.number/100*S)}return 0},KA=function(C,w){var S=w.filter(fc);if(3===S.length){var E=S.map(Dl);return zr(E[0],E[1],E[2],1)}if(4===S.length){var de=S.map(Dl);return zr(de[0],de[1],de[2],de[3])}return 0};function as(C,w,S){return S<0&&(S+=1),S>=1&&(S-=1),S<1/6?(w-C)*S*6+C:S<.5?w:S<2/3?6*(w-C)*(2/3-S)+C:C}var Yl=function(C,w){var S=w.filter(fc),E=S[0],L=S[1],G=S[2],J=S[3],de=(17===E.type?xa(E.number):js_parse(C,E))/(2*Math.PI),ue=Ki(L)?L.number/100:0,Re=Ki(G)?G.number/100:0,ze=typeof J<"u"&&Ki(J)?Tr(J,1):1;if(0===ue)return zr(255*Re,255*Re,255*Re,1);var it=Re<=.5?Re*(ue+1):Re+ue-Re*ue,kt=2*Re-it,Pn=as(kt,it,de+1/3),hn=as(kt,it,de),Sn=as(kt,it,de-1/3);return zr(255*Pn,255*hn,255*Sn,ze)},kg={hsl:Yl,hsla:Yl,rgb:KA,rgba:KA},Wu=function(C,w){return Sl_parse(C,pu.create(w).parseComponentValue())},pc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Xf={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(C,w){return w.map(function(S){if(Wi(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mu={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hc=function(C,w){var S=Sl_parse(C,w[0]),E=w[1];return E&&Ki(E)?{color:S,stop:E}:{color:S,stop:null}},Ju=function(C,w){var S=C[0],E=C[C.length-1];null===S.stop&&(S.stop=bo),null===E.stop&&(E.stop=Pt);for(var L=[],G=0,J=0;J<C.length;J++){var de=C[J].stop;if(null!==de){var ue=Tr(de,w);L.push(ue>G?ue:G),G=ue}else L.push(null)}var Re=null;for(J=0;J<L.length;J++){var ze=L[J];if(null===ze)null===Re&&(Re=J);else if(null!==Re){for(var it=J-Re,Pn=(ze-L[Re-1])/(it+1),hn=1;hn<=it;hn++)L[Re+hn-1]=Pn*hn;Re=null}}return C.map(function(Sn,$i){return{color:Sn.color,stop:Math.max(Math.min(1,L[$i]/w),0)}})},Rg=function(C,w,S){var E="number"==typeof C?C:function(C,w,S){var E=w/2,L=S/2,G=Tr(C[0],w)-E,J=L-Tr(C[1],S);return(Math.atan2(J,G)+2*Math.PI)%(2*Math.PI)}(C,w,S),L=Math.abs(w*Math.sin(E))+Math.abs(S*Math.cos(E)),G=w/2,J=S/2,de=L/2,ue=Math.sin(E-Math.PI/2)*de,Re=Math.cos(E-Math.PI/2)*de;return[L,G-Re,G+Re,J-ue,J+ue]},Ea=function(C,w){return Math.sqrt(C*C+w*w)},ep=function(C,w,S,E,L){return[[0,0],[0,w],[C,0],[C,w]].reduce(function(J,de){var ze=Ea(S-de[0],E-de[1]);return(L?ze<J.optimumDistance:ze>J.optimumDistance)?{optimumCorner:de,optimumDistance:ze}:J},{optimumDistance:L?1/0:-1/0,optimumCorner:null}).optimumCorner},_u=function(C,w){var S=xa(180),E=[];return Lr(w).forEach(function(L,G){if(0===G){var J=L[0];if(20===J.type&&-1!==["top","left","right","bottom"].indexOf(J.value))return void(S=Mh(L));if(El(J))return void(S=(js_parse(C,J)+xa(270))%xa(360))}var de=Hc(C,L);E.push(de)}),{angle:S,stops:E,type:1}},Xu="closest-side",Ng="farthest-side",Rh="closest-corner",Xo="farthest-corner",Nr="ellipse",ed="contain",Oh=function(C,w){var S=0,E=3,L=[],G=[];return Lr(w).forEach(function(J,de){var ue=!0;if(0===de?ue=J.reduce(function(ze,it){if(Wi(it))switch(it.value){case"center":return G.push(qA),!1;case"top":case"left":return G.push(bo),!1;case"right":case"bottom":return G.push(Pt),!1}else if(Ki(it)||ba(it))return G.push(it),!1;return ze},ue):1===de&&(ue=J.reduce(function(ze,it){if(Wi(it))switch(it.value){case"circle":return S=0,!1;case Nr:return S=1,!1;case ed:case Xu:return E=0,!1;case Ng:return E=1,!1;case Rh:return E=2,!1;case"cover":case Xo:return E=3,!1}else if(ba(it)||Ki(it))return Array.isArray(E)||(E=[]),E.push(it),!1;return ze},ue)),ue){var Re=Hc(C,J);L.push(Re)}}),{size:E,shape:S,stops:L,position:G,type:2}},yu_parse=function(C,w){if(22===w.type){var S={url:w.value,type:0};return C.cache.addImage(w.value),S}if(18===w.type){var E=gc[w.name];if(typeof E>"u")throw new Error('Attempting to parse an unsupported image function "'+w.name+'"');return E(C,w.values)}throw new Error("Unsupported image type "+w.type)};for(var gc={"linear-gradient":function(C,w){var S=xa(180),E=[];return Lr(w).forEach(function(L,G){if(0===G){var J=L[0];if(20===J.type&&"to"===J.value)return void(S=Mh(L));if(El(J))return void(S=js_parse(C,J))}var de=Hc(C,L);E.push(de)}),{angle:S,stops:E,type:1}},"-moz-linear-gradient":_u,"-ms-linear-gradient":_u,"-o-linear-gradient":_u,"-webkit-linear-gradient":_u,"radial-gradient":function(C,w){var S=0,E=3,L=[],G=[];return Lr(w).forEach(function(J,de){var ue=!0;if(0===de){var Re=!1;ue=J.reduce(function(it,kt){if(Re)if(Wi(kt))switch(kt.value){case"center":return G.push(qA),it;case"top":case"left":return G.push(bo),it;case"right":case"bottom":return G.push(Pt),it}else(Ki(kt)||ba(kt))&&G.push(kt);else if(Wi(kt))switch(kt.value){case"circle":return S=0,!1;case Nr:return S=1,!1;case"at":return Re=!0,!1;case Xu:return E=0,!1;case"cover":case Ng:return E=1,!1;case ed:case Rh:return E=2,!1;case Xo:return E=3,!1}else if(ba(kt)||Ki(kt))return Array.isArray(E)||(E=[]),E.push(kt),!1;return it},ue)}if(ue){var ze=Hc(C,J);L.push(ze)}}),{size:E,shape:S,stops:L,position:G,type:2}},"-moz-radial-gradient":Oh,"-ms-radial-gradient":Oh,"-o-radial-gradient":Oh,"-webkit-radial-gradient":Oh,"-webkit-gradient":function(C,w){var S=xa(180),E=[],L=1;return Lr(w).forEach(function(ue,Re){var ze=ue[0];if(0===Re){if(Wi(ze)&&"linear"===ze.value)return void(L=1);if(Wi(ze)&&"radial"===ze.value)return void(L=2)}if(18===ze.type)if("from"===ze.name){var it=Sl_parse(C,ze.values[0]);E.push({stop:bo,color:it})}else if("to"===ze.name)it=Sl_parse(C,ze.values[0]),E.push({stop:Pt,color:it});else if("color-stop"===ze.name){var kt=ze.values.filter(fc);if(2===kt.length){it=Sl_parse(C,kt[1]);var Pn=kt[0];Yu(Pn)&&E.push({stop:{type:16,number:100*Pn.number,flags:Pn.flags},color:it})}}}),1===L?{angle:(S+xa(180))%xa(360),stops:E,type:L}:{size:3,shape:0,stops:E,position:[],type:L}}},td={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(C,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w.filter(function(E){return fc(E)&&function Qd(C){return!(20===C.type&&"none"===C.value||18===C.type&&!gc[C.name])}(E)}).map(function(E){return yu_parse(C,E)})}},nd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(C,w){return w.map(function(S){if(Wi(S))switch(S.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qg={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(C,w){return Lr(w).map(function(S){return S.filter(Ki)}).map(Jf)}},Ia={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(C,w){return Lr(w).map(function(S){return S.filter(Wi).map(function(E){return E.value}).join(" ")}).map(Hd)}},Hd=function(C){switch(C){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ya=(()=>{return(C=Ya||(Ya={})).AUTO="auto",C.CONTAIN="contain",C.COVER="cover",Ya;var C})(),$A={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(C,w){return Lr(w).map(function(S){return S.filter(vu)})}},vu=function(C){return Wi(C)||Ki(C)},id=function(C){return{name:"border-"+C+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},np=id("top"),Hg=id("right"),Vg=id("bottom"),Gg=id("left"),ha=function(C){return{name:"border-radius-"+C,initialValue:"0 0",prefix:!1,type:1,parse:function(w,S){return Jf(S.filter(Ki))}}},Lh=ha("top-left"),C_=ha("top-right"),wu=ha("bottom-right"),YA=ha("bottom-left"),Vd=function(C){return{name:"border-"+C+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(w,S){switch(S){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rd=Vd("top"),x_=Vd("right"),Nh=Vd("bottom"),ip=Vd("left"),Gd=function(C){return{name:"border-"+C+"-width",initialValue:"0",type:0,prefix:!1,parse:function(w,S){return gu(S)?S.number:0}}},yw=Gd("top"),rp=Gd("right"),Av=Gd("bottom"),vw=Gd("left"),Da={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jg={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(C,w){return"rtl"===w?1:0}},Gc={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(C,w){return w.filter(Wi).reduce(function(S,E){return S|jd(E.value)},0)}},jd=function(C){switch(C){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},E_={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(C,w){switch(w){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ph={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(C,w){return 20===w.type&&"normal"===w.value?0:17===w.type||15===w.type?w.number:0}},ls=(()=>{return(C=ls||(ls={})).NORMAL="normal",C.STRICT="strict",ls;var C})(),fv={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(C,w){return"strict"===w?ls.STRICT:ls.NORMAL}},Lo={name:"line-height",initialValue:"normal",prefix:!1,type:4},sp=function(C,w){return Wi(C)&&"normal"===C.value?1.2*w:17===C.type?w*C.number:Ki(C)?Tr(C,w):w},zd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(C,w){return 20===w.type&&"none"===w.value?null:yu_parse(C,w)}},Uh={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(C,w){return"inside"===w?0:1}},WA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(C,w){switch(w){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Wl=function(C){return{name:"margin-"+C,initialValue:"0",prefix:!1,type:4}},qd=Wl("top"),op=Wl("right"),S_=Wl("bottom"),JA=Wl("left"),Kd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(C,w){return w.filter(Wi).map(function(S){switch(S.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},XA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(C,w){return"break-word"===w?"break-word":"normal"}},ef=function(C){return{name:"padding-"+C,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jc=ef("top"),pv=ef("right"),ap=ef("bottom"),Aa=ef("left"),Zd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(C,w){switch(w){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},is={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(C,w){switch(w){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(C,w){return 1===w.length&&$l(w[0],"none")?[]:Lr(w).map(function(S){for(var E={color:pc.TRANSPARENT,offsetX:bo,offsetY:bo,blur:bo},L=0,G=0;G<S.length;G++){var J=S[G];ba(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:E.blur=J,L++):E.color=Sl_parse(C,J)}return E})}},Qh={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(C,w){switch(w){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(C,w){if(20===w.type&&"none"===w.value)return null;if(18===w.type){var S=D_[w.name];if(typeof S>"u")throw new Error('Attempting to parse an unsupported transform function "'+w.name+'"');return S(w.values)}return null}},D_={matrix:function(C){var w=C.filter(function(S){return 17===S.type}).map(function(S){return S.number});return 6===w.length?w:null},matrix3d:function(C){var w=C.filter(function(ue){return 17===ue.type}).map(function(ue){return ue.number});return 16===w.length?[w[0],w[1],w[4],w[5],w[12],w[13]]:null}},qr={type:16,number:50,flags:4},ww=[qr,qr],nf={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(C,w){var S=w.filter(Ki);return 2!==S.length?ww:[S[0],S[1]]}},gv={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(C,w){switch(w){case"hidden":return 1;case"collapse":return 2;default:return 0}}},_c=(()=>{return(C=_c||(_c={})).NORMAL="normal",C.BREAK_ALL="break-all",C.KEEP_ALL="keep-all",_c;var C})(),lp={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(C,w){switch(w){case"break-all":return _c.BREAK_ALL;case"keep-all":return _c.KEEP_ALL;default:return _c.NORMAL}}},T_={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(C,w){if(20===w.type)return{auto:!0,order:0};if(Yu(w))return{auto:!1,order:w.number};throw new Error("Invalid z-index number parsed")}},zg={name:"time",parse:function(C,w){if(15===w.type)switch(w.unit.toLowerCase()){case"s":return 1e3*w.number;case"ms":return w.number}throw new Error("Unsupported time type")}},sd={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(C,w){return Yu(w)?w.number:1}},B_={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},F_={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(C,w){return w.filter(Wi).map(function(S){switch(S.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(S){return 0!==S})}},zs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(C,w){var S=[],E=[];return w.forEach(function(L){switch(L.type){case 20:case 0:S.push(L.value);break;case 17:S.push(L.number.toString());break;case 4:E.push(S.join(" ")),S.length=0}}),S.length&&E.push(S.join(" ")),E.map(function(L){return-1===L.indexOf(" ")?L:"'"+L+"'"})}},Tl={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Hh={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(C,w){return Yu(w)?w.number:Wi(w)&&"bold"===w.value?700:400}},cp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(C,w){return w.filter(Wi).map(function(S){return S.value})}},M_={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(C,w){switch(w){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},zn=function(C,w){return 0!=(C&w)},Ta={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(C,w){if(0===w.length)return[];var S=w[0];return 20===S.type&&"none"===S.value?[]:w}},pn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(C,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;for(var E=[],L=w.filter(Si),G=0;G<L.length;G++){var J=L[G],de=L[G+1];if(20===J.type){var ue=de&&Yu(de)?de.number:1;E.push({counter:J.value,increment:ue})}}return E}},sn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(C,w){if(0===w.length)return[];for(var S=[],E=w.filter(Si),L=0;L<E.length;L++){var G=E[L],J=E[L+1];if(Wi(G)&&"none"!==G.value){var de=J&&Yu(J)?J.number:0;S.push({counter:G.value,reset:de})}}return S}},_r={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(C,w){return w.filter(gu).map(function(S){return zg.parse(C,S)})}},Vh={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(C,w){if(0===w.length)return null;var S=w[0];if(20===S.type&&"none"===S.value)return null;var E=[],L=w.filter(Bg);if(L.length%2!=0)return null;for(var G=0;G<L.length;G+=2)E.push({open:L[G].value,close:L[G+1].value});return E}},Cu=function(C,w,S){if(!C)return"";var E=C[Math.min(w,C.length-1)];return E?S?E.open:E.close:""},gr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(C,w){return 1===w.length&&$l(w[0],"none")?[]:Lr(w).map(function(S){for(var E={color:255,offsetX:bo,offsetY:bo,blur:bo,spread:bo,inset:!1},L=0,G=0;G<S.length;G++){var J=S[G];$l(J,"inset")?E.inset=!0:ba(J)?(0===L?E.offsetX=J:1===L?E.offsetY=J:2===L?E.blur=J:E.spread=J,L++):E.color=Sl_parse(C,J)}return E})}},k_={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(C,w){var E=[];return w.filter(Wi).forEach(function(L){switch(L.value){case"stroke":E.push(1);break;case"fill":E.push(0);break;case"markers":E.push(2)}}),[0,1,2].forEach(function(L){-1===E.indexOf(L)&&E.push(L)}),E}},R_={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},od={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(C,w){return gu(w)?w.number:0}},Ba=function(){function C(w,S){var E,L;this.animationDuration=Cn(w,_r,S.animationDuration),this.backgroundClip=Cn(w,Xf,S.backgroundClip),this.backgroundColor=Cn(w,mu,S.backgroundColor),this.backgroundImage=Cn(w,td,S.backgroundImage),this.backgroundOrigin=Cn(w,nd,S.backgroundOrigin),this.backgroundPosition=Cn(w,Qg,S.backgroundPosition),this.backgroundRepeat=Cn(w,Ia,S.backgroundRepeat),this.backgroundSize=Cn(w,$A,S.backgroundSize),this.borderTopColor=Cn(w,np,S.borderTopColor),this.borderRightColor=Cn(w,Hg,S.borderRightColor),this.borderBottomColor=Cn(w,Vg,S.borderBottomColor),this.borderLeftColor=Cn(w,Gg,S.borderLeftColor),this.borderTopLeftRadius=Cn(w,Lh,S.borderTopLeftRadius),this.borderTopRightRadius=Cn(w,C_,S.borderTopRightRadius),this.borderBottomRightRadius=Cn(w,wu,S.borderBottomRightRadius),this.borderBottomLeftRadius=Cn(w,YA,S.borderBottomLeftRadius),this.borderTopStyle=Cn(w,rd,S.borderTopStyle),this.borderRightStyle=Cn(w,x_,S.borderRightStyle),this.borderBottomStyle=Cn(w,Nh,S.borderBottomStyle),this.borderLeftStyle=Cn(w,ip,S.borderLeftStyle),this.borderTopWidth=Cn(w,yw,S.borderTopWidth),this.borderRightWidth=Cn(w,rp,S.borderRightWidth),this.borderBottomWidth=Cn(w,Av,S.borderBottomWidth),this.borderLeftWidth=Cn(w,vw,S.borderLeftWidth),this.boxShadow=Cn(w,gr,S.boxShadow),this.color=Cn(w,Da,S.color),this.direction=Cn(w,jg,S.direction),this.display=Cn(w,Gc,S.display),this.float=Cn(w,E_,S.cssFloat),this.fontFamily=Cn(w,zs,S.fontFamily),this.fontSize=Cn(w,Tl,S.fontSize),this.fontStyle=Cn(w,M_,S.fontStyle),this.fontVariant=Cn(w,cp,S.fontVariant),this.fontWeight=Cn(w,Hh,S.fontWeight),this.letterSpacing=Cn(w,Ph,S.letterSpacing),this.lineBreak=Cn(w,fv,S.lineBreak),this.lineHeight=Cn(w,Lo,S.lineHeight),this.listStyleImage=Cn(w,zd,S.listStyleImage),this.listStylePosition=Cn(w,Uh,S.listStylePosition),this.listStyleType=Cn(w,WA,S.listStyleType),this.marginTop=Cn(w,qd,S.marginTop),this.marginRight=Cn(w,op,S.marginRight),this.marginBottom=Cn(w,S_,S.marginBottom),this.marginLeft=Cn(w,JA,S.marginLeft),this.opacity=Cn(w,sd,S.opacity);var G=Cn(w,Kd,S.overflow);this.overflowX=G[0],this.overflowY=G[G.length>1?1:0],this.overflowWrap=Cn(w,XA,S.overflowWrap),this.paddingTop=Cn(w,jc,S.paddingTop),this.paddingRight=Cn(w,pv,S.paddingRight),this.paddingBottom=Cn(w,ap,S.paddingBottom),this.paddingLeft=Cn(w,Aa,S.paddingLeft),this.paintOrder=Cn(w,k_,S.paintOrder),this.position=Cn(w,is,S.position),this.textAlign=Cn(w,Zd,S.textAlign),this.textDecorationColor=Cn(w,B_,null!==(E=S.textDecorationColor)&&void 0!==E?E:S.color),this.textDecorationLine=Cn(w,F_,null!==(L=S.textDecorationLine)&&void 0!==L?L:S.textDecoration),this.textShadow=Cn(w,mc,S.textShadow),this.textTransform=Cn(w,Qh,S.textTransform),this.transform=Cn(w,tf,S.transform),this.transformOrigin=Cn(w,nf,S.transformOrigin),this.visibility=Cn(w,gv,S.visibility),this.webkitTextStrokeColor=Cn(w,R_,S.webkitTextStrokeColor),this.webkitTextStrokeWidth=Cn(w,od,S.webkitTextStrokeWidth),this.wordBreak=Cn(w,lp,S.wordBreak),this.zIndex=Cn(w,T_,S.zIndex)}return C.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},C.prototype.isTransparent=function(){return Il(this.backgroundColor)},C.prototype.isTransformed=function(){return null!==this.transform},C.prototype.isPositioned=function(){return 0!==this.position},C.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},C.prototype.isFloating=function(){return 0!==this.float},C.prototype.isInlineLevel=function(){return zn(this.display,4)||zn(this.display,33554432)||zn(this.display,268435456)||zn(this.display,536870912)||zn(this.display,67108864)||zn(this.display,134217728)},C}(),Gh=function C(w,S){this.content=Cn(w,Ta,S.content),this.quotes=Cn(w,Vh,S.quotes)},ea=function C(w,S){this.counterIncrement=Cn(w,pn,S.counterIncrement),this.counterReset=Cn(w,sn,S.counterReset)},Cn=function(C,w,S){var E=new Ts,L=null!==S&&typeof S<"u"?S.toString():w.initialValue;E.write(L);var G=new pu(E.read());switch(w.type){case 2:var J=G.parseComponentValue();return w.parse(C,Wi(J)?J.value:w.initialValue);case 0:return w.parse(C,G.parseComponentValue());case 1:return w.parse(C,G.parseComponentValues());case 4:return G.parseComponentValue();case 3:switch(w.format){case"angle":return js_parse(C,G.parseComponentValue());case"color":return Sl_parse(C,G.parseComponentValue());case"image":return yu_parse(C,G.parseComponentValue());case"length":var de=G.parseComponentValue();return ba(de)?de:bo;case"length-percentage":var ue=G.parseComponentValue();return Ki(ue)?ue:bo;case"time":return zg.parse(C,G.parseComponentValue())}}},up=function(C,w){var S=function(C){switch(C.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(C);return 1===S||w===S},Jl=function C(w,S){this.context=w,this.textNodes=[],this.elements=[],this.flags=0,up(S,3),this.styles=new Ba(w,window.getComputedStyle(S,null)),cf(S)&&(this.styles.animationDuration.some(function(E){return E>0})&&(S.style.animationDuration="0s"),null!==this.styles.transform&&(S.style.transform="none")),this.bounds=ut(this.context,S),up(S,4)&&(this.flags|=16)},Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xu=typeof Uint8Array>"u"?[]:new Uint8Array(256),Wa=0;Wa<Pr.length;Wa++)xu[Pr.charCodeAt(Wa)]=Wa;for(var yi=function(C,w,S){return C.slice?C.slice(w,S):new Uint16Array(Array.prototype.slice.call(C,w,S))},Zg=function(){function C(w,S,E,L,G,J){this.initialValue=w,this.errorValue=S,this.highStart=E,this.highValueIndex=L,this.index=G,this.data=J}return C.prototype.get=function(w){var S;if(w>=0){if(w<55296||w>56319&&w<=65535)return this.data[S=((S=this.index[w>>5])<<2)+(31&w)];if(w<=65535)return this.data[S=((S=this.index[2048+(w-55296>>5)])<<2)+(31&w)];if(w<this.highStart)return S=this.index[S=2080+(w>>11)],this.data[S=((S=this.index[S+=w>>5&63])<<2)+(31&w)];if(w<=1114111)return this.data[this.highValueIndex]}return this.errorValue},C}(),qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",No=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xa=0;Xa<qc.length;Xa++)No[qc.charCodeAt(Xa)]=Xa;var rf=8,cd=9,gi=11,Xd=12,Eo=function(){for(var C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];if(String.fromCodePoint)return String.fromCodePoint.apply(String,C);var S=C.length;if(!S)return"";for(var E=[],L=-1,G="";++L<S;){var J=C[L];J<=65535?E.push(J):E.push(55296+((J-=65536)>>10),J%1024+56320),(L+1===S||E.length>16384)&&(G+=String.fromCharCode.apply(String,E),E.length=0)}return G},$g=function(C,w){var S=function(C){var E,G,J,de,ue,w=.75*C.length,S=C.length,L=0;"="===C[C.length-1]&&(w--,"="===C[C.length-2]&&w--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(w):new Array(w),ze=Array.isArray(Re)?Re:new Uint8Array(Re);for(E=0;E<S;E+=4)G=xu[C.charCodeAt(E)],J=xu[C.charCodeAt(E+1)],de=xu[C.charCodeAt(E+2)],ue=xu[C.charCodeAt(E+3)],ze[L++]=G<<2|J>>4,ze[L++]=(15&J)<<4|de>>2,ze[L++]=(3&de)<<6|63&ue;return Re}(C),E=Array.isArray(S)?function(C){for(var w=C.length,S=[],E=0;E<w;E+=4)S.push(C[E+3]<<24|C[E+2]<<16|C[E+1]<<8|C[E]);return S}(S):new Uint32Array(S),L=Array.isArray(S)?function(C){for(var w=C.length,S=[],E=0;E<w;E+=2)S.push(C[E+1]<<8|C[E]);return S}(S):new Uint16Array(S),J=yi(L,12,E[4]/2),de=2===E[5]?yi(L,(24+E[4])/2):function(C,w,S){return C.slice?C.slice(w,S):new Uint32Array(Array.prototype.slice.call(C,w,S))}(E,Math.ceil((24+E[4])/4));return new Zg(E[0],E[1],E[2],E[3],J,de)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),L_=function(C){return $g.get(C)},Zs=function(C,w,S){var E=S-2,L=w[E],G=w[S-1],J=w[S];if(2===G&&3===J)return"\xd7";if(2===G||3===G||4===G||2===J||3===J||4===J)return"\xf7";if(G===rf&&-1!==[rf,cd,gi,Xd].indexOf(J)||(G===gi||G===cd)&&(J===cd||10===J)||(G===Xd||10===G)&&10===J||13===J||5===J||7===J||1===G)return"\xd7";if(13===G&&14===J){for(;5===L;)L=w[--E];if(14===L)return"\xd7"}if(15===G&&15===J){for(var de=0;15===L;)de++,L=w[--E];if(de%2==0)return"\xd7"}return"\xf7"},oo=function(C){var w=function(C){for(var w=[],S=0,E=C.length;S<E;){var L=C.charCodeAt(S++);if(L>=55296&&L<=56319&&S<E){var G=C.charCodeAt(S++);56320==(64512&G)?w.push(((1023&L)<<10)+(1023&G)+65536):(w.push(L),S--)}else w.push(L)}return w}(C),S=w.length,E=0,L=0,G=w.map(L_);return{next:function(){if(E>=S)return{done:!0,value:null};for(var J="\xd7";E<S&&"\xd7"===(J=Zs(0,G,++E)););if("\xd7"!==J||E===S){var de=Eo.apply(null,w.slice(L,E));return L=E,{value:de,done:!1}}return{done:!0,value:null}}}},vt=function(C){return 0===C[0]&&255===C[1]&&0===C[2]&&255===C[3]},un=function(C,w,S,E,L){var G="http://www.w3.org/2000/svg",J=document.createElementNS(G,"svg"),de=document.createElementNS(G,"foreignObject");return J.setAttributeNS(null,"width",C.toString()),J.setAttributeNS(null,"height",w.toString()),de.setAttributeNS(null,"width","100%"),de.setAttributeNS(null,"height","100%"),de.setAttributeNS(null,"x",S.toString()),de.setAttributeNS(null,"y",E.toString()),de.setAttributeNS(null,"externalResourcesRequired","true"),J.appendChild(de),de.appendChild(L),J},Mn=function(C){return new Promise(function(w,S){var E=new Image;E.onload=function(){return w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(C))})},kn={get SUPPORT_RANGE_BOUNDS(){var C=function(C){if(C.createRange){var S=C.createRange();if(S.getBoundingClientRect){var E=C.createElement("boundtest");E.style.height="123px",E.style.display="block",C.body.appendChild(E),S.selectNode(E);var L=S.getBoundingClientRect(),G=Math.round(L.height);if(C.body.removeChild(E),123===G)return!0}}return!1}(document);return Object.defineProperty(kn,"SUPPORT_RANGE_BOUNDS",{value:C}),C},get SUPPORT_WORD_BREAKING(){var C=kn.SUPPORT_RANGE_BOUNDS&&function(C){var w=C.createElement("boundtest");w.style.width="50px",w.style.display="block",w.style.fontSize="12px",w.style.letterSpacing="0px",w.style.wordSpacing="0px",C.body.appendChild(w);var S=C.createRange();w.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var E=w.firstChild,L=Fe(E.data).map(function(ue){return at(ue)}),G=0,J={},de=L.every(function(ue,Re){S.setStart(E,G),S.setEnd(E,G+ue.length);var ze=S.getBoundingClientRect();G+=ue.length;var it=ze.x>J.x||ze.y>J.y;return J=ze,0===Re||it});return C.body.removeChild(w),de}(document);return Object.defineProperty(kn,"SUPPORT_WORD_BREAKING",{value:C}),C},get SUPPORT_SVG_DRAWING(){var C=function(C){var w=new Image,S=C.createElement("canvas"),E=S.getContext("2d");if(!E)return!1;w.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{E.drawImage(w,0,0),S.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(kn,"SUPPORT_SVG_DRAWING",{value:C}),C},get SUPPORT_FOREIGNOBJECT_DRAWING(){var C="function"==typeof Array.from&&"function"==typeof window.fetch?function(C){var w=C.createElement("canvas"),S=100;w.width=S,w.height=S;var E=w.getContext("2d");if(!E)return Promise.reject(!1);E.fillStyle="rgb(0, 255, 0)",E.fillRect(0,0,S,S);var L=new Image,G=w.toDataURL();L.src=G;var J=un(S,S,0,0,L);return E.fillStyle="red",E.fillRect(0,0,S,S),Mn(J).then(function(de){E.drawImage(de,0,0);var ue=E.getImageData(0,0,S,S).data;E.fillStyle="red",E.fillRect(0,0,S,S);var Re=C.createElement("div");return Re.style.backgroundImage="url("+G+")",Re.style.height=S+"px",vt(ue)?Mn(un(S,S,0,0,Re)):Promise.reject(!1)}).then(function(de){return E.drawImage(de,0,0),vt(E.getImageData(0,0,S,S).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(kn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:C}),C},get SUPPORT_CORS_IMAGES(){var C=typeof(new Image).crossOrigin<"u";return Object.defineProperty(kn,"SUPPORT_CORS_IMAGES",{value:C}),C},get SUPPORT_RESPONSE_TYPE(){var C="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(kn,"SUPPORT_RESPONSE_TYPE",{value:C}),C},get SUPPORT_CORS_XHR(){var C="withCredentials"in new XMLHttpRequest;return Object.defineProperty(kn,"SUPPORT_CORS_XHR",{value:C}),C},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var C=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(kn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:C}),C}},Yt=function C(w,S){this.text=w,this.bounds=S},$s=function(C,w){var S=w.ownerDocument;if(S){var E=S.createElement("html2canvaswrapper");E.appendChild(w.cloneNode(!0));var L=w.parentNode;if(L){L.replaceChild(E,w);var G=ut(C,E);return E.firstChild&&L.replaceChild(E.firstChild,E),G}}return nt.EMPTY},el=function(C,w,S){var E=C.ownerDocument;if(!E)throw new Error("Node has no owner document");var L=E.createRange();return L.setStart(C,w),L.setEnd(C,w+S),L},Ys=function(C){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(w.segment(C)).map(function(S){return S.segment})}return function(C){for(var E,w=oo(C),S=[];!(E=w.next()).done;)E.value&&S.push(E.value.slice());return S}(C)},Ra=function(C,w){return 0!==w.letterSpacing?Ys(C):function(C,w){if(kn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var S=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(S.segment(C)).map(function(E){return E.segment})}return qh(C,w)}(C,w)},Bl=[32,160,4961,65792,65793,4153,4241],qh=function(C,w){for(var L,S=function(C,w){var S=Fe(C),E=$t(S,w),L=E[0],G=E[1],J=E[2],de=S.length,ue=0,Re=0;return{next:function(){if(Re>=de)return{done:!0,value:null};for(var ze=je;Re<de&&(ze=dt(S,G,L,++Re,J))===je;);if(ze!==je||Re===de){var it=new $n(S,ze,ue,Re);return ue=Re,{value:it,done:!1}}return{done:!0,value:null}}}}(C,{lineBreak:w.lineBreak,wordBreak:"break-word"===w.overflowWrap?"break-word":w.wordBreak}),E=[],G=function(){if(L.value){var J=L.value.slice(),de=Fe(J),ue="";de.forEach(function(Re){-1===Bl.indexOf(Re)?ue+=at(Re):(ue.length&&E.push(ue),E.push(at(Re)),ue="")}),ue.length&&E.push(ue)}};!(L=S.next()).done;)G();return E},sf=function C(w,S,E){this.text=_v(S.data,E.textTransform),this.textBounds=function(C,w,S,E){var L=Ra(w,S),G=[],J=0;return L.forEach(function(de){if(S.textDecorationLine.length||de.trim().length>0)if(kn.SUPPORT_RANGE_BOUNDS){var ue=el(E,J,de.length).getClientRects();if(ue.length>1){var Re=Ys(de),ze=0;Re.forEach(function(kt){G.push(new Yt(kt,nt.fromDOMRectList(C,el(E,ze+J,kt.length).getClientRects()))),ze+=kt.length})}else G.push(new Yt(de,nt.fromDOMRectList(C,ue)))}else{var it=E.splitText(de.length);G.push(new Yt(de,$s(C,E))),E=it}else kn.SUPPORT_RANGE_BOUNDS||(E=E.splitText(de.length));J+=de.length}),G}(w,this.text,E,S)},_v=function(C,w){switch(w){case 1:return C.toLowerCase();case 3:return C.replace(Ap,bw);case 2:return C.toUpperCase();default:return C}},Ap=/(^|\s|:|-|\(|\))([a-z])/g,bw=function(C,w,S){return C.length>0?w+S.toUpperCase():C},fp=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.src=E.currentSrc||E.src,L.intrinsicWidth=E.naturalWidth,L.intrinsicHeight=E.naturalHeight,L.context.cache.addImage(L.src),L}return ie(w,C),w}(Jl),pp=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.canvas=E,L.intrinsicWidth=E.width,L.intrinsicHeight=E.height,L}return ie(w,C),w}(Jl),N_=function(C){function w(S,E){var L=C.call(this,S,E)||this,G=new XMLSerializer,J=ut(S,E);return E.setAttribute("width",J.width+"px"),E.setAttribute("height",J.height+"px"),L.svg="data:image/svg+xml,"+encodeURIComponent(G.serializeToString(E)),L.intrinsicWidth=E.width.baseVal.value,L.intrinsicHeight=E.height.baseVal.value,L.context.cache.addImage(L.svg),L}return ie(w,C),w}(Jl),Kh=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.value=E.value,L}return ie(w,C),w}(Jl),gp=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.start=E.start,L.reversed="boolean"==typeof E.reversed&&!0===E.reversed,L}return ie(w,C),w}(Jl),Cw=[{type:15,flags:0,unit:"px",number:3}],yv=[{type:16,flags:0,number:50}],_p="checkbox",Wg="radio",P_="password",Jg=707406591,af=function(C){function w(S,E){var L=C.call(this,S,E)||this;switch(L.type=E.type.toLowerCase(),L.checked=E.checked,L.value=function(C){var w=C.type===P_?new Array(C.value.length+1).join("\u2022"):C.value;return 0===w.length?C.placeholder||"":w}(E),(L.type===_p||L.type===Wg)&&(L.styles.backgroundColor=3739148031,L.styles.borderTopColor=L.styles.borderRightColor=L.styles.borderBottomColor=L.styles.borderLeftColor=2779096575,L.styles.borderTopWidth=L.styles.borderRightWidth=L.styles.borderBottomWidth=L.styles.borderLeftWidth=1,L.styles.borderTopStyle=L.styles.borderRightStyle=L.styles.borderBottomStyle=L.styles.borderLeftStyle=1,L.styles.backgroundClip=[0],L.styles.backgroundOrigin=[0],L.bounds=function(C){return C.width>C.height?new nt(C.left+(C.width-C.height)/2,C.top,C.height,C.height):C.width<C.height?new nt(C.left,C.top+(C.height-C.width)/2,C.width,C.width):C}(L.bounds)),L.type){case _p:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=Cw;break;case Wg:L.styles.borderTopRightRadius=L.styles.borderTopLeftRadius=L.styles.borderBottomRightRadius=L.styles.borderBottomLeftRadius=yv}return L}return ie(w,C),w}(Jl),Xg=function(C){function w(S,E){var L=C.call(this,S,E)||this,G=E.options[E.selectedIndex||0];return L.value=G&&G.text||"",L}return ie(w,C),w}(Jl),ud=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.value=E.value,L}return ie(w,C),w}(Jl),vc=function(C){function w(S,E){var L=C.call(this,S,E)||this;L.src=E.src,L.width=parseInt(E.width,10)||0,L.height=parseInt(E.height,10)||0,L.backgroundColor=L.styles.backgroundColor;try{if(E.contentWindow&&E.contentWindow.document&&E.contentWindow.document.documentElement){L.tree=U_(S,E.contentWindow.document.documentElement);var G=E.contentWindow.document.documentElement?Wu(S,getComputedStyle(E.contentWindow.document.documentElement).backgroundColor):pc.TRANSPARENT,J=E.contentWindow.document.body?Wu(S,getComputedStyle(E.contentWindow.document.body).backgroundColor):pc.TRANSPARENT;L.backgroundColor=Il(G)?Il(J)?L.styles.backgroundColor:J:G}}catch{}return L}return ie(w,C),w}(Jl),em=["OL","UL","MENU"],yp=function(C,w,S,E){for(var L=w.firstChild,G=void 0;L;L=G)if(G=L.nextSibling,lf(L)&&L.data.trim().length>0)S.textNodes.push(new sf(C,L,S.styles));else if(Bu(L))if(Jh(L)&&L.assignedNodes)L.assignedNodes().forEach(function(de){return yp(C,de,S,E)});else{var J=tm(C,L);J.styles.isVisible()&&(xw(L,J,E)?J.flags|=4:Zh(J.styles)&&(J.flags|=2),-1!==em.indexOf(L.tagName)&&(J.flags|=8),S.elements.push(J),L.shadowRoot?yp(C,L.shadowRoot,J,E):!th(L)&&!Q_(L)&&!bc(L)&&yp(C,L,J,E))}},tm=function(C,w){return wp(w)?new fp(C,w):vp(w)?new pp(C,w):Q_(w)?new N_(C,w):Yh(w)?new Kh(C,w):eh(w)?new gp(C,w):nm(w)?new af(C,w):bc(w)?new Xg(C,w):th(w)?new ud(C,w):bp(w)?new vc(C,w):new Jl(C,w)},U_=function(C,w){var S=tm(C,w);return S.flags|=4,yp(C,w,S,S),S},xw=function(C,w,S){return w.styles.isPositionedWithZIndex()||w.styles.opacity<1||w.styles.isTransformed()||im(C)&&S.styles.isTransparent()},Zh=function(C){return C.isPositioned()||C.isFloating()},lf=function(C){return C.nodeType===Node.TEXT_NODE},Bu=function(C){return C.nodeType===Node.ELEMENT_NODE},cf=function(C){return Bu(C)&&typeof C.style<"u"&&!$h(C)},$h=function(C){return"object"==typeof C.className},Yh=function(C){return"LI"===C.tagName},eh=function(C){return"OL"===C.tagName},nm=function(C){return"INPUT"===C.tagName},Q_=function(C){return"svg"===C.tagName},im=function(C){return"BODY"===C.tagName},vp=function(C){return"CANVAS"===C.tagName},wc=function(C){return"VIDEO"===C.tagName},wp=function(C){return"IMG"===C.tagName},bp=function(C){return"IFRAME"===C.tagName},Sw=function(C){return"STYLE"===C.tagName},th=function(C){return"TEXTAREA"===C.tagName},bc=function(C){return"SELECT"===C.tagName},Jh=function(C){return"SLOT"===C.tagName},dd=function(C){return C.tagName.indexOf("-")>0},Xh=function(){function C(){this.counters={}}return C.prototype.getCounterValue=function(w){var S=this.counters[w];return S&&S.length?S[S.length-1]:1},C.prototype.getCounterValues=function(w){return this.counters[w]||[]},C.prototype.pop=function(w){var S=this;w.forEach(function(E){return S.counters[E].pop()})},C.prototype.parse=function(w){var S=this,E=w.counterIncrement,L=w.counterReset,G=!0;null!==E&&E.forEach(function(de){var ue=S.counters[de.counter];ue&&0!==de.increment&&(G=!1,ue.length||ue.push(1),ue[Math.max(0,ue.length-1)]+=de.increment)});var J=[];return G&&L.forEach(function(de){var ue=S.counters[de.counter];J.push(de.counter),ue||(ue=S.counters[de.counter]=[]),ue.push(de.reset)}),J},C}(),Cp={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},H_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},uf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},rm={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},eA=function(C,w,S,E,L,G){return C<w||C>S?tl(C,L,G.length>0):E.integers.reduce(function(J,de,ue){for(;C>=de;)C-=de,J+=E.values[ue];return J},"")+G},df=function(C,w,S,E){var L="";do{S||C--,L=E(C)+L,C/=w}while(C*w>=w);return L},Fs=function(C,w,S,E,L){var G=S-w+1;return(C<0?"-":"")+(df(Math.abs(C),G,E,function(J){return at(Math.floor(J%G)+w)})+L)},hd=function(C,w,S){void 0===S&&(S=". ");var E=w.length;return df(Math.abs(C),E,!1,function(L){return w[Math.floor(L%E)]})+S},Cc=function(C,w,S,E,L,G){if(C<-9999||C>9999)return tl(C,4,L.length>0);var J=Math.abs(C),de=L;if(0===J)return w[0]+de;for(var ue=0;J>0&&ue<=4;ue++){var Re=J%10;0===Re&&zn(G,1)&&""!==de?de=w[Re]+de:Re>1||1===Re&&0===ue||1===Re&&1===ue&&zn(G,2)||1===Re&&1===ue&&zn(G,4)&&C>100||1===Re&&ue>1&&zn(G,8)?de=w[Re]+(ue>0?S[ue-1]:"")+de:1===Re&&ue>0&&(de=S[ue-1]+de),J=Math.floor(J/10)}return(C<0?E:"")+de},Mu="\ub9c8\uc774\ub108\uc2a4",tl=function(C,w,S){var E=S?". ":"",L=S?"\u3001":"",G=S?", ":"",J=S?" ":"";switch(w){case 0:return"\u2022"+J;case 1:return"\u25e6"+J;case 2:return"\u25fe"+J;case 5:var de=Fs(C,48,57,!0,E);return de.length<4?"0"+de:de;case 4:return hd(C,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",L);case 6:return eA(C,1,3999,Cp,3,E).toLowerCase();case 7:return eA(C,1,3999,Cp,3,E);case 8:return Fs(C,945,969,!1,E);case 9:return Fs(C,97,122,!1,E);case 10:return Fs(C,65,90,!1,E);case 11:return Fs(C,1632,1641,!0,E);case 12:case 49:return eA(C,1,9999,H_,3,E);case 35:return eA(C,1,9999,H_,3,E).toLowerCase();case 13:return Fs(C,2534,2543,!0,E);case 14:case 30:return Fs(C,6112,6121,!0,E);case 15:return hd(C,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",L);case 16:return hd(C,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",L);case 17:case 48:return Cc(C,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",L,14);case 47:return Cc(C,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",L,15);case 42:return Cc(C,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",L,14);case 41:return Cc(C,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",L,15);case 26:return Cc(C,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,0);case 25:return Cc(C,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",L,7);case 31:return Cc(C,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Mu,G,7);case 33:return Cc(C,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Mu,G,0);case 32:return Cc(C,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Mu,G,7);case 18:return Fs(C,2406,2415,!0,E);case 20:return eA(C,1,19999,rm,3,E);case 21:return Fs(C,2790,2799,!0,E);case 22:return Fs(C,2662,2671,!0,E);case 22:return eA(C,1,10999,uf,3,E);case 23:return hd(C,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return hd(C,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Fs(C,3302,3311,!0,E);case 28:return hd(C,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",L);case 29:return hd(C,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",L);case 34:return Fs(C,3792,3801,!0,E);case 37:return Fs(C,6160,6169,!0,E);case 38:return Fs(C,4160,4169,!0,E);case 39:return Fs(C,2918,2927,!0,E);case 40:return Fs(C,1776,1785,!0,E);case 43:return Fs(C,3046,3055,!0,E);case 44:return Fs(C,3174,3183,!0,E);case 45:return Fs(C,3664,3673,!0,E);case 46:return Fs(C,3872,3881,!0,E);default:return Fs(C,48,57,!0,E)}},ec="data-html2canvas-ignore",Af=function(){function C(w,S,E){if(this.context=w,this.options=E,this.scrolledElements=[],this.referenceElement=S,this.counters=new Xh,this.quoteDepth=0,!S.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(S.ownerDocument.documentElement,!1)}return C.prototype.toIFrame=function(w,S){var E=this,L=LC(w,S);if(!L.contentWindow)return Promise.reject("Unable to find iframe window");var G=w.defaultView.pageXOffset,J=w.defaultView.pageYOffset,de=L.contentWindow,ue=de.document,Re=Iw(L).then(function(){return Se(E,void 0,void 0,function(){var ze,it;return re(this,function(kt){switch(kt.label){case 0:return this.scrolledElements.forEach(om),de&&(de.scrollTo(S.left,S.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(de.scrollY!==S.top||de.scrollX!==S.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(de.scrollX-S.left,de.scrollY-S.top,0,0))),ze=this.options.onclone,typeof(it=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ue.fonts&&ue.fonts.ready?[4,ue.fonts.ready]:[3,2];case 1:kt.sent(),kt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,xp(ue)]:[3,4];case 3:kt.sent(),kt.label=4;case 4:return"function"==typeof ze?[2,Promise.resolve().then(function(){return ze(ue,it)}).then(function(){return L})]:[2,L]}})})});return ue.open(),ue.write(Sp(document.doctype)+"<html></html>"),sA(this.referenceElement.ownerDocument,G,J),ue.replaceChild(ue.adoptNode(this.documentElement),ue.documentElement),ue.close(),Re},C.prototype.createElementClone=function(w){if(up(w,2),vp(w))return this.createCanvasClone(w);if(wc(w))return this.createVideoClone(w);if(Sw(w))return this.createStyleClone(w);var S=w.cloneNode(!1);return wp(S)&&(wp(w)&&w.currentSrc&&w.currentSrc!==w.src&&(S.src=w.currentSrc,S.srcset=""),"lazy"===S.loading&&(S.loading="eager")),dd(S)?this.createCustomElementClone(S):S},C.prototype.createCustomElementClone=function(w){var S=document.createElement("html2canvascustomelement");return rA(w.style,S),S},C.prototype.createStyleClone=function(w){try{var S=w.sheet;if(S&&S.cssRules){var E=[].slice.call(S.cssRules,0).reduce(function(G,J){return J&&"string"==typeof J.cssText?G+J.cssText:G},""),L=w.cloneNode(!1);return L.textContent=E,L}}catch(G){if(this.context.logger.error("Unable to access cssRules property",G),"SecurityError"!==G.name)throw G}return w.cloneNode(!1)},C.prototype.createCanvasClone=function(w){var S;if(this.options.inlineImages&&w.ownerDocument){var E=w.ownerDocument.createElement("img");try{return E.src=w.toDataURL(),E}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",w)}}var L=w.cloneNode(!1);try{L.width=w.width,L.height=w.height;var G=w.getContext("2d"),J=L.getContext("2d");if(J)if(!this.options.allowTaint&&G)J.putImageData(G.getImageData(0,0,w.width,w.height),0,0);else{var de=null!==(S=w.getContext("webgl2"))&&void 0!==S?S:w.getContext("webgl");de&&!1===de.getContextAttributes()?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",w),J.drawImage(w,0,0)}return L}catch{this.context.logger.info("Unable to clone canvas as it is tainted",w)}return L},C.prototype.createVideoClone=function(w){var S=w.ownerDocument.createElement("canvas");S.width=w.offsetWidth,S.height=w.offsetHeight;var E=S.getContext("2d");try{return E&&(E.drawImage(w,0,0,S.width,S.height),this.options.allowTaint||E.getImageData(0,0,S.width,S.height)),S}catch{this.context.logger.info("Unable to clone video as it is tainted",w)}var L=w.ownerDocument.createElement("canvas");return L.width=w.offsetWidth,L.height=w.offsetHeight,L},C.prototype.appendChildNode=function(w,S,E){(!Bu(S)||!function(C){return"SCRIPT"===C.tagName}(S)&&!S.hasAttribute(ec)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(S)))&&(!this.options.copyStyles||!Bu(S)||!Sw(S))&&w.appendChild(this.cloneNode(S,E))},C.prototype.cloneChildNodes=function(w,S,E){for(var L=this,G=w.shadowRoot?w.shadowRoot.firstChild:w.firstChild;G;G=G.nextSibling)if(Bu(G)&&Jh(G)&&"function"==typeof G.assignedNodes){var J=G.assignedNodes();J.length&&J.forEach(function(de){return L.appendChildNode(S,de,E)})}else this.appendChildNode(S,G,E)},C.prototype.cloneNode=function(w,S){if(lf(w))return document.createTextNode(w.data);if(!w.ownerDocument)return w.cloneNode(!1);var E=w.ownerDocument.defaultView;if(E&&Bu(w)&&(cf(w)||$h(w))){var L=this.createElementClone(w);L.style.transitionProperty="none";var G=E.getComputedStyle(w),J=E.getComputedStyle(w,":before"),de=E.getComputedStyle(w,":after");this.referenceElement===w&&cf(L)&&(this.clonedReferenceElement=L),im(L)&&am(L);var ue=this.counters.parse(new ea(this.context,G)),Re=this.resolvePseudoContent(w,L,J,nA.BEFORE);dd(w)&&(S=!0),wc(w)||this.cloneChildNodes(w,L,S),Re&&L.insertBefore(Re,L.firstChild);var ze=this.resolvePseudoContent(w,L,de,nA.AFTER);return ze&&L.appendChild(ze),this.counters.pop(ue),(G&&(this.options.copyStyles||$h(w))&&!bp(w)||S)&&rA(G,L),(0!==w.scrollTop||0!==w.scrollLeft)&&this.scrolledElements.push([L,w.scrollLeft,w.scrollTop]),(th(w)||bc(w))&&(th(L)||bc(L))&&(L.value=w.value),L}return w.cloneNode(!1)},C.prototype.resolvePseudoContent=function(w,S,E,L){var G=this;if(E){var J=E.content,de=S.ownerDocument;if(de&&J&&"none"!==J&&"-moz-alt-content"!==J&&"none"!==E.display){this.counters.parse(new ea(this.context,E));var ue=new Gh(this.context,E),Re=de.createElement("html2canvaspseudoelement");rA(E,Re),ue.content.forEach(function(it){if(0===it.type)Re.appendChild(de.createTextNode(it.value));else if(22===it.type){var kt=de.createElement("img");kt.src=it.value,kt.style.opacity="1",Re.appendChild(kt)}else if(18===it.type){if("attr"===it.name){var Pn=it.values.filter(Wi);Pn.length&&Re.appendChild(de.createTextNode(w.getAttribute(Pn[0].value)||""))}else if("counter"===it.name){var hn=it.values.filter(fc),$i=hn[1];if((Sn=hn[0])&&Wi(Sn)){var ri=G.counters.getCounterValue(Sn.value),Jn=$i&&Wi($i)?WA.parse(G.context,$i.value):3;Re.appendChild(de.createTextNode(tl(ri,Jn,!1)))}}else if("counters"===it.name){var Sn,Ur=it.values.filter(fc),tr=Ur[1];if($i=Ur[2],(Sn=Ur[0])&&Wi(Sn)){var mi=G.counters.getCounterValues(Sn.value),Rn=$i&&Wi($i)?WA.parse(G.context,$i.value):3,dr=tr&&0===tr.type?tr.value:"",sr=mi.map(function(Ec){return tl(Ec,Rn,!1)}).join(dr);Re.appendChild(de.createTextNode(sr))}}}else if(20===it.type)switch(it.value){case"open-quote":Re.appendChild(de.createTextNode(Cu(ue.quotes,G.quoteDepth++,!0)));break;case"close-quote":Re.appendChild(de.createTextNode(Cu(ue.quotes,--G.quoteDepth,!1)));break;default:Re.appendChild(de.createTextNode(it.value))}}),Re.className=aA+" "+V_;var ze=L===nA.BEFORE?" "+aA:" "+V_;return $h(S)?S.className.baseValue+=ze:S.className+=ze,Re}}},C.destroy=function(w){return!!w.parentNode&&(w.parentNode.removeChild(w),!0)},C}(),nA=(()=>{return(C=nA||(nA={}))[C.BEFORE=0]="BEFORE",C[C.AFTER=1]="AFTER",nA;var C})(),LC=function(C,w){var S=C.createElement("iframe");return S.className="html2canvas-container",S.style.visibility="hidden",S.style.position="fixed",S.style.left="-10000px",S.style.top="0px",S.style.border="0",S.width=w.width.toString(),S.height=w.height.toString(),S.scrolling="no",S.setAttribute(ec,"true"),C.body.appendChild(S),S},iA=function(C){return new Promise(function(w){C.complete?w():C.src?(C.onload=w,C.onerror=w):w()})},xp=function(C){return Promise.all([].slice.call(C.images,0).map(iA))},Iw=function(C){return new Promise(function(w,S){var E=C.contentWindow;if(!E)return S("No window assigned for iframe");var L=E.document;E.onload=C.onload=function(){E.onload=C.onload=null;var G=setInterval(function(){L.body.childNodes.length>0&&"complete"===L.readyState&&(clearInterval(G),w(C))},50)}})},Ep=["all","d","content"],rA=function(C,w){for(var S=C.length-1;S>=0;S--){var E=C.item(S);-1===Ep.indexOf(E)&&w.style.setProperty(E,C.getPropertyValue(E))}return w},Sp=function(C){var w="";return C&&(w+="<!DOCTYPE ",C.name&&(w+=C.name),C.internalSubset&&(w+=C.internalSubset),C.publicId&&(w+='"'+C.publicId+'"'),C.systemId&&(w+='"'+C.systemId+'"'),w+=">"),w},sA=function(C,w,S){C&&C.defaultView&&(w!==C.defaultView.pageXOffset||S!==C.defaultView.pageYOffset)&&C.defaultView.scrollTo(w,S)},om=function(C){var w=C[0],E=C[2];w.scrollLeft=C[1],w.scrollTop=E},aA="___html2canvas___pseudoelement_before",V_="___html2canvas___pseudoelement_after",wv='{\n    content: "" !important;\n    display: none !important;\n}',am=function(C){lm(C,"."+aA+":before"+wv+"\n         ."+V_+":after"+wv)},lm=function(C,w){var S=C.ownerDocument;if(S){var E=S.createElement("style");E.textContent=w,C.appendChild(E)}},tc=function(){function C(){}return C.getOrigin=function(w){var S=C._link;return S?(S.href=w,S.href=S.href,S.protocol+S.hostname+S.port):"about:blank"},C.isSameOrigin=function(w){return C.getOrigin(w)===C._origin},C.setContext=function(w){C._link=w.document.createElement("a"),C._origin=C.getOrigin(w.location.href)},C._origin="about:blank",C}(),ih=function(){function C(w,S){this.context=w,this._options=S,this._cache={}}return C.prototype.addImage=function(w){var S=Promise.resolve();return this.has(w)||(cm(w)||Oa(w))&&(this._cache[w]=this.loadImage(w)).catch(function(){}),S},C.prototype.match=function(w){return this._cache[w]},C.prototype.loadImage=function(w){return Se(this,void 0,void 0,function(){var S,E,L,G,J=this;return re(this,function(de){switch(de.label){case 0:return S=tc.isSameOrigin(w),E=!fd(w)&&!0===this._options.useCORS&&kn.SUPPORT_CORS_IMAGES&&!S,L=!fd(w)&&!S&&!cm(w)&&"string"==typeof this._options.proxy&&kn.SUPPORT_CORS_XHR&&!E,S||!1!==this._options.allowTaint||fd(w)||cm(w)||L||E?(G=w,L?[4,this.proxy(G)]:[3,2]):[2];case 1:G=de.sent(),de.label=2;case 2:return this.context.logger.debug("Added image "+w.substring(0,256)),[4,new Promise(function(ue,Re){var ze=new Image;ze.onload=function(){return ue(ze)},ze.onerror=Re,(Cv(G)||E)&&(ze.crossOrigin="anonymous"),ze.src=G,!0===ze.complete&&setTimeout(function(){return ue(ze)},500),J._options.imageTimeout>0&&setTimeout(function(){return Re("Timed out ("+J._options.imageTimeout+"ms) loading image")},J._options.imageTimeout)})];case 3:return[2,de.sent()]}})})},C.prototype.has=function(w){return typeof this._cache[w]<"u"},C.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},C.prototype.proxy=function(w){var S=this,E=this._options.proxy;if(!E)throw new Error("No proxy defined");var L=w.substring(0,256);return new Promise(function(G,J){var de=kn.SUPPORT_RESPONSE_TYPE?"blob":"text",ue=new XMLHttpRequest;ue.onload=function(){if(200===ue.status)if("text"===de)G(ue.response);else{var it=new FileReader;it.addEventListener("load",function(){return G(it.result)},!1),it.addEventListener("error",function(kt){return J(kt)},!1),it.readAsDataURL(ue.response)}else J("Failed to proxy resource "+L+" with status code "+ue.status)},ue.onerror=J;var Re=E.indexOf("?")>-1?"&":"?";if(ue.open("GET",""+E+Re+"url="+encodeURIComponent(w)+"&responseType="+de),"text"!==de&&ue instanceof XMLHttpRequest&&(ue.responseType=de),S._options.imageTimeout){var ze=S._options.imageTimeout;ue.timeout=ze,ue.ontimeout=function(){return J("Timed out ("+ze+"ms) proxying "+L)}}ue.send()})},C}(),bv=/^data:image\/svg\+xml/i,G_=/^data:image\/.*;base64,/i,ff=/^data:image\/.*/i,Oa=function(C){return kn.SUPPORT_SVG_DRAWING||!Dp(C)},fd=function(C){return ff.test(C)},Cv=function(C){return G_.test(C)},cm=function(C){return"blob"===C.substr(0,4)},Dp=function(C){return"svg"===C.substr(-3).toLowerCase()||bv.test(C)},xn=function(){function C(w,S){this.type=0,this.x=w,this.y=S}return C.prototype.add=function(w,S){return new C(this.x+w,this.y+S)},C}(),Tp=function(C,w,S){return new xn(C.x+(w.x-C.x)*S,C.y+(w.y-C.y)*S)},um=function(){function C(w,S,E,L){this.type=1,this.start=w,this.startControl=S,this.endControl=E,this.end=L}return C.prototype.subdivide=function(w,S){var E=Tp(this.start,this.startControl,w),L=Tp(this.startControl,this.endControl,w),G=Tp(this.endControl,this.end,w),J=Tp(E,L,w),de=Tp(L,G,w),ue=Tp(J,de,w);return S?new C(this.start,E,J,ue):new C(ue,de,G,this.end)},C.prototype.add=function(w,S){return new C(this.start.add(w,S),this.startControl.add(w,S),this.endControl.add(w,S),this.end.add(w,S))},C.prototype.reverse=function(){return new C(this.end,this.endControl,this.startControl,this.start)},C}(),Fl=function(C){return 1===C.type},nl=function C(w){var S=w.styles,E=w.bounds,L=Zi(S.borderTopLeftRadius,E.width,E.height),G=L[0],J=L[1],de=Zi(S.borderTopRightRadius,E.width,E.height),ue=de[0],Re=de[1],ze=Zi(S.borderBottomRightRadius,E.width,E.height),it=ze[0],kt=ze[1],Pn=Zi(S.borderBottomLeftRadius,E.width,E.height),hn=Pn[0],Sn=Pn[1],$i=[];$i.push((G+ue)/E.width),$i.push((hn+it)/E.width),$i.push((J+Sn)/E.height),$i.push((Re+kt)/E.height);var ri=Math.max.apply(Math,$i);ri>1&&(G/=ri,J/=ri,ue/=ri,Re/=ri,it/=ri,kt/=ri,hn/=ri,Sn/=ri);var Jn=E.width-ue,Ur=E.height-kt,tr=E.width-it,mi=E.height-Sn,Rn=S.borderTopWidth,dr=S.borderRightWidth,sr=S.borderBottomWidth,Fi=S.borderLeftWidth,Uo=Tr(S.paddingTop,w.bounds.width),Ec=Tr(S.paddingRight,w.bounds.width),Kc=Tr(S.paddingBottom,w.bounds.width),cs=Tr(S.paddingLeft,w.bounds.width);this.topLeftBorderDoubleOuterBox=G>0||J>0?ps(E.left+Fi/3,E.top+Rn/3,G-Fi/3,J-Rn/3,er.TOP_LEFT):new xn(E.left+Fi/3,E.top+Rn/3),this.topRightBorderDoubleOuterBox=G>0||J>0?ps(E.left+Jn,E.top+Rn/3,ue-dr/3,Re-Rn/3,er.TOP_RIGHT):new xn(E.left+E.width-dr/3,E.top+Rn/3),this.bottomRightBorderDoubleOuterBox=it>0||kt>0?ps(E.left+tr,E.top+Ur,it-dr/3,kt-sr/3,er.BOTTOM_RIGHT):new xn(E.left+E.width-dr/3,E.top+E.height-sr/3),this.bottomLeftBorderDoubleOuterBox=hn>0||Sn>0?ps(E.left+Fi/3,E.top+mi,hn-Fi/3,Sn-sr/3,er.BOTTOM_LEFT):new xn(E.left+Fi/3,E.top+E.height-sr/3),this.topLeftBorderDoubleInnerBox=G>0||J>0?ps(E.left+2*Fi/3,E.top+2*Rn/3,G-2*Fi/3,J-2*Rn/3,er.TOP_LEFT):new xn(E.left+2*Fi/3,E.top+2*Rn/3),this.topRightBorderDoubleInnerBox=G>0||J>0?ps(E.left+Jn,E.top+2*Rn/3,ue-2*dr/3,Re-2*Rn/3,er.TOP_RIGHT):new xn(E.left+E.width-2*dr/3,E.top+2*Rn/3),this.bottomRightBorderDoubleInnerBox=it>0||kt>0?ps(E.left+tr,E.top+Ur,it-2*dr/3,kt-2*sr/3,er.BOTTOM_RIGHT):new xn(E.left+E.width-2*dr/3,E.top+E.height-2*sr/3),this.bottomLeftBorderDoubleInnerBox=hn>0||Sn>0?ps(E.left+2*Fi/3,E.top+mi,hn-2*Fi/3,Sn-2*sr/3,er.BOTTOM_LEFT):new xn(E.left+2*Fi/3,E.top+E.height-2*sr/3),this.topLeftBorderStroke=G>0||J>0?ps(E.left+Fi/2,E.top+Rn/2,G-Fi/2,J-Rn/2,er.TOP_LEFT):new xn(E.left+Fi/2,E.top+Rn/2),this.topRightBorderStroke=G>0||J>0?ps(E.left+Jn,E.top+Rn/2,ue-dr/2,Re-Rn/2,er.TOP_RIGHT):new xn(E.left+E.width-dr/2,E.top+Rn/2),this.bottomRightBorderStroke=it>0||kt>0?ps(E.left+tr,E.top+Ur,it-dr/2,kt-sr/2,er.BOTTOM_RIGHT):new xn(E.left+E.width-dr/2,E.top+E.height-sr/2),this.bottomLeftBorderStroke=hn>0||Sn>0?ps(E.left+Fi/2,E.top+mi,hn-Fi/2,Sn-sr/2,er.BOTTOM_LEFT):new xn(E.left+Fi/2,E.top+E.height-sr/2),this.topLeftBorderBox=G>0||J>0?ps(E.left,E.top,G,J,er.TOP_LEFT):new xn(E.left,E.top),this.topRightBorderBox=ue>0||Re>0?ps(E.left+Jn,E.top,ue,Re,er.TOP_RIGHT):new xn(E.left+E.width,E.top),this.bottomRightBorderBox=it>0||kt>0?ps(E.left+tr,E.top+Ur,it,kt,er.BOTTOM_RIGHT):new xn(E.left+E.width,E.top+E.height),this.bottomLeftBorderBox=hn>0||Sn>0?ps(E.left,E.top+mi,hn,Sn,er.BOTTOM_LEFT):new xn(E.left,E.top+E.height),this.topLeftPaddingBox=G>0||J>0?ps(E.left+Fi,E.top+Rn,Math.max(0,G-Fi),Math.max(0,J-Rn),er.TOP_LEFT):new xn(E.left+Fi,E.top+Rn),this.topRightPaddingBox=ue>0||Re>0?ps(E.left+Math.min(Jn,E.width-dr),E.top+Rn,Jn>E.width+dr?0:Math.max(0,ue-dr),Math.max(0,Re-Rn),er.TOP_RIGHT):new xn(E.left+E.width-dr,E.top+Rn),this.bottomRightPaddingBox=it>0||kt>0?ps(E.left+Math.min(tr,E.width-Fi),E.top+Math.min(Ur,E.height-sr),Math.max(0,it-dr),Math.max(0,kt-sr),er.BOTTOM_RIGHT):new xn(E.left+E.width-dr,E.top+E.height-sr),this.bottomLeftPaddingBox=hn>0||Sn>0?ps(E.left+Fi,E.top+Math.min(mi,E.height-sr),Math.max(0,hn-Fi),Math.max(0,Sn-sr),er.BOTTOM_LEFT):new xn(E.left+Fi,E.top+E.height-sr),this.topLeftContentBox=G>0||J>0?ps(E.left+Fi+cs,E.top+Rn+Uo,Math.max(0,G-(Fi+cs)),Math.max(0,J-(Rn+Uo)),er.TOP_LEFT):new xn(E.left+Fi+cs,E.top+Rn+Uo),this.topRightContentBox=ue>0||Re>0?ps(E.left+Math.min(Jn,E.width+Fi+cs),E.top+Rn+Uo,Jn>E.width+Fi+cs?0:ue-Fi+cs,Re-(Rn+Uo),er.TOP_RIGHT):new xn(E.left+E.width-(dr+Ec),E.top+Rn+Uo),this.bottomRightContentBox=it>0||kt>0?ps(E.left+Math.min(tr,E.width-(Fi+cs)),E.top+Math.min(Ur,E.height+Rn+Uo),Math.max(0,it-(dr+Ec)),kt-(sr+Kc),er.BOTTOM_RIGHT):new xn(E.left+E.width-(dr+Ec),E.top+E.height-(sr+Kc)),this.bottomLeftContentBox=hn>0||Sn>0?ps(E.left+Fi+cs,E.top+mi,Math.max(0,hn-(Fi+cs)),Sn-(sr+Kc),er.BOTTOM_LEFT):new xn(E.left+Fi+cs,E.top+E.height-(sr+Kc))},er=(()=>{return(C=er||(er={}))[C.TOP_LEFT=0]="TOP_LEFT",C[C.TOP_RIGHT=1]="TOP_RIGHT",C[C.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",C[C.BOTTOM_LEFT=3]="BOTTOM_LEFT",er;var C})(),ps=function(C,w,S,E,L){var G=(Math.sqrt(2)-1)/3*4,J=S*G,de=E*G,ue=C+S,Re=w+E;switch(L){case er.TOP_LEFT:return new um(new xn(C,Re),new xn(C,Re-de),new xn(ue-J,w),new xn(ue,w));case er.TOP_RIGHT:return new um(new xn(C,w),new xn(C+J,w),new xn(ue,Re-de),new xn(ue,Re));case er.BOTTOM_RIGHT:return new um(new xn(ue,w),new xn(ue,w+de),new xn(C+J,Re),new xn(C,Re));default:return new um(new xn(ue,Re),new xn(ue-J,Re),new xn(C,w+de),new xn(C,w))}},Bp=function(C){return[C.topLeftBorderBox,C.topRightBorderBox,C.bottomRightBorderBox,C.bottomLeftBorderBox]},pf=function(C){return[C.topLeftPaddingBox,C.topRightPaddingBox,C.bottomRightPaddingBox,C.bottomLeftPaddingBox]},bs=function C(w,S,E){this.offsetX=w,this.offsetY=S,this.matrix=E,this.type=0,this.target=6},gf=function C(w,S){this.path=w,this.target=S,this.type=1},pd=function C(w){this.opacity=w,this.type=2,this.target=6},gd=function(C){return 1===C.type},lA=function(C,w){return C.length===w.length&&C.some(function(S,E){return S===w[E]})},Sv=function C(w){this.element=w,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},md=function(){function C(w,S){if(this.container=w,this.parent=S,this.effects=[],this.curves=new nl(this.container),this.container.styles.opacity<1&&this.effects.push(new pd(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new bs(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var J=Bp(this.curves),de=pf(this.curves);lA(J,de)?this.effects.push(new gf(J,6)):(this.effects.push(new gf(J,2)),this.effects.push(new gf(de,4)))}}return C.prototype.getEffects=function(w){for(var S=-1===[2,3].indexOf(this.container.styles.position),E=this.parent,L=this.effects.slice(0);E;){var G=E.effects.filter(function(ue){return!gd(ue)});if(S||0!==E.container.styles.position||!E.parent){if(L.unshift.apply(L,G),S=-1===[2,3].indexOf(E.container.styles.position),0!==E.container.styles.overflowX){var J=Bp(E.curves),de=pf(E.curves);lA(J,de)||L.unshift(new gf(de,6))}}else L.unshift.apply(L,G);E=E.parent}return L.filter(function(ue){return zn(ue.target,w)})},C}(),cA=function(C,w,S,E){C.container.elements.forEach(function(L){var G=zn(L.flags,4),J=zn(L.flags,2),de=new md(L,C);zn(L.styles.display,2048)&&E.push(de);var ue=zn(L.flags,8)?[]:E;if(G||J){var Re=G||L.styles.isPositioned()?S:w,ze=new Sv(de);if(L.styles.isPositioned()||L.styles.opacity<1||L.styles.isTransformed()){var it=L.styles.zIndex.order;if(it<0){var kt=0;Re.negativeZIndex.some(function(hn,Sn){return it>hn.element.container.styles.zIndex.order?(kt=Sn,!1):kt>0}),Re.negativeZIndex.splice(kt,0,ze)}else if(it>0){var Pn=0;Re.positiveZIndex.some(function(hn,Sn){return it>=hn.element.container.styles.zIndex.order?(Pn=Sn+1,!1):Pn>0}),Re.positiveZIndex.splice(Pn,0,ze)}else Re.zeroOrAutoZIndexOrTransformedOrOpacity.push(ze)}else L.styles.isFloating()?Re.nonPositionedFloats.push(ze):Re.nonPositionedInlineLevel.push(ze);cA(de,ze,G?ze:S,ue)}else L.styles.isInlineLevel()?w.inlineLevel.push(de):w.nonInlineLevel.push(de),cA(de,w,S,ue);zn(L.flags,8)&&z_(L,ue)})},z_=function(C,w){for(var S=C instanceof gp?C.start:1,E=C instanceof gp&&C.reversed,L=0;L<w.length;L++){var G=w[L];G.container instanceof Kh&&"number"==typeof G.container.value&&0!==G.container.value&&(S=G.container.value),G.listValue=tl(S,G.container.styles.listStyleType,!0),S+=E?-1:1}},uA=function(C,w){switch(w){case 0:return Q(C.topLeftBorderBox,C.topLeftPaddingBox,C.topRightBorderBox,C.topRightPaddingBox);case 1:return Q(C.topRightBorderBox,C.topRightPaddingBox,C.bottomRightBorderBox,C.bottomRightPaddingBox);case 2:return Q(C.bottomRightBorderBox,C.bottomRightPaddingBox,C.bottomLeftBorderBox,C.bottomLeftPaddingBox);default:return Q(C.bottomLeftBorderBox,C.bottomLeftPaddingBox,C.topLeftBorderBox,C.topLeftPaddingBox)}},D=function(C,w){var S=[];return Fl(C)?S.push(C.subdivide(.5,!1)):S.push(C),Fl(w)?S.push(w.subdivide(.5,!0)):S.push(w),S},Q=function(C,w,S,E){var L=[];return Fl(C)?L.push(C.subdivide(.5,!1)):L.push(C),Fl(S)?L.push(S.subdivide(.5,!0)):L.push(S),Fl(E)?L.push(E.subdivide(.5,!0).reverse()):L.push(E),Fl(w)?L.push(w.subdivide(.5,!1).reverse()):L.push(w),L},q=function(C){var S=C.styles;return C.bounds.add(S.borderLeftWidth,S.borderTopWidth,-(S.borderRightWidth+S.borderLeftWidth),-(S.borderTopWidth+S.borderBottomWidth))},ye=function(C){var w=C.styles,S=C.bounds,E=Tr(w.paddingLeft,S.width),L=Tr(w.paddingRight,S.width),G=Tr(w.paddingTop,S.width),J=Tr(w.paddingBottom,S.width);return S.add(E+w.borderLeftWidth,G+w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth+E+L),-(w.borderTopWidth+w.borderBottomWidth+G+J))},Dt=function(C,w,S){var E=function(C,w){return 0===C?w.bounds:2===C?ye(w):q(w)}(Ws(C.styles.backgroundOrigin,w),C),L=function(C,w){return 0===C?w.bounds:2===C?ye(w):q(w)}(Ws(C.styles.backgroundClip,w),C),G=Ji(Ws(C.styles.backgroundSize,w),S,E),J=G[0],de=G[1],ue=Zi(Ws(C.styles.backgroundPosition,w),E.width-J,E.height-de);return[xc(Ws(C.styles.backgroundRepeat,w),ue,G,E,L),Math.round(E.left+ue[0]),Math.round(E.top+ue[1]),J,de]},on=function(C){return Wi(C)&&C.value===Ya.AUTO},mn=function(C){return"number"==typeof C},Ji=function(C,w,S){var E=w[0],L=w[1],G=w[2],J=C[0],de=C[1];if(!J)return[0,0];if(Ki(J)&&de&&Ki(de))return[Tr(J,S.width),Tr(de,S.height)];var ue=mn(G);if(Wi(J)&&(J.value===Ya.CONTAIN||J.value===Ya.COVER))return mn(G)?S.width/S.height<G!=(J.value===Ya.COVER)?[S.width,S.width/G]:[S.height*G,S.height]:[S.width,S.height];var ze=mn(E),it=mn(L),kt=ze||it;if(on(J)&&(!de||on(de)))return ze&&it?[E,L]:ue||kt?kt&&ue?[ze?E:L*G,it?L:E/G]:[ze?E:S.width,it?L:S.height]:[S.width,S.height];if(ue){var ri=0,Jn=0;return Ki(J)?ri=Tr(J,S.width):Ki(de)&&(Jn=Tr(de,S.height)),on(J)?ri=Jn*G:(!de||on(de))&&(Jn=ri/G),[ri,Jn]}var Ur=null,tr=null;if(Ki(J)?Ur=Tr(J,S.width):de&&Ki(de)&&(tr=Tr(de,S.height)),null!==Ur&&(!de||on(de))&&(tr=ze&&it?Ur/E*L:S.height),null!==tr&&on(J)&&(Ur=ze&&it?tr/L*E:S.width),null!==Ur&&null!==tr)return[Ur,tr];throw new Error("Unable to calculate background-size for element")},Ws=function(C,w){var S=C[w];return typeof S>"u"?C[0]:S},xc=function(C,w,S,E,L){var G=w[0],J=w[1],de=S[0],ue=S[1];switch(C){case 2:return[new xn(Math.round(E.left),Math.round(E.top+J)),new xn(Math.round(E.left+E.width),Math.round(E.top+J)),new xn(Math.round(E.left+E.width),Math.round(ue+E.top+J)),new xn(Math.round(E.left),Math.round(ue+E.top+J))];case 3:return[new xn(Math.round(E.left+G),Math.round(E.top)),new xn(Math.round(E.left+G+de),Math.round(E.top)),new xn(Math.round(E.left+G+de),Math.round(E.height+E.top)),new xn(Math.round(E.left+G),Math.round(E.height+E.top))];case 1:return[new xn(Math.round(E.left+G),Math.round(E.top+J)),new xn(Math.round(E.left+G+de),Math.round(E.top+J)),new xn(Math.round(E.left+G+de),Math.round(E.top+J+ue)),new xn(Math.round(E.left+G),Math.round(E.top+J+ue))];default:return[new xn(Math.round(L.left),Math.round(L.top)),new xn(Math.round(L.left+L.width),Math.round(L.top)),new xn(Math.round(L.left+L.width),Math.round(L.height+L.top)),new xn(Math.round(L.left),Math.round(L.height+L.top))]}},Mp="Hidden Text",q_=function(){function C(w){this._data={},this._document=w}return C.prototype.parseMetrics=function(w,S){var E=this._document.createElement("div"),L=this._document.createElement("img"),G=this._document.createElement("span"),J=this._document.body;E.style.visibility="hidden",E.style.fontFamily=w,E.style.fontSize=S,E.style.margin="0",E.style.padding="0",E.style.whiteSpace="nowrap",J.appendChild(E),L.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",L.width=1,L.height=1,L.style.margin="0",L.style.padding="0",L.style.verticalAlign="baseline",G.style.fontFamily=w,G.style.fontSize=S,G.style.margin="0",G.style.padding="0",G.appendChild(this._document.createTextNode(Mp)),E.appendChild(G),E.appendChild(L);var de=L.offsetTop-G.offsetTop+2;E.removeChild(G),E.appendChild(this._document.createTextNode(Mp)),E.style.lineHeight="normal",L.style.verticalAlign="super";var ue=L.offsetTop-E.offsetTop+2;return J.removeChild(E),{baseline:de,middle:ue}},C.prototype.getMetrics=function(w,S){var E=w+" "+S;return typeof this._data[E]>"u"&&(this._data[E]=this.parseMetrics(w,S)),this._data[E]},C}(),hm=function C(w,S){this.context=w,this.options=S},Iv=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L._activeEffects=[],L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),E.canvas||(L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px"),L.fontMetrics=new q_(document),L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.ctx.textBaseline="bottom",L._activeEffects=[],L.context.logger.debug("Canvas renderer initialized ("+E.width+"x"+E.height+") with scale "+E.scale),L}return ie(w,C),w.prototype.applyEffects=function(S){for(var E=this;this._activeEffects.length;)this.popEffect();S.forEach(function(L){return E.applyEffect(L)})},w.prototype.applyEffect=function(S){this.ctx.save(),function(C){return 2===C.type}(S)&&(this.ctx.globalAlpha=S.opacity),function(C){return 0===C.type}(S)&&(this.ctx.translate(S.offsetX,S.offsetY),this.ctx.transform(S.matrix[0],S.matrix[1],S.matrix[2],S.matrix[3],S.matrix[4],S.matrix[5]),this.ctx.translate(-S.offsetX,-S.offsetY)),gd(S)&&(this.path(S.path),this.ctx.clip()),this._activeEffects.push(S)},w.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},w.prototype.renderStack=function(S){return Se(this,void 0,void 0,function(){return re(this,function(L){switch(L.label){case 0:return S.element.container.styles.isVisible()?[4,this.renderStackContent(S)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})},w.prototype.renderNode=function(S){return Se(this,void 0,void 0,function(){return re(this,function(E){switch(E.label){case 0:return zn(S.container.flags,16),S.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(S)]:[3,3];case 1:return E.sent(),[4,this.renderNodeContent(S)];case 2:E.sent(),E.label=3;case 3:return[2]}})})},w.prototype.renderTextWithLetterSpacing=function(S,E,L){var G=this;0===E?this.ctx.fillText(S.text,S.bounds.left,S.bounds.top+L):Ys(S.text).reduce(function(de,ue){return G.ctx.fillText(ue,de,S.bounds.top+L),de+G.ctx.measureText(ue).width},S.bounds.left)},w.prototype.createFontStyle=function(S){var E=S.fontVariant.filter(function(J){return"normal"===J||"small-caps"===J}).join(""),L=dA(S.fontFamily).join(", "),G=gu(S.fontSize)?""+S.fontSize.number+S.fontSize.unit:S.fontSize.number+"px";return[[S.fontStyle,E,S.fontWeight,G,L].join(" "),L,G]},w.prototype.renderTextNode=function(S,E){return Se(this,void 0,void 0,function(){var L,J,de,ue,Re,ze,it,kt=this;return re(this,function(Pn){return L=this.createFontStyle(E),J=L[1],de=L[2],this.ctx.font=L[0],this.ctx.direction=1===E.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ue=this.fontMetrics.getMetrics(J,de),Re=ue.baseline,ze=ue.middle,it=E.paintOrder,S.textBounds.forEach(function(hn){it.forEach(function(Sn){switch(Sn){case 0:kt.ctx.fillStyle=ws(E.color),kt.renderTextWithLetterSpacing(hn,E.letterSpacing,Re);var $i=E.textShadow;$i.length&&hn.text.trim().length&&($i.slice(0).reverse().forEach(function(ri){kt.ctx.shadowColor=ws(ri.color),kt.ctx.shadowOffsetX=ri.offsetX.number*kt.options.scale,kt.ctx.shadowOffsetY=ri.offsetY.number*kt.options.scale,kt.ctx.shadowBlur=ri.blur.number,kt.renderTextWithLetterSpacing(hn,E.letterSpacing,Re)}),kt.ctx.shadowColor="",kt.ctx.shadowOffsetX=0,kt.ctx.shadowOffsetY=0,kt.ctx.shadowBlur=0),E.textDecorationLine.length&&(kt.ctx.fillStyle=ws(E.textDecorationColor||E.color),E.textDecorationLine.forEach(function(ri){switch(ri){case 1:kt.ctx.fillRect(hn.bounds.left,Math.round(hn.bounds.top+Re),hn.bounds.width,1);break;case 2:kt.ctx.fillRect(hn.bounds.left,Math.round(hn.bounds.top),hn.bounds.width,1);break;case 3:kt.ctx.fillRect(hn.bounds.left,Math.ceil(hn.bounds.top+ze),hn.bounds.width,1)}}));break;case 1:E.webkitTextStrokeWidth&&hn.text.trim().length&&(kt.ctx.strokeStyle=ws(E.webkitTextStrokeColor),kt.ctx.lineWidth=E.webkitTextStrokeWidth,kt.ctx.lineJoin=window.chrome?"miter":"round",kt.ctx.strokeText(hn.text,hn.bounds.left,hn.bounds.top+Re)),kt.ctx.strokeStyle="",kt.ctx.lineWidth=0,kt.ctx.lineJoin="miter"}})}),[2]})})},w.prototype.renderReplacedElement=function(S,E,L){if(L&&S.intrinsicWidth>0&&S.intrinsicHeight>0){var G=ye(S),J=pf(E);this.path(J),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(L,0,0,S.intrinsicWidth,S.intrinsicHeight,G.left,G.top,G.width,G.height),this.ctx.restore()}},w.prototype.renderNodeContent=function(S){return Se(this,void 0,void 0,function(){var E,L,G,J,de,ze,it,kt,hn,Sn,$i,ri,Jn,Ur,tr,mi;return re(this,function(Rn){switch(Rn.label){case 0:this.applyEffects(S.getEffects(4)),L=S.curves,G=(E=S.container).styles,J=0,de=E.textNodes,Rn.label=1;case 1:return J<de.length?[4,this.renderTextNode(de[J],G)]:[3,4];case 2:Rn.sent(),Rn.label=3;case 3:return J++,[3,1];case 4:if(!(E instanceof fp))return[3,8];Rn.label=5;case 5:return Rn.trys.push([5,7,,8]),[4,this.context.cache.match(E.src)];case 6:return Jn=Rn.sent(),this.renderReplacedElement(E,L,Jn),[3,8];case 7:return Rn.sent(),this.context.logger.error("Error loading image "+E.src),[3,8];case 8:if(E instanceof pp&&this.renderReplacedElement(E,L,E.canvas),!(E instanceof N_))return[3,12];Rn.label=9;case 9:return Rn.trys.push([9,11,,12]),[4,this.context.cache.match(E.svg)];case 10:return Jn=Rn.sent(),this.renderReplacedElement(E,L,Jn),[3,12];case 11:return Rn.sent(),this.context.logger.error("Error loading svg "+E.svg.substring(0,255)),[3,12];case 12:return E instanceof vc&&E.tree?[4,new w(this.context,{scale:this.options.scale,backgroundColor:E.backgroundColor,x:0,y:0,width:E.width,height:E.height}).render(E.tree)]:[3,14];case 13:ze=Rn.sent(),E.width&&E.height&&this.ctx.drawImage(ze,0,0,E.width,E.height,E.bounds.left,E.bounds.top,E.bounds.width,E.bounds.height),Rn.label=14;case 14:if(E instanceof af&&(it=Math.min(E.bounds.width,E.bounds.height),E.type===_p?E.checked&&(this.ctx.save(),this.path([new xn(E.bounds.left+.39363*it,E.bounds.top+.79*it),new xn(E.bounds.left+.16*it,E.bounds.top+.5549*it),new xn(E.bounds.left+.27347*it,E.bounds.top+.44071*it),new xn(E.bounds.left+.39694*it,E.bounds.top+.5649*it),new xn(E.bounds.left+.72983*it,E.bounds.top+.23*it),new xn(E.bounds.left+.84*it,E.bounds.top+.34085*it),new xn(E.bounds.left+.39363*it,E.bounds.top+.79*it)]),this.ctx.fillStyle=ws(Jg),this.ctx.fill(),this.ctx.restore()):E.type===Wg&&E.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(E.bounds.left+it/2,E.bounds.top+it/2,it/4,0,2*Math.PI,!0),this.ctx.fillStyle=ws(Jg),this.ctx.fill(),this.ctx.restore())),Am(E)&&E.value.length){switch(kt=this.createFontStyle(G),hn=this.fontMetrics.getMetrics(tr=kt[0],kt[1]).baseline,this.ctx.font=tr,this.ctx.fillStyle=ws(G.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_f(E.styles.textAlign),mi=ye(E),Sn=0,E.styles.textAlign){case 1:Sn+=mi.width/2;break;case 2:Sn+=mi.width}$i=mi.add(Sn,0,0,-mi.height/2+1),this.ctx.save(),this.path([new xn(mi.left,mi.top),new xn(mi.left+mi.width,mi.top),new xn(mi.left+mi.width,mi.top+mi.height),new xn(mi.left,mi.top+mi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yt(E.value,$i),G.letterSpacing,hn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!zn(E.styles.display,2048))return[3,20];if(null===E.styles.listStyleImage)return[3,19];if(0!==(ri=E.styles.listStyleImage).type)return[3,18];Jn=void 0,Ur=ri.url,Rn.label=15;case 15:return Rn.trys.push([15,17,,18]),[4,this.context.cache.match(Ur)];case 16:return Jn=Rn.sent(),this.ctx.drawImage(Jn,E.bounds.left-(Jn.width+10),E.bounds.top),[3,18];case 17:return Rn.sent(),this.context.logger.error("Error loading list-style-image "+Ur),[3,18];case 18:return[3,20];case 19:S.listValue&&-1!==E.styles.listStyleType&&(tr=this.createFontStyle(G)[0],this.ctx.font=tr,this.ctx.fillStyle=ws(G.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",mi=new nt(E.bounds.left,E.bounds.top+Tr(E.styles.paddingTop,E.bounds.width),E.bounds.width,sp(G.lineHeight,G.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yt(S.listValue,mi),G.letterSpacing,sp(G.lineHeight,G.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Rn.label=20;case 20:return[2]}})})},w.prototype.renderStackContent=function(S){return Se(this,void 0,void 0,function(){var E,L,G,J,de,ue,Re,ze,it,kt,Pn,hn,Sn,$i;return re(this,function(Jn){switch(Jn.label){case 0:return zn(S.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(S.element)];case 1:Jn.sent(),E=0,L=S.negativeZIndex,Jn.label=2;case 2:return E<L.length?[4,this.renderStack(L[E])]:[3,5];case 3:Jn.sent(),Jn.label=4;case 4:return E++,[3,2];case 5:return[4,this.renderNodeContent(S.element)];case 6:Jn.sent(),G=0,J=S.nonInlineLevel,Jn.label=7;case 7:return G<J.length?[4,this.renderNode(J[G])]:[3,10];case 8:Jn.sent(),Jn.label=9;case 9:return G++,[3,7];case 10:de=0,ue=S.nonPositionedFloats,Jn.label=11;case 11:return de<ue.length?[4,this.renderStack(ue[de])]:[3,14];case 12:Jn.sent(),Jn.label=13;case 13:return de++,[3,11];case 14:Re=0,ze=S.nonPositionedInlineLevel,Jn.label=15;case 15:return Re<ze.length?[4,this.renderStack(ze[Re])]:[3,18];case 16:Jn.sent(),Jn.label=17;case 17:return Re++,[3,15];case 18:it=0,kt=S.inlineLevel,Jn.label=19;case 19:return it<kt.length?[4,this.renderNode(kt[it])]:[3,22];case 20:Jn.sent(),Jn.label=21;case 21:return it++,[3,19];case 22:Pn=0,hn=S.zeroOrAutoZIndexOrTransformedOrOpacity,Jn.label=23;case 23:return Pn<hn.length?[4,this.renderStack(hn[Pn])]:[3,26];case 24:Jn.sent(),Jn.label=25;case 25:return Pn++,[3,23];case 26:Sn=0,$i=S.positiveZIndex,Jn.label=27;case 27:return Sn<$i.length?[4,this.renderStack($i[Sn])]:[3,30];case 28:Jn.sent(),Jn.label=29;case 29:return Sn++,[3,27];case 30:return[2]}})})},w.prototype.mask=function(S){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(S.slice(0).reverse()),this.ctx.closePath()},w.prototype.path=function(S){this.ctx.beginPath(),this.formatPath(S),this.ctx.closePath()},w.prototype.formatPath=function(S){var E=this;S.forEach(function(L,G){var J=Fl(L)?L.start:L;0===G?E.ctx.moveTo(J.x,J.y):E.ctx.lineTo(J.x,J.y),Fl(L)&&E.ctx.bezierCurveTo(L.startControl.x,L.startControl.y,L.endControl.x,L.endControl.y,L.end.x,L.end.y)})},w.prototype.renderRepeat=function(S,E,L,G){this.path(S),this.ctx.fillStyle=E,this.ctx.translate(L,G),this.ctx.fill(),this.ctx.translate(-L,-G)},w.prototype.resizeImage=function(S,E,L){var G;if(S.width===E&&S.height===L)return S;var de=(null!==(G=this.canvas.ownerDocument)&&void 0!==G?G:document).createElement("canvas");return de.width=Math.max(1,E),de.height=Math.max(1,L),de.getContext("2d").drawImage(S,0,0,S.width,S.height,0,0,E,L),de},w.prototype.renderBackgroundImage=function(S){return Se(this,void 0,void 0,function(){var E,L,G,J,de;return re(this,function(Re){switch(Re.label){case 0:E=S.styles.backgroundImage.length-1,L=function(ze){var it,kt,Pn,hn,Sn,$i,ri,Jn,Ur,tr,mi,Rn,dr,sr,Fi,Uo,Ec,Kc,cs,La,hA,il,Na,Rp,Zc,rl,AA,Op,rh,yf,_d;return re(this,function(Lp){switch(Lp.label){case 0:if(0!==ze.type)return[3,5];it=void 0,kt=ze.url,Lp.label=1;case 1:return Lp.trys.push([1,3,,4]),[4,G.context.cache.match(kt)];case 2:return it=Lp.sent(),[3,4];case 3:return Lp.sent(),G.context.logger.error("Error loading background-image "+kt),[3,4];case 4:return it&&(Pn=Dt(S,E,[it.width,it.height,it.width/it.height]),Uo=Pn[0],il=Pn[1],Na=Pn[2],sr=G.ctx.createPattern(G.resizeImage(it,cs=Pn[3],La=Pn[4]),"repeat"),G.renderRepeat(Uo,sr,il,Na)),[3,6];case 5:!function(C){return 1===C.type}(ze)?function(C){return 2===C.type}(ze)&&(Fi=Dt(S,E,[null,null,null]),Uo=Fi[0],Ec=Fi[1],Kc=Fi[2],La=Fi[4],il=Tr((hA=0===ze.position.length?[qA]:ze.position)[0],cs=Fi[3]),Na=Tr(hA[hA.length-1],La),Rp=function(C,w,S,E,L){var G=0,J=0;switch(C.size){case 0:0===C.shape?G=J=Math.min(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===C.shape&&(G=Math.min(Math.abs(w),Math.abs(w-E)),J=Math.min(Math.abs(S),Math.abs(S-L)));break;case 2:if(0===C.shape)G=J=Math.min(Ea(w,S),Ea(w,S-L),Ea(w-E,S),Ea(w-E,S-L));else if(1===C.shape){var de=Math.min(Math.abs(S),Math.abs(S-L))/Math.min(Math.abs(w),Math.abs(w-E)),ue=ep(E,L,w,S,!0);J=de*(G=Ea(ue[0]-w,(ue[1]-S)/de))}break;case 1:0===C.shape?G=J=Math.max(Math.abs(w),Math.abs(w-E),Math.abs(S),Math.abs(S-L)):1===C.shape&&(G=Math.max(Math.abs(w),Math.abs(w-E)),J=Math.max(Math.abs(S),Math.abs(S-L)));break;case 3:if(0===C.shape)G=J=Math.max(Ea(w,S),Ea(w,S-L),Ea(w-E,S),Ea(w-E,S-L));else if(1===C.shape){de=Math.max(Math.abs(S),Math.abs(S-L))/Math.max(Math.abs(w),Math.abs(w-E));var it=ep(E,L,w,S,!1);J=de*(G=Ea(it[0]-w,(it[1]-S)/de))}}return Array.isArray(C.size)&&(G=Tr(C.size[0],E),J=2===C.size.length?Tr(C.size[1],L):G),[G,J]}(ze,il,Na,cs,La),rl=Rp[1],(Zc=Rp[0])>0&&rl>0&&(AA=G.ctx.createRadialGradient(Ec+il,Kc+Na,0,Ec+il,Kc+Na,Zc),Ju(ze.stops,2*Zc).forEach(function(gm){return AA.addColorStop(gm.stop,ws(gm.color))}),G.path(Uo),G.ctx.fillStyle=AA,Zc!==rl?(Op=S.bounds.left+.5*S.bounds.width,rh=S.bounds.top+.5*S.bounds.height,_d=1/(yf=rl/Zc),G.ctx.save(),G.ctx.translate(Op,rh),G.ctx.transform(1,0,0,yf,0,0),G.ctx.translate(-Op,-rh),G.ctx.fillRect(Ec,_d*(Kc-rh)+rh,cs,La*_d),G.ctx.restore()):G.ctx.fill())):(hn=Dt(S,E,[null,null,null]),Uo=hn[0],il=hn[1],Na=hn[2],Sn=Rg(ze.angle,cs=hn[3],La=hn[4]),$i=Sn[0],ri=Sn[1],Jn=Sn[2],Ur=Sn[3],tr=Sn[4],(mi=document.createElement("canvas")).width=cs,mi.height=La,Rn=mi.getContext("2d"),dr=Rn.createLinearGradient(ri,Ur,Jn,tr),Ju(ze.stops,$i).forEach(function(gm){return dr.addColorStop(gm.stop,ws(gm.color))}),Rn.fillStyle=dr,Rn.fillRect(0,0,cs,La),cs>0&&La>0&&(sr=G.ctx.createPattern(mi,"repeat"),G.renderRepeat(Uo,sr,il,Na))),Lp.label=6;case 6:return E--,[2]}})},G=this,J=0,de=S.styles.backgroundImage.slice(0).reverse(),Re.label=1;case 1:return J<de.length?[5,L(de[J])]:[3,4];case 2:Re.sent(),Re.label=3;case 3:return J++,[3,1];case 4:return[2]}})})},w.prototype.renderSolidBorder=function(S,E,L){return Se(this,void 0,void 0,function(){return re(this,function(G){return this.path(uA(L,E)),this.ctx.fillStyle=ws(S),this.ctx.fill(),[2]})})},w.prototype.renderDoubleBorder=function(S,E,L,G){return Se(this,void 0,void 0,function(){var J,de;return re(this,function(ue){switch(ue.label){case 0:return E<3?[4,this.renderSolidBorder(S,L,G)]:[3,2];case 1:return ue.sent(),[2];case 2:return J=function(C,w){switch(w){case 0:return Q(C.topLeftBorderBox,C.topLeftBorderDoubleOuterBox,C.topRightBorderBox,C.topRightBorderDoubleOuterBox);case 1:return Q(C.topRightBorderBox,C.topRightBorderDoubleOuterBox,C.bottomRightBorderBox,C.bottomRightBorderDoubleOuterBox);case 2:return Q(C.bottomRightBorderBox,C.bottomRightBorderDoubleOuterBox,C.bottomLeftBorderBox,C.bottomLeftBorderDoubleOuterBox);default:return Q(C.bottomLeftBorderBox,C.bottomLeftBorderDoubleOuterBox,C.topLeftBorderBox,C.topLeftBorderDoubleOuterBox)}}(G,L),this.path(J),this.ctx.fillStyle=ws(S),this.ctx.fill(),de=function(C,w){switch(w){case 0:return Q(C.topLeftBorderDoubleInnerBox,C.topLeftPaddingBox,C.topRightBorderDoubleInnerBox,C.topRightPaddingBox);case 1:return Q(C.topRightBorderDoubleInnerBox,C.topRightPaddingBox,C.bottomRightBorderDoubleInnerBox,C.bottomRightPaddingBox);case 2:return Q(C.bottomRightBorderDoubleInnerBox,C.bottomRightPaddingBox,C.bottomLeftBorderDoubleInnerBox,C.bottomLeftPaddingBox);default:return Q(C.bottomLeftBorderDoubleInnerBox,C.bottomLeftPaddingBox,C.topLeftBorderDoubleInnerBox,C.topLeftPaddingBox)}}(G,L),this.path(de),this.ctx.fill(),[2]}})})},w.prototype.renderNodeBackgroundAndBorders=function(S){return Se(this,void 0,void 0,function(){var E,L,G,J,de,ue,Re,ze,it=this;return re(this,function(kt){switch(kt.label){case 0:return this.applyEffects(S.getEffects(2)),L=!Il((E=S.container.styles).backgroundColor)||E.backgroundImage.length,G=[{style:E.borderTopStyle,color:E.borderTopColor,width:E.borderTopWidth},{style:E.borderRightStyle,color:E.borderRightColor,width:E.borderRightWidth},{style:E.borderBottomStyle,color:E.borderBottomColor,width:E.borderBottomWidth},{style:E.borderLeftStyle,color:E.borderLeftColor,width:E.borderLeftWidth}],J=fm(Ws(E.backgroundClip,0),S.curves),L||E.boxShadow.length?(this.ctx.save(),this.path(J),this.ctx.clip(),Il(E.backgroundColor)||(this.ctx.fillStyle=ws(E.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(S.container)]):[3,2];case 1:kt.sent(),this.ctx.restore(),E.boxShadow.slice(0).reverse().forEach(function(Pn){it.ctx.save();var hn=Bp(S.curves),Sn=Pn.inset?0:1e4,$i=function(C,w,S,E,L){return C.map(function(G,J){switch(J){case 0:return G.add(w,S);case 1:return G.add(w+E,S);case 2:return G.add(w+E,S+L);case 3:return G.add(w,S+L)}return G})}(hn,(Pn.inset?1:-1)*Pn.spread.number-Sn,(Pn.inset?1:-1)*Pn.spread.number,Pn.spread.number*(Pn.inset?-2:2),Pn.spread.number*(Pn.inset?-2:2));Pn.inset?(it.path(hn),it.ctx.clip(),it.mask($i)):(it.mask(hn),it.ctx.clip(),it.path($i)),it.ctx.shadowOffsetX=Pn.offsetX.number+Sn,it.ctx.shadowOffsetY=Pn.offsetY.number,it.ctx.shadowColor=ws(Pn.color),it.ctx.shadowBlur=Pn.blur.number,it.ctx.fillStyle=Pn.inset?ws(Pn.color):"rgba(0,0,0,1)",it.ctx.fill(),it.ctx.restore()}),kt.label=2;case 2:de=0,ue=0,Re=G,kt.label=3;case 3:return ue<Re.length?0!==(ze=Re[ue]).style&&!Il(ze.color)&&ze.width>0?2!==ze.style?[3,5]:[4,this.renderDashedDottedBorder(ze.color,ze.width,de,S.curves,2)]:[3,11]:[3,13];case 4:return kt.sent(),[3,11];case 5:return 3!==ze.style?[3,7]:[4,this.renderDashedDottedBorder(ze.color,ze.width,de,S.curves,3)];case 6:return kt.sent(),[3,11];case 7:return 4!==ze.style?[3,9]:[4,this.renderDoubleBorder(ze.color,ze.width,de,S.curves)];case 8:return kt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ze.color,de,S.curves)];case 10:kt.sent(),kt.label=11;case 11:de++,kt.label=12;case 12:return ue++,[3,3];case 13:return[2]}})})},w.prototype.renderDashedDottedBorder=function(S,E,L,G,J){return Se(this,void 0,void 0,function(){var de,ue,Re,ze,it,kt,Pn,hn,Sn,$i,ri,Jn,Ur,tr,mi,Rn;return re(this,function(dr){return this.ctx.save(),de=function(C,w){switch(w){case 0:return D(C.topLeftBorderStroke,C.topRightBorderStroke);case 1:return D(C.topRightBorderStroke,C.bottomRightBorderStroke);case 2:return D(C.bottomRightBorderStroke,C.bottomLeftBorderStroke);default:return D(C.bottomLeftBorderStroke,C.topLeftBorderStroke)}}(G,L),ue=uA(G,L),2===J&&(this.path(ue),this.ctx.clip()),Fl(ue[0])?(Re=ue[0].start.x,ze=ue[0].start.y):(Re=ue[0].x,ze=ue[0].y),Fl(ue[1])?(it=ue[1].end.x,kt=ue[1].end.y):(it=ue[1].x,kt=ue[1].y),Pn=0===L||2===L?Math.abs(Re-it):Math.abs(ze-kt),this.ctx.beginPath(),this.formatPath(3===J?de:ue.slice(0,2)),hn=E<3?3*E:2*E,Sn=E<3?2*E:E,3===J&&(hn=E,Sn=E),$i=!0,Pn<=2*hn?$i=!1:Pn<=2*hn+Sn?(hn*=ri=Pn/(2*hn+Sn),Sn*=ri):(Jn=Math.floor((Pn+Sn)/(hn+Sn)),Ur=(Pn-Jn*hn)/(Jn-1),Sn=(tr=(Pn-(Jn+1)*hn)/Jn)<=0||Math.abs(Sn-Ur)<Math.abs(Sn-tr)?Ur:tr),$i&&this.ctx.setLineDash(3===J?[0,hn+Sn]:[hn,Sn]),3===J?(this.ctx.lineCap="round",this.ctx.lineWidth=E):this.ctx.lineWidth=2*E+1.1,this.ctx.strokeStyle=ws(S),this.ctx.stroke(),this.ctx.setLineDash([]),2===J&&(Fl(ue[0])&&(mi=ue[3],Rn=ue[0],this.ctx.beginPath(),this.formatPath([new xn(mi.end.x,mi.end.y),new xn(Rn.start.x,Rn.start.y)]),this.ctx.stroke()),Fl(ue[1])&&(mi=ue[1],Rn=ue[2],this.ctx.beginPath(),this.formatPath([new xn(mi.end.x,mi.end.y),new xn(Rn.start.x,Rn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},w.prototype.render=function(S){return Se(this,void 0,void 0,function(){var E;return re(this,function(L){switch(L.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ws(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=function(C){var w=new md(C,null),S=new Sv(w),E=[];return cA(w,S,S,E),z_(w.container,E),S}(S),[4,this.renderStack(E)];case 1:return L.sent(),this.applyEffects([]),[2,this.canvas]}})})},w}(hm),Am=function(C){return C instanceof ud||C instanceof Xg||C instanceof af&&C.type!==Wg&&C.type!==_p},fm=function(C,w){switch(C){case 0:return Bp(w);case 2:return function(C){return[C.topLeftContentBox,C.topRightContentBox,C.bottomRightContentBox,C.bottomLeftContentBox]}(w);default:return pf(w)}},_f=function(C){switch(C){case 1:return"center";case 2:return"right";default:return"left"}},Dw=["-apple-system","system-ui"],dA=function(C){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?C.filter(function(w){return-1===Dw.indexOf(w)}):C},pm=function(C){function w(S,E){var L=C.call(this,S,E)||this;return L.canvas=E.canvas?E.canvas:document.createElement("canvas"),L.ctx=L.canvas.getContext("2d"),L.options=E,L.canvas.width=Math.floor(E.width*E.scale),L.canvas.height=Math.floor(E.height*E.scale),L.canvas.style.width=E.width+"px",L.canvas.style.height=E.height+"px",L.ctx.scale(L.options.scale,L.options.scale),L.ctx.translate(-E.x,-E.y),L.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+E.width+"x"+E.height+" at "+E.x+","+E.y+") with scale "+E.scale),L}return ie(w,C),w.prototype.render=function(S){return Se(this,void 0,void 0,function(){var E,L;return re(this,function(G){switch(G.label){case 0:return E=un(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,S),[4,Tw(E)];case 1:return L=G.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ws(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(L,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},w}(hm),Tw=function(C){return new Promise(function(w,S){var E=new Image;E.onload=function(){w(E)},E.onerror=S,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(C))})},NC=function(){function C(w){var E=w.enabled;this.id=w.id,this.enabled=E,this.start=Date.now()}return C.prototype.debug=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,tt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},C.prototype.getTime=function(){return Date.now()-this.start},C.prototype.info=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,tt([this.id,this.getTime()+"ms"],w))},C.prototype.warn=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,tt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},C.prototype.error=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,tt([this.id,this.getTime()+"ms"],w)):this.info.apply(this,w))},C.instances={},C}(),PC=function(){function C(w,S){var E;this.windowBounds=S,this.instanceName="#"+C.instanceCount++,this.logger=new NC({id:this.instanceName,enabled:w.logging}),this.cache=null!==(E=w.cache)&&void 0!==E?E:new ih(this,w)}return C.instanceCount=1,C}();typeof window<"u"&&tc.setContext(window);var Dv=function(C,w){return Se(void 0,void 0,void 0,function(){var S,E,L,G,J,de,ue,Re,ze,it,kt,Pn,hn,Sn,$i,ri,Jn,Ur,tr,mi,Rn,sr,Fi,Uo,Ec,Kc,cs,La,hA,il,Na,Rp,Zc,rl,AA,Op,rh,yf;return re(this,function(_d){switch(_d.label){case 0:if(!C||"object"!=typeof C)return[2,Promise.reject("Invalid element provided as first argument")];if(!(S=C.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=S.defaultView))throw new Error("Document is not attached to a Window");return L={allowTaint:null!==(sr=w.allowTaint)&&void 0!==sr&&sr,imageTimeout:null!==(Fi=w.imageTimeout)&&void 0!==Fi?Fi:15e3,proxy:w.proxy,useCORS:null!==(Uo=w.useCORS)&&void 0!==Uo&&Uo},G=s({logging:null===(Ec=w.logging)||void 0===Ec||Ec,cache:w.cache},L),J={windowWidth:null!==(Kc=w.windowWidth)&&void 0!==Kc?Kc:E.innerWidth,windowHeight:null!==(cs=w.windowHeight)&&void 0!==cs?cs:E.innerHeight,scrollX:null!==(La=w.scrollX)&&void 0!==La?La:E.pageXOffset,scrollY:null!==(hA=w.scrollY)&&void 0!==hA?hA:E.pageYOffset},de=new nt(J.scrollX,J.scrollY,J.windowWidth,J.windowHeight),ue=new PC(G,de),Re=null!==(il=w.foreignObjectRendering)&&void 0!==il&&il,ze={allowTaint:null!==(Na=w.allowTaint)&&void 0!==Na&&Na,onclone:w.onclone,ignoreElements:w.ignoreElements,inlineImages:Re,copyStyles:Re},ue.logger.debug("Starting document clone with size "+de.width+"x"+de.height+" scrolled to "+-de.left+","+-de.top),it=new Af(ue,C,ze),(kt=it.clonedReferenceElement)?[4,it.toIFrame(S,de)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Pn=_d.sent(),hn=im(kt)||function(C){return"HTML"===C.tagName}(kt)?function(C){var w=C.body,S=C.documentElement;if(!w||!S)throw new Error("Unable to get document size");var E=Math.max(Math.max(w.scrollWidth,S.scrollWidth),Math.max(w.offsetWidth,S.offsetWidth),Math.max(w.clientWidth,S.clientWidth)),L=Math.max(Math.max(w.scrollHeight,S.scrollHeight),Math.max(w.offsetHeight,S.offsetHeight),Math.max(w.clientHeight,S.clientHeight));return new nt(0,0,E,L)}(kt.ownerDocument):ut(ue,kt),Sn=hn.width,$i=hn.height,ri=hn.left,Jn=hn.top,Ur=Tv(ue,kt,w.backgroundColor),tr={canvas:w.canvas,backgroundColor:Ur,scale:null!==(Zc=null!==(Rp=w.scale)&&void 0!==Rp?Rp:E.devicePixelRatio)&&void 0!==Zc?Zc:1,x:(null!==(rl=w.x)&&void 0!==rl?rl:0)+ri,y:(null!==(AA=w.y)&&void 0!==AA?AA:0)+Jn,width:null!==(Op=w.width)&&void 0!==Op?Op:Math.ceil(Sn),height:null!==(rh=w.height)&&void 0!==rh?rh:Math.ceil($i)},Re?(ue.logger.debug("Document cloned, using foreign object rendering"),[4,new pm(ue,tr).render(kt)]):[3,3];case 2:return mi=_d.sent(),[3,5];case 3:return ue.logger.debug("Document cloned, element located at "+ri+","+Jn+" with size "+Sn+"x"+$i+" using computed rendering"),ue.logger.debug("Starting DOM parsing"),Rn=U_(ue,kt),Ur===Rn.styles.backgroundColor&&(Rn.styles.backgroundColor=pc.TRANSPARENT),ue.logger.debug("Starting renderer for element at "+tr.x+","+tr.y+" with size "+tr.width+"x"+tr.height),[4,new Iv(ue,tr).render(Rn)];case 4:mi=_d.sent(),_d.label=5;case 5:return(!(null!==(yf=w.removeContainer)&&void 0!==yf)||yf)&&(Af.destroy(Pn)||ue.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ue.logger.debug("Finished rendering"),[2,mi]}})})},Tv=function(C,w,S){var E=w.ownerDocument,L=E.documentElement?Wu(C,getComputedStyle(E.documentElement).backgroundColor):pc.TRANSPARENT,G=E.body?Wu(C,getComputedStyle(E.body).backgroundColor):pc.TRANSPARENT,J="string"==typeof S?Wu(C,S):null===S?pc.TRANSPARENT:4294967295;return w===E.documentElement?Il(L)?Il(G)?J:G:L:J};return function(C,w){return void 0===w&&(w={}),Dv(C,w)}}()},9964:Fn=>{function Ft(s){return!!s.constructor&&"function"==typeof s.constructor.isBuffer&&s.constructor.isBuffer(s)}Fn.exports=function(s){return null!=s&&(Ft(s)||function ie(s){return"function"==typeof s.readFloatLE&&"function"==typeof s.slice&&Ft(s.slice(0,0))}(s)||!!s._isBuffer)}},9769:(Fn,Ft,ie)=>{var s,Se,re,tt,nt;s=ie(5585),Se=ie(3018).utf8,re=ie(9964),tt=ie(3018).bin,(nt=function(ut,Oe){ut.constructor==String?ut=Oe&&"binary"===Oe.encoding?tt.stringToBytes(ut):Se.stringToBytes(ut):re(ut)?ut=Array.prototype.slice.call(ut,0):!Array.isArray(ut)&&ut.constructor!==Uint8Array&&(ut=ut.toString());for(var Fe=s.bytesToWords(ut),at=8*ut.length,ae=1732584193,le=-271733879,me=-1732584194,We=271733878,qe=0;qe<Fe.length;qe++)Fe[qe]=16711935&(Fe[qe]<<8|Fe[qe]>>>24)|4278255360&(Fe[qe]<<24|Fe[qe]>>>8);Fe[at>>>5]|=128<<at%32,Fe[14+(at+64>>>9<<4)]=at;var nn=nt._ff,gn=nt._gg,pt=nt._hh,xt=nt._ii;for(qe=0;qe<Fe.length;qe+=16){var Et=ae,zt=le,Wt=me,ti=We;ae=nn(ae,le,me,We,Fe[qe+0],7,-680876936),We=nn(We,ae,le,me,Fe[qe+1],12,-389564586),me=nn(me,We,ae,le,Fe[qe+2],17,606105819),le=nn(le,me,We,ae,Fe[qe+3],22,-1044525330),ae=nn(ae,le,me,We,Fe[qe+4],7,-176418897),We=nn(We,ae,le,me,Fe[qe+5],12,1200080426),me=nn(me,We,ae,le,Fe[qe+6],17,-1473231341),le=nn(le,me,We,ae,Fe[qe+7],22,-45705983),ae=nn(ae,le,me,We,Fe[qe+8],7,1770035416),We=nn(We,ae,le,me,Fe[qe+9],12,-1958414417),me=nn(me,We,ae,le,Fe[qe+10],17,-42063),le=nn(le,me,We,ae,Fe[qe+11],22,-1990404162),ae=nn(ae,le,me,We,Fe[qe+12],7,1804603682),We=nn(We,ae,le,me,Fe[qe+13],12,-40341101),me=nn(me,We,ae,le,Fe[qe+14],17,-1502002290),ae=gn(ae,le=nn(le,me,We,ae,Fe[qe+15],22,1236535329),me,We,Fe[qe+1],5,-165796510),We=gn(We,ae,le,me,Fe[qe+6],9,-1069501632),me=gn(me,We,ae,le,Fe[qe+11],14,643717713),le=gn(le,me,We,ae,Fe[qe+0],20,-373897302),ae=gn(ae,le,me,We,Fe[qe+5],5,-701558691),We=gn(We,ae,le,me,Fe[qe+10],9,38016083),me=gn(me,We,ae,le,Fe[qe+15],14,-660478335),le=gn(le,me,We,ae,Fe[qe+4],20,-405537848),ae=gn(ae,le,me,We,Fe[qe+9],5,568446438),We=gn(We,ae,le,me,Fe[qe+14],9,-1019803690),me=gn(me,We,ae,le,Fe[qe+3],14,-187363961),le=gn(le,me,We,ae,Fe[qe+8],20,1163531501),ae=gn(ae,le,me,We,Fe[qe+13],5,-1444681467),We=gn(We,ae,le,me,Fe[qe+2],9,-51403784),me=gn(me,We,ae,le,Fe[qe+7],14,1735328473),ae=pt(ae,le=gn(le,me,We,ae,Fe[qe+12],20,-1926607734),me,We,Fe[qe+5],4,-378558),We=pt(We,ae,le,me,Fe[qe+8],11,-2022574463),me=pt(me,We,ae,le,Fe[qe+11],16,1839030562),le=pt(le,me,We,ae,Fe[qe+14],23,-35309556),ae=pt(ae,le,me,We,Fe[qe+1],4,-1530992060),We=pt(We,ae,le,me,Fe[qe+4],11,1272893353),me=pt(me,We,ae,le,Fe[qe+7],16,-155497632),le=pt(le,me,We,ae,Fe[qe+10],23,-1094730640),ae=pt(ae,le,me,We,Fe[qe+13],4,681279174),We=pt(We,ae,le,me,Fe[qe+0],11,-358537222),me=pt(me,We,ae,le,Fe[qe+3],16,-722521979),le=pt(le,me,We,ae,Fe[qe+6],23,76029189),ae=pt(ae,le,me,We,Fe[qe+9],4,-640364487),We=pt(We,ae,le,me,Fe[qe+12],11,-421815835),me=pt(me,We,ae,le,Fe[qe+15],16,530742520),ae=xt(ae,le=pt(le,me,We,ae,Fe[qe+2],23,-995338651),me,We,Fe[qe+0],6,-198630844),We=xt(We,ae,le,me,Fe[qe+7],10,1126891415),me=xt(me,We,ae,le,Fe[qe+14],15,-1416354905),le=xt(le,me,We,ae,Fe[qe+5],21,-57434055),ae=xt(ae,le,me,We,Fe[qe+12],6,1700485571),We=xt(We,ae,le,me,Fe[qe+3],10,-1894986606),me=xt(me,We,ae,le,Fe[qe+10],15,-1051523),le=xt(le,me,We,ae,Fe[qe+1],21,-2054922799),ae=xt(ae,le,me,We,Fe[qe+8],6,1873313359),We=xt(We,ae,le,me,Fe[qe+15],10,-30611744),me=xt(me,We,ae,le,Fe[qe+6],15,-1560198380),le=xt(le,me,We,ae,Fe[qe+13],21,1309151649),ae=xt(ae,le,me,We,Fe[qe+4],6,-145523070),We=xt(We,ae,le,me,Fe[qe+11],10,-1120210379),me=xt(me,We,ae,le,Fe[qe+2],15,718787259),le=xt(le,me,We,ae,Fe[qe+9],21,-343485551),ae=ae+Et>>>0,le=le+zt>>>0,me=me+Wt>>>0,We=We+ti>>>0}return s.endian([ae,le,me,We])})._ff=function(ut,Oe,Fe,at,ae,le,me){var We=ut+(Oe&Fe|~Oe&at)+(ae>>>0)+me;return(We<<le|We>>>32-le)+Oe},nt._gg=function(ut,Oe,Fe,at,ae,le,me){var We=ut+(Oe&at|Fe&~at)+(ae>>>0)+me;return(We<<le|We>>>32-le)+Oe},nt._hh=function(ut,Oe,Fe,at,ae,le,me){var We=ut+(Oe^Fe^at)+(ae>>>0)+me;return(We<<le|We>>>32-le)+Oe},nt._ii=function(ut,Oe,Fe,at,ae,le,me){var We=ut+(Fe^(Oe|~at))+(ae>>>0)+me;return(We<<le|We>>>32-le)+Oe},nt._blocksize=16,nt._digestsize=16,Fn.exports=function(ut,Oe){if(null==ut)throw new Error("Illegal argument "+ut);var Fe=s.wordsToBytes(nt(ut,Oe));return Oe&&Oe.asBytes?Fe:Oe&&Oe.asString?tt.bytesToString(Fe):s.bytesToHex(Fe)}},9751:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{y:()=>Fe});var s=ie(930),Se=ie(727),re=ie(8822),tt=ie(9635),nt=ie(2416),ut=ie(576),Oe=ie(2806);let Fe=(()=>{class me{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const nn=new me;return nn.source=this,nn.operator=qe,nn}subscribe(qe,nn,gn){const pt=function le(me){return me&&me instanceof s.Lv||function ae(me){return me&&(0,ut.m)(me.next)&&(0,ut.m)(me.error)&&(0,ut.m)(me.complete)}(me)&&(0,Se.Nn)(me)}(qe)?qe:new s.Hp(qe,nn,gn);return(0,Oe.x)(()=>{const{operator:xt,source:Et}=this;pt.add(xt?xt.call(pt,Et):Et?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(qe){try{return this._subscribe(qe)}catch(nn){qe.error(nn)}}forEach(qe,nn){return new(nn=at(nn))((gn,pt)=>{let xt;xt=this.subscribe(Et=>{try{qe(Et)}catch(zt){pt(zt),xt?.unsubscribe()}},pt,gn)})}_subscribe(qe){var nn;return null===(nn=this.source)||void 0===nn?void 0:nn.subscribe(qe)}[re.L](){return this}pipe(...qe){return(0,tt.U)(qe)(this)}toPromise(qe){return new(qe=at(qe))((nn,gn)=>{let pt;this.subscribe(xt=>pt=xt,xt=>gn(xt),()=>nn(pt))})}}return me.create=We=>new me(We),me})();function at(me){var We;return null!==(We=me??nt.v.Promise)&&void 0!==We?We:Promise}},7579:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{x:()=>Oe});var s=ie(9751),Se=ie(727);const tt=(0,ie(3888).d)(at=>function(){at(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=ie(8737),ut=ie(2806);let Oe=(()=>{class at extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const me=new Fe(this,this);return me.operator=le,me}_throwIfClosed(){if(this.closed)throw new tt}next(le){(0,ut.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const me=this.observers.slice();for(const We of me)We.next(le)}})}error(le){(0,ut.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:me}=this;for(;me.length;)me.shift().error(le)}})}complete(){(0,ut.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:me,isStopped:We,observers:qe}=this;return me||We?Se.Lc:(qe.push(le),new Se.w0(()=>(0,nt.P)(qe,le)))}_checkFinalizedStatuses(le){const{hasError:me,thrownError:We,isStopped:qe}=this;me?le.error(We):qe&&le.complete()}asObservable(){const le=new s.y;return le.source=this,le}}return at.create=(ae,le)=>new Fe(ae,le),at})();class Fe extends Oe{constructor(ae,le){super(),this.destination=ae,this.source=le}next(ae){var le,me;null===(me=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===me||me.call(le,ae)}error(ae){var le,me;null===(me=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===me||me.call(le,ae)}complete(){var ae,le;null===(le=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===le||le.call(ae)}_subscribe(ae){var le,me;return null!==(me=null===(le=this.source)||void 0===le?void 0:le.subscribe(ae))&&void 0!==me?me:Se.Lc}}},930:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Hp:()=>We,Lv:()=>me});var s=ie(576),Se=ie(727),re=ie(2416),tt=ie(7849),nt=ie(5032);const ut=at("C",void 0,void 0);function at(xt,Et,zt){return{kind:xt,value:Et,error:zt}}var ae=ie(3410),le=ie(2806);class me extends Se.w0{constructor(Et){super(),this.isStopped=!1,Et?(this.destination=Et,(0,Se.Nn)(Et)&&Et.add(this)):this.destination=pt}static create(Et,zt,Wt){return new We(Et,zt,Wt)}next(Et){this.isStopped?gn(function Fe(xt){return at("N",xt,void 0)}(Et),this):this._next(Et)}error(Et){this.isStopped?gn(function Oe(xt){return at("E",void 0,xt)}(Et),this):(this.isStopped=!0,this._error(Et))}complete(){this.isStopped?gn(ut,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Et){this.destination.next(Et)}_error(Et){try{this.destination.error(Et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class We extends me{constructor(Et,zt,Wt){let ti;if(super(),(0,s.m)(Et))ti=Et;else if(Et){let rn;({next:ti,error:zt,complete:Wt}=Et),this&&re.v.useDeprecatedNextContext?(rn=Object.create(Et),rn.unsubscribe=()=>this.unsubscribe()):rn=Et,ti=ti?.bind(rn),zt=zt?.bind(rn),Wt=Wt?.bind(rn)}this.destination={next:ti?qe(ti):nt.Z,error:qe(zt??nn),complete:Wt?qe(Wt):nt.Z}}}function qe(xt,Et){return(...zt)=>{try{xt(...zt)}catch(Wt){re.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(Wt):(0,tt.h)(Wt)}}}function nn(xt){throw xt}function gn(xt,Et){const{onStoppedNotification:zt}=re.v;zt&&ae.z.setTimeout(()=>zt(xt,Et))}const pt={closed:!0,next:nt.Z,error:nn,complete:nt.Z}},727:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Lc:()=>ut,w0:()=>nt,Nn:()=>Oe});var s=ie(576);const re=(0,ie(3888).d)(at=>function(le){at(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((me,We)=>`${We+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var tt=ie(8737);class nt{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const qe of le)qe.remove(this);else le.remove(this);const{initialTeardown:me}=this;if((0,s.m)(me))try{me()}catch(qe){ae=qe instanceof re?qe.errors:[qe]}const{_teardowns:We}=this;if(We){this._teardowns=null;for(const qe of We)try{Fe(qe)}catch(nn){ae=ae??[],nn instanceof re?ae=[...ae,...nn.errors]:ae.push(nn)}}if(ae)throw new re(ae)}}add(ae){var le;if(ae&&ae!==this)if(this.closed)Fe(ae);else{if(ae instanceof nt){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._teardowns=null!==(le=this._teardowns)&&void 0!==le?le:[]).push(ae)}}_hasParent(ae){const{_parentage:le}=this;return le===ae||Array.isArray(le)&&le.includes(ae)}_addParent(ae){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ae),le):le?[le,ae]:ae}_removeParent(ae){const{_parentage:le}=this;le===ae?this._parentage=null:Array.isArray(le)&&(0,tt.P)(le,ae)}remove(ae){const{_teardowns:le}=this;le&&(0,tt.P)(le,ae),ae instanceof nt&&ae._removeParent(this)}}nt.EMPTY=(()=>{const at=new nt;return at.closed=!0,at})();const ut=nt.EMPTY;function Oe(at){return at instanceof nt||at&&"closed"in at&&(0,s.m)(at.remove)&&(0,s.m)(at.add)&&(0,s.m)(at.unsubscribe)}function Fe(at){(0,s.m)(at)?at():at.unsubscribe()}},2416:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{E:()=>Se});const Se=new(ie(9751).y)(nt=>nt.complete())},8996:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{D:()=>ti});var s=ie(8421),Se=ie(5363),re=ie(9468),ut=ie(9751),Fe=ie(2202),at=ie(576),ae=ie(9672);function me(rn,Bn){if(!rn)throw new Error("Iterable cannot be null");return new ut.y(ln=>{(0,ae.f)(ln,Bn,()=>{const Zn=rn[Symbol.asyncIterator]();(0,ae.f)(ln,Bn,()=>{Zn.next().then(st=>{st.done?ln.complete():ln.next(st.value)})},0,!0)})})}var We=ie(3670),qe=ie(8239),nn=ie(1144),gn=ie(6495),pt=ie(2206),xt=ie(4532),Et=ie(3260);function ti(rn,Bn){return Bn?function Wt(rn,Bn){if(null!=rn){if((0,We.c)(rn))return function tt(rn,Bn){return(0,s.Xf)(rn).pipe((0,re.R)(Bn),(0,Se.Q)(Bn))}(rn,Bn);if((0,nn.z)(rn))return function Oe(rn,Bn){return new ut.y(ln=>{let Zn=0;return Bn.schedule(function(){Zn===rn.length?ln.complete():(ln.next(rn[Zn++]),ln.closed||this.schedule())})})}(rn,Bn);if((0,qe.t)(rn))return function nt(rn,Bn){return(0,s.Xf)(rn).pipe((0,re.R)(Bn),(0,Se.Q)(Bn))}(rn,Bn);if((0,pt.D)(rn))return me(rn,Bn);if((0,gn.T)(rn))return function le(rn,Bn){return new ut.y(ln=>{let Zn;return(0,ae.f)(ln,Bn,()=>{Zn=rn[Fe.h](),(0,ae.f)(ln,Bn,()=>{let st,Mt;try{({value:st,done:Mt}=Zn.next())}catch(gt){return void ln.error(gt)}Mt?ln.complete():ln.next(st)},0,!0)}),()=>(0,at.m)(Zn?.return)&&Zn.return()})}(rn,Bn);if((0,Et.L)(rn))return function zt(rn,Bn){return me((0,Et.Q)(rn),Bn)}(rn,Bn)}throw(0,xt.z)(rn)}(rn,Bn):(0,s.Xf)(rn)}},8421:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Xf:()=>We});var s=ie(5987),Se=ie(1144),re=ie(8239),tt=ie(9751),nt=ie(3670),ut=ie(2206),Oe=ie(4532),Fe=ie(6495),at=ie(3260),ae=ie(576),le=ie(7849),me=ie(8822);function We(Wt){if(Wt instanceof tt.y)return Wt;if(null!=Wt){if((0,nt.c)(Wt))return function qe(Wt){return new tt.y(ti=>{const rn=Wt[me.L]();if((0,ae.m)(rn.subscribe))return rn.subscribe(ti);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Wt);if((0,Se.z)(Wt))return function nn(Wt){return new tt.y(ti=>{for(let rn=0;rn<Wt.length&&!ti.closed;rn++)ti.next(Wt[rn]);ti.complete()})}(Wt);if((0,re.t)(Wt))return function gn(Wt){return new tt.y(ti=>{Wt.then(rn=>{ti.closed||(ti.next(rn),ti.complete())},rn=>ti.error(rn)).then(null,le.h)})}(Wt);if((0,ut.D)(Wt))return xt(Wt);if((0,Fe.T)(Wt))return function pt(Wt){return new tt.y(ti=>{for(const rn of Wt)if(ti.next(rn),ti.closed)return;ti.complete()})}(Wt);if((0,at.L)(Wt))return function Et(Wt){return xt((0,at.Q)(Wt))}(Wt)}throw(0,Oe.z)(Wt)}function xt(Wt){return new tt.y(ti=>{(function zt(Wt,ti){var rn,Bn,ln,Zn;return(0,s.mG)(this,void 0,void 0,function*(){try{for(rn=(0,s.KL)(Wt);!(Bn=yield rn.next()).done;)if(ti.next(Bn.value),ti.closed)return}catch(st){ln={error:st}}finally{try{Bn&&!Bn.done&&(Zn=rn.return)&&(yield Zn.call(rn))}finally{if(ln)throw ln.error}}ti.complete()})})(Wt,ti).catch(rn=>ti.error(rn))})}},6451:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{T:()=>ut});var s=ie(8189),Se=ie(8421),re=ie(515),tt=ie(3269),nt=ie(8996);function ut(...Oe){const Fe=(0,tt.yG)(Oe),at=(0,tt._6)(Oe,1/0),ae=Oe;return ae.length?1===ae.length?(0,Se.Xf)(ae[0]):(0,s.J)(at)((0,nt.D)(ae,Fe)):re.E}},5403:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Q:()=>Se});var s=ie(930);class Se extends s.Lv{constructor(tt,nt,ut,Oe,Fe){super(tt),this.onFinalize=Fe,this._next=nt?function(at){try{nt(at)}catch(ae){tt.error(ae)}}:super._next,this._error=Oe?function(at){try{Oe(at)}catch(ae){tt.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=ut?function(){try{ut()}catch(at){tt.error(at)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var tt;const{closed:nt}=this;super.unsubscribe(),!nt&&(null===(tt=this.onFinalize)||void 0===tt||tt.call(this))}}},4004:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{U:()=>re});var s=ie(4482),Se=ie(5403);function re(tt,nt){return(0,s.e)((ut,Oe)=>{let Fe=0;ut.subscribe(new Se.Q(Oe,at=>{Oe.next(tt.call(nt,at,Fe++))}))})}},8189:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{J:()=>re});var s=ie(5577),Se=ie(4671);function re(tt=1/0){return(0,s.z)(Se.y,tt)}},5577:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{z:()=>Fe});var s=ie(4004),Se=ie(8421),re=ie(4482),tt=ie(9672),nt=ie(5403),Oe=ie(576);function Fe(at,ae,le=1/0){return(0,Oe.m)(ae)?Fe((me,We)=>(0,s.U)((qe,nn)=>ae(me,qe,We,nn))((0,Se.Xf)(at(me,We))),le):("number"==typeof ae&&(le=ae),(0,re.e)((me,We)=>function ut(at,ae,le,me,We,qe,nn,gn){const pt=[];let xt=0,Et=0,zt=!1;const Wt=()=>{zt&&!pt.length&&!xt&&ae.complete()},ti=Bn=>xt<me?rn(Bn):pt.push(Bn),rn=Bn=>{qe&&ae.next(Bn),xt++;let ln=!1;(0,Se.Xf)(le(Bn,Et++)).subscribe(new nt.Q(ae,Zn=>{We?.(Zn),qe?ti(Zn):ae.next(Zn)},()=>{ln=!0},void 0,()=>{if(ln)try{for(xt--;pt.length&&xt<me;){const Zn=pt.shift();nn?(0,tt.f)(ae,nn,()=>rn(Zn)):rn(Zn)}Wt()}catch(Zn){ae.error(Zn)}}))};return at.subscribe(new nt.Q(ae,ti,()=>{zt=!0,Wt()})),()=>{gn?.()}}(me,We,at,le)))}},5363:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Q:()=>tt});var s=ie(9672),Se=ie(4482),re=ie(5403);function tt(nt,ut=0){return(0,Se.e)((Oe,Fe)=>{Oe.subscribe(new re.Q(Fe,at=>(0,s.f)(Fe,nt,()=>Fe.next(at),ut),()=>(0,s.f)(Fe,nt,()=>Fe.complete(),ut),at=>(0,s.f)(Fe,nt,()=>Fe.error(at),ut)))})}},3099:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{B:()=>ut});var s=ie(8996),Se=ie(5698),re=ie(7579),tt=ie(930),nt=ie(4482);function ut(Fe={}){const{connector:at=(()=>new re.x),resetOnError:ae=!0,resetOnComplete:le=!0,resetOnRefCountZero:me=!0}=Fe;return We=>{let qe=null,nn=null,gn=null,pt=0,xt=!1,Et=!1;const zt=()=>{nn?.unsubscribe(),nn=null},Wt=()=>{zt(),qe=gn=null,xt=Et=!1},ti=()=>{const rn=qe;Wt(),rn?.unsubscribe()};return(0,nt.e)((rn,Bn)=>{pt++,!Et&&!xt&&zt();const ln=gn=gn??at();Bn.add(()=>{pt--,0===pt&&!Et&&!xt&&(nn=Oe(ti,me))}),ln.subscribe(Bn),qe||(qe=new tt.Hp({next:Zn=>ln.next(Zn),error:Zn=>{Et=!0,zt(),nn=Oe(Wt,ae,Zn),ln.error(Zn)},complete:()=>{xt=!0,zt(),nn=Oe(Wt,le),ln.complete()}}),(0,s.D)(rn).subscribe(qe))})(We)}}function Oe(Fe,at,...ae){return!0===at?(Fe(),null):!1===at?null:at(...ae).pipe((0,Se.q)(1)).subscribe(()=>Fe())}},9468:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{R:()=>Se});var s=ie(4482);function Se(re,tt=0){return(0,s.e)((nt,ut)=>{ut.add(re.schedule(()=>nt.subscribe(ut),tt))})}},5698:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{q:()=>tt});var s=ie(515),Se=ie(4482),re=ie(5403);function tt(nt){return nt<=0?()=>s.E:(0,Se.e)((ut,Oe)=>{let Fe=0;ut.subscribe(new re.Q(Oe,at=>{++Fe<=nt&&(Oe.next(at),nt<=Fe&&Oe.complete())}))})}},8505:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{b:()=>nt});var s=ie(576),Se=ie(4482),re=ie(5403),tt=ie(4671);function nt(ut,Oe,Fe){const at=(0,s.m)(ut)||Oe||Fe?{next:ut,error:Oe,complete:Fe}:ut;return at?(0,Se.e)((ae,le)=>{var me;null===(me=at.subscribe)||void 0===me||me.call(at);let We=!0;ae.subscribe(new re.Q(le,qe=>{var nn;null===(nn=at.next)||void 0===nn||nn.call(at,qe),le.next(qe)},()=>{var qe;We=!1,null===(qe=at.complete)||void 0===qe||qe.call(at),le.complete()},qe=>{var nn;We=!1,null===(nn=at.error)||void 0===nn||nn.call(at,qe),le.error(qe)},()=>{var qe,nn;We&&(null===(qe=at.unsubscribe)||void 0===qe||qe.call(at)),null===(nn=at.finalize)||void 0===nn||nn.call(at)}))}):tt.y}},4408:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{o:()=>nt});var s=ie(727);class Se extends s.w0{constructor(Oe,Fe){super()}schedule(Oe,Fe=0){return this}}const re={setInterval(...ut){const{delegate:Oe}=re;return(Oe?.setInterval||setInterval)(...ut)},clearInterval(ut){const{delegate:Oe}=re;return(Oe?.clearInterval||clearInterval)(ut)},delegate:void 0};var tt=ie(8737);class nt extends Se{constructor(Oe,Fe){super(Oe,Fe),this.scheduler=Oe,this.work=Fe,this.pending=!1}schedule(Oe,Fe=0){if(this.closed)return this;this.state=Oe;const at=this.id,ae=this.scheduler;return null!=at&&(this.id=this.recycleAsyncId(ae,at,Fe)),this.pending=!0,this.delay=Fe,this.id=this.id||this.requestAsyncId(ae,this.id,Fe),this}requestAsyncId(Oe,Fe,at=0){return re.setInterval(Oe.flush.bind(Oe,this),at)}recycleAsyncId(Oe,Fe,at=0){if(null!=at&&this.delay===at&&!1===this.pending)return Fe;re.clearInterval(Fe)}execute(Oe,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const at=this._execute(Oe,Fe);if(at)return at;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,Fe){let ae,at=!1;try{this.work(Oe)}catch(le){at=!0,ae=le||new Error("Scheduled action threw falsy error")}if(at)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:Fe}=this,{actions:at}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,tt.P)(at,this),null!=Oe&&(this.id=this.recycleAsyncId(Fe,Oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{v:()=>re});var s=ie(6063);class Se{constructor(nt,ut=Se.now){this.schedulerActionCtor=nt,this.now=ut}schedule(nt,ut=0,Oe){return new this.schedulerActionCtor(this,nt).schedule(Oe,ut)}}Se.now=s.l.now;class re extends Se{constructor(nt,ut=Se.now){super(nt,ut),this.actions=[],this._active=!1,this._scheduled=void 0}flush(nt){const{actions:ut}=this;if(this._active)return void ut.push(nt);let Oe;this._active=!0;do{if(Oe=nt.execute(nt.state,nt.delay))break}while(nt=ut.shift());if(this._active=!1,Oe){for(;nt=ut.shift();)nt.unsubscribe();throw Oe}}}},4986:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{P:()=>tt,z:()=>re});var s=ie(4408);const re=new(ie(7565).v)(s.o),tt=re},6063:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{z:()=>s});const s={setTimeout(...Se){const{delegate:re}=s;return(re?.setTimeout||setTimeout)(...Se)},clearTimeout(Se){const{delegate:re}=s;return(re?.clearTimeout||clearTimeout)(Se)},delegate:void 0}},2202:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{h:()=>Se});const Se=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{_6:()=>ut,jO:()=>tt,yG:()=>nt});var s=ie(576),Se=ie(3532);function re(Oe){return Oe[Oe.length-1]}function tt(Oe){return(0,s.m)(re(Oe))?Oe.pop():void 0}function nt(Oe){return(0,Se.K)(re(Oe))?Oe.pop():void 0}function ut(Oe,Fe){return"number"==typeof re(Oe)?Oe.pop():Fe}},8737:(Fn,Ft,ie)=>{"use strict";function s(Se,re){if(Se){const tt=Se.indexOf(re);0<=tt&&Se.splice(tt,1)}}ie.d(Ft,{P:()=>s})},3888:(Fn,Ft,ie)=>{"use strict";function s(Se){const tt=Se(nt=>{Error.call(nt),nt.stack=(new Error).stack});return tt.prototype=Object.create(Error.prototype),tt.prototype.constructor=tt,tt}ie.d(Ft,{d:()=>s})},2806:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{O:()=>tt,x:()=>re});var s=ie(2416);let Se=null;function re(nt){if(s.v.useDeprecatedSynchronousErrorHandling){const ut=!Se;if(ut&&(Se={errorThrown:!1,error:null}),nt(),ut){const{errorThrown:Oe,error:Fe}=Se;if(Se=null,Oe)throw Fe}}else nt()}function tt(nt){s.v.useDeprecatedSynchronousErrorHandling&&Se&&(Se.errorThrown=!0,Se.error=nt)}},9672:(Fn,Ft,ie)=>{"use strict";function s(Se,re,tt,nt=0,ut=!1){const Oe=re.schedule(function(){tt(),ut?Se.add(this.schedule(null,nt)):this.unsubscribe()},nt);if(Se.add(Oe),!ut)return Oe}ie.d(Ft,{f:()=>s})},4671:(Fn,Ft,ie)=>{"use strict";function s(Se){return Se}ie.d(Ft,{y:()=>s})},1144:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{z:()=>s});const s=Se=>Se&&"number"==typeof Se.length&&"function"!=typeof Se},2206:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{D:()=>Se});var s=ie(576);function Se(re){return Symbol.asyncIterator&&(0,s.m)(re?.[Symbol.asyncIterator])}},576:(Fn,Ft,ie)=>{"use strict";function s(Se){return"function"==typeof Se}ie.d(Ft,{m:()=>s})},3670:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{c:()=>re});var s=ie(8822),Se=ie(576);function re(tt){return(0,Se.m)(tt[s.L])}},6495:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{T:()=>re});var s=ie(2202),Se=ie(576);function re(tt){return(0,Se.m)(tt?.[s.h])}},8239:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{t:()=>Se});var s=ie(576);function Se(re){return(0,s.m)(re?.then)}},3260:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{L:()=>tt,Q:()=>re});var s=ie(5987),Se=ie(576);function re(nt){return(0,s.FC)(this,arguments,function*(){const Oe=nt.getReader();try{for(;;){const{value:Fe,done:at}=yield(0,s.qq)(Oe.read());if(at)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Fe)}}finally{Oe.releaseLock()}})}function tt(nt){return(0,Se.m)(nt?.getReader)}},3532:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{K:()=>Se});var s=ie(576);function Se(re){return re&&(0,s.m)(re.schedule)}},4482:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{A:()=>Se,e:()=>re});var s=ie(576);function Se(tt){return(0,s.m)(tt?.lift)}function re(tt){return nt=>{if(Se(nt))return nt.lift(function(ut){try{return tt(ut,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Fn,Ft,ie)=>{"use strict";function s(){}ie.d(Ft,{Z:()=>s})},9635:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{U:()=>re,z:()=>Se});var s=ie(4671);function Se(...tt){return re(tt)}function re(tt){return 0===tt.length?s.y:1===tt.length?tt[0]:function(ut){return tt.reduce((Oe,Fe)=>Fe(Oe),ut)}}},7849:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{h:()=>re});var s=ie(2416),Se=ie(3410);function re(tt){Se.z.setTimeout(()=>{const{onUnhandledError:nt}=s.v;if(!nt)throw tt;nt(tt)})}},4532:(Fn,Ft,ie)=>{"use strict";function s(Se){return new TypeError(`You provided ${null!==Se&&"object"==typeof Se?"an invalid object":`'${Se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ie.d(Ft,{z:()=>s})},5987:(Fn,Ft,ie)=>{"use strict";function Fe(st,Mt,gt,Kt){return new(gt||(gt=Promise))(function(yn,hi){function Ir(ko){try{ki(Kt.next(ko))}catch(Mr){hi(Mr)}}function no(ko){try{ki(Kt.throw(ko))}catch(Mr){hi(Mr)}}function ki(ko){ko.done?yn(ko.value):function Qt(yn){return yn instanceof gt?yn:new gt(function(hi){hi(yn)})}(ko.value).then(Ir,no)}ki((Kt=Kt.apply(st,Mt||[])).next())})}function pt(st){return this instanceof pt?(this.v=st,this):new pt(st)}function xt(st,Mt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qt,Kt=gt.apply(st,Mt||[]),yn=[];return Qt={},hi("next"),hi("throw"),hi("return"),Qt[Symbol.asyncIterator]=function(){return this},Qt;function hi(Ai){Kt[Ai]&&(Qt[Ai]=function(Ss){return new Promise(function(_l,go){yn.push([Ai,Ss,_l,go])>1||Ir(Ai,Ss)})})}function Ir(Ai,Ss){try{!function no(Ai){Ai.value instanceof pt?Promise.resolve(Ai.value.v).then(ki,ko):Mr(yn[0][2],Ai)}(Kt[Ai](Ss))}catch(_l){Mr(yn[0][3],_l)}}function ki(Ai){Ir("next",Ai)}function ko(Ai){Ir("throw",Ai)}function Mr(Ai,Ss){Ai(Ss),yn.shift(),yn.length&&Ir(yn[0][0],yn[0][1])}}function zt(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,Mt=st[Symbol.asyncIterator];return Mt?Mt.call(st):(st=function me(st){var Mt="function"==typeof Symbol&&Symbol.iterator,gt=Mt&&st[Mt],Kt=0;if(gt)return gt.call(st);if(st&&"number"==typeof st.length)return{next:function(){return st&&Kt>=st.length&&(st=void 0),{value:st&&st[Kt++],done:!st}}};throw new TypeError(Mt?"Object is not iterable.":"Symbol.iterator is not defined.")}(st),gt={},Kt("next"),Kt("throw"),Kt("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Kt(yn){gt[yn]=st[yn]&&function(hi){return new Promise(function(Ir,no){!function Qt(yn,hi,Ir,no){Promise.resolve(no).then(function(ki){yn({value:ki,done:Ir})},hi)}(Ir,no,(hi=st[yn](hi)).done,hi.value)})}}}ie.d(Ft,{FC:()=>xt,KL:()=>zt,mG:()=>Fe,qq:()=>pt})},4650:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{$8M:()=>Aa,$Z:()=>FT,AFp:()=>Z1,ALo:()=>pI,AaK:()=>Fe,AsE:()=>al,BQk:()=>xm,CHM:()=>Tr,CRH:()=>Nm,CZH:()=>Um,CqO:()=>ly,D6c:()=>jF,DdM:()=>AI,EJc:()=>bF,EiD:()=>uA,EpF:()=>CS,Ez6:()=>jl,F$t:()=>BS,F4k:()=>xS,FYo:()=>Uo,FiY:()=>Su,G48:()=>kF,Gf:()=>Lm,GfV:()=>La,GkF:()=>Cf,Gpc:()=>le,Gre:()=>mB,Hsn:()=>FS,Ikx:()=>g1,JOm:()=>oo,JVY:()=>G_,JZr:()=>gn,KtG:()=>Mg,L6k:()=>ff,LAX:()=>fd,LFG:()=>Rr,LSH:()=>q,Lbi:()=>E5,Lck:()=>I1,MAs:()=>qw,MMx:()=>T1,MR2:()=>K_,NdJ:()=>ES,O4$:()=>ZA,OlP:()=>qr,Oqu:()=>wA,P3R:()=>mn,PXZ:()=>QI,Q6J:()=>oy,QGY:()=>a1,QP$:()=>Bd,QbO:()=>S5,Qsj:()=>Ec,R0b:()=>fh,RDi:()=>Iw,Rgc:()=>vy,SBq:()=>sr,Sil:()=>T5,Suo:()=>wI,TTD:()=>du,TgZ:()=>Kw,Udp:()=>Zv,VKq:()=>jB,W1O:()=>rF,WFA:()=>SS,WLB:()=>zB,X6Q:()=>y0,XFs:()=>Wn,Xpm:()=>bt,Xts:()=>mf,Y36:()=>kv,YKP:()=>aI,YNc:()=>wS,Yjl:()=>ys,Yz7:()=>cr,Z0I:()=>lu,ZZ4:()=>Ty,_Bn:()=>l0,_UZ:()=>bS,_Vd:()=>mi,_c5:()=>YI,_uU:()=>GS,aQg:()=>Ob,c2e:()=>I5,cJS:()=>yl,cg1:()=>ZS,d8E:()=>KS,dDg:()=>Bb,dqk:()=>oi,eBb:()=>Oa,eFA:()=>Fb,ekj:()=>h1,eoX:()=>jm,f3M:()=>la,g9A:()=>FI,h0i:()=>my,hGG:()=>G5,hij:()=>Yc,iGM:()=>wy,ifc:()=>jn,ip1:()=>vF,jDz:()=>Ll,kEZ:()=>qB,kL8:()=>wB,kYT:()=>xi,kcU:()=>Pg,lG2:()=>fr,lcZ:()=>yy,lqb:()=>L,lri:()=>DF,mCW:()=>Fl,n5z:()=>ef,n_E:()=>mb,oAB:()=>ii,oxw:()=>l1,pB0:()=>Cv,q3G:()=>m,q4F:()=>hA,qLn:()=>rl,qOj:()=>Pv,qZA:()=>s1,qzn:()=>ih,rWj:()=>TF,s9C:()=>Zw,sBO:()=>RF,sIi:()=>Vv,s_b:()=>hh,soG:()=>$p,tb:()=>MI,tp0:()=>Ja,uIk:()=>Gv,uOi:()=>ye,vHH:()=>pt,vpe:()=>bd,wAp:()=>ui,xi3:()=>gI,xp6:()=>oL,ynx:()=>o1,z2F:()=>Ey,z3N:()=>tc,zSh:()=>Tv,zs3:()=>mm});var s=ie(7579),Se=ie(727),re=ie(9751),tt=ie(6451),nt=ie(3099);function ut(l){for(let c in l)if(l[c]===ut)return c;throw Error("Could not find renamed property on target object.")}function Oe(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function Fe(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Fe).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function at(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const ae=ut({__forward_ref__:ut});function le(l){return l.__forward_ref__=le,l.toString=function(){return Fe(this())},l}function me(l){return We(l)?l():l}function We(l){return"function"==typeof l&&l.hasOwnProperty(ae)&&l.__forward_ref__===le}function qe(l){return l&&!!l.\u0275providers}const gn="https://g.co/ng/security#xss";class pt extends Error{constructor(c,d){super(function xt(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}(c,d)),this.code=c}}function Et(l){return"string"==typeof l?l:null==l?"":String(l)}function Bn(l,c){throw new pt(-201,!1)}function Mr(l,c){null==l&&function Ai(l,c,d,A){throw new Error(`ASSERTION ERROR: ${l}`+(null==A?"":` [Expected=> ${d} ${A} ${c} <=Actual]`))}(c,l,null,"!=")}function cr(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}const jl=cr;function yl(l){return{providers:l.providers||[],imports:l.imports||[]}}function vl(l){return os(l,wl)||os(l,kr)}function lu(l){return null!==vl(l)}function os(l,c){return l.hasOwnProperty(c)?l[c]:null}function Us(l){return l&&(l.hasOwnProperty(Zt)||l.hasOwnProperty(Qs))?l[Zt]:null}const wl=ut({\u0275prov:ut}),Zt=ut({\u0275inj:ut}),kr=ut({ngInjectableDef:ut}),Qs=ut({ngInjectorDef:ut});var Wn=(()=>((Wn=Wn||{})[Wn.Default=0]="Default",Wn[Wn.Host=1]="Host",Wn[Wn.Self=2]="Self",Wn[Wn.SkipSelf=4]="SkipSelf",Wn[Wn.Optional=8]="Optional",Wn))();let uc;function Kr(l){const c=uc;return uc=l,c}function dc(l,c,d){const A=vl(l);return A&&"root"==A.providedIn?void 0===A.value?A.value=A.factory():A.value:d&Wn.Optional?null:void 0!==c?c:void Bn(Fe(l))}const oi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fi={},Ni="__NG_DI_FLAG__",Hs="ngTempTokenPath",qo=/\n/gm,cu="__source";let Gi;function mo(l){const c=Gi;return Gi=l,c}function Ko(l,c=Wn.Default){if(void 0===Gi)throw new pt(-203,!1);return null===Gi?dc(l,void 0,c):Gi.get(l,c&Wn.Optional?null:void 0,c)}function Rr(l,c=Wn.Default){return(function Pc(){return uc}()||Ko)(me(l),c)}function la(l,c=Wn.Default){return Rr(l,ca(c))}function ca(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function Za(l){const c=[];for(let d=0;d<l.length;d++){const A=me(l[d]);if(Array.isArray(A)){if(0===A.length)throw new pt(900,!1);let p,v=Wn.Default;for(let T=0;T<A.length;T++){const R=A[T],P=ua(R);"number"==typeof P?-1===P?p=R.token:v|=P:p=R}c.push(Rr(p,v))}else c.push(Rr(A))}return c}function Is(l,c){return l[Ni]=c,l.prototype[Ni]=c,l}function ua(l){return l[Ni]}function Le(l){return{toString:l}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),jn=(()=>{return(l=jn||(jn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",jn;var l})();const bi={},pi=[],ts=ut({\u0275cmp:ut}),Vs=ut({\u0275dir:ut}),ji=ut({\u0275pipe:ut}),io=ut({\u0275mod:ut}),yo=ut({\u0275fac:ut}),da=ut({__NG_ELEMENT_ID__:ut});let qu=0;function bt(l){return Le(()=>{const d=!0===l.standalone,A={},p={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:A,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||pi,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||jn.Emulated,id:"c"+qu++,styles:l.styles||pi,_:null,setInput:null,schemas:l.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},v=l.dependencies,T=l.features;return p.inputs=br(l.inputs,A),p.outputs=br(l.outputs),T&&T.forEach(R=>R(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map($t).filter($n):null,p.pipeDefs=v?()=>("function"==typeof v?v():v).map($r).filter($n):null,p})}function $t(l){return _i(l)||Or(l)}function $n(l){return null!==l}function ii(l){return Le(()=>({type:l.type,bootstrap:l.bootstrap||pi,declarations:l.declarations||pi,imports:l.imports||pi,exports:l.exports||pi,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function xi(l,c){return Le(()=>{const d=Ro(l,!0);d.declarations=c.declarations||pi,d.imports=c.imports||pi,d.exports=c.exports||pi})}function br(l,c){if(null==l)return bi;const d={};for(const A in l)if(l.hasOwnProperty(A)){let p=l[A],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),d[p]=A,c&&(c[p]=v)}return d}const fr=bt;function ys(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function _i(l){return l[ts]||null}function Or(l){return l[Vs]||null}function $r(l){return l[ji]||null}function Bd(l){const c=_i(l)||Or(l)||$r(l);return null!==c&&c.standalone}function Ro(l,c){const d=l[io]||null;if(!d&&!0===c)throw new Error(`Type ${Fe(l)} does not have '\u0275mod' property.`);return d}function ur(l){return Array.isArray(l)&&"object"==typeof l[1]}function xl(l){return Array.isArray(l)&&!0===l[1]}function Ih(l){return 0!=(4&l.flags)}function PA(l){return l.componentOffset>-1}function UA(l){return 1==(1&l.flags)}function Gs(l){return null!==l.template}function y_(l){return 0!=(256&l[2])}function Wo(l,c){return l.hasOwnProperty(yo)?l[yo]:null}class Nd{constructor(c,d,A){this.previousValue=c,this.currentValue=d,this.firstChange=A}isFirstChange(){return this.firstChange}}function du(){return VA}function VA(l){return l.type.prototype.ngOnChanges&&(l.setInput=Zl),Th}function Th(){const l=GA(this),c=l?.current;if(c){const d=l.previous;if(d===bi)l.previous=c;else for(let A in c)d[A]=c[A];l.current=null,this.ngOnChanges(c)}}function Zl(l,c,d,A){const p=this.declaredInputs[d],v=GA(l)||function Ac(l,c){return l[Wf]=c}(l,{previous:bi,current:null}),T=v.current||(v.current={}),R=v.previous,P=R[p];T[p]=new Nd(P&&P.currentValue,c,R===bi),l[A]=c}du.ngInherit=!0;const Wf="__ngSimpleChanges__";function GA(l){return l[Wf]||null}function vo(l){for(;Array.isArray(l);)l=l[0];return l}function Ud(l,c){return vo(c[l])}function wo(l,c){return vo(c[l.index])}function zA(l,c){return l.data[c]}function Jo(l,c){return l[c]}function Ts(l,c){const d=c[l];return ur(d)?d:d[0]}function gu(l){return 64==(64&l[2])}function Wi(l,c){return null==c?null:l[c]}function Bg(l){l[18]=0}function $l(l,c){l[5]+=c;let d=l,A=l[3];for(;null!==A&&(1===c&&1===d[5]||-1===c&&0===d[5]);)A[5]+=c,d=A,A=A[3]}const Si={lFrame:Og(null),bindingsEnabled:!0};function Jf(){return Si.bindingsEnabled}function Pt(){return Si.lFrame.lView}function Zi(){return Si.lFrame.tView}function Tr(l){return Si.lFrame.contextLView=l,l[8]}function Mg(l){return Si.lFrame.contextLView=null,l}function Bs(){let l=Fh();for(;null!==l&&64===l.type;)l=l.parent;return l}function Fh(){return Si.lFrame.currentTNode}function js(l,c){const d=Si.lFrame;d.currentTNode=l,d.isParent=c}function El(){return Si.lFrame.isParent}function Mh(){Si.lFrame.isParent=!1}function zr(){const l=Si.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function as(){return Si.lFrame.bindingIndex++}function Yl(l){const c=Si.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function pc(l,c){const d=Si.lFrame;d.bindingIndex=d.bindingRootIndex=l,mu(c)}function mu(l){Si.lFrame.currentDirectiveIndex=l}function Hc(l){const c=Si.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function Ju(){return Si.lFrame.currentQueryIndex}function Vc(l){Si.lFrame.currentQueryIndex=l}function Rg(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ea(l,c,d){if(d&Wn.SkipSelf){let p=c,v=l;for(;!(p=p.parent,null!==p||d&Wn.Host||(p=Rg(v),null===p||(v=v[15],10&p.type))););if(null===p)return!1;c=p,l=v}const A=Si.lFrame=kh();return A.currentTNode=c,A.lView=l,!0}function ep(l){const c=kh(),d=l[1];Si.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function kh(){const l=Si.lFrame,c=null===l?null:l.child;return null===c?Og(l):c}function Og(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function _u(){const l=Si.lFrame;return Si.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Lg=_u;function Xu(){const l=_u();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Xo(){return Si.lFrame.selectedIndex}function Sa(l){Si.lFrame.selectedIndex=l}function Nr(){const l=Si.lFrame;return zA(l.tView,l.selectedIndex)}function ZA(){Si.lFrame.currentNamespace="svg"}function Pg(){!function Oh(){Si.lFrame.currentNamespace=null}()}function yu(l,c){for(let d=c.directiveStart,A=c.directiveEnd;d<A;d++){const v=l.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:R,ngAfterViewInit:P,ngAfterViewChecked:j,ngOnDestroy:ee}=v;T&&(l.contentHooks||(l.contentHooks=[])).push(-d,T),R&&((l.contentHooks||(l.contentHooks=[])).push(d,R),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,R)),P&&(l.viewHooks||(l.viewHooks=[])).push(-d,P),j&&((l.viewHooks||(l.viewHooks=[])).push(d,j),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,j)),null!=ee&&(l.destroyHooks||(l.destroyHooks=[])).push(d,ee)}}function Qd(l,c,d){nd(l,c,3,d)}function gc(l,c,d,A){(3&l[2])===d&&nd(l,c,d,A)}function td(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function nd(l,c,d,A){const v=A??-1,T=c.length-1;let R=0;for(let P=void 0!==A?65535&l[18]:0;P<T;P++)if("number"==typeof c[P+1]){if(R=c[P],null!=A&&R>=A)break}else c[P]<0&&(l[18]+=65536),(R<v||-1==v)&&(Qg(l,d,c,P),l[18]=(4294901760&l[18])+P+2),P++}function Qg(l,c,d,A){const p=d[A]<0,v=d[A+1],R=l[p?-d[A]:d[A]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{v.call(R)}finally{}}}else try{v.call(R)}finally{}}class Hd{constructor(c,d,A){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=A}}function ha(l,c,d){let A=0;for(;A<d.length;){const p=d[A];if("number"==typeof p){if(0!==p)break;A++;const v=d[A++],T=d[A++],R=d[A++];l.setAttribute(c,T,R,v)}else{const v=p,T=d[++A];C_(v)?l.setProperty(c,v,T):l.setAttribute(c,v,T),A++}}return A}function Lh(l){return 3===l||4===l||6===l}function C_(l){return 64===l.charCodeAt(0)}function wu(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let A=0;A<c.length;A++){const p=c[A];"number"==typeof p?d=p:0===d||YA(l,d,p,null,-1===d||2===d?c[++A]:null)}}return l}function YA(l,c,d,A,p){let v=0,T=l.length;if(-1===c)T=-1;else for(;v<l.length;){const R=l[v++];if("number"==typeof R){if(R===c){T=-1;break}if(R>c){T=v-1;break}}}for(;v<l.length;){const R=l[v];if("number"==typeof R)break;if(R===d){if(null===A)return void(null!==p&&(l[v+1]=p));if(A===l[v+1])return void(l[v+2]=p)}v++,null!==A&&v++,null!==p&&v++}-1!==T&&(l.splice(T,0,c),v=T+1),l.splice(v++,0,d),null!==A&&l.splice(v++,0,A),null!==p&&l.splice(v++,0,p)}function Vd(l){return-1!==l}function rd(l){return 32767&l}function Nh(l,c){let d=function x_(l){return l>>16}(l),A=c;for(;d>0;)A=A[15],d--;return A}let ip=!0;function Gd(l){const c=ip;return ip=l,c}let vw=0;const Da={};function Gc(l,c){const d=E_(l,c);if(-1!==d)return d;const A=c[1];A.firstCreatePass&&(l.injectorIndex=c.length,jd(A.data,l),jd(c,null),jd(A.blueprint,null));const p=Ph(l,c),v=l.injectorIndex;if(Vd(p)){const T=rd(p),R=Nh(p,c),P=R[1].data;for(let j=0;j<8;j++)c[v+j]=R[T+j]|P[T+j]}return c[v+8]=p,v}function jd(l,c){l.push(0,0,0,0,0,0,0,0,c)}function E_(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Ph(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,A=null,p=c;for(;null!==p;){if(A=ap(p),null===A)return-1;if(d++,p=p[15],-1!==A.injectorIndex)return A.injectorIndex|d<<16}return-1}function ls(l,c,d){!function jg(l,c,d){let A;"string"==typeof d?A=d.charCodeAt(0)||0:d.hasOwnProperty(da)&&(A=d[da]),null==A&&(A=d[da]=vw++);const p=255&A;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Lo(l,c,d){if(d&Wn.Optional||void 0!==l)return l;Bn()}function sp(l,c,d,A){if(d&Wn.Optional&&void 0===A&&(A=null),0==(d&(Wn.Self|Wn.Host))){const p=l[9],v=Kr(void 0);try{return p?p.get(c,A,d&Wn.Optional):dc(c,A,d&Wn.Optional)}finally{Kr(v)}}return Lo(A,0,d)}function zd(l,c,d,A=Wn.Default,p){if(null!==l){if(1024&c[2]){const T=function pv(l,c,d,A,p){let v=l,T=c;for(;null!==v&&null!==T&&1024&T[2]&&!(256&T[2]);){const R=Uh(v,T,d,A|Wn.Self,Da);if(R!==Da)return R;let P=v.parent;if(!P){const j=T[21];if(j){const ee=j.get(d,Da,A);if(ee!==Da)return ee}P=ap(T),T=T[15]}v=P}return p}(l,c,d,A,Da);if(T!==Da)return T}const v=Uh(l,c,d,A,Da);if(v!==Da)return v}return sp(c,d,A,p)}function Uh(l,c,d,A,p){const v=function op(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(da)?l[da]:void 0;return"number"==typeof c?c>=0?255&c:XA:c}(d);if("function"==typeof v){if(!Ea(c,l,A))return A&Wn.Host?Lo(p,0,A):sp(c,d,A,p);try{const T=v(A);if(null!=T||A&Wn.Optional)return T;Bn()}finally{Lg()}}else if("number"==typeof v){let T=null,R=E_(l,c),P=-1,j=A&Wn.Host?c[16][6]:null;for((-1===R||A&Wn.SkipSelf)&&(P=-1===R?Ph(l,c):c[R+8],-1!==P&&JA(A,!1)?(T=c[1],R=rd(P),c=Nh(P,c)):R=-1);-1!==R;){const ee=c[1];if(S_(v,R,ee.data)){const _e=WA(R,c,d,T,A,j);if(_e!==Da)return _e}P=c[R+8],-1!==P&&JA(A,c[1].data[R+8]===j)&&S_(v,R,c)?(T=ee,R=rd(P),c=Nh(P,c)):R=-1}}return p}function WA(l,c,d,A,p,v){const T=c[1],R=T.data[l+8],ee=Wl(R,T,d,null==A?PA(R)&&ip:A!=T&&0!=(3&R.type),p&Wn.Host&&v===R);return null!==ee?qd(c,T,ee,R):Da}function Wl(l,c,d,A,p){const v=l.providerIndexes,T=c.data,R=1048575&v,P=l.directiveStart,ee=v>>20,Ne=p?R+ee:l.directiveEnd;for(let ot=A?R:R+ee;ot<Ne;ot++){const Ot=T[ot];if(ot<P&&d===Ot||ot>=P&&Ot.type===d)return ot}if(p){const ot=T[P];if(ot&&Gs(ot)&&ot.type===d)return P}return null}function qd(l,c,d,A){let p=l[d];const v=c.data;if(function Ya(l){return l instanceof Hd}(p)){const T=p;T.resolving&&function Wt(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new pt(-200,`Circular dependency in DI detected for ${l}${d}`)}(function zt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Et(l)}(v[d]));const R=Gd(T.canSeeViewProviders);T.resolving=!0;const P=T.injectImpl?Kr(T.injectImpl):null;Ea(l,A,Wn.Default);try{p=l[d]=T.factory(void 0,v,l,A),c.firstCreatePass&&d>=A.directiveStart&&function Ug(l,c,d){const{ngOnChanges:A,ngOnInit:p,ngDoCheck:v}=c.type.prototype;if(A){const T=VA(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,T)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,v))}(d,v[d],c)}finally{null!==P&&Kr(P),Gd(R),T.resolving=!1,Lg()}}return p}function S_(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function JA(l,c){return!(l&Wn.Self||l&Wn.Host&&c)}class Kd{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,A){return zd(this._tNode,this._lView,c,ca(A),d)}}function XA(){return new Kd(Bs(),Pt())}function ef(l){return Le(()=>{const c=l.prototype.constructor,d=c[yo]||jc(c),A=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==A;){const v=p[yo]||jc(p);if(v&&v!==d)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function jc(l){return We(l)?()=>{const c=jc(me(l));return c&&c()}:Wo(l)}function ap(l){const c=l[1],d=c.type;return 2===d?c.declTNode:1===d?l[6]:null}function Aa(l){return function fv(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const A=d.length;let p=0;for(;p<A;){const v=d[p];if(Lh(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<A&&"string"==typeof d[p];)p++;else{if(v===c)return d[p+1];p+=2}}}return null}(Bs(),l)}const is="__parameters__";function bu(l,c,d){return Le(()=>{const A=function tf(l){return function(...d){if(l){const A=l(...d);for(const p in A)this[p]=A[p]}}}(c);function p(...v){if(this instanceof p)return A.apply(this,v),this;const T=new p(...v);return R.annotation=T,R;function R(P,j,ee){const _e=P.hasOwnProperty(is)?P[is]:Object.defineProperty(P,is,{value:[]})[is];for(;_e.length<=ee;)_e.push(null);return(_e[ee]=_e[ee]||[]).push(T),P}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class qr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=cr({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zn(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let A=l[d];Array.isArray(A)?(c===l&&(c=l.slice(0,d)),zn(A,c)):c!==l&&c.push(A)}return c}function Ta(l,c){l.forEach(d=>Array.isArray(d)?Ta(d,c):c(d))}function pn(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function sn(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function _r(l,c){const d=[];for(let A=0;A<l;A++)d.push(c);return d}function Ba(l,c,d){let A=ea(l,c);return A>=0?l[1|A]=d:(A=~A,function gr(l,c,d,A){let p=l.length;if(p==c)l.push(d,A);else if(1===p)l.push(A,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=A}}(l,A,c,d)),A}function Gh(l,c){const d=ea(l,c);if(d>=0)return l[1|d]}function ea(l,c){return function cn(l,c,d){let A=0,p=l.length>>d;for(;p!==A;){const v=A+(p-A>>1),T=l[v<<d];if(c===T)return v<<d;T>c?p=v:A=v+1}return~(p<<d)}(l,c,1)}const Su=Is(bu("Optional"),8),Ja=Is(bu("SkipSelf"),4);var oo=(()=>((oo=oo||{})[oo.Important=1]="Important",oo[oo.DashCase=2]="DashCase",oo))();const Be=new Map;let $e=0;const el="__ngContext__";function Ys(l,c){ur(c)?(l[el]=c[20],function vn(l){Be.set(l[20],l)}(c)):l[el]=c}function gp(l,c){return undefined(l,c)}function mp(l){const c=l[3];return xl(c)?c[3]:c}function P_(l){return af(l[13])}function Jg(l){return af(l[4])}function af(l){for(;null!==l&&!xl(l);)l=l[4];return l}function ud(l,c,d,A,p){if(null!=A){let v,T=!1;xl(A)?v=A:ur(A)&&(T=!0,A=A[0]);const R=vo(A);0===l&&null!==d?null==p?wp(c,d,R):wc(c,d,R,p||null,!0):1===l&&null!==d?wc(c,d,R,p||null,!0):2===l?function Fs(l,c,d){const A=th(l,c);A&&function Sw(l,c,d,A){l.removeChild(c,d,A)}(l,A,c,d)}(c,R,T):3===l&&c.destroyNode(R),null!=v&&function hf(l,c,d,A,p){const v=d[7];v!==vo(d)&&ud(c,l,A,v,p);for(let R=10;R<d.length;R++){const P=d[R];Fu(P[1],P,l,c,A,v)}}(c,l,v,d,p)}}function tm(l,c,d){return l.createElement(c,d)}function $h(l,c){const d=l[9],A=d.indexOf(c),p=c[3];512&c[2]&&(c[2]&=-513,$l(p,-1)),d.splice(A,1)}function Yh(l,c){if(l.length<=10)return;const d=10+c,A=l[d];if(A){const p=A[17];null!==p&&p!==l&&$h(p,A),c>0&&(l[d-1][4]=A[4]);const v=sn(l,10+c);!function U_(l,c){Fu(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(A[1],A);const T=v[19];null!==T&&T.detachView(v[1]),A[3]=null,A[4]=null,A[2]&=-65}return A}function eh(l,c){if(!(128&c[2])){const d=c[11];d.destroyNode&&Fu(l,c,d,3,null,null),function lf(l){let c=l[13];if(!c)return nm(l[1],l);for(;c;){let d=null;if(ur(c))d=c[13];else{const A=c[10];A&&(d=A)}if(!d){for(;c&&!c[4]&&c!==l;)ur(c)&&nm(c[1],c),c=c[3];null===c&&(c=l),ur(c)&&nm(c[1],c),d=c&&c[4]}c=d}}(c)}}function nm(l,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function Q_(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let A=0;A<d.length;A+=2){const p=c[d[A]];if(!(p instanceof Hd)){const v=d[A+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const R=p[v[T]],P=v[T+1];try{P.call(R)}finally{}}else try{v.call(p)}finally{}}}}(l,c),function Ew(l,c){const d=l.cleanup,A=c[7];let p=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const T=d[v+3];T>=0?A[p=T]():A[p=-T].unsubscribe(),v+=2}else{const T=A[p=d[v+1]];d[v].call(T)}if(null!==A){for(let v=p+1;v<A.length;v++)(0,A[v])();c[7]=null}}(l,c),1===c[1].type&&c[11].destroy();const d=c[17];if(null!==d&&xl(c[3])){d!==c[3]&&$h(d,c);const A=c[19];null!==A&&A.detachView(l)}!function Mn(l){Be.delete(l[20])}(c)}}function im(l,c,d){return function vp(l,c,d){let A=c;for(;null!==A&&40&A.type;)A=(c=A).parent;if(null===A)return d[0];{const{componentOffset:p}=A;if(p>-1){const{encapsulation:v}=l.data[A.directiveStart+p];if(v===jn.None||v===jn.Emulated)return null}return wo(A,d)}}(l,c.parent,d)}function wc(l,c,d,A,p){l.insertBefore(c,d,A,p)}function wp(l,c,d){l.appendChild(c,d)}function bp(l,c,d,A,p){null!==A?wc(l,c,d,A,p):wp(l,c,d)}function th(l,c){return l.parentNode(c)}function Jh(l,c,d){return Xh(l,c,d)}let Mu,xp,rA,Xh=function dd(l,c,d){return 40&l.type?wo(l,d):null};function uf(l,c,d,A){const p=im(l,A,c),v=c[11],R=Jh(A.parent||c[6],A,c);if(null!=p)if(Array.isArray(d))for(let P=0;P<d.length;P++)bp(v,p,d[P],R,!1);else bp(v,p,d,R,!1)}function rm(l,c){if(null!==c){const d=c.type;if(3&d)return wo(c,l);if(4&d)return df(-1,l[c.index]);if(8&d){const A=c.child;if(null!==A)return rm(l,A);{const p=l[c.index];return xl(p)?df(-1,p):vo(p)}}if(32&d)return gp(c,l)()||vo(l[c.index]);{const A=eA(l,c);return null!==A?Array.isArray(A)?A[0]:rm(mp(l[16]),A):rm(l,c.next)}}return null}function eA(l,c){return null!==c?l[16][6].projection[c.projection]:null}function df(l,c){const d=10+l+1;if(d<c.length){const A=c[d],p=A[1].firstChild;if(null!==p)return rm(A,p)}return c[7]}function hd(l,c,d,A,p,v,T){for(;null!=d;){const R=A[d.index],P=d.type;if(T&&0===c&&(R&&Ys(vo(R),A),d.flags|=2),32!=(32&d.flags))if(8&P)hd(l,c,d.child,A,p,v,!1),ud(c,l,p,R,v);else if(32&P){const j=gp(d,A);let ee;for(;ee=j();)ud(c,l,p,ee,v);ud(c,l,p,R,v)}else 16&P?Ad(l,c,A,d,p,v):ud(c,l,p,R,v);d=T?d.projectionNext:d.next}}function Fu(l,c,d,A,p,v){hd(d,A,l.firstChild,c,p,v,!1)}function Ad(l,c,d,A,p,v){const T=d[16],P=T[6].projection[A.projection];if(Array.isArray(P))for(let j=0;j<P.length;j++)ud(c,l,p,P[j],v);else hd(l,c,P,T[3],p,v,!0)}function sm(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function tA(l,c,d){const{mergedAttrs:A,classes:p,styles:v}=d;null!==A&&ha(l,c,A),null!==p&&sm(l,c,p),null!==v&&function vv(l,c,d){l.setAttribute(c,"style",d)}(l,c,v)}function ec(l){return function tl(){if(void 0===Mu&&(Mu=null,oi.trustedTypes))try{Mu=oi.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Mu}()?.createHTML(l)||l}function Iw(l){xp=l}function Ip(l){return function Sp(){if(void 0===rA&&(rA=null,oi.trustedTypes))try{rA=oi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return rA}()?.createScriptURL(l)||l}class oA{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gn})`}}class aA extends oA{getTypeName(){return"HTML"}}class V_ extends oA{getTypeName(){return"Style"}}class wv extends oA{getTypeName(){return"Script"}}class am extends oA{getTypeName(){return"URL"}}class lm extends oA{getTypeName(){return"ResourceURL"}}function tc(l){return l instanceof oA?l.changingThisBreaksApplicationSecurity:l}function ih(l,c){const d=function bv(l){return l instanceof oA&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${gn})`)}return d===c}function G_(l){return new aA(l)}function ff(l){return new V_(l)}function Oa(l){return new wv(l)}function fd(l){return new am(l)}function Cv(l){return new lm(l)}class Dp{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(ec(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class xn{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const A=this.inertDocument.createElement("body");d.appendChild(A)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=ec(c),d;const A=this.inertDocument.createElement("body");return A.innerHTML=ec(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(A),A}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const T=d.item(p).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&c.removeAttribute(T)}let A=c.firstChild;for(;A;)A.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(A),A=A.nextSibling}}const um=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fl(l){return(l=String(l)).match(um)?l:"unsafe:"+l}function nl(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function er(...l){const c={};for(const d of l)for(const A in d)d.hasOwnProperty(A)&&(c[A]=!0);return c}const ps=nl("area,br,col,hr,img,wbr"),Bp=nl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xv=nl("rp,rt"),pd=er(ps,er(Bp,nl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(xv,nl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er(xv,Bp)),j_=nl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lA=er(j_,nl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ev=nl("script,style,template");class Sv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,A=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?A=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,A&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!pd.hasOwnProperty(d))return this.sanitizedSomething=!0,!Ev.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const A=c.attributes;for(let p=0;p<A.length;p++){const v=A.item(p),T=v.name,R=T.toLowerCase();if(!lA.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let P=v.value;j_[R]&&(P=Fl(P)),this.buf.push(" ",T,'="',z_(P),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();pd.hasOwnProperty(d)&&!ps.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(z_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const md=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cA=/([^\#-~ |!])/g;function z_(l){return l.replace(/&/g,"&amp;").replace(md,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(cA,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dm;function uA(l,c){let d=null;try{dm=dm||function cm(l){const c=new xn(l);return function Tp(){try{return!!(new window.DOMParser).parseFromString(ec(""),"text/html")}catch{return!1}}()?new Dp(c):c}(l);let A=c?String(c):"";d=dm.getInertBodyElement(A);let p=5,v=A;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,A=v,v=d.innerHTML,d=dm.getInertBodyElement(A)}while(A!==v);return ec((new Sv).sanitizeChildren(x(d)||d))}finally{if(d){const A=x(d)||d;for(;A.firstChild;)A.removeChild(A.firstChild)}}}function x(l){return"content"in l&&function g(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var m=(()=>((m=m||{})[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m))();function q(l){const c=xc();return c?c.sanitize(m.URL,l)||"":ih(l,"URL")?tc(l):Fl(Et(l))}function ye(l){const c=xc();if(c)return Ip(c.sanitize(m.RESOURCE_URL,l)||"");if(ih(l,"ResourceURL"))return Ip(tc(l));throw new pt(904,!1)}function mn(l,c,d){return function on(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?ye:q}(c,d)(l)}function xc(){const l=Pt();return l&&l[12]}const mf=new qr("ENVIRONMENT_INITIALIZER"),Mp=new qr("INJECTOR",-1),q_=new qr("INJECTOR_DEF_TYPES");class hm{get(c,d=fi){if(d===fi){const A=new Error(`NullInjectorError: No provider for ${Fe(c)}!`);throw A.name="NullInjectorError",A}return d}}function K_(l){return{\u0275providers:l}}function Iv(...l){return{\u0275providers:Am(0,l),\u0275fromNgModule:!0}}function Am(l,...c){const d=[],A=new Set;let p;return Ta(c,v=>{const T=v;_f(T,d,[],A)&&(p||(p=[]),p.push(T))}),void 0!==p&&fm(p,d),d}function fm(l,c){for(let d=0;d<l.length;d++){const{providers:p}=l[d];dA(p,v=>{c.push(v)})}}function _f(l,c,d,A){if(!(l=me(l)))return!1;let p=null,v=Us(l);const T=!v&&_i(l);if(v||T){if(T&&!T.standalone)return!1;p=l}else{const P=l.ngModule;if(v=Us(P),!v)return!1;p=P}const R=A.has(p);if(T){if(R)return!1;if(A.add(p),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const j of P)_f(j,c,d,A)}}else{if(!v)return!1;{if(null!=v.imports&&!R){let j;A.add(p);try{Ta(v.imports,ee=>{_f(ee,c,d,A)&&(j||(j=[]),j.push(ee))})}finally{}void 0!==j&&fm(j,c)}if(!R){const j=Wo(p)||(()=>new p);c.push({provide:p,useFactory:j,deps:pi},{provide:q_,useValue:p,multi:!0},{provide:mf,useValue:()=>Rr(p),multi:!0})}const P=v.providers;null==P||R||dA(P,ee=>{c.push(ee)})}}return p!==l&&void 0!==l.providers}function dA(l,c){for(let d of l)qe(d)&&(d=d.\u0275providers),Array.isArray(d)?dA(d,c):c(d)}const pm=ut({provide:String,useValue:ut});function Tw(l){return null!==l&&"object"==typeof l&&pm in l}function kp(l){return"function"==typeof l}const Tv=new qr("Set Injector scope."),C={},w={};let S;function E(){return void 0===S&&(S=new hm),S}class L{}class G extends L{constructor(c,d,A,p){super(),this.parent=d,this.source=A,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hn(c,T=>this.processProvider(T)),this.records.set(Mp,ze(void 0,this)),p.has("environment")&&this.records.set(L,ze(void 0,this));const v=this.records.get(Tv);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(q_.multi,pi,Wn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=mo(this),A=Kr(void 0);try{return c()}finally{mo(d),Kr(A)}}get(c,d=fi,A=Wn.Default){this.assertNotDestroyed(),A=ca(A);const p=mo(this),v=Kr(void 0);try{if(!(A&Wn.SkipSelf)){let R=this.records.get(c);if(void 0===R){const P=function Pn(l){return"function"==typeof l||"object"==typeof l&&l instanceof qr}(c)&&vl(c);R=P&&this.injectableDefInScope(P)?ze(J(c),C):null,this.records.set(c,R)}if(null!=R)return this.hydrate(c,R)}return(A&Wn.Self?E():this.parent).get(c,d=A&Wn.Optional&&d===fi?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[Hs]=T[Hs]||[]).unshift(Fe(c)),p)throw T;return function Ie(l,c,d,A){const p=l[Hs];throw c[cu]&&p.unshift(c[cu]),l.message=function Ce(l,c,d,A=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let p=Fe(c);if(Array.isArray(c))p=c.map(Fe).join(" -> ");else if("object"==typeof c){let v=[];for(let T in c)if(c.hasOwnProperty(T)){let R=c[T];v.push(T+":"+("string"==typeof R?JSON.stringify(R):Fe(R)))}p=`{${v.join(", ")}}`}return`${d}${A?"("+A+")":""}[${p}]: ${l.replace(qo,"\n  ")}`}("\n"+l.message,p,d,A),l.ngTokenPath=p,l[Hs]=null,l}(T,c,"R3InjectorError",this.source)}throw T}finally{Kr(v),mo(p)}}resolveInjectorInitializers(){const c=mo(this),d=Kr(void 0);try{const A=this.get(mf.multi,pi,Wn.Self);for(const p of A)p()}finally{mo(c),Kr(d)}}toString(){const c=[],d=this.records;for(const A of d.keys())c.push(Fe(A));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pt(205,!1)}processProvider(c){let d=kp(c=me(c))?c:me(c&&c.provide);const A=function ue(l){return Tw(l)?ze(void 0,l.useValue):ze(Re(l),C)}(c);if(kp(c)||!0!==c.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=ze(void 0,C,!0),p.factory=()=>Za(p.multi),this.records.set(d,p)),d=c,p.multi.push(c)}this.records.set(d,A)}hydrate(c,d){return d.value===C&&(d.value=w,d.value=d.factory()),"object"==typeof d.value&&d.value&&function kt(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=me(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function J(l){const c=vl(l),d=null!==c?c.factory:Wo(l);if(null!==d)return d;if(l instanceof qr)throw new pt(204,!1);if(l instanceof Function)return function de(l){const c=l.length;if(c>0)throw _r(c,"?"),new pt(204,!1);const d=function As(l){const c=l&&(l[wl]||l[kr]);if(c){const d=function cc(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new pt(204,!1)}function Re(l,c,d){let A;if(kp(l)){const p=me(l);return Wo(p)||J(p)}if(Tw(l))A=()=>me(l.useValue);else if(function PC(l){return!(!l||!l.useFactory)}(l))A=()=>l.useFactory(...Za(l.deps||[]));else if(function NC(l){return!(!l||!l.useExisting)}(l))A=()=>Rr(me(l.useExisting));else{const p=me(l&&(l.useClass||l.provide));if(!function it(l){return!!l.deps}(l))return Wo(p)||J(p);A=()=>new p(...Za(l.deps))}return A}function ze(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function hn(l,c){for(const d of l)Array.isArray(d)?hn(d,c):d&&qe(d)?hn(d.\u0275providers,c):c(d)}class Sn{}class $i{}class tr{resolveComponentFactory(c){throw function ri(l){const c=Error(`No component factory found for ${Fe(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let mi=(()=>{class l{}return l.NULL=new tr,l})();function Rn(){return dr(Bs(),Pt())}function dr(l,c){return new sr(wo(l,c))}let sr=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Rn,l})();function Fi(l){return l instanceof sr?l.nativeElement:l}class Uo{}let Ec=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Kc(){const l=Pt(),d=Ts(Bs().index,l);return(ur(d)?d:l)[11]}(),l})(),cs=(()=>{class l{}return l.\u0275prov=cr({token:l,providedIn:"root",factory:()=>null}),l})();class La{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const hA=new La("15.0.2"),il={};function Zc(l){return l.ngOriginalError}class rl{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&Zc(c);for(;d&&Zc(d);)d=Zc(d);return d||null}}function Np(l){return l instanceof Function?l():l}function ZE(l,c,d){let A=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const v=c.length;if(p+v===A||l.charCodeAt(p+v)<=32)return p}d=p+1}}const yT="ng-template";function XO(l,c,d){let A=0;for(;A<l.length;){let p=l[A++];if(d&&"class"===p){if(p=l[A],-1!==ZE(p.toLowerCase(),c,0))return!0}else if(1===p){for(;A<l.length&&"string"==typeof(p=l[A++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function vT(l){return 4===l.type&&l.value!==yT}function eL(l,c,d){return c===(4!==l.type||d?l.value:yT)}function wT(l,c,d){let A=4;const p=l.attrs||[],v=function iL(l){for(let c=0;c<l.length;c++)if(Lh(l[c]))return c;return l.length}(p);let T=!1;for(let R=0;R<c.length;R++){const P=c[R];if("number"!=typeof P){if(!T)if(4&A){if(A=2|1&A,""!==P&&!eL(l,P,d)||""===P&&1===c.length){if(Ms(A))return!1;T=!0}}else{const j=8&A?P:c[++R];if(8&A&&null!==l.attrs){if(!XO(l.attrs,j,d)){if(Ms(A))return!1;T=!0}continue}const _e=tL(8&A?"class":P,p,vT(l),d);if(-1===_e){if(Ms(A))return!1;T=!0;continue}if(""!==j){let Ne;Ne=_e>v?"":p[_e+1].toLowerCase();const ot=8&A?Ne:null;if(ot&&-1!==ZE(ot,j,0)||2&A&&j!==Ne){if(Ms(A))return!1;T=!0}}}}else{if(!T&&!Ms(A)&&!Ms(P))return!1;if(T&&Ms(P))continue;T=!1,A=P|1&A}}return Ms(A)||T}function Ms(l){return 0==(1&l)}function tL(l,c,d,A){if(null===c)return-1;let p=0;if(A||!d){let v=!1;for(;p<c.length;){const T=c[p];if(T===l)return p;if(3===T||6===T)v=!0;else{if(1===T||2===T){let R=c[++p];for(;"string"==typeof R;)R=c[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=v?1:2}return-1}return function bT(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const A=l[d];if("number"==typeof A)return-1;if(A===c)return d;d++}return-1}(c,l)}function Z_(l,c,d=!1){for(let A=0;A<c.length;A++)if(wT(l,c[A],d))return!0;return!1}function SQ(l,c){e:for(let d=0;d<c.length;d++){const A=c[d];if(l.length===A.length){for(let p=0;p<l.length;p++)if(l[p]!==A[p])continue e;return!0}}return!1}function rL(l,c){return l?":not("+c.trim()+")":c}function sL(l){let c=l[0],d=1,A=2,p="",v=!1;for(;d<l.length;){let T=l[d];if("string"==typeof T)if(2&A){const R=l[++d];p+="["+T+(R.length>0?'="'+R+'"':"")+"]"}else 8&A?p+="."+T:4&A&&(p+=" "+T);else""!==p&&!Ms(T)&&(c+=rL(v,p),p=""),A=T,v=v||!Ms(A);d++}return""!==p&&(c+=rL(v,p)),c}const Mi={};function oL(l){YE(Zi(),Pt(),Xo()+l,!1)}function YE(l,c,d,A){if(!A)if(3==(3&c[2])){const v=l.preOrderCheckHooks;null!==v&&Qd(c,v,d)}else{const v=l.preOrderHooks;null!==v&&gc(c,v,0,d)}Sa(d)}function ET(l,c=null,d=null,A){const p=ST(l,c,d,A);return p.resolveInjectorInitializers(),p}function ST(l,c=null,d=null,A,p=new Set){const v=[d||pi,Iv(l)];return A=A||("object"==typeof l?void 0:Fe(l)),new G(v,c||E(),A||null,p)}let mm=(()=>{class l{static create(d,A){if(Array.isArray(d))return ET({name:""},A,d,"");{const p=d.name??"";return ET({name:p},d.parent,d.providers,p)}}}return l.THROW_IF_NOT_FOUND=fi,l.NULL=new hm,l.\u0275prov=cr({token:l,providedIn:"any",factory:()=>Rr(Mp)}),l.__NG_ELEMENT_ID__=-1,l})();function kv(l,c=Wn.Default){const d=Pt();return null===d?Rr(l,c):zd(Bs(),d,me(l),c)}function FT(){throw new Error("invalid")}function nc(l,c){const d=l.contentQueries;if(null!==d)for(let A=0;A<d.length;A+=2){const p=d[A],v=d[A+1];if(-1!==v){const T=l.data[v];Vc(p),T.contentQueries(2,c[v],v)}}}function gA(l,c,d,A,p,v,T,R,P,j,ee){const _e=c.blueprint.slice();return _e[0]=p,_e[2]=76|A,(null!==ee||l&&1024&l[2])&&(_e[2]|=1024),Bg(_e),_e[3]=_e[15]=l,_e[8]=d,_e[10]=T||l&&l[10],_e[11]=R||l&&l[11],_e[12]=P||l&&l[12]||null,_e[9]=j||l&&l[9]||null,_e[6]=v,_e[20]=function vt(){return $e++}(),_e[21]=ee,_e[16]=2==c.type?l[16]:_e,_e}function Rv(l,c,d,A,p){let v=l.data[c];if(null===v)v=function VC(l,c,d,A,p){const v=Fh(),T=El(),P=l.data[c]=function Lv(l,c,d,A,p,v){return{type:d,index:A,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,d,c,A,p);return null===l.firstChild&&(l.firstChild=P),null!==v&&(T?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P)),P}(l,c,d,A,p),function kg(){return Si.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=A,v.attrs=p;const T=function Ca(){const l=Si.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return js(v,!0),v}function J_(l,c,d,A){if(0===d)return-1;const p=c.length;for(let v=0;v<d;v++)c.push(A),l.blueprint.push(A),l.data.push(null);return p}function GC(l,c,d){ep(c);try{const A=l.viewQuery;null!==A&&Pw(1,A,d);const p=l.template;null!==p&&MT(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&nc(l,c),l.staticViewQueries&&Pw(2,l.viewQuery,d);const v=l.components;null!==v&&function Ml(l,c){for(let d=0;d<c.length;d++)wL(l,c[d])}(c,v)}catch(A){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),A}finally{c[2]&=-5,Xu()}}function sl(l,c,d,A){const p=c[2];if(128!=(128&p)){ep(c);try{Bg(c),function KA(l){return Si.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&MT(l,c,d,2,A);const T=3==(3&p);if(T){const j=l.preOrderCheckHooks;null!==j&&Qd(c,j,null)}else{const j=l.preOrderHooks;null!==j&&gc(c,j,0,null),td(c,0)}if(function cS(l){for(let c=P_(l);null!==c;c=Jg(c)){if(!c[2])continue;const d=c[9];for(let A=0;A<d.length;A++){const p=d[A],v=p[3];0==(512&p[2])&&$l(v,1),p[2]|=512}}}(c),function lS(l){for(let c=P_(l);null!==c;c=Jg(c))for(let d=10;d<c.length;d++){const A=c[d],p=A[1];gu(A)&&sl(p,A,p.template,A[8])}}(c),null!==l.contentQueries&&nc(l,c),T){const j=l.contentCheckHooks;null!==j&&Qd(c,j)}else{const j=l.contentHooks;null!==j&&gc(c,j,1),td(c,1)}!function pL(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let A=0;A<d.length;A++){const p=d[A];if(p<0)Sa(~p);else{const v=p,T=d[++A],R=d[++A];pc(T,v),R(2,c[v])}}}finally{Sa(-1)}}(l,c);const R=l.components;null!==R&&function HC(l,c){for(let d=0;d<c.length;d++)HT(l,c[d])}(c,R);const P=l.viewQuery;if(null!==P&&Pw(2,P,A),T){const j=l.viewCheckHooks;null!==j&&Qd(c,j)}else{const j=l.viewHooks;null!==j&&gc(c,j,2),td(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,$l(c[3],-1))}finally{Xu()}}}function MT(l,c,d,A,p){const v=Xo(),T=2&A;try{Sa(-1),T&&c.length>22&&YE(l,c,22,!1),d(A,p)}finally{Sa(v)}}function Ov(l,c,d){if(Ih(c)){const p=c.directiveEnd;for(let v=c.directiveStart;v<p;v++){const T=l.data[v];T.contentQueries&&T.contentQueries(1,d[v],v)}}}function jC(l,c,d){!Jf()||(function PT(l,c,d,A){const p=d.directiveStart,v=d.directiveEnd;l.firstCreatePass||Gc(d,c),Ys(A,c);const T=d.initialInputs;for(let R=p;R<v;R++){const P=l.data[R],j=Gs(P);j&&QT(c,d,P);const ee=qd(c,l,R,d);Ys(ee,c),null!==T&&ZC(0,R-p,ee,P,0,T),j&&(Ts(d.index,c)[8]=ee)}}(l,c,d,wo(d,c)),64==(64&d.flags)&&UT(l,c,d))}function Bw(l,c,d=wo){const A=c.localNames;if(null!==A){let p=c.index+1;for(let v=0;v<A.length;v+=2){const T=A[v+1],R=-1===T?d(c,l):l[T];l[p++]=R}}}function Fw(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=oh(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function oh(l,c,d,A,p,v,T,R,P,j){const ee=22+A,_e=ee+p,Ne=function nS(l,c){const d=[];for(let A=0;A<c;A++)d.push(A<l?null:Mi);return d}(ee,_e),ot="function"==typeof j?j():j;return Ne[1]={type:l,blueprint:Ne,template:d,queries:null,viewQuery:R,declTNode:c,data:Ne.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:ot,incompleteFirstPass:!1}}function RT(l,c,d,A){const p=WC(c);null===d?p.push(A):(p.push(d),l.firstCreatePass&&ol(l).push(A,p.length-1))}function iS(l,c,d,A){for(let p in l)if(l.hasOwnProperty(p)){d=null===d?{}:d;const v=l[p];null===A?zC(d,c,p,v):A.hasOwnProperty(p)&&zC(d,c,A[p],v)}return d}function zC(l,c,d,A){l.hasOwnProperty(d)?l[d].push(c,A):l[d]=[c,A]}function ku(l,c,d,A,p,v,T,R){const P=wo(c,d);let ee,j=c.inputs;!R&&null!=j&&(ee=j[A])?(Qw(l,d,ee,A,p),PA(c)&&Mw(d,c.index)):3&c.type&&(A=function gL(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(A),p=null!=T?T(p,c.value||"",A):p,v.setProperty(P,A,p))}function Mw(l,c){const d=Ts(c,l);16&d[2]||(d[2]|=32)}function kw(l,c,d,A){let p=!1;if(Jf()){const v=null===A?null:{"":-1},T=function _L(l,c){const d=l.directiveRegistry;let A=null,p=null;if(d)for(let v=0;v<d.length;v++){const T=d[v];if(Z_(c,T.selectors,!1))if(A||(A=[]),Gs(T))if(null!==T.findHostDirectiveDefs){const R=[];p=p||new Map,T.findHostDirectiveDefs(T,R,p),A.unshift(...R,T),X_(l,c,R.length)}else A.unshift(T),X_(l,c,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,A,p),A.push(T)}return null===A?null:[A,p]}(l,d);let R,P;null===T?R=P=null:[R,P]=T,null!==R&&(p=!0,NT(l,c,d,R,v,P)),v&&function yL(l,c,d){if(c){const A=l.localNames=[];for(let p=0;p<c.length;p+=2){const v=d[c[p+1]];if(null==v)throw new pt(-301,!1);A.push(c[p],v)}}}(d,A,v)}return d.mergedAttrs=wu(d.mergedAttrs,d.attrs),p}function NT(l,c,d,A,p,v){for(let j=0;j<A.length;j++)ls(Gc(d,c),l,A[j].type);!function qC(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}(d,l.data.length,A.length);for(let j=0;j<A.length;j++){const ee=A[j];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,R=!1,P=J_(l,c,A.length,null);for(let j=0;j<A.length;j++){const ee=A[j];d.mergedAttrs=wu(d.mergedAttrs,ee.hostAttrs),oS(l,d,c,P,ee),vL(P,ee,p),null!==ee.contentQueries&&(d.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(d.flags|=64);const _e=ee.type.prototype;!T&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),T=!0),!R&&(_e.ngOnChanges||_e.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),R=!0),P++}!function OT(l,c,d){const p=c.directiveEnd,v=l.data,T=c.attrs,R=[];let P=null,j=null;for(let ee=c.directiveStart;ee<p;ee++){const _e=v[ee],Ne=d?d.get(_e):null,Ot=Ne?Ne.outputs:null;P=iS(_e.inputs,ee,P,Ne?Ne.inputs:null),j=iS(_e.outputs,ee,j,Ot);const dn=null===P||null===T||vT(c)?null:aS(P,ee,T);R.push(dn)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=R,c.inputs=P,c.outputs=j}(l,d,v)}function UT(l,c,d){const A=d.directiveStart,p=d.directiveEnd,v=d.index,T=function Xf(){return Si.lFrame.currentDirectiveIndex}();try{Sa(v);for(let R=A;R<p;R++){const P=l.data[R],j=c[R];mu(R),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Rw(P,j)}}finally{Sa(-1),mu(T)}}function Rw(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function X_(l,c,d){c.componentOffset=d,(l.components||(l.components=[])).push(c.index)}function vL(l,c,d){if(d){if(c.exportAs)for(let A=0;A<c.exportAs.length;A++)d[c.exportAs[A]]=l;Gs(c)&&(d[""]=l)}}function oS(l,c,d,A,p){l.data[A]=p;const v=p.factory||(p.factory=Wo(p.type)),T=new Hd(v,Gs(p),kv);l.blueprint[A]=T,d[A]=T,function mL(l,c,d,A,p){const v=p.hostBindings;if(v){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const R=~c.index;(function sS(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=R&&T.push(R),T.push(d,A,v)}}(l,c,A,J_(l,d,p.hostVars,Mi),p)}function QT(l,c,d){const A=wo(c,l),p=Fw(d),v=l[10],T=Ow(l,gA(l,p,null,d.onPush?32:16,A,c,v,v.createRenderer(A,d),null,null,null));l[c.index]=T}function mA(l,c,d,A,p,v){const T=wo(l,c);!function KC(l,c,d,A,p,v,T){if(null==v)l.removeAttribute(c,p,d);else{const R=null==T?Et(v):T(v,A||"",p);l.setAttribute(c,p,R,d)}}(c[11],T,v,l.value,d,A,p)}function ZC(l,c,d,A,p,v){const T=v[c];if(null!==T){const R=A.setInput;for(let P=0;P<T.length;){const j=T[P++],ee=T[P++],_e=T[P++];null!==R?A.setInput(d,_e,j,ee):d[ee]=_e}}}function aS(l,c,d){let A=null,p=0;for(;p<d.length;){const v=d[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(l.hasOwnProperty(v)){null===A&&(A=[]);const T=l[v];for(let R=0;R<T.length;R+=2)if(T[R]===c){A.push(v,T[R+1],d[p+1]);break}}p+=2}else p+=2;else p+=4}return A}function $C(l,c,d,A){return[l,!0,!1,c,null,0,A,d,null,null]}function HT(l,c){const d=Ts(c,l);if(gu(d)){const A=d[1];48&d[2]?sl(A,d,A.template,d[8]):d[5]>0&&YC(d)}}function YC(l){for(let A=P_(l);null!==A;A=Jg(A))for(let p=10;p<A.length;p++){const v=A[p];if(gu(v))if(512&v[2]){const T=v[1];sl(T,v,T.template,v[8])}else v[5]>0&&YC(v)}const d=l[1].components;if(null!==d)for(let A=0;A<d.length;A++){const p=Ts(d[A],l);gu(p)&&p[5]>0&&YC(p)}}function wL(l,c){const d=Ts(c,l),A=d[1];(function VT(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(A,d),GC(A,d,d[8])}function Ow(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Lw(l){for(;l;){l[2]|=32;const c=mp(l);if(y_(l)&&!c)return l;l=c}return null}function Nw(l,c,d,A=!0){const p=c[10];p.begin&&p.begin();try{sl(l,c,l.template,d)}catch(T){throw A&&Uw(c,T),T}finally{p.end&&p.end()}}function Pw(l,c,d){Vc(0),c(l,d)}function WC(l){return l[7]||(l[7]=[])}function ol(l){return l.cleanup||(l.cleanup=[])}function kl(l,c,d){return(null===l||Gs(l))&&(d=function $u(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function Uw(l,c){const d=l[9],A=d?d.get(rl,null):null;A&&A.handleError(c)}function Qw(l,c,d,A,p){for(let v=0;v<d.length;){const T=d[v++],R=d[v++],P=c[T],j=l.data[T];null!==j.setInput?j.setInput(P,p,A,R):P[R]=p}}function Up(l,c,d){const A=Ud(c,l);!function em(l,c,d){l.setValue(c,d)}(l[11],A,d)}function JC(l,c,d){let A=d?l.styles:null,p=d?l.classes:null,v=0;if(null!==c)for(let T=0;T<c.length;T++){const R=c[T];"number"==typeof R?v=R:1==v?p=at(p,R):2==v&&(A=at(A,R+": "+c[++T]+";"))}d?l.styles=A:l.stylesWithoutHost=A,d?l.classes=p:l.classesWithoutHost=p}function Hw(l,c,d,A,p=!1){for(;null!==d;){const v=c[d.index];if(null!==v&&A.push(vo(v)),xl(v))for(let R=10;R<v.length;R++){const P=v[R],j=P[1].firstChild;null!==j&&Hw(P[1],P,j,A)}const T=d.type;if(8&T)Hw(l,c,d.child,A);else if(32&T){const R=gp(d,c);let P;for(;P=R();)A.push(P)}else if(16&T){const R=eA(c,d);if(Array.isArray(R))A.push(...R);else{const P=mp(c[16]);Hw(P[1],P,R,A,!0)}}d=p?d.projectionNext:d.next}return A}class Vw{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Hw(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(xl(c)){const d=c[8],A=d?d.indexOf(this):-1;A>-1&&(Yh(c,A),sn(d,A))}this._attachedToViewContainer=!1}eh(this._lView[1],this._lView)}onDestroy(c){RT(this._lView[1],this._lView,null,c)}markForCheck(){Lw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Nw(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zh(l,c){Fu(l,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new pt(902,!1);this._appRef=c}}class bL extends Vw{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Nw(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class uS extends mi{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=_i(c);return new Nv(d,this.ngModule)}}function XC(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class dS{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,A){A=ca(A);const p=this.injector.get(c,il,A);return p!==il||d===il?p:this.parentInjector.get(c,d,A)}}class Nv extends $i{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function $E(l){return l.map(sL).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return XC(this.componentDef.inputs)}get outputs(){return XC(this.componentDef.outputs)}create(c,d,A,p){let v=(p=p||this.ngModule)instanceof L?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new dS(c,v):c,R=T.get(Uo,null);if(null===R)throw new pt(407,!1);const P=T.get(cs,null),j=R.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",_e=A?function kT(l,c,d){return l.selectRootElement(c,d===jn.ShadowDom)}(j,A,this.componentDef.encapsulation):tm(j,ee,function CL(l){const c=l.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(ee)),Ne=this.componentDef.onPush?288:272,ot=oh(0,null,null,1,0,null,null,null,null,null),Ot=gA(null,ot,null,Ne,null,null,R,j,P,T,null);let dn,In;ep(Ot);try{const ni=this.componentDef;let ei,Jt=null;ni.findHostDirectiveDefs?(ei=[],Jt=new Map,ni.findHostDirectiveDefs(ni,ei,Jt),ei.push(ni)):ei=[ni];const Hi=function AS(l,c){const d=l[1];return l[22]=c,Rv(d,22,2,"#host",null)}(Ot,_e),Rs=function fS(l,c,d,A,p,v,T,R){const P=p[1];!function jT(l,c,d,A){for(const p of l)c.mergedAttrs=wu(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(JC(c,c.mergedAttrs,!0),null!==d&&tA(A,d,c))}(A,l,c,T);const j=v.createRenderer(c,d),ee=gA(p,Fw(d),null,d.onPush?32:16,p[l.index],l,v,j,R||null,null,null);return P.firstCreatePass&&X_(P,l,A.length-1),Ow(p,ee),p[l.index]=ee}(Hi,_e,ni,ei,Ot,R,j);In=zA(ot,22),_e&&function Gw(l,c,d,A){if(A)ha(l,d,["ng-version",hA.full]);else{const{attrs:p,classes:v}=function CT(l){const c=[],d=[];let A=1,p=2;for(;A<l.length;){let v=l[A];if("string"==typeof v)2===p?""!==v&&c.push(v,l[++A]):8===p&&d.push(v);else{if(!Ms(p))break;p=v}A++}return{attrs:c,classes:d}}(c.selectors[0]);p&&ha(l,d,p),v&&v.length>0&&sm(l,d,v.join(" "))}}(j,ni,_e,A),void 0!==d&&function zT(l,c,d){const A=l.projection=[];for(let p=0;p<c.length;p++){const v=d[p];A.push(null!=v?Array.from(v):null)}}(In,this.ngContentSelectors,d),dn=function EL(l,c,d,A,p,v){const T=Bs(),R=p[1],P=wo(T,p);NT(R,p,T,d,null,A);for(let ee=0;ee<d.length;ee++)Ys(qd(p,R,T.directiveStart+ee,T),p);UT(R,p,T),P&&Ys(P,p);const j=qd(p,R,T.directiveStart+T.componentOffset,T);if(l[8]=p[8]=j,null!==v)for(const ee of v)ee(j,c);return Ov(R,T,l),j}(Rs,ni,ei,Jt,Ot,[qT]),GC(ot,Ot,null)}finally{Xu()}return new xL(this.componentType,dn,dr(In,Ot),Ot,In)}}class xL extends Sn{constructor(c,d,A,p,v){super(),this.location=A,this._rootLView=p,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new bL(p),this.componentType=c}setInput(c,d){const A=this._tNode.inputs;let p;if(null!==A&&(p=A[c])){const v=this._rootLView;Qw(v[1],v,p,c,d),Mw(v,this._tNode.index)}}get injector(){return new Kd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function qT(){const l=Bs();yu(Pt()[1],l)}function Pv(l){let c=function pS(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const A=[l];for(;c;){let p;if(Gs(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new pt(903,!1);p=c.\u0275dir}if(p){if(d){A.push(p);const T=l;T.inputs=gS(l.inputs),T.declaredInputs=gS(l.declaredInputs),T.outputs=gS(l.outputs);const R=p.hostBindings;R&&DL(l,R);const P=p.viewQuery,j=p.contentQueries;if(P&&Uv(l,P),j&&IL(l,j),Oe(l.inputs,p.inputs),Oe(l.declaredInputs,p.declaredInputs),Oe(l.outputs,p.outputs),Gs(p)&&p.data.animation){const ee=l.data;ee.animation=(ee.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let T=0;T<v.length;T++){const R=v[T];R&&R.ngInherit&&R(l),R===Pv&&(d=!1)}}c=Object.getPrototypeOf(c)}!function SL(l){let c=0,d=null;for(let A=l.length-1;A>=0;A--){const p=l[A];p.hostVars=c+=p.hostVars,p.hostAttrs=wu(p.hostAttrs,d=wu(d,p.hostAttrs))}}(A)}function gS(l){return l===bi?{}:l===pi?[]:l}function Uv(l,c){const d=l.viewQuery;l.viewQuery=d?(A,p)=>{c(A,p),d(A,p)}:c}function IL(l,c){const d=l.contentQueries;l.contentQueries=d?(A,p,v)=>{c(A,p,v),d(A,p,v)}:c}function DL(l,c){const d=l.hostBindings;l.hostBindings=d?(A,p)=>{c(A,p),d(A,p)}:c}let ty=null;function _m(){if(!ty){const l=oi.Symbol;if(l&&l.iterator)ty=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const A=c[d];"entries"!==A&&"size"!==A&&Map.prototype[A]===Map.prototype.entries&&(ty=A)}}}return ty}function Vv(l){return!!zw(l)&&(Array.isArray(l)||!(l instanceof Map)&&_m()in l)}function zw(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ah(l,c,d){return l[c]=d}function Pa(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function vm(l,c,d,A){const p=Pa(l,c,d);return Pa(l,c+1,A)||p}function Gv(l,c,d,A){const p=Pt();return Pa(p,as(),c)&&(Zi(),mA(Nr(),p,l,c,d,A)),Gv}function ny(l,c,d,A){return Pa(l,as(),d)?c+Et(d)+A:Mi}function iy(l,c,d,A,p,v){const R=vm(l,function Dl(){return Si.lFrame.bindingIndex}(),d,p);return Yl(2),R?c+Et(d)+A+Et(p)+v:Mi}function wS(l,c,d,A,p,v,T,R){const P=Pt(),j=Zi(),ee=l+22,_e=j.firstCreatePass?function r1(l,c,d,A,p,v,T,R,P){const j=c.consts,ee=Rv(c,l,4,T||null,Wi(j,R));kw(c,d,ee,Wi(j,P)),yu(c,ee);const _e=ee.tViews=oh(2,ee,A,p,v,c.directiveRegistry,c.pipeRegistry,null,c.schemas,j);return null!==c.queries&&(c.queries.template(c,ee),_e.queries=c.queries.embeddedTView(ee)),ee}(ee,j,P,c,d,A,p,v,T):j.data[ee];js(_e,!1);const Ne=P[11].createComment("");uf(j,P,Ne,_e),Ys(Ne,P),Ow(P,P[ee]=$C(Ne,P,Ne,_e)),UA(_e)&&jC(j,P,_e),null!=T&&Bw(P,_e,R)}function qw(l){return Jo(function Sl(){return Si.lFrame.contextLView}(),22+l)}function oy(l,c,d){const A=Pt();return Pa(A,as(),c)&&ku(Zi(),Nr(),A,l,c,A[11],d,!1),oy}function ay(l,c,d,A,p){const T=p?"class":"style";Qw(l,d,c.inputs[T],T,A)}function Kw(l,c,d,A){const p=Pt(),v=Zi(),T=22+l,R=p[11],P=p[T]=tm(R,c,function tp(){return Si.lFrame.currentNamespace}()),j=v.firstCreatePass?function BL(l,c,d,A,p,v,T){const R=c.consts,j=Rv(c,l,2,p,Wi(R,v));return kw(c,d,j,Wi(R,T)),null!==j.attrs&&JC(j,j.attrs,!1),null!==j.mergedAttrs&&JC(j,j.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,j),j}(T,v,p,0,c,d,A):v.data[T];return js(j,!0),tA(R,P,j),32!=(32&j.flags)&&uf(v,p,P,j),0===function Fg(){return Si.lFrame.elementDepthCount}()&&Ys(P,p),function ba(){Si.lFrame.elementDepthCount++}(),UA(j)&&(jC(v,p,j),Ov(v,j,p)),null!==A&&Bw(p,j),Kw}function s1(){let l=Bs();El()?Mh():(l=l.parent,js(l,!1));const c=l;!function Ki(){Si.lFrame.elementDepthCount--}();const d=Zi();return d.firstCreatePass&&(yu(d,l),Ih(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function np(l){return 0!=(8&l.flags)}(c)&&ay(d,c,Pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Hg(l){return 0!=(16&l.flags)}(c)&&ay(d,c,Pt(),c.stylesWithoutHost,!1),s1}function bS(l,c,d,A){return Kw(l,c,d,A),s1(),bS}function o1(l,c,d){const A=Pt(),p=Zi(),v=l+22,T=p.firstCreatePass?function FL(l,c,d,A,p){const v=c.consts,T=Wi(v,A),R=Rv(c,l,8,"ng-container",T);return null!==T&&JC(R,T,!0),kw(c,d,R,Wi(v,p)),null!==c.queries&&c.queries.elementStart(c,R),R}(v,p,A,c,d):p.data[v];js(T,!0);const R=A[v]=A[11].createComment("");return uf(p,A,R,T),Ys(R,A),UA(T)&&(jC(p,A,T),Ov(p,T,A)),null!=d&&Bw(A,T),o1}function xm(){let l=Bs();const c=Zi();return El()?Mh():(l=l.parent,js(l,!1)),c.firstCreatePass&&(yu(c,l),Ih(l)&&c.queries.elementEnd(l)),xm}function Cf(l,c,d){return o1(l,c,d),xm(),Cf}function CS(){return Pt()}function a1(l){return!!l&&"function"==typeof l.then}function xS(l){return!!l&&"function"==typeof l.subscribe}const ly=xS;function ES(l,c,d,A){const p=Pt(),v=Zi(),T=Bs();return tB(v,p,p[11],T,l,c,A),ES}function SS(l,c){const d=Bs(),A=Pt(),p=Zi();return tB(p,A,kl(Hc(p.data),d,A),d,l,c),SS}function tB(l,c,d,A,p,v,T){const R=UA(A),j=l.firstCreatePass&&ol(l),ee=c[8],_e=WC(c);let Ne=!0;if(3&A.type||T){const dn=wo(A,c),In=T?T(dn):dn,ni=_e.length,ei=T?Hi=>T(vo(Hi[A.index])):A.index;let Jt=null;if(!T&&R&&(Jt=function eB(l,c,d,A){const p=l.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const T=p[v];if(T===d&&p[v+1]===A){const R=c[7],P=p[v+2];return R.length>P?R[P]:null}"string"==typeof T&&(v+=2)}return null}(l,c,p,A.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=v,Jt.__ngLastListenerFn__=v,Ne=!1;else{v=DS(A,c,ee,v,!1);const Hi=d.listen(In,p,v);_e.push(v,Hi),j&&j.push(p,ei,ni,ni+1)}}else v=DS(A,c,ee,v,!1);const ot=A.outputs;let Ot;if(Ne&&null!==ot&&(Ot=ot[p])){const dn=Ot.length;if(dn)for(let In=0;In<dn;In+=2){const Rs=c[Ot[In]][Ot[In+1]].subscribe(v),uo=_e.length;_e.push(v,Rs),j&&j.push(p,A.index,uo,-(uo+1))}}}function IS(l,c,d,A){try{return!1!==d(A)}catch(p){return Uw(l,p),!1}}function DS(l,c,d,A,p){return function v(T){if(T===Function)return A;Lw(l.componentOffset>-1?Ts(l.index,c):c);let P=IS(c,0,A,T),j=v.__ngNextListenerFn__;for(;j;)P=IS(c,0,j,T)&&P,j=j.__ngNextListenerFn__;return p&&!1===P&&(T.preventDefault(),T.returnValue=!1),P}}function l1(l=1){return function Ng(l){return(Si.lFrame.contextLView=function Rh(l,c){for(;l>0;)c=c[15],l--;return c}(l,Si.lFrame.contextLView))[8]}(l)}function TS(l,c){let d=null;const A=function nL(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const v=c[p];if("*"!==v){if(null===A?Z_(l,v,!0):SQ(A,v))return p}else d=p}return d}function BS(l){const c=Pt()[16][6];if(!c.projection){const A=c.projection=_r(l?l.length:1,null),p=A.slice();let v=c.child;for(;null!==v;){const T=l?TS(v,l):0;null!==T&&(p[T]?p[T].projectionNext=v:A[T]=v,p[T]=v),v=v.next}}}function FS(l,c=0,d){const A=Pt(),p=Zi(),v=Rv(p,22+l,16,null,d||null);null===v.projection&&(v.projection=c),Mh(),32!=(32&v.flags)&&function nh(l,c,d){Ad(c[11],0,c,d,im(l,d,c),Jh(d.parent||c[6],d,c))}(p,A,v)}function Zw(l,c,d){return MS(l,"",c,"",d),Zw}function MS(l,c,d,A,p){const v=Pt(),T=ny(v,c,d,A);return T!==Mi&&ku(Zi(),Nr(),v,l,T,v[11],p,!1),MS}function Em(l,c){return l<<17|c<<2}function Sm(l){return l>>17&32767}function RS(l){return 2|l}function cy(l){return(131068&l)>>2}function OS(l,c){return-131069&l|c<<2}function u1(l){return 1|l}function NS(l,c,d,A,p){const v=l[d+1],T=null===c;let R=A?Sm(v):cy(v),P=!1;for(;0!==R&&(!1===P||T);){const ee=l[R+1];aB(l[R],c)&&(P=!0,l[R+1]=A?u1(ee):RS(ee)),R=A?Sm(ee):cy(ee)}P&&(l[d+1]=A?RS(v):u1(v))}function aB(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&ea(l,c)>=0}const fa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kv(l){return l.substring(fa.key,fa.keyEnd)}function Ww(l,c){const d=fa.textEnd;return d===c?-1:(c=fa.keyEnd=function Xw(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,fa.key=c,d),uy(l,c,d))}function uy(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function Zv(l,c,d){return lh(l,c,d,!1),Zv}function h1(l,c){return lh(l,c,null,!0),h1}function yA(l,c){for(let d=function PS(l){return function uB(l){fa.key=0,fa.keyEnd=0,fa.value=0,fa.valueEnd=0,fa.textEnd=l.length}(l),Ww(l,uy(l,0,fa.textEnd))}(c);d>=0;d=Ww(c,d))Ba(l,Kv(c),!0)}function lh(l,c,d,A){const p=Pt(),v=Zi(),T=Yl(2);v.firstUpdatePass&&Ou(v,l,T,A),c!==Mi&&Pa(p,T,c)&&vA(v,v.data[Xo()],p,p[11],l,p[T+1]=function Wv(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Fe(tc(l)))),l}(c,d),A,T)}function eb(l,c){return c>=l.expandoStartIndex}function Ou(l,c,d,A){const p=l.data;if(null===p[d+1]){const v=p[Xo()],T=eb(l,d);A1(v,A)&&null===c&&!T&&(c=!1),c=function AB(l,c,d,A){const p=Hc(l);let v=A?c.residualClasses:c.residualStyles;if(null===p)0===(A?c.classBindings:c.styleBindings)&&(d=hy(d=yd(null,l,c,d,A),c.attrs,A),v=null);else{const T=c.directiveStylingLast;if(-1===T||l[T]!==p)if(d=yd(p,l,c,d,A),null===v){let P=function fB(l,c,d){const A=d?c.classBindings:c.styleBindings;if(0!==cy(A))return l[Sm(A)]}(l,c,A);void 0!==P&&Array.isArray(P)&&(P=yd(null,l,c,P[1],A),P=hy(P,c.attrs,A),function $v(l,c,d,A){l[Sm(d?c.classBindings:c.styleBindings)]=A}(l,c,A,P))}else v=function RL(l,c,d){let A;const p=c.directiveEnd;for(let v=1+c.directiveStylingLast;v<p;v++)A=hy(A,l[v].hostAttrs,d);return hy(A,c.attrs,d)}(l,c,A)}return void 0!==v&&(A?c.residualClasses=v:c.residualStyles=v),d}(p,v,c,A),function oB(l,c,d,A,p,v){let T=v?c.classBindings:c.styleBindings,R=Sm(T),P=cy(T);l[A]=d;let ee,j=!1;if(Array.isArray(d)){const _e=d;ee=_e[1],(null===ee||ea(_e,ee)>0)&&(j=!0)}else ee=d;if(p)if(0!==P){const Ne=Sm(l[R+1]);l[A+1]=Em(Ne,R),0!==Ne&&(l[Ne+1]=OS(l[Ne+1],A)),l[R+1]=function rB(l,c){return 131071&l|c<<17}(l[R+1],A)}else l[A+1]=Em(R,0),0!==R&&(l[R+1]=OS(l[R+1],A)),R=A;else l[A+1]=Em(P,0),0===R?R=A:l[P+1]=OS(l[P+1],A),P=A;j&&(l[A+1]=RS(l[A+1])),NS(l,ee,A,!0),NS(l,ee,A,!1),function Hp(l,c,d,A,p){const v=p?l.residualClasses:l.residualStyles;null!=v&&"string"==typeof c&&ea(v,c)>=0&&(d[A+1]=u1(d[A+1]))}(c,ee,l,A,v),T=Em(R,P),v?c.classBindings=T:c.styleBindings=T}(p,v,c,d,T,A)}}function yd(l,c,d,A,p){let v=null;const T=d.directiveEnd;let R=d.directiveStylingLast;for(-1===R?R=d.directiveStart:R++;R<T&&(v=c[R],A=hy(A,v.hostAttrs,p),v!==l);)R++;return null!==l&&(d.directiveStylingLast=R),A}function hy(l,c,d){const A=d?1:2;let p=-1;if(null!==c)for(let v=0;v<c.length;v++){const T=c[v];"number"==typeof T?p=T:p===A&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Ba(l,T,!!d||c[++v]))}return void 0===l?null:l}function vA(l,c,d,A,p,v,T,R){if(!(3&c.type))return;const P=l.data,j=P[R+1],ee=function sB(l){return 1==(1&l)}(j)?VS(P,c,d,p,cy(j),T):void 0;Yv(ee)||(Yv(v)||function ta(l){return 2==(2&l)}(j)&&(v=VS(P,null,d,p,R,T)),function Cc(l,c,d,A,p){if(c)p?l.addClass(d,A):l.removeClass(d,A);else{let v=-1===A.indexOf("-")?void 0:oo.DashCase;null==p?l.removeStyle(d,A,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=oo.Important),l.setStyle(d,A,p,v))}}(A,T,Ud(Xo(),d),p,v))}function VS(l,c,d,A,p,v){const T=null===c;let R;for(;p>0;){const P=l[p],j=Array.isArray(P),ee=j?P[1]:P,_e=null===ee;let Ne=d[p+1];Ne===Mi&&(Ne=_e?pi:void 0);let ot=_e?Gh(Ne,A):ee===A?Ne:void 0;if(j&&!Yv(ot)&&(ot=Gh(P,A)),Yv(ot)&&(R=ot,T))return R;const Ot=l[p+1];p=T?Sm(Ot):cy(Ot)}if(null!==c){let P=v?c.residualClasses:c.residualStyles;null!=P&&(R=Gh(P,A))}return R}function Yv(l){return void 0!==l}function A1(l,c){return 0!=(l.flags&(c?8:16))}function GS(l,c=""){const d=Pt(),A=Zi(),p=l+22,v=A.firstCreatePass?Rv(A,p,1,c,null):A.data[p],T=d[p]=function vc(l,c){return l.createText(c)}(d[11],c);uf(A,d,T,v),js(v,!1)}function wA(l){return Yc("",l,""),wA}function Yc(l,c,d){const A=Pt(),p=ny(A,l,c,d);return p!==Mi&&Up(A,Xo(),p),Yc}function al(l,c,d,A,p){const v=Pt(),T=iy(v,l,c,d,A,p);return T!==Mi&&Up(v,Xo(),T),al}function mB(l,c,d){!function ch(l,c,d,A){const p=Zi(),v=Yl(2);p.firstUpdatePass&&Ou(p,null,v,A);const T=Pt();if(d!==Mi&&Pa(T,v,d)){const R=p.data[Xo()];if(A1(R,A)&&!eb(p,v)){let P=A?R.classesWithoutHost:R.stylesWithoutHost;null!==P&&(d=at(P,d||"")),ay(p,R,T,d,A)}else!function HS(l,c,d,A,p,v,T,R){p===Mi&&(p=pi);let P=0,j=0,ee=0<p.length?p[0]:null,_e=0<v.length?v[0]:null;for(;null!==ee||null!==_e;){const Ne=P<p.length?p[P+1]:void 0,ot=j<v.length?v[j+1]:void 0;let dn,Ot=null;ee===_e?(P+=2,j+=2,Ne!==ot&&(Ot=_e,dn=ot)):null===_e||null!==ee&&ee<_e?(P+=2,Ot=ee):(j+=2,Ot=_e,dn=ot),null!==Ot&&vA(l,c,d,A,Ot,dn,T,R),ee=P<p.length?p[P]:null,_e=j<v.length?v[j]:null}}(p,R,T,T[11],T[v+1],T[v+1]=function gs(l,c,d){if(null==d||""===d)return pi;const A=[],p=tc(d);if(Array.isArray(p))for(let v=0;v<p.length;v++)l(A,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&l(A,v,p[v]);else"string"==typeof p&&c(A,p);return A}(l,c,d),A,v)}}(Ba,yA,ny(Pt(),l,c,d),!0)}function g1(l,c,d){const A=Pt();return Pa(A,as(),c)&&ku(Zi(),Nr(),A,l,c,A[11],d,!0),g1}function KS(l,c,d){const A=Pt();if(Pa(A,as(),c)){const v=Zi(),T=Nr();ku(v,T,A,l,c,kl(Hc(v.data),T,A),d,!0)}return KS}const fy=void 0;var VL=["en",[["a","p"],["AM","PM"],fy],[["AM","PM"],fy,fy],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fy,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fy,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fy,"{1} 'at' {0}",fy],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HL(l){const d=Math.floor(Math.abs(l)),A=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===A?1:5}];let t0={};function ZS(l){const c=function bB(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=$S(c);if(d)return d;const A=c.split("-")[0];if(d=$S(A),d)return d;if("en"===A)return VL;throw new pt(701,!1)}function wB(l){return ZS(l)[ui.PluralCase]}function $S(l){return l in t0||(t0[l]=oi.ng&&oi.ng.common&&oi.ng.common.locales&&oi.ng.common.locales[l]),t0[l]}var ui=(()=>((ui=ui||{})[ui.LocaleId=0]="LocaleId",ui[ui.DayPeriodsFormat=1]="DayPeriodsFormat",ui[ui.DayPeriodsStandalone=2]="DayPeriodsStandalone",ui[ui.DaysFormat=3]="DaysFormat",ui[ui.DaysStandalone=4]="DaysStandalone",ui[ui.MonthsFormat=5]="MonthsFormat",ui[ui.MonthsStandalone=6]="MonthsStandalone",ui[ui.Eras=7]="Eras",ui[ui.FirstDayOfWeek=8]="FirstDayOfWeek",ui[ui.WeekendRange=9]="WeekendRange",ui[ui.DateFormat=10]="DateFormat",ui[ui.TimeFormat=11]="TimeFormat",ui[ui.DateTimeFormat=12]="DateTimeFormat",ui[ui.NumberSymbols=13]="NumberSymbols",ui[ui.NumberFormats=14]="NumberFormats",ui[ui.CurrencyCode=15]="CurrencyCode",ui[ui.CurrencySymbol=16]="CurrencySymbol",ui[ui.CurrencyName=17]="CurrencyName",ui[ui.Currencies=18]="Currencies",ui[ui.Directionality=19]="Directionality",ui[ui.PluralCase=20]="PluralCase",ui[ui.ExtraData=21]="ExtraData",ui))();const xf="en-US";let _1=xf;function gy(l,c,d,A,p){if(l=me(l),Array.isArray(l))for(let v=0;v<l.length;v++)gy(l[v],c,d,A,p);else{const v=Zi(),T=Pt();let R=kp(l)?l:me(l.provide),P=Re(l);const j=Bs(),ee=1048575&j.providerIndexes,_e=j.directiveStart,Ne=j.providerIndexes>>20;if(kp(l)||!l.multi){const ot=new Hd(P,p,kv),Ot=Rm(R,c,p?ee:ee+Ne,_e);-1===Ot?(ls(Gc(j,T),v,R),Sf(v,l,c.length),c.push(R),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),d.push(ot),T.push(ot)):(d[Ot]=ot,T[Ot]=ot)}else{const ot=Rm(R,c,ee+Ne,_e),Ot=Rm(R,c,ee,ee+Ne),dn=ot>=0&&d[ot],In=Ot>=0&&d[Ot];if(p&&!In||!p&&!dn){ls(Gc(j,T),v,R);const ni=function oI(l,c,d,A,p){const v=new Hd(l,d,kv);return v.multi=[],v.index=c,v.componentProviders=0,rI(v,p,A&&!d),v}(p?S1:sI,d.length,p,A,P);!p&&In&&(d[Ot].providerFactory=ni),Sf(v,l,c.length,0),c.push(R),j.directiveStart++,j.directiveEnd++,p&&(j.providerIndexes+=1048576),d.push(ni),T.push(ni)}else Sf(v,l,ot>-1?ot:Ot,rI(d[p?Ot:ot],P,!p&&A));!p&&A&&In&&d[Ot].componentProviders++}}}function Sf(l,c,d,A){const p=kp(c),v=function Dv(l){return!!l.useClass}(c);if(p||v){const P=(v?me(c.useClass):c).prototype.ngOnDestroy;if(P){const j=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const ee=j.indexOf(d);-1===ee?j.push(d,[A,P]):j[ee+1].push(A,P)}else j.push(d,P)}}}function rI(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Rm(l,c,d,A){for(let p=d;p<A;p++)if(c[p]===l)return p;return-1}function sI(l,c,d,A){return zp(this.multi,[])}function S1(l,c,d,A){const p=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,R=qd(d,d[1],this.providerFactory.index,A);v=R.slice(0,T),zp(p,v);for(let P=T;P<R.length;P++)v.push(R[P])}else v=[],zp(p,v);return v}function zp(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function l0(l,c=[]){return d=>{d.providersResolver=(A,p)=>function Ef(l,c,d){const A=Zi();if(A.firstCreatePass){const p=Gs(l);gy(d,A.data,A.blueprint,p,!0),gy(c,A.data,A.blueprint,p,!1)}}(A,p?p(l):l,c)}}class my{}class aI{}function I1(l,c){return new lI(l,c??null)}class lI extends my{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uS(this);const A=Ro(c);this._bootstrapComponents=Np(A.bootstrap),this._r3Injector=ST(c,d,[{provide:my,useValue:this},{provide:mi,useValue:this.componentFactoryResolver}],Fe(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class cI extends aI{constructor(c){super(),this.moduleType=c}create(c){return new lI(this.moduleType,c)}}class a5 extends my{constructor(c,d,A){super(),this.componentFactoryResolver=new uS(this),this.instance=null;const p=new G([...c,{provide:my,useValue:this},{provide:mi,useValue:this.componentFactoryResolver}],d||E(),A,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function T1(l,c,d=null){return new a5(l,c,d).injector}let PB=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const A=Am(0,d.type),p=A.length>0?T1([A],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,p)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=cr({token:l,providedIn:"environment",factory:()=>new l(Rr(L))}),l})();function Ll(l){l.getStandaloneInjector=c=>c.get(PB).getOrCreateStandaloneInjector(l)}function AI(l,c,d){const A=zr()+l,p=Pt();return p[A]===Mi?ah(p,A,d?c.call(d):c()):function ym(l,c){return l[c]}(p,A)}function jB(l,c,d,A){return Om(Pt(),zr(),l,c,d,A)}function zB(l,c,d,A,p){return u0(Pt(),zr(),l,c,d,A,p)}function qB(l,c,d,A,p,v){return function Ab(l,c,d,A,p,v,T,R){const P=c+d;return function t1(l,c,d,A,p){const v=vm(l,c,d,A);return Pa(l,c+2,p)||v}(l,P,p,v,T)?ah(l,P+3,R?A.call(R,p,v,T):A(p,v,T)):_y(l,P+3)}(Pt(),zr(),l,c,d,A,p,v)}function _y(l,c){const d=l[c];return d===Mi?void 0:d}function Om(l,c,d,A,p,v){const T=c+d;return Pa(l,T,p)?ah(l,T+1,v?A.call(v,p):A(p)):_y(l,T+1)}function u0(l,c,d,A,p,v,T){const R=c+d;return vm(l,R,p,v)?ah(l,R+2,T?A.call(T,p,v):A(p,v)):_y(l,R+2)}function pI(l,c){const d=Zi();let A;const p=l+22;d.firstCreatePass?(A=function Kp(l,c){if(c)for(let d=c.length-1;d>=0;d--){const A=c[d];if(l===A.name)return A}}(c,d.pipeRegistry),d.data[p]=A,A.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,A.onDestroy)):A=d.data[p];const v=A.factory||(A.factory=Wo(A.type)),T=Kr(kv);try{const R=Gd(!1),P=v();return Gd(R),function Io(l,c,d,A){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=A}(d,Pt(),p,P),P}finally{Kr(T)}}function yy(l,c,d){const A=l+22,p=Pt(),v=Jo(p,A);return bA(p,A)?Om(p,zr(),c,v.transform,d,v):v.transform(d)}function gI(l,c,d,A){const p=l+22,v=Pt(),T=Jo(v,p);return bA(v,p)?u0(v,zr(),c,T.transform,d,A,T):T.transform(d,A)}function bA(l,c){return l[1].data[c].pure}function pb(l){return c=>{setTimeout(l,void 0,c)}}const bd=class Jc extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,A){let p=c,v=d||(()=>null),T=A;if(c&&"object"==typeof c){const P=c;p=P.next?.bind(P),v=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(v=pb(v),p&&(p=pb(p)),T&&(T=pb(T)));const R=super.subscribe({next:p,error:v,complete:T});return c instanceof Se.w0&&c.add(R),R}};function gb(){return this._results[_m()]()}class mb{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=_m(),A=mb.prototype;A[d]||(A[d]=gb)}get changes(){return this._changes||(this._changes=new bd)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const A=this;A.dirty=!1;const p=zn(c);(this._changesDetected=!function M_(l,c,d){if(l.length!==c.length)return!1;for(let A=0;A<l.length;A++){let p=l[A],v=c[A];if(d&&(p=d(p),v=d(v)),v!==p)return!1}return!0}(A._results,p,d))&&(A._results=p,A.length=p.length,A.last=p[this.length-1],A.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vy=(()=>{class l{}return l.__NG_ELEMENT_ID__=YB,l})();const _b=vy,$B=class extends _b{constructor(c,d,A){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=A}createEmbeddedView(c,d){const A=this._declarationTContainer.tViews,p=gA(this._declarationLView,A,c,16,null,A.declTNode,null,null,null,null,d||null);p[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(p[19]=T.createEmbeddedView(A)),GC(A,p,c),new Vw(p)}};function YB(){return k1(Bs(),Pt())}function k1(l,c){return 4&l.type?new $B(c,l,dr(l,c)):null}let hh=(()=>{class l{}return l.__NG_ELEMENT_ID__=f5,l})();function f5(){return CA(Bs(),Pt())}const Nu=hh,yI=class extends Nu{constructor(c,d,A){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=A}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new Kd(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ph(this._hostTNode,this._hostLView);if(Vd(c)){const d=Nh(c,this._hostLView),A=rd(c);return new Kd(d[1].data[A+8],d)}return new Kd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=d0(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,A){let p,v;"number"==typeof A?p=A:null!=A&&(p=A.index,v=A.injector);const T=c.createEmbeddedView(d||{},v);return this.insert(T,p),T}createComponent(c,d,A,p,v){const T=c&&!function Hh(l){return"function"==typeof l}(c);let R;if(T)R=d;else{const _e=d||{};R=_e.index,A=_e.injector,p=_e.projectableNodes,v=_e.environmentInjector||_e.ngModuleRef}const P=T?c:new Nv(_i(c)),j=A||this.parentInjector;if(!v&&null==P.ngModule){const Ne=(T?j:this.parentInjector).get(L,null);Ne&&(v=Ne)}const ee=P.create(j,p,void 0,v);return this.insert(ee.hostView,R),ee}insert(c,d){const A=c._lView,p=A[1];if(function Yu(l){return xl(l[3])}(A)){const ee=this.indexOf(c);if(-1!==ee)this.detach(ee);else{const _e=A[3],Ne=new yI(_e,_e[6],_e[3]);Ne.detach(Ne.indexOf(c))}}const v=this._adjustIndex(d),T=this._lContainer;!function Bu(l,c,d,A){const p=10+A,v=d.length;A>0&&(d[p-1][4]=c),A<v-10?(c[4]=d[p],pn(d,10+A,c)):(d.push(c),c[4]=null),c[3]=d;const T=c[17];null!==T&&d!==T&&function cf(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(T,c);const R=c[19];null!==R&&R.insertView(l),c[2]|=64}(p,A,T,v);const R=df(v,T),P=A[11],j=th(P,T[7]);return null!==j&&function xw(l,c,d,A,p,v){A[0]=p,A[6]=c,Fu(l,A,d,1,p,v)}(p,T[6],P,A,j,R),c.attachToViewContainerRef(),pn(R1(T),v,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=d0(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),A=Yh(this._lContainer,d);A&&(sn(R1(this._lContainer),d),eh(A[1],A))}detach(c){const d=this._adjustIndex(c,-1),A=Yh(this._lContainer,d);return A&&null!=sn(R1(this._lContainer),d)?new Vw(A):null}_adjustIndex(c,d=0){return c??this.length+d}};function d0(l){return l[8]}function R1(l){return l[8]||(l[8]=[])}function CA(l,c){let d;const A=c[l.index];if(xl(A))d=A;else{let p;if(8&l.type)p=vo(A);else{const v=c[11];p=v.createComment("");const T=wo(l,c);wc(v,th(v,T),p,function bc(l,c){return l.nextSibling(c)}(v,T),!1)}c[l.index]=d=$C(A,c,p,l),Ow(c,d)}return new yI(d,l,c)}class vI{constructor(c){this.queryList=c,this.matches=null}clone(){return new vI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yi{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const A=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let v=0;v<A;v++){const T=d.getByIndex(v);p.push(this.queries[T.indexInDeclarationView].clone())}return new Yi(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==h0(c,d).matches&&this.queries[d].setDirty()}}class JB{constructor(c,d,A=null){this.predicate=c,this.flags=d,this.read=A}}class vb{constructor(c=[]){this.queries=c}elementStart(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let A=0;A<this.length;A++){const p=null!==d?d.length:0,v=this.getByIndex(A).embeddedTView(c,p);v&&(v.indexInDeclarationView=A,null!==d?d.push(v):d=[v])}return null!==d?new vb(d):null}template(c,d){for(let A=0;A<this.queries.length;A++)this.queries[A].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class O1{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new O1(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let A=c.parent;for(;null!==A&&8&A.type&&A.index!==d;)A=A.parent;return d===(null!==A?A.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const A=this.metadata.predicate;if(Array.isArray(A))for(let p=0;p<A.length;p++){const v=A[p];this.matchTNodeWithReadOption(c,d,XB(d,v)),this.matchTNodeWithReadOption(c,d,Wl(d,c,v,!1,!1))}else A===vy?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Wl(d,c,A,!1,!1))}matchTNodeWithReadOption(c,d,A){if(null!==A){const p=this.metadata.read;if(null!==p)if(p===sr||p===hh||p===vy&&4&d.type)this.addMatch(d.index,-2);else{const v=Wl(d,c,p,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,A)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function XB(l,c){const d=l.localNames;if(null!==d)for(let A=0;A<d.length;A+=2)if(d[A]===c)return d[A+1];return null}function L1(l,c,d,A){return-1===d?function eF(l,c){return 11&l.type?dr(l,c):4&l.type?k1(l,c):null}(c,l):-2===d?function p5(l,c,d){return d===sr?dr(c,l):d===vy?k1(c,l):d===hh?CA(c,l):void 0}(l,c,A):qd(l,l[1],d,c)}function tF(l,c,d,A){const p=c[19].queries[A];if(null===p.matches){const v=l.data,T=d.matches,R=[];for(let P=0;P<T.length;P+=2){const j=T[P];R.push(j<0?null:L1(c,v[j],T[P+1],d.metadata.read))}p.matches=R}return p.matches}function N1(l,c,d,A){const p=l.queries.getByIndex(d),v=p.matches;if(null!==v){const T=tF(l,c,p,d);for(let R=0;R<v.length;R+=2){const P=v[R];if(P>0)A.push(T[R/2]);else{const j=v[R+1],ee=c[-P];for(let _e=10;_e<ee.length;_e++){const Ne=ee[_e];Ne[17]===Ne[3]&&N1(Ne[1],Ne,j,A)}if(null!==ee[9]){const _e=ee[9];for(let Ne=0;Ne<_e.length;Ne++){const ot=_e[Ne];N1(ot[1],ot,j,A)}}}}}return A}function wy(l){const c=Pt(),d=Zi(),A=Ju();Vc(A+1);const p=h0(d,A);if(l.dirty&&function pu(l){return 4==(4&l[2])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const v=p.crossesNgTemplate?N1(d,c,A,[]):tF(d,c,p,A);l.reset(v,Fi),l.notifyOnChanges()}return!0}return!1}function Lm(l,c,d){const A=Zi();A.firstCreatePass&&(bI(A,new JB(l,c,d),-1),2==(2&c)&&(A.staticViewQueries=!0)),by(A,Pt(),c)}function wI(l,c,d,A){const p=Zi();if(p.firstCreatePass){const v=Bs();bI(p,new JB(c,d,A),v.index),function iF(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}by(p,Pt(),d)}function Nm(){return function nF(l,c){return l[19].queries[c].queryList}(Pt(),Ju())}function by(l,c,d){const A=new mb(4==(4&d));RT(l,c,A,A.destroy),null===c[19]&&(c[19]=new Yi),c[19].queries.push(new vI(A))}function bI(l,c,d){null===l.queries&&(l.queries=new vb),l.queries.track(new O1(c,d))}function h0(l,c){return l.queries.getByIndex(c)}function rF(l,c){return k1(l,c)}function Sb(...l){}const vF=new qr("Application Initializer");let Um=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Sb,this.reject=Sb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((A,p)=>{this.resolve=A,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],A=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(a1(v))d.push(v);else if(ly(v)){const T=new Promise((R,P)=>{v.subscribe({complete:R,error:P})});d.push(T)}}Promise.all(d).then(()=>{A()}).catch(p=>{this.reject(p)}),0===d.length&&A(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(Rr(vF,8))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Z1=new qr("AppId",{providedIn:"root",factory:function wF(){return`${Ib()}${Ib()}${Ib()}`}});function Ib(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const FI=new qr("Platform Initializer"),E5=new qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),MI=new qr("appBootstrapListener"),S5=new qr("AnimationModuleType");let I5=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const $p=new qr("LocaleId",{providedIn:"root",factory:()=>la($p,Wn.Optional|Wn.SkipSelf)||function Qm(){return typeof $localize<"u"&&$localize.locale||xf}()}),bF=new qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CF{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let T5=(()=>{class l{compileModuleSync(d){return new cI(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const A=this.compileModuleSync(d),v=Np(Ro(d).declarations).reduce((T,R)=>{const P=_i(R);return P&&T.push(new Nv(P)),T},[]);return new CF(A,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const RI=(()=>Promise.resolve(0))();function Db(l){typeof Zone>"u"?RI.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class fh{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:A=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bd(!1),this.onMicrotaskEmpty=new bd(!1),this.onStable=new bd(!1),this.onError=new bd(!1),typeof Zone>"u")throw new pt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!A&&d,p.shouldCoalesceRunChangeDetection=A,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function EF(){let l=oi.requestAnimationFrame,c=oi.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const A=c[Zone.__symbol__("OriginalDelegate")];A&&(c=A)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Tb(l){const c=()=>{!function W1(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(oi,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Yp(l),l.isCheckStableRunning=!0,Y1(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Yp(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,A,p,v,T,R)=>{try{return IF(l),d.invokeTask(p,v,T,R)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||l.shouldCoalesceRunChangeDetection)&&c(),OI(l)}},onInvoke:(d,A,p,v,T,R,P)=>{try{return IF(l),d.invoke(p,v,T,R,P)}finally{l.shouldCoalesceRunChangeDetection&&c(),OI(l)}},onHasTask:(d,A,p,v)=>{d.hasTask(p,v),A===p&&("microTask"==v.change?(l._hasPendingMicrotasks=v.microTask,Yp(l),Y1(l)):"macroTask"==v.change&&(l.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,A,p,v)=>(d.handleError(p,v),l.runOutsideAngular(()=>l.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fh.isInAngularZone())throw new pt(909,!1)}static assertNotInAngularZone(){if(fh.isInAngularZone())throw new pt(909,!1)}run(c,d,A){return this._inner.run(c,d,A)}runTask(c,d,A,p){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+p,c,SF,Sb,Sb);try{return v.runTask(T,d,A)}finally{v.cancelTask(T)}}runGuarded(c,d,A){return this._inner.runGuarded(c,d,A)}runOutsideAngular(c){return this._outer.run(c)}}const SF={};function Y1(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Yp(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function IF(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function OI(l){l._nesting--,Y1(l)}class F5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bd,this.onMicrotaskEmpty=new bd,this.onStable=new bd,this.onError=new bd}run(c,d,A){return c.apply(d,A)}runGuarded(c,d,A){return c.apply(d,A)}runOutsideAngular(c){return c()}runTask(c,d,A,p){return c.apply(d,A)}}const DF=new qr(""),TF=new qr("");let J1,Bb=(()=>{class l{constructor(d,A,p){this._ngZone=d,this.registry=A,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J1||(function zm(l){J1=l}(p),p.addToWindow(A)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fh.assertNotInAngularZone(),Db(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Db(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(A=>!A.updateCb||!A.updateCb(d)||(clearTimeout(A.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,A,p){let v=-1;A&&A>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),d(this._didWork,this.getPendingTasks())},A)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:p})}whenStable(d,A,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,A,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,A,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(Rr(fh),Rr(jm),Rr(TF))},l.\u0275prov=cr({token:l,factory:l.\u0275fac}),l})(),jm=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,A){this._applications.set(d,A)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,A=!0){return J1?.findTestabilityInTree(this,d,A)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),qm=null;const LI=new qr("AllowMultipleToken"),NI=new qr("PlatformDestroyListeners");class QI{constructor(c,d){this.name=c,this.token=d}}function Fb(l,c,d=[]){const A=`Platform: ${c}`,p=new qr(A);return(v=[])=>{let T=m0();if(!T||T.injector.get(LI,!1)){const R=[...d,...v,{provide:p,useValue:!0}];l?l(R):function BF(l){if(qm&&!qm.get(LI,!1))throw new pt(400,!1);qm=l;const c=l.get(_0);(function FF(l){const c=l.get(FI,null);c&&c.forEach(d=>d())})(l)}(function HI(l=[],c){return mm.create({name:c,providers:[{provide:Tv,useValue:"platform"},{provide:NI,useValue:new Set([()=>qm=null])},...l]})}(R,A))}return function k5(l){const c=m0();if(!c)throw new pt(401,!1);return c}()}}function m0(){return qm?.get(_0)??null}let _0=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,A){const p=function GI(l,c){let d;return d="noop"===l?new F5:("zone.js"===l?void 0:l)||new fh(c),d}(A?.ngZone,function VI(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(A)),v=[{provide:fh,useValue:p}];return p.run(()=>{const T=mm.create({providers:v,parent:this.injector,name:d.moduleType.name}),R=d.create(T),P=R.injector.get(rl,null);if(!P)throw new pt(402,!1);return p.runOutsideAngular(()=>{const j=p.onError.subscribe({next:ee=>{P.handleError(ee)}});R.onDestroy(()=>{Sy(this._modules,R),j.unsubscribe()})}),function rc(l,c,d){try{const A=d();return a1(A)?A.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):A}catch(A){throw c.runOutsideAngular(()=>l.handleError(A)),A}}(P,p,()=>{const j=R.injector.get(Um);return j.runInitializers(),j.donePromise.then(()=>(function Dm(l){Mr(l,"Expected localeId to be defined"),"string"==typeof l&&(_1=l.toLowerCase().replace(/_/g,"-"))}(R.injector.get($p,xf)||xf),this._moduleDoBootstrap(R),R))})})}bootstrapModule(d,A=[]){const p=jI({},A);return function PI(l,c,d){const A=new cI(d);return Promise.resolve(A)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(d){const A=d.injector.get(Ey);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>A.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new pt(403,!1);d.instance.ngDoBootstrap(A)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pt(404,!1);this._modules.slice().forEach(A=>A.destroy()),this._destroyListeners.forEach(A=>A());const d=this._injector.get(NI,null);d&&(d.forEach(A=>A()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(Rr(mm))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function jI(l,c){return Array.isArray(c)?c.reduce(jI,l):{...l,...c}}let Ey=(()=>{class l{constructor(d,A,p){this._zone=d,this._injector=A,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new re.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new re.y(R=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{fh.assertNotInAngularZone(),Db(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{fh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{P.unsubscribe(),j.unsubscribe()}});this.isStable=(0,tt.T)(v,T.pipe((0,nt.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,A){const p=d instanceof $i;if(!this._injector.get(Um).done)throw!p&&Bd(d),new pt(405,false);let T;T=p?d:this._injector.get(mi).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const R=function UI(l){return l.isBoundToModule}(T)?void 0:this._injector.get(my),j=T.create(mm.NULL,[],A||T.selector,R),ee=j.location.nativeElement,_e=j.injector.get(DF,null);return _e?.registerApplication(ee),j.onDestroy(()=>{this.detachView(j.hostView),Sy(this.components,j),_e?.unregisterApplication(ee)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new pt(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const A=d;this._views.push(A),A.attachToAppRef(this)}detachView(d){const A=d;Sy(this._views,A),A.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(MI,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Sy(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new pt(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(Rr(fh),Rr(L),Rr(rl))},l.\u0275prov=cr({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function Sy(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}function y0(){return!1}function kF(){}let RF=(()=>{class l{}return l.__NG_ELEMENT_ID__=Zm,l})();function Zm(l){return function OF(l,c,d){if(PA(l)&&!d){const A=Ts(l.index,c);return new Vw(A,A)}return 47&l.type?new Vw(c[16],c):null}(Bs(),Pt(),16==(16&l))}class QF{constructor(){}supports(c){return Vv(c)}create(c){return new P5(c)}}const N5=(l,c)=>c;class P5{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||N5}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,A=this._removalsHead,p=0,v=null;for(;d||A;){const T=!A||d&&d.currentIndex<Rb(A,p,v)?d:A,R=Rb(T,p,v),P=T.currentIndex;if(T===A)p--,A=A._nextRemoved;else if(d=d._next,null==T.previousIndex)p++;else{v||(v=[]);const j=R-p,ee=P-p;if(j!=ee){for(let Ne=0;Ne<j;Ne++){const ot=Ne<v.length?v[Ne]:v[Ne]=0,Ot=ot+Ne;ee<=Ot&&Ot<j&&(v[Ne]=ot+1)}v[T.previousIndex]=ee-j}}R!==P&&c(T,R,P)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Vv(c))throw new pt(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,v,T,d=this._itHead,A=!1;if(Array.isArray(c)){this.length=c.length;for(let R=0;R<this.length;R++)v=c[R],T=this._trackByFn(R,v),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,v,T,R)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,T,R),A=!0),d=d._next}else p=0,function jw(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[_m()]();let A;for(;!(A=d.next()).done;)c(A.value)}}(c,R=>{T=this._trackByFn(p,R),null!==d&&Object.is(d.trackById,T)?(A&&(d=this._verifyReinsertion(d,R,T,p)),Object.is(d.item,R)||this._addIdentityChange(d,R)):(d=this._mismatch(d,R,T,p),A=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,A,p){let v;return null===c?v=this._itTail:(v=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,v,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(A,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,v,p)):c=this._addAfter(new KI(d,A),v,p),c}_verifyReinsertion(c,d,A,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(A,null);return null!==v?c=this._reinsertAfter(v,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,A){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,v=c._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(c,d,A),this._addToMoves(c,A),c}_moveAfter(c,d,A){return this._unlink(c),this._insertAfter(c,d,A),this._addToMoves(c,A),c}_addAfter(c,d,A){return this._insertAfter(c,d,A),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,A){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new kb),this._linkedRecords.put(c),c.currentIndex=A,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,A=c._next;return null===d?this._itHead=A:d._next=A,null===A?this._itTail=d:A._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kb),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class KI{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U5{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let A;for(A=this._head;null!==A;A=A._nextDup)if((null===d||d<=A.currentIndex)&&Object.is(A.trackById,c))return A;return null}remove(c){const d=c._prevDup,A=c._nextDup;return null===d?this._head=A:d._nextDup=A,null===A?this._tail=d:A._prevDup=d,null===this._head}}class kb{constructor(){this.map=new Map}put(c){const d=c.trackById;let A=this.map.get(d);A||(A=new U5,this.map.set(d,A)),A.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rb(l,c,d){const A=l.previousIndex;if(null===A)return A;let p=0;return d&&A<d.length&&(p=d[A]),A+c+p}class HF{constructor(){}supports(c){return c instanceof Map||zw(c)}create(){return new VF}}class VF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||zw(c)))throw new pt(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(A,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,A),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(p,A);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let A=d;null!==A;A=A._nextRemoved)A===this._mapHead&&(this._mapHead=null),this._records.delete(A.key),A._nextRemoved=A._next,A.previousValue=A.currentValue,A.currentValue=null,A._prev=null,A._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const A=c._prev;return d._next=c,d._prev=A,c._prev=d,A&&(A._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const v=p._prev,T=p._next;return v&&(v._next=T),T&&(T._prev=v),p._next=null,p._prev=null,p}const A=new ZI(c);return this._records.set(c,A),A.currentValue=d,this._addToAdditions(A),A}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(A=>d(c[A],A))}}class ZI{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sx(){return new Ty([new QF])}let Ty=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(null!=A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||sx()),deps:[[l,new Ja,new Su]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(null!=A)return A;throw new pt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:sx}),l})();function ox(){return new Ob([new HF])}let Ob=(()=>{class l{constructor(d){this.factories=d}static create(d,A){if(A){const p=A.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:A=>l.create(d,A||ox()),deps:[[l,new Ja,new Su]]}}find(d){const A=this.factories.find(p=>p.supports(d));if(A)return A;throw new pt(901,!1)}}return l.\u0275prov=cr({token:l,providedIn:"root",factory:ox}),l})();const YI=Fb(null,"core",[]);let G5=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(Rr(Ey))},l.\u0275mod=ii({type:l}),l.\u0275inj=yl({}),l})();function jF(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Z:()=>nn});var s=ie(2090),Se=ie(4859),re=ie(6881),tt=ie(1877);class nt{constructor(pt,xt){this._delegate=pt,this.firebase=xt,(0,re._addComponent)(pt,new Se.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(pt,xt=re._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const zt=this._delegate.container.getProvider(pt);return!zt.isInitialized()&&"EXPLICIT"===(null===(Et=zt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&zt.initialize(),zt.getImmediate({identifier:xt})}_removeServiceInstance(pt,xt=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(xt)}_addComponent(pt){(0,re._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,re._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function at(){const gn=function Fe(gn){const pt={},xt={__esModule:!0,initializeApp:function Wt(ln,Zn={}){const st=re.initializeApp(ln,Zn);if((0,s.r3)(pt,st.name))return pt[st.name];const Mt=new gn(st,xt);return pt[st.name]=Mt,Mt},app:zt,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function rn(ln){const Zn=ln.name,st=Zn.replace("-compat","");if(re._registerComponent(ln)&&"PUBLIC"===ln.type){const Mt=(gt=zt())=>{if("function"!=typeof gt[st])throw Oe.create("invalid-app-argument",{appName:Zn});return gt[st]()};void 0!==ln.serviceProps&&(0,s.ZB)(Mt,ln.serviceProps),xt[st]=Mt,gn.prototype[st]=function(...gt){return this._getService.bind(this,Zn).apply(this,ln.multipleInstances?gt:[])}}return"PUBLIC"===ln.type?xt[st]:null},removeApp:function Et(ln){delete pt[ln]},useAsService:function Bn(ln,Zn){return"serverAuth"===Zn?null:Zn},modularAPIs:re}};function zt(ln){if(!(0,s.r3)(pt,ln=ln||re._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:ln});return pt[ln]}return xt.default=xt,Object.defineProperty(xt,"apps",{get:function ti(){return Object.keys(pt).map(ln=>pt[ln])}}),zt.App=gn,xt}(nt);return gn.INTERNAL=Object.assign(Object.assign({},gn.INTERNAL),{createFirebaseNamespace:at,extendNamespace:function pt(xt){(0,s.ZB)(gn,xt)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),gn}(),le=new tt.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gn=self.firebase.SDK_VERSION;gn&&gn.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nn=ae;!function qe(gn){(0,re.registerVersion)("@firebase/app-compat","0.2.9",gn)}()},6881:(Fn,Ft,ie)=>{"use strict";ie.r(Ft),ie.d(Ft,{FirebaseError:()=>tt.ZR,SDK_VERSION:()=>cu,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>wi,_apps:()=>zo,_clearComponents:()=>Hs,_components:()=>oi,_getProvider:()=>fi,_registerComponent:()=>bl,_removeServiceInstance:()=>Ni,deleteApp:()=>Rr,getApp:()=>mo,getApps:()=>Ko,initializeApp:()=>Gi,onLog:()=>ca,registerVersion:()=>la,setLogLevel:()=>Za});var s=ie(5861),Se=ie(4859),re=ie(1877),tt=ie(2090);let ut,Oe;const ae=new WeakMap,le=new WeakMap,me=new WeakMap,We=new WeakMap,qe=new WeakMap;let pt={get(bt,dt,$t){if(bt instanceof IDBTransaction){if("done"===dt)return le.get(bt);if("objectStoreNames"===dt)return bt.objectStoreNames||me.get(bt);if("store"===dt)return $t.objectStoreNames[1]?void 0:$t.objectStore($t.objectStoreNames[0])}return Wt(bt[dt])},set:(bt,dt,$t)=>(bt[dt]=$t,!0),has:(bt,dt)=>bt instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in bt};function zt(bt){return"function"==typeof bt?function Et(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...dt){return bt.apply(ti(this),dt),Wt(ae.get(this))}:function(...dt){return Wt(bt.apply(ti(this),dt))}:function(dt,...$t){const $n=bt.call(ti(this),dt,...$t);return me.set($n,dt.sort?dt.sort():[dt]),Wt($n)}}(bt):(bt instanceof IDBTransaction&&function gn(bt){if(le.has(bt))return;const dt=new Promise(($t,$n)=>{const ii=()=>{bt.removeEventListener("complete",xi),bt.removeEventListener("error",br),bt.removeEventListener("abort",br)},xi=()=>{$t(),ii()},br=()=>{$n(bt.error||new DOMException("AbortError","AbortError")),ii()};bt.addEventListener("complete",xi),bt.addEventListener("error",br),bt.addEventListener("abort",br)});le.set(bt,dt)}(bt),((bt,dt)=>dt.some($t=>bt instanceof $t))(bt,function Fe(){return ut||(ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,pt):bt)}function Wt(bt){if(bt instanceof IDBRequest)return function nn(bt){const dt=new Promise(($t,$n)=>{const ii=()=>{bt.removeEventListener("success",xi),bt.removeEventListener("error",br)},xi=()=>{$t(Wt(bt.result)),ii()},br=()=>{$n(bt.error),ii()};bt.addEventListener("success",xi),bt.addEventListener("error",br)});return dt.then($t=>{$t instanceof IDBCursor&&ae.set($t,bt)}).catch(()=>{}),qe.set(dt,bt),dt}(bt);if(We.has(bt))return We.get(bt);const dt=zt(bt);return dt!==bt&&(We.set(bt,dt),qe.set(dt,bt)),dt}const ti=bt=>qe.get(bt),ln=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],st=new Map;function Mt(bt,dt){if(!(bt instanceof IDBDatabase)||dt in bt||"string"!=typeof dt)return;if(st.get(dt))return st.get(dt);const $t=dt.replace(/FromIndex$/,""),$n=dt!==$t,ii=Zn.includes($t);if(!($t in($n?IDBIndex:IDBObjectStore).prototype)||!ii&&!ln.includes($t))return;const xi=function(){var br=(0,s.Z)(function*(fr,...ys){const _i=this.transaction(fr,ii?"readwrite":"readonly");let Or=_i.store;return $n&&(Or=Or.index(ys.shift())),(yield Promise.all([Or[$t](...ys),ii&&_i.done]))[0]});return function(ys){return br.apply(this,arguments)}}();return st.set(dt,xi),xi}!function xt(bt){pt=bt(pt)}(bt=>({...bt,get:(dt,$t,$n)=>Mt(dt,$t)||bt.get(dt,$t,$n),has:(dt,$t)=>!!Mt(dt,$t)||bt.has(dt,$t)}));class gt{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function Kt(bt){return"VERSION"===bt.getComponent()?.type}($t)){const $n=$t.getImmediate();return`${$n.library}/${$n.version}`}return null}).filter($t=>$t).join(" ")}}const Qt="@firebase/app",hi=new re.Yd("@firebase/app"),Kr="[DEFAULT]",dc={[Qt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zo=new Map,oi=new Map;function Gn(bt,dt){try{bt.container.addComponent(dt)}catch($t){hi.debug(`Component ${dt.name} failed to register with FirebaseApp ${bt.name}`,$t)}}function wi(bt,dt){bt.container.addOrOverwriteComponent(dt)}function bl(bt){const dt=bt.name;if(oi.has(dt))return hi.debug(`There were multiple attempts to register component ${dt}.`),!1;oi.set(dt,bt);for(const $t of zo.values())Gn($t,bt);return!0}function fi(bt,dt){const $t=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return $t&&$t.triggerHeartbeat(),bt.container.getProvider(dt)}function Ni(bt,dt,$t=Kr){fi(bt,dt).clearInstance($t)}function Hs(){oi.clear()}const qo=new tt.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vi{constructor(dt,$t,$n){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=$n,this.container.addComponent(new Se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}const cu="9.21.0";function Gi(bt,dt={}){let $t=bt;"object"!=typeof dt&&(dt={name:dt});const $n=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},dt),ii=$n.name;if("string"!=typeof ii||!ii)throw qo.create("bad-app-name",{appName:String(ii)});if($t||($t=(0,tt.aH)()),!$t)throw qo.create("no-options");const xi=zo.get(ii);if(xi){if((0,tt.vZ)($t,xi.options)&&(0,tt.vZ)($n,xi.config))return xi;throw qo.create("duplicate-app",{appName:ii})}const br=new Se.H0(ii);for(const ys of oi.values())br.addComponent(ys);const fr=new Vi($t,$n,br);return zo.set(ii,fr),fr}function mo(bt=Kr){const dt=zo.get(bt);if(!dt&&bt===Kr)return Gi();if(!dt)throw qo.create("no-app",{appName:bt});return dt}function Ko(){return Array.from(zo.values())}function Rr(bt){return _o.apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(bt){const dt=bt.name;zo.has(dt)&&(zo.delete(dt),yield Promise.all(bt.container.getProviders().map($t=>$t.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function la(bt,dt,$t){var $n;let ii=null!==($n=dc[bt])&&void 0!==$n?$n:bt;$t&&(ii+=`-${$t}`);const xi=ii.match(/\s|\//),br=dt.match(/\s|\//);if(xi||br){const fr=[`Unable to register library "${ii}" with version "${dt}":`];return xi&&fr.push(`library name "${ii}" contains illegal characters (whitespace or "/")`),xi&&br&&fr.push("and"),br&&fr.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void hi.warn(fr.join(" "))}bl(new Se.wA(`${ii}-version`,()=>({library:ii,version:dt}),"VERSION"))}function ca(bt,dt){if(null!==bt&&"function"!=typeof bt)throw qo.create("invalid-log-argument");(0,re.Am)(bt,dt)}function Za(bt){(0,re.Ub)(bt)}const Ie="firebase-heartbeat-store";let Ce=null;function Le(){return Ce||(Ce=function rn(bt,dt,{blocked:$t,upgrade:$n,blocking:ii,terminated:xi}={}){const br=indexedDB.open(bt,dt),fr=Wt(br);return $n&&br.addEventListener("upgradeneeded",ys=>{$n(Wt(br.result),ys.oldVersion,ys.newVersion,Wt(br.transaction),ys)}),$t&&br.addEventListener("blocked",ys=>$t(ys.oldVersion,ys.newVersion,ys)),fr.then(ys=>{xi&&ys.addEventListener("close",()=>xi()),ii&&ys.addEventListener("versionchange",_i=>ii(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),fr}("firebase-heartbeat-database",1,{upgrade:(bt,dt)=>{0===dt&&bt.createObjectStore(Ie)}}).catch(bt=>{throw qo.create("idb-open",{originalErrorMessage:bt.message})})),Ce}function je(){return(je=(0,s.Z)(function*(bt){try{return(yield Le()).transaction(Ie).objectStore(Ie).get(bi(bt))}catch(dt){if(dt instanceof tt.ZR)hi.warn(dt.message);else{const $t=qo.create("idb-get",{originalErrorMessage:dt?.message});hi.warn($t.message)}}})).apply(this,arguments)}function Ln(bt,dt){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)(function*(bt,dt){try{const $n=(yield Le()).transaction(Ie,"readwrite");return yield $n.objectStore(Ie).put(dt,bi(bt)),$n.done}catch($t){if($t instanceof tt.ZR)hi.warn($t.message);else{const $n=qo.create("idb-set",{originalErrorMessage:$t?.message});hi.warn($n.message)}}})).apply(this,arguments)}function bi(bt){return`${bt.name}!${bt.options.appId}`}class Vs{constructor(dt){this.container=dt,this._heartbeatsCache=null;const $t=this.container.getProvider("app").getImmediate();this._storage=new yo($t),this._heartbeatsCachePromise=this._storage.read().then($n=>(this._heartbeatsCache=$n,$n))}triggerHeartbeat(){var dt=this;return(0,s.Z)(function*(){const $n=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ii=ji();if(null===dt._heartbeatsCache&&(dt._heartbeatsCache=yield dt._heartbeatsCachePromise),dt._heartbeatsCache.lastSentHeartbeatDate!==ii&&!dt._heartbeatsCache.heartbeats.some(xi=>xi.date===ii))return dt._heartbeatsCache.heartbeats.push({date:ii,agent:$n}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(xi=>{const br=new Date(xi.date).valueOf();return Date.now()-br<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,s.Z)(function*(){if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null===dt._heartbeatsCache||0===dt._heartbeatsCache.heartbeats.length)return"";const $t=ji(),{heartbeatsToSend:$n,unsentEntries:ii}=function io(bt,dt=1024){const $t=[];let $n=bt.slice();for(const ii of bt){const xi=$t.find(br=>br.agent===ii.agent);if(xi){if(xi.dates.push(ii.date),da($t)>dt){xi.dates.pop();break}}else if($t.push({agent:ii.agent,dates:[ii.date]}),da($t)>dt){$t.pop();break}$n=$n.slice(1)}return{heartbeatsToSend:$t,unsentEntries:$n}}(dt._heartbeatsCache.heartbeats),xi=(0,tt.L)(JSON.stringify({version:2,heartbeats:$n}));return dt._heartbeatsCache.lastSentHeartbeatDate=$t,ii.length>0?(dt._heartbeatsCache.heartbeats=ii,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),xi})()}}function ji(){return(new Date).toISOString().substring(0,10)}class yo{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,tt.hl)()&&(0,tt.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,s.Z)(function*(){return(yield dt._canUseIndexedDBPromise)&&(yield function St(bt){return je.apply(this,arguments)}(dt.app))||{heartbeats:[]}})()}overwrite(dt){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const xi=yield $t.read();return Ln($t.app,{lastSentHeartbeatDate:null!==($n=dt.lastSentHeartbeatDate)&&void 0!==$n?$n:xi.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var $t=this;return(0,s.Z)(function*(){var $n;if(yield $t._canUseIndexedDBPromise){const xi=yield $t.read();return Ln($t.app,{lastSentHeartbeatDate:null!==($n=dt.lastSentHeartbeatDate)&&void 0!==$n?$n:xi.lastSentHeartbeatDate,heartbeats:[...xi.heartbeats,...dt.heartbeats]})}})()}}function da(bt){return(0,tt.L)(JSON.stringify({version:2,heartbeats:bt})).length}!function qu(bt){bl(new Se.wA("platform-logger",dt=>new gt(dt),"PRIVATE")),bl(new Se.wA("heartbeat",dt=>new Vs(dt),"PRIVATE")),la(Qt,"0.9.9",bt),la(Qt,"0.9.9","esm2017"),la("fire-js","")}("")},4859:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{H0:()=>Fe,wA:()=>re,zt:()=>nt});var s=ie(5861),Se=ie(2090);class re{constructor(ae,le,me){this.name=ae,this.instanceFactory=le,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const tt="[DEFAULT]";class nt{constructor(ae,le){this.name=ae,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const le=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(le)){const me=new Se.BH;if(this.instancesDeferred.set(le,me),this.isInitialized(le)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:le});We&&me.resolve(We)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ae){var le;const me=this.normalizeInstanceIdentifier(ae?.identifier),We=null!==(le=ae?.optional)&&void 0!==le&&le;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(qe){if(We)return null;throw qe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Oe(at){return"EAGER"===at.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:tt})}catch{}for(const[le,me]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(le);try{const qe=this.getOrInitializeService({instanceIdentifier:We});me.resolve(qe)}catch{}}}}clearInstance(ae=tt){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,s.Z)(function*(){const le=Array.from(ae.instances.values());yield Promise.all([...le.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...le.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=tt){return this.instances.has(ae)}getOptions(ae=tt){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:le={}}=ae,me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:me,options:le});for(const[qe,nn]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(qe)&&nn.resolve(We);return We}onInit(ae,le){var me;const We=this.normalizeInstanceIdentifier(le),qe=null!==(me=this.onInitCallbacks.get(We))&&void 0!==me?me:new Set;qe.add(ae),this.onInitCallbacks.set(We,qe);const nn=this.instances.get(We);return nn&&ae(nn,We),()=>{qe.delete(ae)}}invokeOnInitCallbacks(ae,le){const me=this.onInitCallbacks.get(le);if(me)for(const We of me)try{We(ae,le)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:le={}}){let me=this.instances.get(ae);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(at=ae,at===tt?void 0:at),options:le}),this.instances.set(ae,me),this.instancesOptions.set(ae,le),this.invokeOnInitCallbacks(me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,me)}catch{}var at;return me||null}normalizeInstanceIdentifier(ae=tt){return this.component?this.component.multipleInstances?ae:tt:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const le=this.getProvider(ae.name);if(le.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);le.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const le=new nt(ae,this);return this.providers.set(ae,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Am:()=>at,Ub:()=>Fe,Yd:()=>Oe,in:()=>Se});const s=[];var Se=(()=>{return(ae=Se||(Se={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",Se;var ae})();const re={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},tt=Se.INFO,nt={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},ut=(ae,le,...me)=>{if(le<ae.logLevel)return;const We=(new Date).toISOString(),qe=nt[le];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[qe](`[${We}]  ${ae.name}:`,...me)};class Oe{constructor(le){this.name=le,this._logLevel=tt,this._logHandler=ut,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in Se))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?re[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...le),this._logHandler(this,Se.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...le),this._logHandler(this,Se.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...le),this._logHandler(this,Se.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...le),this._logHandler(this,Se.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...le),this._logHandler(this,Se.ERROR,...le)}}function Fe(ae){s.forEach(le=>{le.setLogLevel(ae)})}function at(ae,le){for(const me of s){let We=null;le&&le.level&&(We=re[le.level]),me.userLogHandler=null===ae?null:(qe,nn,...gn)=>{const pt=gn.map(xt=>{if(null==xt)return null;if("string"==typeof xt)return xt;if("number"==typeof xt||"boolean"==typeof xt)return xt.toString();if(xt instanceof Error)return xt.message;try{return JSON.stringify(xt)}catch{return null}}).filter(xt=>xt).join(" ");nn>=(We??qe.logLevel)&&ae({level:Se[nn].toLowerCase(),message:pt,args:gn,type:qe.name})}}}},259:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=ie(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(Fn,Ft,ie)=>{"use strict";ie.d(Ft,{Z:()=>s.Z});var s=ie(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},8523:(Fn,Ft,ie)=>{"use strict";ie.r(Ft);var s=ie(5861),Se=ie(3942),re=ie(2090),tt=ie(6881);function Fe(x,g){var m={};for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&g.indexOf(D)<0&&(m[D]=x[D]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(D=Object.getOwnPropertySymbols(x);Q<D.length;Q++)g.indexOf(D[Q])<0&&Object.prototype.propertyIsEnumerable.call(x,D[Q])&&(m[D[Q]]=x[D[Q]])}return m}var yn=ie(1877),hi=ie(4859);const _l=function Ai(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},go=function Ss(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cr=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yl=new yn.Yd("@firebase/auth");function lu(x,...g){yl.logLevel<=yn.in.ERROR&&yl.error(`Auth (${tt.SDK_VERSION}): ${x}`,...g)}function os(x,...g){throw wl(x,...g)}function As(x,...g){return wl(x,...g)}function cc(x,g,m){const D=Object.assign(Object.assign({},go()),{[g]:m});return new re.LL("auth","Firebase",D).create(g,{appName:x.name})}function Us(x,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&os(x,"argument-error"),cc(x,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wl(x,...g){if("string"!=typeof x){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=x.name),x._errorFactory.create(m,...D)}return cr.create(x,...g)}function Zt(x,g,...m){if(!x)throw wl(g,...m)}function kr(x){const g="INTERNAL ASSERTION FAILED: "+x;throw lu(g),new Error(g)}function Qs(x,g){x||kr(g)}function Wn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function uc(){return"http:"===Pc()||"https:"===Pc()}function Pc(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class zo{constructor(g,m){this.shortDelay=g,this.longDelay=m,Qs(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function Kr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(uc()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oi(x,g){Qs(x.emulator,"Emulator should always be set here");const{url:m}=x.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Gn{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bl=new zo(3e4,6e4);function fi(x,g){return x.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:x.tenantId}):g}function Ni(x,g,m,D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(x,g,m,D,Q={}){return Zr(x,Q,(0,s.Z)(function*(){let q={},ye={};D&&("GET"===g?ye=D:q={body:JSON.stringify(D)});const Qe=(0,re.xO)(Object.assign({key:x.config.apiKey},ye)).slice(1),Ht=yield x._getAdditionalHeaders();return Ht["Content-Type"]="application/json",x.languageCode&&(Ht["X-Firebase-Locale"]=x.languageCode),Gn.fetch()(Gi(x,x.config.apiHost,m,Qe),Object.assign({method:g,headers:Ht,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function Zr(x,g,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,s.Z)(function*(x,g,m){x._canInitEmulator=!1;const D=Object.assign(Object.assign({},wi),g);try{const Q=new mo(x),q=yield Promise.race([m(),Q.promise]);Q.clearNetworkTimeout();const ye=yield q.json();if("needConfirmation"in ye)throw Ko(x,"account-exists-with-different-credential",ye);if(q.ok&&!("errorMessage"in ye))return ye;{const Qe=q.ok?ye.errorMessage:ye.error.message,[Ht,Dt]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw Ko(x,"credential-already-in-use",ye);if("EMAIL_EXISTS"===Ht)throw Ko(x,"email-already-in-use",ye);if("USER_DISABLED"===Ht)throw Ko(x,"user-disabled",ye);const on=D[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw cc(x,on,Dt);os(x,on)}}catch(Q){if(Q instanceof re.ZR)throw Q;os(x,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function Vi(x,g,m,D){return cu.apply(this,arguments)}function cu(){return(cu=(0,s.Z)(function*(x,g,m,D,Q={}){const q=yield Ni(x,g,m,D,Q);return"mfaPendingCredential"in q&&os(x,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function Gi(x,g,m,D){const Q=`${g}${m}?${D}`;return x.config.emulator?oi(x.config,Q):`${x.config.apiScheme}://${Q}`}class mo{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(As(this.auth,"network-request-failed")),bl.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ko(x,g,m){const D={appName:x.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const Q=As(x,g,D);return Q.customData._tokenResponse=m,Q}function _o(){return(_o=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function la(x,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Za(x,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ua(x){if(x)try{const g=new Date(Number(x));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Le(){return(Le=(0,s.Z)(function*(x,g=!1){const m=(0,re.m9)(x),D=yield m.getIdToken(g),Q=je(D);Zt(Q&&Q.exp&&Q.auth_time&&Q.iat,m.auth,"internal-error");const q="object"==typeof Q.firebase?Q.firebase:void 0,ye=q?.sign_in_provider;return{claims:Q,token:D,authTime:ua(St(Q.auth_time)),issuedAtTime:ua(St(Q.iat)),expirationTime:ua(St(Q.exp)),signInProvider:ye||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function St(x){return 1e3*Number(x)}function je(x){const[g,m,D]=x.split(".");if(void 0===g||void 0===m||void 0===D)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,re.tV)(m);return Q?JSON.parse(Q):(lu("Failed to decode base64 JWT payload"),null)}catch(Q){return lu("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function jn(x,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(x,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof re.ZR&&pi(D)&&x.auth.currentUser===x&&(yield x.auth.signOut()),D}})).apply(this,arguments)}function pi({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class ts{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const Q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class Vs{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ji(x){return io.apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(x){var g;const m=x.auth,D=yield x.getIdToken(),Q=yield jn(x,Za(m,{idToken:D}));Zt(Q?.users.length,m,"internal-error");const q=Q.users[0];x._notifyReloadListener(q);const ye=null!==(g=q.providerUserInfo)&&void 0!==g&&g.length?bt(q.providerUserInfo):[],Qe=qu(x.providerData,ye),on=!!x.isAnonymous&&!(x.email&&q.passwordHash||Qe?.length),mn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Qe,metadata:new Vs(q.createdAt,q.lastLoginAt),isAnonymous:on};Object.assign(x,mn)})).apply(this,arguments)}function da(){return(da=(0,s.Z)(function*(x){const g=(0,re.m9)(x);yield ji(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function qu(x,g){return[...x.filter(D=>!g.some(Q=>Q.providerId===D.providerId)),...g]}function bt(x){return x.map(g=>{var{providerId:m}=g,D=Fe(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function $t(){return($t=(0,s.Z)(function*(x,g){const m=yield Zr(x,{},(0,s.Z)(function*(){const D=(0,re.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:q}=x.config,ye=Gi(x,Q,"/v1/token",`key=${q}`),Qe=yield x._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",Gn.fetch()(ye,{method:"POST",headers:Qe,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Zt(g.idToken,"internal-error"),Zt(typeof g.idToken<"u","internal-error"),Zt(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ln(x){const g=je(x);return Zt(g,"internal-error"),Zt(typeof g.exp<"u","internal-error"),Zt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,s.Z)(function*(){return Zt(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,s.Z)(function*(){const{accessToken:Q,refreshToken:q,expiresIn:ye}=yield function dt(x,g){return $t.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(Q,q,Number(ye))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:Q,expirationTime:q}=m,ye=new $n;return D&&(Zt("string"==typeof D,"internal-error",{appName:g}),ye.refreshToken=D),Q&&(Zt("string"==typeof Q,"internal-error",{appName:g}),ye.accessToken=Q),q&&(Zt("number"==typeof q,"internal-error",{appName:g}),ye.expirationTime=q),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return kr("not implemented")}}function ii(x,g){Zt("string"==typeof x||typeof x>"u","internal-error",{appName:g})}class xi{constructor(g){var{uid:m,auth:D,stsTokenManager:Q}=g,q=Fe(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new Vs(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,s.Z)(function*(){const D=yield jn(m,m.stsTokenManager.getToken(m.auth,g));return Zt(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function Ce(x){return Le.apply(this,arguments)}(this,g)}reload(){return function yo(x){return da.apply(this,arguments)}(this)}_assign(g){this!==g&&(Zt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new xi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){Zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,s.Z)(function*(){let Q=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),Q=!0),m&&(yield ji(D)),yield D.auth._persistUserIfCurrent(D),Q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,s.Z)(function*(){const m=yield g.getIdToken();return yield jn(g,function Rr(x,g){return _o.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,Q,q,ye,Qe,Ht,Dt,on;const mn=null!==(D=m.displayName)&&void 0!==D?D:void 0,Ji=null!==(Q=m.email)&&void 0!==Q?Q:void 0,Ws=null!==(q=m.phoneNumber)&&void 0!==q?q:void 0,xc=null!==(ye=m.photoURL)&&void 0!==ye?ye:void 0,mf=null!==(Qe=m.tenantId)&&void 0!==Qe?Qe:void 0,Mp=null!==(Ht=m._redirectEventId)&&void 0!==Ht?Ht:void 0,q_=null!==(Dt=m.createdAt)&&void 0!==Dt?Dt:void 0,hm=null!==(on=m.lastLoginAt)&&void 0!==on?on:void 0,{uid:K_,emailVerified:Iv,isAnonymous:Am,providerData:fm,stsTokenManager:_f}=m;Zt(K_&&_f,g,"internal-error");const Dw=$n.fromJSON(this.name,_f);Zt("string"==typeof K_,g,"internal-error"),ii(mn,g.name),ii(Ji,g.name),Zt("boolean"==typeof Iv,g,"internal-error"),Zt("boolean"==typeof Am,g,"internal-error"),ii(Ws,g.name),ii(xc,g.name),ii(mf,g.name),ii(Mp,g.name),ii(q_,g.name),ii(hm,g.name);const dA=new xi({uid:K_,auth:g,email:Ji,emailVerified:Iv,displayName:mn,isAnonymous:Am,photoURL:xc,phoneNumber:Ws,tenantId:mf,stsTokenManager:Dw,createdAt:q_,lastLoginAt:hm});return fm&&Array.isArray(fm)&&(dA.providerData=fm.map(pm=>Object.assign({},pm))),Mp&&(dA._redirectEventId=Mp),dA}static _fromIdTokenResponse(g,m,D=!1){return(0,s.Z)(function*(){const Q=new $n;Q.updateFromServerResponse(m);const q=new xi({uid:m.localId,auth:g,stsTokenManager:Q,isAnonymous:D});return yield ji(q),q})()}}const br=new Map;function fr(x){Qs(x instanceof Function,"Expected a class definition");let g=br.get(x);return g?(Qs(g instanceof x,"Instance stored in cache mismatched with class"),g):(g=new x,br.set(x,g),g)}const _i=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){Q.storage[m]=D})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=D.storage[m];return void 0===Q?null:Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return x.type="NONE",x})();function Or(x,g,m){return`firebase:${x}:${g}:${m}`}class $r{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:Q,name:q}=this.auth;this.fullUserKey=Or(this.userKey,Q.apiKey,q),this.fullPersistenceKey=Or("persistence",Q.apiKey,q),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xi._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,s.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,s.Z)(function*(){if(!m.length)return new $r(fr(_i),g,D);const Q=(yield Promise.all(m.map(function(){var Dt=(0,s.Z)(function*(on){if(yield on._isAvailable())return on});return function(on){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let q=Q[0]||fr(_i);const ye=Or(D,g.config.apiKey,g.name);let Qe=null;for(const Dt of m)try{const on=yield Dt._get(ye);if(on){const mn=xi._fromJSON(g,on);Dt!==q&&(Qe=mn),q=Dt;break}}catch{}const Ht=Q.filter(Dt=>Dt._shouldAllowMigration);return q._shouldAllowMigration&&Ht.length?(q=Ht[0],Qe&&(yield q._set(ye,Qe.toJSON())),yield Promise.all(m.map(function(){var Dt=(0,s.Z)(function*(on){if(on!==q)try{yield on._remove(ye)}catch{}});return function(on){return Dt.apply(this,arguments)}}())),new $r(q,g,D)):new $r(q,g,D)})()}}function Bd(x){const g=x.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ti(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ro(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Cl(g))return"Blackberry";if(ns(g))return"Webos";if(vs(g))return"Safari";if((g.includes("chrome/")||bn(g))&&!g.includes("edge/"))return"Chrome";if(Dr(g))return"Android";{const D=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Ro(x=(0,re.z$)()){return/firefox\//i.test(x)}function vs(x=(0,re.z$)()){const g=x.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function bn(x=(0,re.z$)()){return/crios\//i.test(x)}function Ti(x=(0,re.z$)()){return/iemobile/i.test(x)}function Dr(x=(0,re.z$)()){return/android/i.test(x)}function Cl(x=(0,re.z$)()){return/blackberry/i.test(x)}function ns(x=(0,re.z$)()){return/webos/i.test(x)}function Gr(x=(0,re.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function uu(x=(0,re.z$)()){return Gr(x)||Dr(x)||ns(x)||Cl(x)||/windows phone/i.test(x)||Ti(x)}function zl(x,g=[]){let m;switch(x){case"Browser":m=Bd((0,re.z$)());break;case"Worker":m=`${Bd((0,re.z$)())}-${x}`;break;default:m=x}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${tt.SDK_VERSION}/${D}`}function Fd(){return(Fd=(0,s.Z)(function*(x){return(yield Ni(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Md(x,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(x,g){return Ni(x,"GET","/v2/recaptchaConfig",fi(x,g))})).apply(this,arguments)}function Ku(x){return void 0!==x&&void 0!==x.getResponse}function Zo(x){return void 0!==x&&void 0!==x.enterprise}class ya{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function jr(x){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",x),D.onload=g,D.onerror=Q=>{const q=As("internal-error");q.customData=Q,m(q)},D.type="text/javascript",D.charset="UTF-8",function Sh(){var x,g;return null!==(g=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==g?g:document}().appendChild(D)})}function Yr(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Rd{constructor(g){this.type="recaptcha-enterprise",this.auth=ur(g)}verify(g="verify",m=!1){var D=this;return(0,s.Z)(function*(){function q(){return q=(0,s.Z)(function*(Qe){if(!m){if(null==Qe.tenantId&&null!=Qe._agentRecaptchaConfig)return Qe._agentRecaptchaConfig.siteKey;if(null!=Qe.tenantId&&void 0!==Qe._tenantRecaptchaConfigs[Qe.tenantId])return Qe._tenantRecaptchaConfigs[Qe.tenantId].siteKey}return new Promise(function(){var Ht=(0,s.Z)(function*(Dt,on){Md(Qe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mn=>{if(void 0!==mn.recaptchaKey){const Ji=new ya(mn);return null==Qe.tenantId?Qe._agentRecaptchaConfig=Ji:Qe._tenantRecaptchaConfigs[Qe.tenantId]=Ji,Dt(Ji.siteKey)}on(new Error("recaptcha Enterprise site key undefined"))}).catch(mn=>{on(mn)})});return function(Dt,on){return Ht.apply(this,arguments)}}())}),q.apply(this,arguments)}function ye(Qe,Ht,Dt){const on=window.grecaptcha;Zo(on)?on.enterprise.ready(()=>{on.enterprise.execute(Qe,{action:g}).then(mn=>{Ht(mn)}).catch(()=>{Ht("NO_RECAPTCHA")})}):Dt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Qe,Ht)=>{(function Q(Qe){return q.apply(this,arguments)})(D.auth).then(Dt=>{if(!m&&Zo(window.grecaptcha))ye(Dt,Qe,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));jr("https://www.google.com/recaptcha/enterprise.js?render="+Dt).then(()=>{ye(Dt,Qe,Ht)}).catch(on=>{Ht(on)})}}).catch(Dt=>{Ht(Dt)})})})()}}function $a(x,g,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,s.Z)(function*(x,g,m,D=!1){const Q=new Rd(x);let q;try{q=yield Q.verify(m)}catch{q=yield Q.verify(m,!0)}const ye=Object.assign({},g);return Object.assign(ye,D?{captchaResp:q}:{captchaResponse:q}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}class ro{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=q=>new Promise((ye,Qe)=>{try{ye(g(q))}catch(Ht){Qe(Ht)}});D.onAbort=m,this.queue.push(D);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===g)return;const D=[];try{for(const Q of m.queue)yield Q(g),Q.onAbort&&D.push(Q.onAbort)}catch(Q){D.reverse();for(const q of D)try{q()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}class Kf{constructor(g,m,D,Q){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xl(this),this.idTokenSubscription=new xl(this),this.beforeStateQueue=new ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=fr(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var Q,q;if(!D._deleted&&(D.persistenceManager=yield $r.create(D,g),!D._deleted)){if(null!==(Q=D._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(q=D.currentUser)||void 0===q?void 0:q.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,s.Z)(function*(){var D;const Q=yield m.assertedPersistence.getCurrentUser();let q=Q,ye=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Qe=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,Ht=q?._redirectEventId,Dt=yield m.tryRedirectSignIn(g);(!Qe||Qe===Ht)&&Dt?.user&&(q=Dt.user,ye=!0)}if(!q)return m.directlySetCurrentUser(null);if(!q._redirectEventId){if(ye)try{yield m.beforeStateQueue.runMiddleware(q)}catch(Qe){q=Q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Qe))}return q?m.reloadAndSetCurrentUserOrClear(q):m.directlySetCurrentUser(null)}return Zt(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===q._redirectEventId?m.directlySetCurrentUser(q):m.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(g){var m=this;return(0,s.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,s.Z)(function*(){try{yield ji(g)}catch(D){if("auth/network-request-failed"!==D?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function dc(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,s.Z)(function*(){const D=g?(0,re.m9)(g):null;return D&&Zt(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,s.Z)(function*(){if(!D._deleted)return g&&Zt(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,s.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(fr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const m=yield Md(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new ya(m);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new Rd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new re.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,s.Z)(function*(){const Q=yield D.getOrInitRedirectPersistenceManager(m);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&fr(g)||m._popupRedirectResolver;Zt(D,m,"argument-error"),m.redirectPersistenceManager=yield $r.create(m,[fr(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,s.Z)(function*(){var D,Q;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(Q=m.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,s.Z)(function*(){if(g===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,Q){if(this._deleted)return()=>{};const q="function"==typeof m?m:m.next.bind(m),ye=this._isInitialized?Promise.resolve():this._initializationPromise;return Zt(ye,this,"internal-error"),ye.then(()=>q(this.currentUser)),"function"==typeof m?g.addObserver(m,D,Q):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=zl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();Q&&(D["X-Firebase-Client"]=Q);const q=yield g._getAppCheckToken();return q&&(D["X-Firebase-AppCheck"]=q),D})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var m;const D=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return D?.error&&function vl(x,...g){yl.logLevel<=yn.in.WARN&&yl.warn(`Auth (${tt.SDK_VERSION}): ${x}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function ur(x){return(0,re.m9)(x)}class xl{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,re.ne)(m=>this.observer=m)}get next(){return Zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gs(x){const g=x.indexOf(":");return g<0?"":x.substr(0,g+1)}function Dh(x){if(!x)return null;const g=Number(x);return isNaN(g)?null:g}class Od{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return kr("not implemented")}_getIdTokenResponse(g){return kr("not implemented")}_linkToIdToken(g,m){return kr("not implemented")}_getReauthenticationResolver(g){return kr("not implemented")}}function Eg(x,g){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:resetPassword",fi(x,g))})).apply(this,arguments)}function Sg(x,g){return $f.apply(this,arguments)}function $f(){return($f=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yf(x,g){return QA.apply(this,arguments)}function QA(){return(QA=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:update",fi(x,g))})).apply(this,arguments)}function Ig(x,g){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithPassword",fi(x,g))})).apply(this,arguments)}function Yo(x,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:sendOobCode",fi(x,g))})).apply(this,arguments)}function Ld(x,g){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,s.Z)(function*(x,g){return Yo(x,g)})).apply(this,arguments)}function Tg(x,g){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(x,g){return Yo(x,g)})).apply(this,arguments)}function va(x,g){return HA.apply(this,arguments)}function HA(){return(HA=(0,s.Z)(function*(x,g){return Yo(x,g)})).apply(this,arguments)}function uv(x,g){return dv.apply(this,arguments)}function dv(){return(dv=(0,s.Z)(function*(x,g){return Yo(x,g)})).apply(this,arguments)}function Nd(){return(Nd=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithEmailLink",fi(x,g))})).apply(this,arguments)}function VA(){return(VA=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithEmailLink",fi(x,g))})).apply(this,arguments)}class Th extends Od{constructor(g,m,D,Q=null){super("password",D),this._email=g,this._password=m,this._tenantId=Q}static _fromEmailAndPassword(g,m){return new Th(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new Th(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,s.Z)(function*(){var D;switch(m.signInMethod){case"password":const Q={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const q=yield $a(g,Q,"signInWithPassword");return Ig(g,q)}return Ig(g,Q).catch(function(){var q=(0,s.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Qe=yield $a(g,Q,"signInWithPassword");return Ig(g,Qe)}return Promise.reject(ye)});return function(ye){return q.apply(this,arguments)}}());case"emailLink":return function Wo(x,g){return Nd.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:os(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,s.Z)(function*(){switch(D.signInMethod){case"password":return Sg(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function du(x,g){return VA.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:os(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Zl(x,g){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithIdp",fi(x,g))})).apply(this,arguments)}class Ac extends Od{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ac(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):os("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q}=m,q=Fe(m,["providerId","signInMethod"]);if(!D||!Q)return null;const ye=new Ac(D,Q);return ye.idToken=q.idToken||void 0,ye.accessToken=q.accessToken||void 0,ye.secret=q.secret,ye.nonce=q.nonce,ye.pendingToken=q.pendingToken||null,ye}_getIdTokenResponse(g){return Zl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Zl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Zl(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,re.xO)(m)}return g}}function Bh(x,g){return jA.apply(this,arguments)}function jA(){return(jA=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:sendVerificationCode",fi(x,g))})).apply(this,arguments)}function hu(){return(hu=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithPhoneNumber",fi(x,g))})).apply(this,arguments)}function Au(){return(Au=(0,s.Z)(function*(x,g){const m=yield Vi(x,"POST","/v1/accounts:signInWithPhoneNumber",fi(x,g));if(m.temporaryProof)throw Ko(x,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Pd={USER_NOT_FOUND:"user-not-found"};function vo(){return(vo=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithPhoneNumber",fi(x,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Pd)})).apply(this,arguments)}class $u extends Od{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new $u({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new $u({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function wa(x,g){return hu.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function w_(x,g){return Au.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function hv(x,g){return vo.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:Q}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:q}=g;return D||m||Q||q?new $u({verificationId:m,verificationCode:D,phoneNumber:Q,temporaryProof:q}):null}}class wo{constructor(g){var m,D,Q,q,ye,Qe;const Ht=(0,re.zd)((0,re.pd)(g)),Dt=null!==(m=Ht.apiKey)&&void 0!==m?m:null,on=null!==(D=Ht.oobCode)&&void 0!==D?D:null,mn=function fu(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Ht.mode)&&void 0!==Q?Q:null);Zt(Dt&&on&&mn,"argument-error"),this.apiKey=Dt,this.operation=mn,this.code=on,this.continueUrl=null!==(q=Ht.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(ye=Ht.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Qe=Ht.tenantId)&&void 0!==Qe?Qe:null}static parseLink(g){const m=function Ud(x){const g=(0,re.zd)((0,re.pd)(x)).link,m=g?(0,re.zd)((0,re.pd)(g)).deep_link_id:null,D=(0,re.zd)((0,re.pd)(x)).deep_link_id;return(D?(0,re.zd)((0,re.pd)(D)).link:null)||D||m||g||x}(g);try{return new wo(m)}catch{return null}}}let zA=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(m,D){return Th._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const Q=wo.parseLink(D);return Zt(Q,"argument-error"),Th._fromEmailAndCode(m,Q.code,Q.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Jo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ts extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class pu extends Ts{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Zt("providerId"in m&&"signInMethod"in m,"argument-error"),Ac._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Zt(g.idToken||g.accessToken,"argument-error"),Ac._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return pu.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return pu.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:Q,pendingToken:q,nonce:ye,providerId:Qe}=g;if(!D&&!Q&&!m&&!q||!Qe)return null;try{return new pu(Qe)._credential({idToken:m,accessToken:D,nonce:ye,pendingToken:q})}catch{return null}}}let gu=(()=>{class x extends Ts{constructor(){super("facebook.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Yu=(()=>{class x extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:Q}=m;if(!D&&!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Wi=(()=>{class x extends Ts{constructor(){super("github.com")}static credential(m){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return x.credential(m.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class $l extends Od{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Zl(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Zl(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Zl(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:Q,pendingToken:q}=m;return D&&Q&&q&&D===Q?new $l(D,q):null}static _create(g,m){return new $l(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fc extends Jo{constructor(g){Zt(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=$l.fromJSON(g);return Zt(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return $l._create(D,m)}catch{return null}}}let Lr=(()=>{class x extends Ts{constructor(){super("twitter.com")}static credential(m,D){return Ac._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:Q}=m;if(!D||!Q)return null;try{return x.credential(D,Q)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Fg(x,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signUp",fi(x,g))})).apply(this,arguments)}class Ki{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,Q=!1){return(0,s.Z)(function*(){const q=yield xi._fromIdTokenResponse(g,D,Q),ye=Jf(D);return new Ki({user:q,providerId:ye,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const Q=Jf(D);return new Ki({user:g,providerId:Q,_tokenResponse:D,operationType:m})})()}}function Jf(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function qA(){return(qA=(0,s.Z)(function*(x){var g;const m=ur(x);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Ki({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield Fg(m,{returnSecureToken:!0}),Q=yield Ki._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Pt extends re.ZR{constructor(g,m,D,Q){var q;super(m.code,m.message),this.operationType=D,this.user=Q,Object.setPrototypeOf(this,Pt.prototype),this.customData={appName:g.name,tenantId:null!==(q=g.tenantId)&&void 0!==q?q:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,Q){return new Pt(g,m,D,Q)}}function Zi(x,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(x):m._getIdTokenResponse(x)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?Pt._fromErrorAndOperation(x,q,g,D):q})}function Tr(x){return new Set(x.map(({providerId:g})=>g).filter(g=>!!g))}function Bs(){return(Bs=(0,s.Z)(function*(x,g){const m=(0,re.m9)(x);yield js(!0,m,g);const{providerUserInfo:D}=yield la(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),Q=Tr(D||[]);return m.providerData=m.providerData.filter(q=>Q.has(q.providerId)),Q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Fh(x,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(x,g,m=!1){const D=yield jn(x,g._linkToIdToken(x.auth,yield x.getIdToken()),m);return Ki._forOperation(x,"link",D)})).apply(this,arguments)}function js(x,g,m){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(x,g,m){yield ji(g);const Q=!1===x?"provider-already-linked":"no-such-provider";Zt(Tr(g.providerData).has(m)===x,g.auth,Q)})).apply(this,arguments)}function Mh(x,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(x,g,m=!1){const{auth:D}=x,Q="reauthenticate";try{const q=yield jn(x,Zi(D,Q,g,x),m);Zt(q.idToken,D,"internal-error");const ye=je(q.idToken);Zt(ye,D,"internal-error");const{sub:Qe}=ye;return Zt(x.uid===Qe,D,"user-mismatch"),Ki._forOperation(x,Q,q)}catch(q){throw"auth/user-not-found"===q?.code&&os(D,"user-mismatch"),q}})).apply(this,arguments)}function Sl(x,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,s.Z)(function*(x,g,m=!1){const D="signIn",Q=yield Zi(x,D,g),q=yield Ki._fromIdTokenResponse(x,D,Q);return m||(yield x._updateCurrentUser(q.user)),q})).apply(this,arguments)}function ws(x,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(x,g){return Sl(ur(x),g)})).apply(this,arguments)}function Dl(x,g){return KA.apply(this,arguments)}function KA(){return(KA=(0,s.Z)(function*(x,g){const m=(0,re.m9)(x);return yield js(!1,m,g.providerId),Fh(m,g)})).apply(this,arguments)}function as(x,g){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(x,g){return Mh((0,re.m9)(x),g)})).apply(this,arguments)}function kg(x,g){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(x,g){return Vi(x,"POST","/v1/accounts:signInWithCustomToken",fi(x,g))})).apply(this,arguments)}function Xf(){return(Xf=(0,s.Z)(function*(x,g){const m=ur(x),D=yield kg(m,{token:g,returnSecureToken:!0}),Q=yield Ki._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class mu{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Hc._fromServerResponse(g,m):"totpInfo"in m?Ju._fromServerResponse(g,m):os(g,"internal-error")}}class Hc extends mu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Hc(m)}}class Ju extends mu{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new Ju(m)}}function Vc(x,g,m){var D;Zt((null===(D=m.url)||void 0===D?void 0:D.length)>0,x,"invalid-continue-uri"),Zt(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Zt(m.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Zt(m.android.packageName.length>0,x,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ea(){return Ea=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),q={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ye=yield $a(Q,q,"getOobCode",!0);m&&Vc(Q,ye,m),yield Tg(Q,ye)}else m&&Vc(Q,q,m),yield Tg(Q,q).catch(function(){var ye=(0,s.Z)(function*(Qe){if("auth/missing-recaptcha-token"!==Qe.code)return Promise.reject(Qe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ht=yield $a(Q,q,"getOobCode",!0);m&&Vc(Q,Ht,m),yield Tg(Q,Ht)}});return function(Qe){return ye.apply(this,arguments)}}())}),Ea.apply(this,arguments)}function kh(){return(kh=(0,s.Z)(function*(x,g,m){yield Eg((0,re.m9)(x),{oobCode:g,newPassword:m})})).apply(this,arguments)}function _u(){return(_u=(0,s.Z)(function*(x,g){yield Yf((0,re.m9)(x),{oobCode:g})})).apply(this,arguments)}function Lg(x,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,s.Z)(function*(x,g){const m=(0,re.m9)(x),D=yield Eg(m,{oobCode:g}),Q=D.requestType;switch(Zt(Q,m,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Zt(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Zt(D.mfaInfo,m,"internal-error");default:Zt(D.email,m,"internal-error")}let q=null;return D.mfaInfo&&(q=mu._fromServerResponse(ur(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:q},operation:Q}})).apply(this,arguments)}function Rh(){return(Rh=(0,s.Z)(function*(x,g){const{data:m}=yield Lg((0,re.m9)(x),g);return m.email})).apply(this,arguments)}function Sa(){return Sa=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),q={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let ye;if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Dt=yield $a(Q,q,"signUpPassword");ye=Fg(Q,Dt)}else ye=Fg(Q,q).catch(function(){var Dt=(0,s.Z)(function*(on){if("auth/missing-recaptcha-token"===on.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const mn=yield $a(Q,q,"signUpPassword");return Fg(Q,mn)}return Promise.reject(on)});return function(on){return Dt.apply(this,arguments)}}());const Qe=yield ye.catch(Dt=>Promise.reject(Dt)),Ht=yield Ki._fromIdTokenResponse(Q,"signIn",Qe);return yield Q._updateCurrentUser(Ht.user),Ht}),Sa.apply(this,arguments)}function ed(){return ed=(0,s.Z)(function*(x,g,m){var D;const Q=ur(x),q={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ye(Qe,Ht){Zt(Ht.handleCodeInApp,Q,"argument-error"),Ht&&Vc(Q,Qe,Ht)}if(null!==(D=Q._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Qe=yield $a(Q,q,"getOobCode",!0);ye(Qe,m),yield va(Q,Qe)}else ye(q,m),yield va(Q,q).catch(function(){var Qe=(0,s.Z)(function*(Ht){if("auth/missing-recaptcha-token"!==Ht.code)return Promise.reject(Ht);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Dt=yield $a(Q,q,"getOobCode",!0);ye(Dt,m),yield va(Q,Dt)}});return function(Ht){return Qe.apply(this,arguments)}}())}),ed.apply(this,arguments)}function tp(){return(tp=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x),Q=zA.credentialWithLink(g,m||Wn());return Zt(Q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),ws(D,Q)})).apply(this,arguments)}function Ug(x,g){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:createAuthUri",fi(x,g))})).apply(this,arguments)}function gc(){return(gc=(0,s.Z)(function*(x,g){const D={identifier:g,continueUri:uc()?Wn():"http://localhost"},{signinMethods:Q}=yield Ug((0,re.m9)(x),D);return Q||[]})).apply(this,arguments)}function nd(){return(nd=(0,s.Z)(function*(x,g){const m=(0,re.m9)(x),Q={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};g&&Vc(m.auth,Q,g);const{email:q}=yield Ld(m.auth,Q);q!==x.email&&(yield x.reload())})).apply(this,arguments)}function Ia(){return(Ia=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:g};m&&Vc(D.auth,q,m);const{email:ye}=yield uv(D.auth,q);ye!==x.email&&(yield x.reload())})).apply(this,arguments)}function Hd(x,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(x,g){return Ni(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vu(){return(vu=(0,s.Z)(function*(x,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,re.m9)(x),q={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ye=yield jn(D,Hd(D.auth,q));D.displayName=ye.displayName||null,D.photoURL=ye.photoUrl||null;const Qe=D.providerData.find(({providerId:Ht})=>"password"===Ht);Qe&&(Qe.displayName=D.displayName,Qe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ye)})).apply(this,arguments)}function Hg(x,g,m){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,s.Z)(function*(x,g,m){const{auth:D}=x,q={idToken:yield x.getIdToken(),returnSecureToken:!0};g&&(q.email=g),m&&(q.password=m);const ye=yield jn(x,Sg(D,q));yield x._updateTokensIfNecessary(ye,!0)})).apply(this,arguments)}class ha{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class Lh extends ha{constructor(g,m,D,Q){super(g,m,D),this.username=Q}}class C_ extends ha{constructor(g,m){super(g,"facebook.com",m)}}class wu extends Lh{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class YA extends ha{constructor(g,m){super(g,"google.com",m)}}class Vd extends Lh{constructor(g,m,D){super(g,"twitter.com",m,D)}}function rd(x){const{user:g,_tokenResponse:m}=x;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Gg(x){var g,m;if(!x)return null;const{providerId:D}=x,Q=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},q=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!D&&x?.idToken){const ye=null===(m=null===(g=je(x.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ye)return new ha(q,"anonymous"!==ye&&"custom"!==ye?ye:null)}if(!D)return null;switch(D){case"facebook.com":return new C_(q,Q);case"github.com":return new wu(q,Q);case"google.com":return new YA(q,Q);case"twitter.com":return new Vd(q,Q,x.screenName||null);case"custom":case"anonymous":return new ha(q,null);default:return new ha(q,D,Q)}}(m)}class Gc{constructor(g,m,D){this.type=g,this.credential=m,this.auth=D}static _fromIdtoken(g,m){return new Gc("enroll",g,m)}static _fromMfaPendingCredential(g){return new Gc("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Gc._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return Gc._fromIdtoken(g.multiFactorSession.idToken)}return null}}class jd{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=ur(g),Q=m.customData._serverResponse,q=(Q.mfaInfo||[]).map(Qe=>mu._fromServerResponse(D,Qe));Zt(Q.mfaPendingCredential,D,"internal-error");const ye=Gc._fromMfaPendingCredential(Q.mfaPendingCredential);return new jd(ye,q,function(){var Qe=(0,s.Z)(function*(Ht){const Dt=yield Ht._process(D,ye);delete Q.mfaInfo,delete Q.mfaPendingCredential;const on=Object.assign(Object.assign({},Q),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(m.operationType){case"signIn":const mn=yield Ki._fromIdTokenResponse(D,m.operationType,on);return yield D._updateCurrentUser(mn.user),mn;case"reauthenticate":return Zt(m.user,D,"internal-error"),Ki._forOperation(m.user,m.operationType,on);default:os(D,"internal-error")}});return function(Ht){return Qe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,s.Z)(function*(){return m.signInResolver(g)})()}}function Ph(x,g){return Ni(x,"POST","/v2/accounts/mfaEnrollment:start",fi(x,g))}class zd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>mu._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new zd(g)}getSession(){var g=this;return(0,s.Z)(function*(){return Gc._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var D=this;return(0,s.Z)(function*(){const Q=g,q=yield D.getSession(),ye=yield jn(D.user,Q._process(D.user.auth,q,m));return yield D.user._updateTokensIfNecessary(ye),D.user.reload()})()}unenroll(g){var m=this;return(0,s.Z)(function*(){const D="string"==typeof g?g:g.uid,Q=yield m.user.getIdToken();try{const q=yield jn(m.user,function sp(x,g){return Ni(x,"POST","/v2/accounts/mfaEnrollment:withdraw",fi(x,g))}(m.user.auth,{idToken:Q,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ye})=>ye!==D),yield m.user._updateTokensIfNecessary(q),yield m.user.reload()}catch(q){throw q}})()}}const Uh=new WeakMap,Wl="__sak";class qd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Wl,"1"),this.storage.removeItem(Wl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const XA=(()=>{class x extends qd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function op(){const x=(0,re.z$)();return vs(x)||Gr(x)}()&&function Bi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uu(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const Q=this.storage.getItem(D),q=this.localCache[D];Q!==q&&m(D,q,Q)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Qe,Ht,Dt)=>{this.notifyListeners(Qe,Dt)});const Q=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(Q);if(m.newValue!==Qe)null!==m.newValue?this.storage.setItem(Q,m.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===m.newValue&&!D)return}const q=()=>{const Qe=this.storage.getItem(Q);!D&&this.localCache[Q]===Qe||this.notifyListeners(Q,Qe)},ye=this.storage.getItem(Q);!function Oo(){return(0,re.w1)()&&10===document.documentMode}()||ye===m.newValue||m.newValue===m.oldValue?q():setTimeout(q,10)}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const q of Array.from(Q))q(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var Q=()=>super._set,q=this;return(0,s.Z)(function*(){yield Q().call(q,m,D),q.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,Q=this;return(0,s.Z)(function*(){const q=yield D().call(Q,m);return Q.localCache[m]=JSON.stringify(q),q})()}_remove(m){var D=()=>super._remove,Q=this;return(0,s.Z)(function*(){yield D().call(Q,m),delete Q.localCache[m]})()}}return x.type="LOCAL",x})(),jc=(()=>{class x extends qd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return x.type="SESSION",x})();let ap=(()=>{class x{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(q=>q.isListeningto(m));if(D)return D;const Q=new x(m);return this.receivers.push(Q),Q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,s.Z)(function*(){const Q=m,{eventId:q,eventType:ye,data:Qe}=Q.data,Ht=D.handlersMap[ye];if(!Ht?.size)return;Q.ports[0].postMessage({status:"ack",eventId:q,eventType:ye});const Dt=Array.from(Ht).map(function(){var mn=(0,s.Z)(function*(Ji){return Ji(Q.origin,Qe)});return function(Ji){return mn.apply(this,arguments)}}()),on=yield function pv(x){return Promise.all(x.map(function(){var g=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(Dt);Q.ports[0].postMessage({status:"done",eventId:q,eventType:ye,response:on})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Aa(x="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return x+m}class Zd{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var Q=this;return(0,s.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let ye,Qe;return new Promise((Ht,Dt)=>{const on=Aa("",20);q.port1.start();const mn=setTimeout(()=>{Dt(new Error("unsupported_event"))},D);Qe={messageChannel:q,onMessage(Ji){const Ws=Ji;if(Ws.data.eventId===on)switch(Ws.data.status){case"ack":clearTimeout(mn),ye=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),Ht(Ws.data.response);break;default:clearTimeout(mn),clearTimeout(ye),Dt(new Error("invalid_response"))}}},Q.handlers.add(Qe),q.port1.addEventListener("message",Qe.onMessage),Q.target.postMessage({eventType:g,eventId:on,data:m},[q.port2])}).finally(()=>{Qe&&Q.removeMessageHandler(Qe)})})()}}function is(){return window}function Qh(){return typeof is().WorkerGlobalScope<"u"&&"function"==typeof is().importScripts}function bu(){return(bu=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",nf="firebaseLocalStorage",gv="fbase_key";class _c{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function lp(x,g){return x.transaction([nf],g?"readwrite":"readonly").objectStore(nf)}function zg(){const x=indexedDB.open(qr,1);return new Promise((g,m)=>{x.addEventListener("error",()=>{m(x.error)}),x.addEventListener("upgradeneeded",()=>{const D=x.result;try{D.createObjectStore(nf,{keyPath:gv})}catch(Q){m(Q)}}),x.addEventListener("success",(0,s.Z)(function*(){const D=x.result;D.objectStoreNames.contains(nf)?g(D):(D.close(),yield function T_(){const x=indexedDB.deleteDatabase(qr);return new _c(x).toPromise()}(),g(yield zg()))}))})}function sd(x,g,m){return B_.apply(this,arguments)}function B_(){return(B_=(0,s.Z)(function*(x,g,m){const D=lp(x,!0).put({[gv]:g,value:m});return new _c(D).toPromise()})).apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(x,g){const m=lp(x,!1).get(g),D=yield new _c(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Tl(x,g){const m=lp(x,!0).delete(g);return new _c(m).toPromise()}const zn=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield zg()),m.db})()}_withRetries(m){var D=this;return(0,s.Z)(function*(){let Q=0;for(;;)try{const q=yield D._openDb();return yield m(q)}catch(q){if(Q++>3)throw q;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Qh()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=ap._getInstance(function D_(){return Qh()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,s.Z)(function*(Q,q){return{keyProcessed:(yield m._poll()).includes(q.key)}});return function(Q,q){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,s.Z)(function*(Q,q){return["keyChanged"]});return function(Q,q){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var D,Q;if(m.activeServiceWorker=yield function tf(){return bu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Zd(m.activeServiceWorker);const q=yield m.sender._send("ping",{},800);!q||(null===(D=q[0])||void 0===D?void 0:D.fulfilled)&&(null===(Q=q[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,s.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function I_(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield zg();return yield sd(m,Wl,"1"),yield Tl(m,Wl),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,s.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var Q=this;return(0,s.Z)(function*(){return Q._withPendingWrite((0,s.Z)(function*(){return yield Q._withRetries(q=>sd(q,m,D)),Q.localCache[m]=D,Q.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,s.Z)(function*(){const Q=yield D._withRetries(q=>function F_(x,g){return zs.apply(this,arguments)}(q,m));return D.localCache[m]=Q,Q})()}_remove(m){var D=this;return(0,s.Z)(function*(){return D._withPendingWrite((0,s.Z)(function*(){return yield D._withRetries(Q=>Tl(Q,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const D=yield m._withRetries(ye=>{const Qe=lp(ye,!1).getAll();return new _c(Qe).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const Q=[],q=new Set;for(const{fbase_key:ye,value:Qe}of D)q.add(ye),JSON.stringify(m.localCache[ye])!==JSON.stringify(Qe)&&(m.notifyListeners(ye,Qe),Q.push(ye));for(const ye of Object.keys(m.localCache))m.localCache[ye]&&!q.has(ye)&&(m.notifyListeners(ye,null),Q.push(ye));return Q})()}notifyListeners(m,D){this.localCache[m]=D;const Q=this.listeners[m];if(Q)for(const q of Array.from(Q))q(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function Ta(x,g){return Ni(x,"POST","/v2/accounts/mfaSignIn:start",fi(x,g))}const Cu=1e12;class gr{constructor(g){this.auth=g,this.counter=Cu,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new k_(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Cu;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Cu))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,s.Z)(function*(){var D;return null===(D=m._widgets.get(g||Cu))||void 0===D||D.execute(),""})()}}class k_{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,"argument-error",{appName:m}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function R_(x){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<x;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const od=Yr("rcb"),Ba=new zo(3e4,6e4);class ea{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=is().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return Zt(function Cn(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&Ku(is().grecaptcha)?Promise.resolve(is().grecaptcha):new Promise((D,Q)=>{const q=is().setTimeout(()=>{Q(As(g,"network-request-failed"))},Ba.get());is()[od]=()=>{is().clearTimeout(q),delete is()[od];const Qe=is().grecaptcha;if(!Qe||!Ku(Qe))return void Q(As(g,"internal-error"));const Ht=Qe.render;Qe.render=(Dt,on)=>{const mn=Ht(Dt,on);return this.counter++,mn},this.hostLanguage=m,D(Qe)},jr(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:od,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(q),Q(As(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=is().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cn{load(g){return(0,s.Z)(function*(){return new gr(g)})()}clearedOneInstance(){}}const qg="recaptcha",up={theme:"light",type:"image"};class Jl{constructor(g,m=Object.assign({},up),D){this.parameters=m,this.type=qg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ur(D),this.isInvisible="invisible"===this.parameters.size,Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof g?document.getElementById(g):g;Zt(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cn:new ea,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(q=>{const ye=Qe=>{!Qe||(g.tokenChangeListeners.delete(ye),q(Qe))};g.tokenChangeListeners.add(ye),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Zt(!this.parameters.sitekey,this.auth,"argument-error"),Zt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=is()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){Zt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){Zt(uc()&&!Qh(),g.auth,"internal-error"),yield function Kg(){let x=null;return new Promise(g=>{"complete"!==document.readyState?(x=()=>g(),window.addEventListener("load",x)):g()}).catch(g=>{throw x&&window.removeEventListener("load",x),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function hc(x){return Fd.apply(this,arguments)}(g.auth);Zt(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Zt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=$u._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Wa(){return(Wa=(0,s.Z)(function*(x,g,m){const D=ur(x),Q=yield Ja(D,g,(0,re.m9)(m));return new Pr(Q,q=>ws(D,q))})).apply(this,arguments)}function Eu(){return(Eu=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x);yield js(!1,D,"phone");const Q=yield Ja(D.auth,g,(0,re.m9)(m));return new Pr(Q,q=>Dl(D,q))})).apply(this,arguments)}function zc(){return(zc=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x),Q=yield Ja(D.auth,g,(0,re.m9)(m));return new Pr(Q,q=>as(D,q))})).apply(this,arguments)}function Ja(x,g,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(x,g,m){var D;const Q=yield m.verify();try{let q;if(Zt("string"==typeof Q,x,"argument-error"),Zt(m.type===qg,x,"argument-error"),q="string"==typeof g?{phoneNumber:g}:g,"session"in q){const ye=q.session;if("phoneNumber"in q)return Zt("enroll"===ye.type,x,"internal-error"),(yield Ph(x,{idToken:ye.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Zt("signin"===ye.type,x,"internal-error");const Qe=(null===(D=q.multiFactorHint)||void 0===D?void 0:D.uid)||q.multiFactorUid;return Zt(Qe,x,"missing-multi-factor-info"),(yield Ta(x,{mfaPendingCredential:ye.credential,mfaEnrollmentId:Qe,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ye}=yield Bh(x,{phoneNumber:q.phoneNumber,recaptchaToken:Q});return ye}}finally{m._reset()}})).apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(x,g){yield Fh((0,re.m9)(x),g)})).apply(this,arguments)}let qs=(()=>{class x{constructor(m){this.providerId=x.PROVIDER_ID,this.auth=ur(m)}verifyPhoneNumber(m,D){return Ja(this.auth,m,(0,re.m9)(D))}static credential(m,D){return $u._fromVerification(m,D)}static credentialFromResult(m){return x.credentialFromTaggedObject(m)}static credentialFromError(m){return x.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:Q}=m;return D&&Q?$u._fromTokenResponse(D,Q):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function so(x,g){return g?fr(g):(Zt(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class yc extends Od{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Zl(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Zl(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Zl(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Co(x){return Sl(x.auth,new yc(x),x.bypassAuthState)}function Wr(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),Mh(m,new yc(x),x.bypassAuthState)}function ld(x){return jh.apply(this,arguments)}function jh(){return(jh=(0,s.Z)(function*(x){const{auth:g,user:m}=x;return Zt(m,g,"internal-error"),Fh(m,new yc(x),x.bypassAuthState)})).apply(this,arguments)}class fs{constructor(g,m,D,Q,q=!1){this.auth=g,this.resolver=D,this.user=Q,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,s.Z)(function*(D,Q){g.pendingPromise={resolve:D,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(q){g.reject(q)}});return function(D,Q){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,s.Z)(function*(){const{urlResponse:D,sessionId:Q,postBody:q,tenantId:ye,error:Qe,type:Ht}=g;if(Qe)return void m.reject(Qe);const Dt={auth:m.auth,requestUri:D,sessionId:Q,tenantId:ye||void 0,postBody:q||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ht)(Dt))}catch(on){m.reject(on)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return ld;case"reauthViaPopup":case"reauthViaRedirect":return Wr;default:os(this.auth,"internal-error")}}resolve(g){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new zo(2e3,1e4);function yi(){return(yi=(0,s.Z)(function*(x,g,m){const D=ur(x);Us(x,g,Jo);const Q=so(D,m);return new No(D,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function Yd(){return(Yd=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x);Us(D.auth,g,Jo);const Q=so(D.auth,m);return new No(D.auth,"reauthViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}function qc(){return(qc=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x);Us(D.auth,g,Jo);const Q=so(D.auth,m);return new No(D.auth,"linkViaPopup",g,Q,D).executeNotNull()})).apply(this,arguments)}let No=(()=>{class x extends fs{constructor(m,D,Q,q,ye){super(m,D,q,ye),this.provider=Q,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const D=yield m.execute();return Zt(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,s.Z)(function*(){Qs(1===m.filter.length,"Popup operations only handle one event");const D=Aa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(Q=>{m.reject(Q)}),m.resolver._isIframeWebStorageSupported(m.auth,Q=>{Q||m.reject(As(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,Q;this.pollId=null!==(Q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Jr.get())};m()}}return x.currentPopupAction=null,x})();const Cr=new Map;class Po extends fs{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,s.Z)(function*(){let D=Cr.get(m.auth._key());if(!D){try{const q=(yield function Wd(x,g){return Xl.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(q)}catch(Q){D=()=>Promise.reject(Q)}Cr.set(m.auth._key(),D)}return m.bypassAuthState||Cr.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const Q=yield D.auth._redirectUserForId(g.eventId);if(Q)return D.user=Q,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Xl(){return(Xl=(0,s.Z)(function*(x,g){const m=gi(g),D=Jd(x);if(!(yield D._isAvailable()))return!1;const Q="true"===(yield D._get(m));return yield D._remove(m),Q})).apply(this,arguments)}function zh(x,g){return hp.apply(this,arguments)}function hp(){return(hp=(0,s.Z)(function*(x,g){return Jd(x)._set(gi(g),"true")})).apply(this,arguments)}function cd(x,g){Cr.set(x._key(),g)}function Jd(x){return fr(x._redirectPersistence)}function gi(x){return Or("pendingRedirect",x.config.apiKey,x.name)}function Iu(){return(Iu=(0,s.Z)(function*(x,g,m){const D=ur(x);Us(x,g,Jo),yield D._initializationPromise;const Q=so(D,m);return yield zh(Q,D),Q._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x);Us(D.auth,g,Jo),yield D.auth._initializationPromise;const Q=so(D.auth,m);yield zh(Q,D.auth);const q=yield N(D);return Q._openRedirect(D.auth,g,"reauthViaRedirect",q)})).apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(x,g,m){const D=(0,re.m9)(x);Us(D.auth,g,Jo),yield D.auth._initializationPromise;const Q=so(D.auth,m);yield js(!1,D,g.providerId),yield zh(Q,D.auth);const q=yield N(D);return Q._openRedirect(D.auth,g,"linkViaRedirect",q)})).apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(x,g){return yield ur(x)._initializationPromise,oo(x,g,!1)})).apply(this,arguments)}function oo(x,g){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(x,g,m=!1){const D=ur(x),Q=so(D,g),ye=yield new Po(D,Q,m).execute();return ye&&!m&&(delete ye.user._redirectEventId,yield D._persistUserIfCurrent(ye.user),yield D._setRedirectUser(null,g)),ye})).apply(this,arguments)}function N(x){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(function*(x){const g=Aa(`${x.uid}:::`);return x._redirectEventId=g,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),g})).apply(this,arguments)}class Be{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function vn(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vt(x);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!vt(g)){const Q=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(As(this.auth,Q))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($e(g))}saveEventToCache(g){this.cachedEventUids.add($e(g)),this.lastProcessedEventTime=Date.now()}}function $e(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(g=>g).join("-")}function vt({type:x,error:g}){return"unknown"===x&&"auth/no-auth-event"===g?.code}function un(x){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(x,g={}){return Ni(x,"GET","/v1/projects",g)})).apply(this,arguments)}const kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yt=/^https?/;function $s(){return($s=(0,s.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:g}=yield un(x);for(const m of g)try{if(el(m))return}catch{}os(x,"unauthorized-domain")})).apply(this,arguments)}function el(x){const g=Wn(),{protocol:m,hostname:D}=new URL(g);if(x.startsWith("chrome-extension://")){const ye=new URL(x);return""===ye.hostname&&""===D?"chrome-extension:"===m&&x.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ye.hostname===D}if(!Yt.test(m))return!1;if(kn.test(x))return D===x;const Q=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(D)}const Ys=new zo(3e4,6e4);function ka(){const x=is().___jsl;if(x?.H)for(const g of Object.keys(x.H))if(x.H[g].r=x.H[g].r||[],x.H[g].L=x.H[g].L||[],x.H[g].r=[...x.H[g].L],x.CP)for(let m=0;m<x.CP.length;m++)x.CP[m]=null}let Bl=null;function qh(x){return Bl=Bl||function Ra(x){return new Promise((g,m)=>{var D,Q,q;function ye(){ka(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ka(),m(As(x,"network-request-failed"))},timeout:Ys.get()})}if(null!==(Q=null===(D=is().gapi)||void 0===D?void 0:D.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(q=is().gapi)||void 0===q||!q.load){const Qe=Yr("iframefcb");return is()[Qe]=()=>{gapi.load?ye():m(As(x,"network-request-failed"))},jr(`https://apis.google.com/js/api.js?onload=${Qe}`).catch(Ht=>m(Ht))}ye()}}).catch(g=>{throw Bl=null,g})}(x),Bl}const sf=new zo(5e3,15e3),bw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pp(x){const g=x.config;Zt(g.authDomain,x,"auth-domain-config-required");const m=g.emulator?oi(g,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:x.name,v:tt.SDK_VERSION},Q=fp.get(x.config.apiHost);Q&&(D.eid=Q);const q=x._getFrameworks();return q.length&&(D.fw=q.join(",")),`${m}?${(0,re.xO)(D).slice(1)}`}function Kh(){return Kh=(0,s.Z)(function*(x){const g=yield qh(x),m=is().gapi;return Zt(m,x,"internal-error"),g.open({where:document.body,url:pp(x),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bw,dontclear:!0},D=>new Promise(function(){var Q=(0,s.Z)(function*(q,ye){yield D.restyle({setHideOnLeave:!1});const Qe=As(x,"network-request-failed"),Ht=is().setTimeout(()=>{ye(Qe)},sf.get());function Dt(){is().clearTimeout(Ht),q(D)}D.ping(Dt).then(Dt,()=>{ye(Qe)})});return function(q,ye){return Q.apply(this,arguments)}}()))}),Kh.apply(this,arguments)}const gp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _p{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xg=encodeURIComponent("fac");function ud(x,g,m,D,Q,q){return vc.apply(this,arguments)}function vc(){return(vc=(0,s.Z)(function*(x,g,m,D,Q,q){Zt(x.config.authDomain,x,"auth-domain-config-required"),Zt(x.config.apiKey,x,"invalid-api-key");const ye={apiKey:x.config.apiKey,appName:x.name,authType:m,redirectUrl:D,v:tt.SDK_VERSION,eventId:Q};if(g instanceof Jo){g.setDefaultLanguage(x.languageCode),ye.providerId=g.providerId||"",(0,re.xb)(g.getCustomParameters())||(ye.customParameters=JSON.stringify(g.getCustomParameters()));for(const[on,mn]of Object.entries(q||{}))ye[on]=mn}if(g instanceof Ts){const on=g.getScopes().filter(mn=>""!==mn);on.length>0&&(ye.scopes=on.join(","))}x.tenantId&&(ye.tid=x.tenantId);const Qe=ye;for(const on of Object.keys(Qe))void 0===Qe[on]&&delete Qe[on];const Ht=yield x._getAppCheckToken(),Dt=Ht?`#${Xg}=${encodeURIComponent(Ht)}`:"";return`${em(x)}?${(0,re.xO)(Qe).slice(1)}${Dt}`})).apply(this,arguments)}function em({config:x}){return x.emulator?oi(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}const yp="webStorageSupport",U_=class tm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jc,this._completeRedirectFn=oo,this._overrideRedirectResult=cd}_openPopup(g,m,D,Q){var q=this;return(0,s.Z)(function*(){var ye;Qs(null===(ye=q.eventManagers[g._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Qe=yield ud(g,m,D,Wn(),Q);return function Wg(x,g,m,D=500,Q=600){const q=Math.max((window.screen.availHeight-Q)/2,0).toString(),ye=Math.max((window.screen.availWidth-D)/2,0).toString();let Qe="";const Ht=Object.assign(Object.assign({},gp),{width:D.toString(),height:Q.toString(),top:q,left:ye}),Dt=(0,re.z$)().toLowerCase();m&&(Qe=bn(Dt)?"_blank":m),Ro(Dt)&&(g=g||"http://localhost",Ht.scrollbars="yes");const on=Object.entries(Ht).reduce((Ji,[Ws,xc])=>`${Ji}${Ws}=${xc},`,"");if(function Ei(x=(0,re.z$)()){var g;return Gr(x)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Dt)&&"_self"!==Qe)return function P_(x,g){const m=document.createElement("a");m.href=x,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Qe),new _p(null);const mn=window.open(g||"",Qe,on);Zt(mn,x,"popup-blocked");try{mn.focus()}catch{}return new _p(mn)}(g,Qe,Aa())})()}_openRedirect(g,m,D,Q){var q=this;return(0,s.Z)(function*(){return yield q._originValidation(g),function mc(x){is().location.href=x}(yield ud(g,m,D,Wn(),Q)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:Q,promise:q}=this.eventManagers[m];return Q?Promise.resolve(Q):(Qs(q,"If manager is not set, promise should be"),q)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,s.Z)(function*(){const D=yield function N_(x){return Kh.apply(this,arguments)}(g),Q=new Be(g);return D.register("authEvent",q=>(Zt(q?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:Q},m.iframes[g._key()]=D,Q})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(yp,{type:yp},Q=>{var q;const ye=null===(q=Q?.[0])||void 0===q?void 0:q[yp];void 0!==ye&&m(!!ye),os(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function So(x){return $s.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return uu()||vs()||Gr()}};class xw{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return kr("unexpected MultiFactorSessionType")}}}class Zh extends xw{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Zh(g)}_finalizeEnroll(g,m,D){return function ls(x,g){return Ni(x,"POST","/v2/accounts/mfaEnrollment:finalize",fi(x,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function pn(x,g){return Ni(x,"POST","/v2/accounts/mfaSignIn:finalize",fi(x,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lf=(()=>{class x{constructor(){}static assertion(m){return Zh._fromCredential(m)}}return x.FACTOR_ID="phone",x})();var eh="@firebase/auth";class Ew{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wh(){return window}function Jh(){return(Jh=(0,s.Z)(function*(x,g,m){var D;const{BuildInfo:Q}=Wh();Qs(g.sessionId,"AuthEvent did not contain a session ID");const q=yield eA(g.sessionId),ye={};return Gr()?ye.ibi=Q.packageName:Dr()?ye.apn=Q.packageName:os(x,"operation-not-supported-in-this-environment"),Q.displayName&&(ye.appDisplayName=Q.displayName),ye.sessionId=q,ud(x,m,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,ye)})).apply(this,arguments)}function Xh(){return(Xh=(0,s.Z)(function*(x){const{BuildInfo:g}=Wh(),m={};Gr()?m.iosBundleId=g.packageName:Dr()?m.androidPackageName=g.packageName:os(x,"operation-not-supported-in-this-environment"),yield un(x,m)})).apply(this,arguments)}function uf(){return(uf=(0,s.Z)(function*(x,g,m){const{cordova:D}=Wh();let Q=()=>{};try{yield new Promise((q,ye)=>{let Qe=null;function Ht(){var mn;q();const Ji=null===(mn=D.plugins.browsertab)||void 0===mn?void 0:mn.close;"function"==typeof Ji&&Ji(),"function"==typeof m?.close&&m.close()}function Dt(){Qe||(Qe=window.setTimeout(()=>{ye(As(x,"redirect-cancelled-by-user"))},2e3))}function on(){"visible"===document?.visibilityState&&Dt()}g.addPassiveListener(Ht),document.addEventListener("resume",Dt,!1),Dr()&&document.addEventListener("visibilitychange",on,!1),Q=()=>{g.removePassiveListener(Ht),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",on,!1),Qe&&window.clearTimeout(Qe)}})}finally{Q()}})).apply(this,arguments)}function eA(x){return df.apply(this,arguments)}function df(){return(df=(0,s.Z)(function*(x){const g=Fs(x),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fs(x){if(Qs(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const g=new ArrayBuffer(x.length),m=new Uint8Array(g);for(let D=0;D<x.length;D++)m[D]=x.charCodeAt(D);return m}(0,re.Pz)("authIdTokenMaxAge"),function im(x){(0,tt._registerComponent)(new hi.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),q=g.getProvider("app-check-internal"),{apiKey:ye,authDomain:Qe}=D.options;Zt(ye&&!ye.includes(":"),"invalid-api-key",{appName:D.name}),Zt(!Qe?.includes(":"),"argument-error",{appName:D.name});const Ht={apiKey:ye,authDomain:Qe,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zl(x)},Dt=new Kf(D,Q,q,Ht);return function PA(x,g){const m=g?.persistence||[],D=(Array.isArray(m)?m:[m]).map(fr);g?.errorMap&&x._updateErrorMap(g.errorMap),x._initializeWithPersistence(D,g?.popupRedirectResolver)}(Dt,m),Dt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,tt._registerComponent)(new hi.wA("auth-internal",g=>{const m=ur(g.getProvider("auth").getImmediate());return new Ew(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)(eh,"0.23.1",function Q_(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,tt.registerVersion)(eh,"0.23.1","esm2017")}("Browser");class Fu extends Be{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,s.Z)(function*(){yield g.initPromise})()}}function hf(x){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,s.Z)(function*(x){const g=yield tA()._get(Mu(x));return g&&(yield tA()._remove(Mu(x))),g})).apply(this,arguments)}function sm(){const x=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const D=Math.floor(Math.random()*g.length);x.push(g.charAt(D))}return x.join("")}function tA(){return fr(XA)}function Mu(x){return Or("authEvent",x.config.apiKey,x.name)}function Af(x){if(!x?.includes("?"))return{};const[g,...m]=x.split("?");return(0,re.zd)(m.join("?"))}const iA=class LC{constructor(){this._redirectPersistence=jc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oo,this._overrideRedirectResult=cd}_initialize(g){var m=this;return(0,s.Z)(function*(){const D=g._key();let Q=m.eventManagers.get(D);return Q||(Q=new Fu(g),m.eventManagers.set(D,Q),m.attachCallbackListeners(g,Q)),Q})()}_openPopup(g){os(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,D,Q){var q=this;return(0,s.Z)(function*(){!function rm(x){var g,m,D,Q,q,ye,Qe,Ht,Dt,on;const mn=Wh();Zt("function"==typeof(null===(g=mn?.universalLinks)||void 0===g?void 0:g.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zt(typeof(null===(m=mn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zt("function"==typeof(null===(q=null===(Q=null===(D=mn?.cordova)||void 0===D?void 0:D.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===q?void 0:q.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(Ht=null===(Qe=null===(ye=mn?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Ht?void 0:Ht.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zt("function"==typeof(null===(on=null===(Dt=mn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===on?void 0:on.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ye=yield q._initialize(g);yield ye.initialized(),ye.resetRedirect(),function rf(){Cr.clear()}(),yield q._originValidation(g);const Qe=function nh(x,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:sm(),postBody:null,tenantId:x.tenantId,error:As(x,"no-auth-event")}}(g,D,Q);yield function Ad(x,g){return tA()._set(Mu(x),g)}(g,Qe);const Ht=yield function bc(x,g,m){return Jh.apply(this,arguments)}(g,Qe,m),Dt=yield function Cp(x){const{cordova:g}=Wh();return new Promise(m=>{g.plugins.browsertab.isAvailable(D=>{let Q=null;D?g.plugins.browsertab.openUrl(x):Q=g.InAppBrowser.open(x,function Uc(x=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}()?"_blank":"_system","location=yes"),m(Q)})})}(Ht);return function H_(x,g,m){return uf.apply(this,arguments)}(g,ye,Dt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function dd(x){return Xh.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:D,handleOpenURL:Q,BuildInfo:q}=Wh(),ye=setTimeout((0,s.Z)(function*(){yield hf(g),m.onEvent(xp())}),500),Qe=function(){var on=(0,s.Z)(function*(mn){clearTimeout(ye);const Ji=yield hf(g);let Ws=null;Ji&&mn?.url&&(Ws=function vv(x,g){var m,D;const Q=function ec(x){const g=Af(x),m=g.link?decodeURIComponent(g.link):void 0,D=Af(m).link,Q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Af(Q).link||Q||D||m||x}(g);if(Q.includes("/__/auth/callback")){const q=Af(Q),ye=q.firebaseError?function tl(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(q.firebaseError)):null,Qe=null===(D=null===(m=ye?.code)||void 0===m?void 0:m.split("auth/"))||void 0===D?void 0:D[1],Ht=Qe?As(Qe):null;return Ht?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:Q,postBody:null}}return null}(Ji,mn.url)),m.onEvent(Ws||xp())});return function(Ji){return on.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,Qe);const Ht=Q,Dt=`${q.packageName.toLowerCase()}://`;Wh().handleOpenURL=function(){var on=(0,s.Z)(function*(mn){if(mn.toLowerCase().startsWith(Dt)&&Qe({url:mn}),"function"==typeof Ht)try{Ht(mn)}catch(Ji){console.error(Ji)}});return function(mn){return on.apply(this,arguments)}}()}};function xp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:As("no-auth-event")}}function sA(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function Ip(x=(0,re.z$)()){return!("file:"!==sA()&&"ionic:"!==sA()&&"capacitor:"!==sA()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function am(){try{const x=self.localStorage,g=Aa();if(x)return x.setItem(g,"1"),x.removeItem(g),!function wv(x=(0,re.z$)()){return function aA(){return(0,re.w1)()&&11===document?.documentMode}()||function V_(x=(0,re.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,re.hl)()}catch{return lm()&&(0,re.hl)()}return!1}function lm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tc(){return(function om(){return"http:"===sA()||"https:"===sA()}()||(0,re.ru)()||Ip())&&!function oA(){return(0,re.b$)()||(0,re.UG)()}()&&am()&&!lm()}function ih(){return Ip()&&typeof document<"u"}function G_(){return(G_=(0,s.Z)(function*(){return!!ih()&&new Promise(x=>{const g=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),x(!0)})})})).apply(this,arguments)}const Oa={LOCAL:"local",NONE:"none",SESSION:"session"},fd=Zt,Cv="persistence";function Dp(x){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(x){yield x._initializationPromise;const g=um(),m=Or(Cv,x.config.apiKey,x.name);g&&g.setItem(m,x._getPersistence())})).apply(this,arguments)}function um(){var x;try{return(null===(x=function ff(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Fl=Zt;class nl{constructor(){this.browserResolver=fr(U_),this.cordovaResolver=fr(iA),this.underlyingResolver=null,this._redirectPersistence=jc,this._completeRedirectFn=oo,this._overrideRedirectResult=cd}_initialize(g){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,D,Q){var q=this;return(0,s.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openPopup(g,m,D,Q)})()}_openRedirect(g,m,D,Q){var q=this;return(0,s.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._openRedirect(g,m,D,Q)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ih()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,s.Z)(function*(){if(g.underlyingResolver)return;const m=yield function bv(){return G_.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function er(x){return x.unwrap()}function Bp(x){return pf(x)}function pf(x){const{_tokenResponse:g}=x instanceof re.ZR?x.customData:x;if(!g)return null;if(!(x instanceof re.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return qs.credentialFromResult(x);const m=g.providerId;if(!m||"password"===m)return null;let D;switch(m){case"google.com":D=Yu;break;case"facebook.com":D=gu;break;case"github.com":D=Wi;break;case"twitter.com":D=Lr;break;default:const{oauthIdToken:Q,oauthAccessToken:q,oauthTokenSecret:ye,pendingToken:Qe,nonce:Ht}=g;return q||ye||Q||Qe?Qe?m.startsWith("saml.")?$l._create(m,Qe):Ac._fromParams({providerId:m,signInMethod:m,pendingToken:Qe,idToken:Q,accessToken:q}):new pu(m).credential({idToken:Q,accessToken:q,rawNonce:Ht}):null}return x instanceof re.ZR?D.credentialFromError(x):D.credentialFromResult(x)}function bs(x,g){return g.catch(m=>{throw m instanceof re.ZR&&function xv(x,g){var m;const D=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new j_(x,function E_(x,g){var m;const D=(0,re.m9)(x),Q=g;return Zt(g.customData.operationType,D,"argument-error"),Zt(null===(m=Q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),jd._fromError(D,Q)}(x,g));else if(D){const Q=pf(g),q=g;Q&&(q.credential=Q,q.tenantId=D.tenantId||void 0,q.email=D.email||void 0,q.phoneNumber=D.phoneNumber||void 0)}}(x,m),m}).then(m=>{const Q=m.user;return{operationType:m.operationType,credential:Bp(m),additionalUserInfo:rd(m),user:gd.getOrCreate(Q)}})}function gf(x,g){return pd.apply(this,arguments)}function pd(){return(pd=(0,s.Z)(function*(x,g){const m=yield g;return{verificationId:m.verificationId,confirm:D=>bs(x,m.confirm(D))}})).apply(this,arguments)}class j_{constructor(g,m){this.resolver=m,this.auth=function ps(x){return x.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return bs(er(this.auth),this.resolver.resolveSignIn(g))}}class gd{constructor(g){this._delegate=g,this.multiFactor=function WA(x){const g=(0,re.m9)(x);return Uh.has(g)||Uh.set(g,zd._fromUser(g)),Uh.get(g)}(g)}static getOrCreate(g){return gd.USER_MAP.has(g)||gd.USER_MAP.set(g,new gd(g)),gd.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,Dl(m._delegate,g))})()}linkWithPhoneNumber(g,m){var D=this;return(0,s.Z)(function*(){return gf(D.auth,function dp(x,g,m){return Eu.apply(this,arguments)}(D._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,function Zg(x,g,m){return qc.apply(this,arguments)}(m._delegate,g,nl))})()}linkWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield Dp(ur(m.auth)),function $g(x,g,m){return function Ma(x,g,m){return Tu.apply(this,arguments)}(x,g,m)}(m._delegate,g,nl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,s.Z)(function*(){return bs(m.auth,as(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return gf(this.auth,function Su(x,g,m){return zc.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return bs(this.auth,function xo(x,g,m){return Yd.apply(this,arguments)}(this._delegate,g,nl))}reauthenticateWithRedirect(g){var m=this;return(0,s.Z)(function*(){return yield Dp(ur(m.auth)),function Du(x,g,m){return function mv(x,g,m){return Eo.apply(this,arguments)}(x,g,m)}(m._delegate,g,nl)})()}sendEmailVerification(g){return function td(x,g){return nd.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,s.Z)(function*(){return yield function Mg(x,g){return Bs.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function id(x,g){return Hg((0,re.m9)(x),g,null)}(this._delegate,g)}updatePassword(g){return function np(x,g){return Hg((0,re.m9)(x),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function $d(x,g){return ad.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function $A(x,g){return vu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function Qg(x,g,m){return Ia.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gd.USER_MAP=new WeakMap;const Fp=Zt;let lA=(()=>{class x{constructor(m,D){if(this.app=m,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=m.options;Fp(Q,"invalid-api-key",{appName:m.name}),Fp(Q,"invalid-api-key",{appName:m.name});const q=typeof window<"u"?nl:void 0;this._delegate=D.initialize({options:{persistence:Sv(Q,m.name),popupRedirectResolver:q}}),this._delegate._updateErrorMap(_l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,D){!function UA(x,g,m){const D=ur(x);Zt(D._canInitEmulator,D,"emulator-config-failed"),Zt(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const Q=!!m?.disableWarnings,q=Gs(g),{host:ye,port:Qe}=function y_(x){const g=Gs(x),m=/(\/\/)?([^?#/]+)/.exec(x.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(D);if(Q){const q=Q[1];return{host:q,port:Dh(D.substr(q.length+1))}}{const[q,ye]=D.split(":");return{host:q,port:Dh(ye)}}}(g);D.config.emulator={url:`${q}//${ye}${null===Qe?"":`:${Qe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ye,port:Qe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function v_(){function x(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(this._delegate,m,D)}applyActionCode(m){return function Og(x,g){return _u.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Lg(this._delegate,m)}confirmPasswordReset(m,D){return function ep(x,g,m){return kh.apply(this,arguments)}(this._delegate,m,D)}createUserWithEmailAndPassword(m,D){var Q=this;return(0,s.Z)(function*(){return bs(Q._delegate,function Xo(x,g,m){return Sa.apply(this,arguments)}(Q._delegate,m,D))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Qd(x,g){return gc.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Pg(x,g){return"EMAIL_SIGNIN"===wo.parseLink(g)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Fp(tc(),m._delegate,"operation-not-supported-in-this-environment");const D=yield function L_(x,g){return Zs.apply(this,arguments)}(m._delegate,nl);return D?bs(m._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Iw(x,g){ur(x)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,D,Q){const{next:q,error:ye,complete:Qe}=Ev(m,D,Q);return this._delegate.onAuthStateChanged(q,ye,Qe)}onIdTokenChanged(m,D,Q){const{next:q,error:ye,complete:Qe}=Ev(m,D,Q);return this._delegate.onIdTokenChanged(q,ye,Qe)}sendSignInLinkToEmail(m,D){return function ZA(x,g,m){return ed.apply(this,arguments)}(this._delegate,m,D)}sendPasswordResetEmail(m,D){return function Rg(x,g,m){return Ea.apply(this,arguments)}(this._delegate,m,D||void 0)}setPersistence(m){var D=this;return(0,s.Z)(function*(){let Q;switch(function cm(x,g){fd(Object.values(Oa).includes(g),x,"invalid-persistence-type"),(0,re.b$)()?fd(g!==Oa.SESSION,x,"unsupported-persistence-type"):(0,re.UG)()?fd(g===Oa.NONE,x,"unsupported-persistence-type"):lm()?fd(g===Oa.NONE||g===Oa.LOCAL&&(0,re.hl)(),x,"unsupported-persistence-type"):fd(g===Oa.NONE||am(),x,"unsupported-persistence-type")}(D._delegate,m),m){case Oa.SESSION:Q=jc;break;case Oa.LOCAL:Q=(yield fr(zn)._isAvailable())?zn:XA;break;case Oa.NONE:Q=_i;break;default:return os("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return bs(this._delegate,function bo(x){return qA.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return bs(this._delegate,ws(this._delegate,m))}signInWithCustomToken(m){return bs(this._delegate,function pc(x,g){return Xf.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,D){return bs(this._delegate,function Nr(x,g,m){return ws((0,re.m9)(x),zA.credential(g,m))}(this._delegate,m,D))}signInWithEmailLink(m,D){return bs(this._delegate,function Oh(x,g,m){return tp.apply(this,arguments)}(this._delegate,m,D))}signInWithPhoneNumber(m,D){return gf(this._delegate,function xu(x,g,m){return Wa.apply(this,arguments)}(this._delegate,m,D))}signInWithPopup(m){var D=this;return(0,s.Z)(function*(){return Fp(tc(),D._delegate,"operation-not-supported-in-this-environment"),bs(D._delegate,function Ks(x,g,m){return yi.apply(this,arguments)}(D._delegate,m,nl))})()}signInWithRedirect(m){var D=this;return(0,s.Z)(function*(){return Fp(tc(),D._delegate,"operation-not-supported-in-this-environment"),yield Dp(D._delegate),function Xd(x,g,m){return function O_(x,g,m){return Iu.apply(this,arguments)}(x,g,m)}(D._delegate,m,nl)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ng(x,g){return Rh.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Oa,x})();function Ev(x,g,m){let D=x;"function"!=typeof x&&({next:D,error:g,complete:m}=x);const Q=D;return{next:ye=>Q(ye&&gd.getOrCreate(ye)),error:g,complete:m}}function Sv(x,g){const m=function Tp(x,g){const m=um();if(!m)return[];const D=Or(Cv,x,g);switch(m.getItem(D)){case Oa.NONE:return[_i];case Oa.LOCAL:return[zn,jc];case Oa.SESSION:return[jc];default:return[]}}(x,g);if(typeof self<"u"&&!m.includes(zn)&&m.push(zn),typeof window<"u")for(const D of[XA,jc])m.includes(D)||m.push(D);return m.includes(_i)||m.push(_i),m}class md{constructor(){this.providerId="phone",this._delegate=new qs(er(Se.Z.auth()))}static credential(g,m){return qs.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}md.PHONE_SIGN_IN_METHOD=qs.PHONE_SIGN_IN_METHOD,md.PROVIDER_ID=qs.PROVIDER_ID;const cA=Zt;class z_{constructor(g,m,D=Se.Z.app()){var Q;cA(null===(Q=D.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Jl(g,m,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uA(x){x.INTERNAL.registerComponent(new hi.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new lA(m,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zA,FacebookAuthProvider:gu,GithubAuthProvider:Wi,GoogleAuthProvider:Yu,OAuthProvider:pu,SAMLAuthProvider:fc,PhoneAuthProvider:md,PhoneMultiFactorGenerator:lf,RecaptchaVerifier:z_,TwitterAuthProvider:Lr,Auth:lA,AuthCredential:Od,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.1")}(Se.Z)},5861:(Fn,Ft,ie)=>{"use strict";function s(re,tt,nt,ut,Oe,Fe,at){try{var ae=re[Fe](at),le=ae.value}catch(me){return void nt(me)}ae.done?tt(le):Promise.resolve(le).then(ut,Oe)}function Se(re){return function(){var tt=this,nt=arguments;return new Promise(function(ut,Oe){var Fe=re.apply(tt,nt);function at(le){s(Fe,ut,Oe,at,ae,"next",le)}function ae(le){s(Fe,ut,Oe,at,ae,"throw",le)}at(void 0)})}}ie.d(Ft,{Z:()=>Se})},7986:Fn=>{"use strict";Fn.exports=JSON.parse('{"version":"1.3.5_B","develop":false}')}},Fn=>{Fn(Fn.s=7348)}]);